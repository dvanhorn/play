%!PS-Adobe-2.0
%%Creator: dvipsk 5.58f Copyright 1986, 1994 Radical Eye Software
%%Title: thesis.dvi
%%Pages: 263
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Bold Times-Roman AvantGarde-Book Courier
%%+ Times-Italic Palatino-Italic Palatino-Roman AvantGarde-BookOblique
%%+ ZapfChancery-MediumItalic Palatino-BoldItalic AvantGarde-Demi
%%+ Courier-Bold
%%DocumentPaperSizes: A4
%%EndComments
%DVIPSCommandLine: dvips -o thesis.ps thesis.dvi
%DVIPSParameters: dpi=600, comments removed
%DVIPSSource:  TeX output 2000.05.16:1846
%%BeginProcSet: tex.pro
/TeXDict 250 dict def TeXDict begin /N{def}def /B{bind def}N /S{exch}N
/X{S N}B /TR{translate}N /isls false N /vsize 11 72 mul N /hsize 8.5 72
mul N /landplus90{false}def /@rigin{isls{[0 landplus90{1 -1}{-1 1}
ifelse 0 0 0]concat}if 72 Resolution div 72 VResolution div neg scale
isls{landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div
hsize mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul
TR[matrix currentmatrix{dup dup round sub abs 0.00001 lt{round}if}
forall round exch round exch]setmatrix}N /@landscape{/isls true N}B
/@manualfeed{statusdict /manualfeed true put}B /@copies{/#copies X}B
/FMat[1 0 0 -1 0 0]N /FBB[0 0 0 0]N /nn 0 N /IE 0 N /ctr 0 N /df-tail{
/nn 8 dict N nn begin /FontType 3 N /FontMatrix fntrx N /FontBBox FBB N
string /base X array /BitMaps X /BuildChar{CharBuilder}N /Encoding IE N
end dup{/foo setfont}2 array copy cvx N load 0 nn put /ctr 0 N[}B /df{
/sf 1 N /fntrx FMat N df-tail}B /dfs{div /sf X /fntrx[sf 0 0 sf neg 0 0]
N df-tail}B /E{pop nn dup definefont setfont}B /ch-width{ch-data dup
length 5 sub get}B /ch-height{ch-data dup length 4 sub get}B /ch-xoff{
128 ch-data dup length 3 sub get sub}B /ch-yoff{ch-data dup length 2 sub
get 127 sub}B /ch-dx{ch-data dup length 1 sub get}B /ch-image{ch-data
dup type /stringtype ne{ctr get /ctr ctr 1 add N}if}B /id 0 N /rw 0 N
/rc 0 N /gp 0 N /cp 0 N /G 0 N /sf 0 N /CharBuilder{save 3 1 roll S dup
/base get 2 index get S /BitMaps get S get /ch-data X pop /ctr 0 N ch-dx
0 ch-xoff ch-yoff ch-height sub ch-xoff ch-width add ch-yoff
setcachedevice ch-width ch-height true[1 0 0 -1 -.1 ch-xoff sub ch-yoff
.1 sub]{ch-image}imagemask restore}B /D{/cc X dup type /stringtype ne{]}
if nn /base get cc ctr put nn /BitMaps get S ctr S sf 1 ne{dup dup
length 1 sub dup 2 index S get sf div put}if put /ctr ctr 1 add N}B /I{
cc 1 add D}B /bop{userdict /bop-hook known{bop-hook}if /SI save N @rigin
0 0 moveto /V matrix currentmatrix dup 1 get dup mul exch 0 get dup mul
add .99 lt{/QV}{/RV}ifelse load def pop pop}N /eop{SI restore userdict
/eop-hook known{eop-hook}if showpage}N /@start{userdict /start-hook
known{start-hook}if pop /VResolution X /Resolution X 1000 div /DVImag X
/IE 256 array N 0 1 255{IE S 1 string dup 0 3 index put cvn put}for
65781.76 div /vsize X 65781.76 div /hsize X}N /p{show}N /RMat[1 0 0 -1 0
0]N /BDot 260 string N /rulex 0 N /ruley 0 N /v{/ruley X /rulex X V}B /V
{}B /RV statusdict begin /product where{pop product dup length 7 ge{0 7
getinterval dup(Display)eq exch 0 4 getinterval(NeXT)eq or}{pop false}
ifelse}{false}ifelse end{{gsave TR -.1 .1 TR 1 1 scale rulex ruley false
RMat{BDot}imagemask grestore}}{{gsave TR -.1 .1 TR rulex ruley scale 1 1
false RMat{BDot}imagemask grestore}}ifelse B /QV{gsave newpath transform
round exch round exch itransform moveto rulex 0 rlineto 0 ruley neg
rlineto rulex neg 0 rlineto fill grestore}B /a{moveto}B /delta 0 N /tail
{dup /delta X 0 rmoveto}B /M{S p delta add tail}B /b{S p tail}B /c{-4 M}
B /d{-3 M}B /e{-2 M}B /f{-1 M}B /g{0 M}B /h{1 M}B /i{2 M}B /j{3 M}B /k{
4 M}B /w{0 rmoveto}B /l{p -4 w}B /m{p -3 w}B /n{p -2 w}B /o{p -1 w}B /q{
p 1 w}B /r{p 2 w}B /s{p 3 w}B /t{p 4 w}B /x{0 S rmoveto}B /y{3 2 roll p
a}B /bos{/SS save N}B /eos{SS restore}B end
%%EndProcSet
%%BeginFont: Times-Bold
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "22 June 1996",
%   filename = "8r.enc",
%   email = "kb@@mail.tug.org",
%   address = "135 Center Hill Rd. // Plymouth, MA 02360",
%   codetable = "ISO/ASCII",
%   checksum = "119     662    4424",
%   docstring = "Encoding for TrueType or Type 1 fonts to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there down to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def
%%EndFont
%%BeginProcSet: texps.pro
TeXDict begin /rf{findfont dup length 1 add dict begin{1 index /FID ne 2
index /UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type /integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics /Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont /setfont load]cvx def}def
/ObliqueSlant{dup sin S cos div neg}B /SlantFont{4 index mul add}def
/ExtendFont{3 -1 roll mul exch}def /ReEncodeFont{/Encoding exch def}def
end
%%EndProcSet
%%BeginProcSet: special.pro
TeXDict begin /SDict 200 dict N SDict begin /@SpecialDefaults{/hs 612 N
/vs 792 N /ho 0 N /vo 0 N /hsc 1 N /vsc 1 N /ang 0 N /CLIP 0 N /rwiSeen
false N /rhiSeen false N /letter{}N /note{}N /a4{}N /legal{}N}B
/@scaleunit 100 N /@hscale{@scaleunit div /hsc X}B /@vscale{@scaleunit
div /vsc X}B /@hsize{/hs X /CLIP 1 N}B /@vsize{/vs X /CLIP 1 N}B /@clip{
/CLIP 2 N}B /@hoffset{/ho X}B /@voffset{/vo X}B /@angle{/ang X}B /@rwi{
10 div /rwi X /rwiSeen true N}B /@rhi{10 div /rhi X /rhiSeen true N}B
/@llx{/llx X}B /@lly{/lly X}B /@urx{/urx X}B /@ury{/ury X}B /magscale
true def end /@MacSetUp{userdict /md known{userdict /md get type
/dicttype eq{userdict begin md length 10 add md maxlength ge{/md md dup
length 20 add dict copy def}if end md begin /letter{}N /note{}N /legal{}
N /od{txpose 1 0 mtx defaultmatrix dtransform S atan/pa X newpath
clippath mark{transform{itransform moveto}}{transform{itransform lineto}
}{6 -2 roll transform 6 -2 roll transform 6 -2 roll transform{
itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll curveto}}{{
closepath}}pathforall newpath counttomark array astore /gc xdf pop ct 39
0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}if}N
/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1 -1
scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3 get
ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip yflip
not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub neg 0
TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{noflips{TR
pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop 90 rotate 1
-1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg
TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr 1 get neg
sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr 2 get ppr
0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4 -1 roll add
2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S TR}if}N /cp
{pop pop showpage pm restore}N end}if}if}N /normalscale{Resolution 72
div VResolution 72 div neg scale magscale{DVImag dup scale}if 0 setgray}
N /psfts{S 65781.76 div N}N /startTexFig{/psf$SavedState save N userdict
maxlength dict begin /magscale true def normalscale currentpoint TR
/psf$ury psfts /psf$urx psfts /psf$lly psfts /psf$llx psfts /psf$y psfts
/psf$x psfts currentpoint /psf$cy X /psf$cx X /psf$sx psf$x psf$urx
psf$llx sub div N /psf$sy psf$y psf$ury psf$lly sub div N psf$sx psf$sy
scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub TR
/showpage{}N /erasepage{}N /copypage{}N /p 3 def @MacSetUp}N /doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N /endTexFig{end psf$SavedState restore}N /@beginspecial{SDict
begin /SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count /ocount X /dcount countdictstack N}N /@setspecial
{CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if /showpage{}N /erasepage{}N /copypage{}N newpath
}N /@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{
end}repeat grestore SpecialSave restore end}N /@defspecial{SDict begin}
N /@fedspecial{end}B /li{lineto}B /rl{rlineto}B /rc{rcurveto}B /np{
/SaveX currentpoint /SaveY X N 1 setlinecap newpath}N /st{stroke SaveX
SaveY moveto}N /fil{fill SaveX SaveY moveto}N /ellipse{/endangle X
/startangle X /yrad X /xrad X /savematrix matrix currentmatrix N TR xrad
yrad scale 0 0 1 startangle endangle arc savematrix setmatrix}N end
%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (thesis.dvi)
@start /Fa 1 22 df<00003F00000000000000007FF0000000000000007FFC00000000
00000007FF0000000000000003FF8000000000000001FFC000000000000000FFE0000000
000000007FE0000000000000007FF0000000000000003FF0000000000000003FF8000000
000000003FF8000000000000001FF8000000000000001FFC000000000000001FFC000000
000000000FFC000000000000000FFE000000000000000FFE0000000000000007FE000000
0000000007FF0000000000000007FF0000000000000003FF0000000000000003FF800000
0000000003FF8000000000000001FF8000000000000001FFC000000000000001FFC00000
0000000000FFC000000000000000FFE000000000000000FFE0000000000000007FE00000
00000000007FF0000000000000003FF0000000000000003FF0000000000000003FF80000
00000000001FF8000000000000001FF8000000000000001FFC000000000000000FFC0000
00000000000FFC000000000000000FFE0000000000000007FE0000000000000007FE0000
000000000007FF0000000000000003FF0000000000000003FF0000000000000003FF8000
000000000001FF8000000000000001FF8000000000000001FFC000000000000000FFC000
000000000000FFC000000000000000FFE0000000000000007FE000000000000000FFE000
000000000001FFF000000000000003FFF000000000000007FFF00000000000000FFFF800
00000000001F9FF80000000000003F1FFC0000000000007E1FFC000000000000FC0FFC00
0000000001F80FFE000000000003F80FFE000000000007F007FE00000000000FE007FF00
000000001FC007FF00000000003F8003FF00000000007F0003FF8000000000FF0003FF80
00000001FE0001FF8000000003FC0001FFC000000007F80001FFC00000000FF00000FFC0
0000001FE00000FFE00000003FE00000FFE00000007FC000007FE0000000FF8000007FF0
000000FF0000007FF0000001FE0000003FF0000003FC0000003FF8000007FC0000001FF8
00000FF80000001FF800001FF00000001FFC00003FE00000000FFC00007FC00000000FFC
0000FF800000000FFE0001FF8000000007FE0003FF0000000007FE0007FE0000000007FF
000FFC0000000003FF001FF80000000003FF003FF00000000003FF807FF00000000001FF
80FFE00000000001FFC0FFC00000000001FFC0FF800000000000FFE0FF0000000000007F
E0FE0000000000003FF07C0000000000001FF0446578E352>21 D
E /Fb 176[86 79[{ TeXBase1Encoding ReEncodeFont }1 119.999948
/Times-Roman rf /Fc 179[58 4[69 1[58 69[{
 TeXBase1Encoding ReEncodeFont }3 95.999908 /Times-Roman
rf /Fd 140[32 6[17 42 2[51 2[54 1[54 1[57 97[{
 TeXBase1Encoding ReEncodeFont }7 83.333337 /AvantGarde-BookOblique
rf /Fe 1 40 df<0001FF0000000000000C000FFFE000000000001C003FFFF800000000
001C007FFFFE00000000001C01FFFFFF80000000001C03FFFFFFC0000000001C07FFFFFF
E0000000003C0FFE00FFF8000000003C0FF0001FFC000000003C1FE00007FE000000007C
1F800001FF80000000783F000000FFC0000000F83E0000007FE0000000F87C0000001FF8
000001F07C0000000FFC000003F07800000007FE000007E0F800000001FF80001FE0F000
000000FFE0003FC0F0000000007FFC01FFC0F0000000001FFFFFFF80E0000000000FFFFF
FF00E00000000007FFFFFE00E00000000001FFFFF800E000000000007FFFF000E0000000
00001FFFC00060000000000003FE00000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000007FFFFFFFFFFFFFFFFFF8FFFFFFFFFFFFFFFFFFFCFFFFFFFFFFFF
FFFFFFFCFFFFFFFFFFFFFFFFFFFC7FFFFFFFFFFFFFFFFFF84E3479B65D>39
D E /Ff 134[27 8[29 10[23 16[33 84[{ TeXBase1Encoding ReEncodeFont }4
66.666667 /ZapfChancery-MediumItalic rf /Fg 137[37 2[26
3[44 41 1[13 2[13 5[43 28[32 8[40 12[37 48[{
 TeXBase1Encoding ReEncodeFont }10 66.666667 /AvantGarde-Book
rf /Fh 3 94 df<1C007F00FF80FF80FF80FF80FF807F001C0000000000000000000000
00000000000000000000000000000000000000000000000000001C007F00FF80FF80FF80
FF80FF807F001C00092479A317>58 D<FFF8FFF8FFF8FFF8F000F000F000F000F000F000
F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000
F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000
F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000
F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000FFF8FFF8FFF8
FFF80D5378BD17>91 D<FFF8FFF8FFF8FFF8007800780078007800780078007800780078
007800780078007800780078007800780078007800780078007800780078007800780078
007800780078007800780078007800780078007800780078007800780078007800780078
007800780078007800780078007800780078007800780078007800780078007800780078
007800780078007800780078007800780078007800780078FFF8FFF8FFF8FFF80D537FBD
17>93 D E /Fi 4 127 df<1C007F00FF80FF80FF80FF80FF807F001C000909798817>
58 D<0003F000000001FFF000000001FFF000000001FFF00000000007F00000000007E0
0000000007E00000000007E0000000000FE0000000000FC0000000000FC0000000000FC0
000000001FC0000000001F80000000001F80000000001F80000000003F80000000003F00
000000003F00000000003F00000000007F00000000007E03F80000007E0FFF0000007E3C
0F800000FEF007C00000FDC007E00000FF8007E00000FF0003E00001FE0003E00001FC00
03E00001FC0003E00001F80007E00003F80007E00003F00007E00003F00007E00003F000
0FE00007F0000FC00007E0000FC00007E0000FC00007E0001FC0000FE0001F80000FC000
1F80000FC0003F80000FC0003F00001FC0003F00001F80007F01801F80007E01801F8000
FE03803F8000FC03003F0000FC03003F0000FC07003F0000F806007F0000F80E007E0000
F80C007E0000F81C007E0000F83800FE0000787000FC00003FE0003800000F8000293B7C
B930>104 D<0001C0000003E0000007E0000007E0000007E0000007E000000FE000000F
C000000FC000000FC000001FC000001F8000001F8000001F8000003F8000003F00007FFF
FF807FFFFF80FFFFFF80007E0000007E0000007E000000FE000000FC000000FC000000FC
000001FC000001F8000001F8000001F8000003F8000003F0000003F0000003F0000007F0
000007E0000007E0000007E000000FE000000FC006000FC006000FC00E001FC00C001F80
1C001F8018001F8038001F8070001F8060001F80E0000F81C0000787800003FE000000F8
000019357EB31E>116 D<00000004000000001E000000001F000000001F000000000F80
0000000FC000000007E07FFFFFFFF0FFFFFFFFF8FFFFFFFFF87FFFFFFFF00000001FC000
00003F000000007E00000000FC00000000F800000000F0000000006000251271BB2A>
126 D E /Fj 3 116 df<000E00001F00003F00003F00003E00001C0000000000000000
000000000000000000000000000003E00007F0000C7800187C00307C00307C00607C0060
F800C0F800C0F80001F00001F00001F00003E00003E00007C00007C00007C1800F81800F
81801F03001F03001F06000F0C000F1C0007F00003E00011287DA617>105
D<07801FC007E0000FE07FF01FF80018F0E0F8783C0030F1807CE03E0030FB007D801E00
60FE003F001E0060FC003F001E0060F8003E001E00C1F8007C003E00C1F0007C003E0001
F0007C003E0001F0007C003E0003E000F8007C0003E000F8007C0003E000F8007C0003E0
00F800F80007C001F000F80007C001F000F83007C001F001F03007C001F001F0300F8003
E003E0600F8003E003E0600F8003E003E0C00F8003E001E1801F0007C001E3801F0007C0
00FF000E000380007C00341B7D993B>109 D<000FE0007FF800F03C01C00E03C01E0780
3E07803E07803C0F80180FE00007FF0007FFC003FFE001FFF000FFF80007F80001F83C00
F87E00787E0078FC00F0F800F07001E07003C03C0F801FFE0007F800171B7C991F>115
D E /Fk 135[42 5[32 1[42 4[37 2[42 4[34 1[37 24[65 72[{
 TeXBase1Encoding ReEncodeFont }8 83.333337 /Palatino-Italic
rf /Fl 135[86 4[86 9[86 3[86 3[86 26[86 2[86 67[{
 TeXBase1Encoding ReEncodeFont }7 143.999997 /Courier-Bold
rf /Fm 1 7 df<FFFFFFFFFFFFFFFFFFFF00FFFFFFFFFFFFFFFFFFFF00FFFFFFFFFFFFFF
FFFFFF00FFFFFFFFFFFFFFFFFFFF007FF800000000007FFFFF007FF8000000000001FFFF
803FFC0000000000001FFF801FFE00000000000007FF801FFE00000000000003FF800FFF
00000000000000FF8007FF800000000000007F8007FF800000000000003F8003FFC00000
000000003F8003FFE00000000000001F8001FFE00000000000000F8000FFF00000000000
000F8000FFF800000000000007C0007FF800000000000007C0003FFC00000000000007C0
003FFE00000000000003C0001FFE00000000000003C0000FFF00000000000003C0000FFF
80000000000001C00007FF80000000000001C00003FFC0000000000001C00003FFC00000
00000001C00001FFE0000000000001C00000FFF0000000000001E00000FFF00000000000
00E000007FF8000000000000E000003FFC000000000000E000003FFC000000000000E000
001FFE0000000000000000001FFF0000000000000000000FFF00000000000000000007FF
80000000000000000007FFC0000000000000000003FFC0000000000000000001FFE00000
00000000000001FFF0000000000000000000FFF00000000000000000007FF80000000000
000000007FF80000000000000000003FFC0000000000000000001FFE0000000000000000
001FFE0000000000000000000FFF00000000000000000007FF80000000000000000007FF
80000000000000000003FF80000000000000000003FF80000000000000000001FF000000
00000000000000FE00000000000000000000FC0000000000000000000078000000000000
000000007800000000000000000000F000000000000000000001E0000000000000000000
03C0000000000000000000078000000000000000000007800000000000000000000F0000
00000000000000001E000000000000000000003C00000000000000000000780000000000
000000000078000000000000E0000000F0000000000000E0000001E0000000000000E000
0003C0000000000000E0000007C0000000000001E000000780000000000001C000000F00
000000000001C000001E00000000000001C000003C00000000000001C000007C00000000
000001C000007800000000000003C00000F000000000000003C00001E000000000000003
C00003C000000000000007C00007C000000000000007C000078000000000000007C0000F
000000000000000F80001E000000000000000F80003C000000000000001F80003C000000
000000003F800078000000000000003F8000F0000000000000007F8001E0000000000000
00FF8003C000000000000003FF8003C000000000000007FF8007800000000000003FFF80
0F00000000000001FFFF801E000000000000FFFFFF003FFFFFFFFFFFFFFFFFFF003FFFFF
FFFFFFFFFFFFFF007FFFFFFFFFFFFFFFFFFF00FFFFFFFFFFFFFFFFFFFF00FFFFFFFFFFFF
FFFFFFFF0053627AE160>6 D E /Fn 1 61 df<00000000000000003800000000000000
00FC0000000000000003FC000000000000000FFC000000000000003FF800000000000001
FFE000000000000007FF800000000000001FFE000000000000007FF800000000000001FF
E000000000000007FF000000000000001FFC000000000000007FF000000000000001FFC0
00000000000007FF000000000000003FFC00000000000000FFF000000000000003FFC000
00000000000FFF000000000000003FFC00000000000000FFE000000000000003FF800000
000000000FFE000000000000003FF800000000000000FFE000000000000003FF80000000
0000001FFE000000000000007FF800000000000001FFE000000000000007FF8000000000
00001FFE000000000000007FF000000000000000FFC000000000000000FF000000000000
0000FFC0000000000000007FF0000000000000001FFE0000000000000007FF8000000000
000001FFE0000000000000007FF8000000000000001FFE0000000000000003FF80000000
00000000FFE0000000000000003FF8000000000000000FFE0000000000000003FF800000
0000000000FFE0000000000000003FFC000000000000000FFF0000000000000003FFC000
000000000000FFF0000000000000003FFC0000000000000007FF0000000000000001FFC0
000000000000007FF0000000000000001FFC0000000000000007FF0000000000000001FF
E0000000000000007FF8000000000000001FFE0000000000000007FF8000000000000001
FFE0000000000000003FF8000000000000000FFC0000000000000003FC00000000000000
00FC000000000000000038464376BE5B>60 D E /Fo 141[25 2[54
3[42 6[57 54 1[57 18[61 78[{ TeXBase1Encoding ReEncodeFont }7
83.333337 /AvantGarde-Book rf /Fp 134[42 2[42 1[28 32
37 1[46 42 5[23 5[37 99[{ TeXBase1Encoding ReEncodeFont }9
83.333337 /Times-Bold rf /Fq 18 123 df<0000003FE000000001FFF8F8000007E0
3EF800000F801EF800001F003FF800001F007FF000003E007FF000003E007FF000007E00
3BF000007C0003E000007C0003E000007C0003E000007C0007E00000FC0007C00000F800
07C00000F80007C00000F8000FC00000F8000F80007FFFFFFF80007FFFFFFF800001F000
1F800001F0001F000001F0001F000003F0001F000003E0003F000003E0003E000003E000
3E000003E0003E000007E0007E000007C0007C000007C0007C000007C0007C000007C000
FC000007C000F800000FC000F800000F8000F800000F8001F860000F8001F0E0000F8001
F0E0001F8001F0E0001F0001F0E0001F0001F1E0001F0001E1C0003F0001E1C0003F0001
E380003E0000F780003E00007F00003E00003E00007E00000000007C00000000007C0000
0000007C00000000387800000000FCF800000000FCF800000000FCF000000000FCF00000
0000F1E000000000F3C0000000007F80000000001E00000000002D3D81AE2A>13
D<00007F000003FFC0000783E0001F00F0003C00F80078007800F8007800F0007C01F000
7C03E0007C03E0007C07C0007C07C0007C0FC000FC0F8000FC1F8000FC1F8000FC1F8000
F83F0001F83F0001F83F0001F83F0001F87E0003F07E0003F07E0003F07E0003F0FC0007
E0FC0007E0FC0007E0FC0007C0FC000FC0F8000FC0F8000F80F8001F80F8001F00F8001F
00F8003E00F8003C00F80078007800F8007801F0003C03E0001F0F80000FFE000003F800
001E2D78AB24>48 D<0001F800000FFE00003E078000FC038001F003C003E007C007E00F
C00FC00FC00F800F801F800F803F0000003F0000007F0000007E0000007E0000007E0000
00FE000000FC000000FC000000FC000000FC000000FC000000FC0001807C0003C07C0007
807C000F003E001E001E007C000F83F00007FFC00000FE00001A1F799D21>99
D<0000003E000007FE000007FE0000007E0000007E0000007C0000007C000000FC000000
FC000000F8000000F8000001F8000001F8000001F0000001F0000003F00007C3F0001FF3
E0007C3BE000F81FE001F01FE003E00FC007C00FC00FC00FC01F800FC01F800F803F000F
803F001F807F001F807E001F007E001F007E003F00FE003F00FC003E00FC003E00FC007E
18FC007E38F8007C38F8007C38F800FC387801FC787C03F8707C03F8703C0F78E01E1E3D
E00FF81FC003E00F001F2F79AD24>I<0003F800000FFE00003E0F0000F8070001F00380
03E0038007C003800FC007801F8007001F800F003F001E003F003C007F03F8007FFFE000
7FFE00007E000000FE000000FC000000FC000000FC000000FC0000007C0000007C000180
7C0003C07C0007803E000F003E001E001F007C000F83F00003FFC00000FE00001A1F799D
21>I<000001F0000007FC00000F9E00001F1E00001E3E00003E7E00003E7E00003E7E00
007C3800007C0000007C0000007C000000FC000000F8000000F8000000F8000000F80000
00F800007FFFF0007FFFF00001F0000001F0000001F0000003F0000003E0000003E00000
03E0000003E0000007E0000007C0000007C0000007C0000007C000000FC000000F800000
0F8000000F8000000F8000001F8000001F0000001F0000001F0000001F0000003F000000
3E0000003E0000003E0000003E0000007E0000007C0000007C0000007C000038F80000FC
F80000FCF80000FCF00000FDF00000F1E00000F3C000007F8000001E0000001F3D81AE16
>I<000E00001F00003F80003F80001F00000E0000000000000000000000000000000000
000000000000000000000003E0000FF0001E78001C7C00387C00787C00707C0070FC00F0
F800E0F800E1F800C1F00001F00003F00003E00007E00007C00007C0000FC0000F83000F
87001F87001F07001F0F003F0E003E0E001E1C001E3C001E38000FF00003C000112E7AAC
16>105 D<00000380000007C000000FC000000FC000000FC00000070000000000000000
00000000000000000000000000000000000000000000000000000000000001F0000007FC
00000F1E00001E1E00001C1F0000381F0000781F0000703F0000F03E0000E03E0000E03E
0000C07E0000007E0000007C0000007C000000FC000000FC000000F8000000F8000001F8
000001F8000001F0000001F0000003F0000003F0000003E0000003E0000007E0000007E0
000007C0000007C000000FC000000FC000000F8000000F8000001F8000381F0000FC3F00
00FC3E0000FC7C0000F8F80000F1F000007FC000001F0000001A3B82AC16>I<007C0FFC
0FFC00FC00FC00F800F801F801F801F001F003F003F003E003E007E007E007C007C00FC0
0FC00F800F801F801F801F001F003F003F003E003E007E007E007C007C00FC30FC70F870
F870F8F0F8E0F0E0F1E0F1C0FBC07F801E000E2F7AAD12>108 D<07801FC0001FE07FF0
003DF1E0F80038F3C0780078FF007C0070FE007C0070FE007C00F1FC007C00E1F8007C00
E1F8007C00E1F0007C00C3F000FC0003F000F80003E000F80003E000F80007E001F80007
E001F00007C001F00007C003F0000FC003E0C00FC003E1C00F8007E1C00F8007C1C01F80
07C3C01F800FC3801F000F83801F000787003F000787003F00078E003E0003FC001C0000
F000221F7A9D28>110 D<0003F800000FFE00003E0F8000FC07C001F003C003E003E007
E003E00FC001F00F8001F01F8001F03F0001F03F0003F07F0003F07E0003F07E0003F07E
0007F0FE0007E0FC0007E0FC0007E0FC000FC0FC000FC0FC001F80FC001F807C003F007C
003E007C007C003E00F8001E01F0000F07C00007FF000001FC00001C1F799D24>I<003C
01F00000FF07FC0001E79E1E0001C7BC0F0003C7F80F800387F007800387E007C0078FC0
07C0070FC007C0070F8007C0070F8007C0061F800FC0001F800FC0001F000FC0001F000F
C0003F001FC0003F001F80003E001F80003E001F80007E003F00007E003F00007C003E00
007C007E0000FC007C0000FC00F80000FE01F80000FE01F00001FF03E00001FF0F800001
F3FE000001F0F8000003F000000003F000000003E000000003E000000007E000000007E0
00000007C000000007C00000000FC00000000FC0000000FFFC000000FFFC000000222B7F
9D24>I<07803E001FE0FF803CF3C1C038F781E078FF07E070FE07E070FC07E0F1FC07E0
E1F80380E1F80000E1F00000C3F0000003F0000003E0000003E0000007E0000007E00000
07C0000007C000000FC000000FC000000F8000000F8000001F8000001F8000001F000000
1F0000003F0000003F0000003E0000001C0000001B1F7A9D1E>114
D<000FC0007FF000F03C01E01C03C01E07801E07803E07803E0F803C0F80180FC0000FF8
000FFF0007FFC003FFE001FFF0007FF00007F00003F00001F07800F0FC00F0FC00F0FC01
F0F801E0E001E0E003C0F00780781F001FFC0007F000171F7A9D1D>I<001C00003E0000
3E00007E00007E00007C00007C0000FC0000FC0000F80000F80001F80001F800FFFFE0FF
FFE003F00003F00003E00003E00007E00007E00007C00007C0000FC0000FC0000F80000F
80001F80001F80001F00001F00003F00C03F01C03E01C03E03C03E03803E07803C07003C
0E003C1E001E3C000FF00007C000132B7AA918>I<03C000000FF000381E78007C1C7C00
FC387C00F8787C00F8707C00F870FC01F8F0F801F0E0F801F0E1F801F0C1F003F001F003
E003F003E003E003E003E007E007E007C007C007C007C007C007C00FC30FC00F870F800F
870F800F870F801F870F801F8F07803F0E07807F0E07C07F1C03E1E7BC01FF83F8007E01
E0201F7A9D26>I<03C0000007000FF000700F801E7800F81FC01C7C01F81FC0387C01F0
1FC0787C01F00FC0707C01F007C070FC03F007C0F0F803E00780E0F803E00780E1F803E0
0380C1F007E0078001F007E0070003F007C0070003E007C0070003E00FC00F0007E00FC0
0E0007C00F800E0007C00F800E0007C00F801E000FC01F801C000F801F001C000F801F00
3C000F801F0038000F801F00780007803F00700007C07F80F00003C07F81E00001E0E7C3
C00000FFC1FF8000003F007E00002A1F7A9D2F>119 D<000F00E0003F80E000FFC1E000
FFE3C001FFF38003E0FF8003C03F0003801E0007803C0000003800000078000000F00000
01E0000003C00000078000000F0000001E0000003C00000078000000F0018001E0038003
C00380078007800F000F001FE00F001FF83E003C7FFE00783FFC00701FF800F00FF000E0
07C0001B1F7C9D1D>122 D E /Fr 137[56 60 30 44 32 66 2[60
1[24 2[24 2[28 64 66 64 1[66 11[64 2[58 3[74 4[28 3[52
7[60 61[{ TeXBase1Encoding ReEncodeFont }20 100.000003
/AvantGarde-Demi rf /Fs 135[67 1[67 72 36 53 38 79 1[77
72 112 29 69 1[29 72 79 33 77 79 77 16[69 3[88 4[33 2[57
62 7[72 58[62 2[{ TeXBase1Encoding ReEncodeFont }26 119.999948
/AvantGarde-Demi rf /Ft 142[95 34[106 8[75 69[{
 TeXBase1Encoding ReEncodeFont }3 143.999997 /AvantGarde-Demi
rf /Fu 135[50 35[61 55 83[{ TeXBase1Encoding ReEncodeFont }3
100.000003 /Palatino-BoldItalic rf /Fv 3 107 df<000FE0007FF801F03C03C01C
07803C0F007C1E007C3E00383E00007C00007C00007C0000F80000F80000F80000F80000
78000478000C3800383C00701F03E00FFF8001FC0016177E951C>99
D<0038007C007C00780070000000000000000000000000000007801FC038E030E060F0C1
E0C1E0C1E003C003C003C0078007800F000F040F061E0C1E0C1E181C181E700FE007800F
237DA116>105 D<00001800003C00007C00007C00003800000000000000000000000000
0000000000000000000780001FE00038E00060F000C0F000C0F00180F00180F00001E000
01E00001E00001E00003C00003C00003C00003C0000780000780000780000780000F0000
0F00000F00000F00001E00001E00381E00783C00F83800F8780070F0007FC0001F000016
2D81A119>I E /Fw 1 50 df<00E00001E00007E000FFE000F9E00001E00001E00001E0
0001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E0
0001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00003F000FFFF
C0FFFFC012217AA01E>49 D E /Fx 2 64 df<800000000000E00000000000FC00000000
00FF0000000000FFC000000000FFF000000000FFFC00000000FFFF80000000FFFFE00000
00FFFFFC000000FFFFFF000000FFFFFFE00000FFFFFFFC0000FFFFFFFF8000FFFFFFFFF8
00FFFFFFFFFF00FFFFFFFFFFF0FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0FFFFFFFFFF
00FFFFFFFFF800FFFFFFFF8000FFFFFFFC0000FFFFFFE00000FFFFFF000000FFFFFC0000
00FFFFE0000000FFFF80000000FFFC00000000FFF000000000FFC000000000FF00000000
00FC0000000000E0000000000080000000000030245F9153>45 D<FFFFFFFFF07FFFFFFF
E07FFFFFFFE03FFFFFFFC03FFFFFFFC03FFFFFFFC01FFFFFFF801FFFFFFF800FFFFFFF00
0FFFFFFF0007FFFFFE0007FFFFFE0003FFFFFC0003FFFFFC0001FFFFF80001FFFFF80001
FFFFF80000FFFFF00000FFFFF000007FFFE000007FFFE000007FFFE000003FFFC000003F
FFC000001FFF8000001FFF8000001FFF8000000FFF0000000FFF0000000FFF00000007FE
00000007FE00000007FE00000003FC00000003FC00000003FC00000003FC00000001F800
000001F800000001F800000000F000000000F000000000F000000000F000000000600000
000060000000006000000000600000243092B153>63 D E /Fy 5
107 df<00000000000180000000000007C000000000001FC000000000007F8000000000
01FF000000000007FC00000000001FF000000000007FC00000000001FF000000000007FC
00000000001FF000000000007FC00000000001FF000000000007FC00000000001FF00000
0000007FC00000000001FF000000000007FC00000000001FF000000000007FC000000000
01FF000000000007FC00000000003FF000000000007FC00000000000FF000000000000FE
0000000000007F8000000000003FE000000000000FF8000000000003FE000000000000FF
8000000000003FE000000000000FF8000000000003FE000000000000FF8000000000003F
E000000000000FF8000000000003FE000000000000FF8000000000003FE000000000000F
F8000000000003FE000000000000FF8000000000003FE000000000000FF8000000000003
FE000000000000FF8000000000003FC000000000000FC000000000000380000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000007FFFFFFFFFFF80FFFFFFFFFFFFC0FFFF
FFFFFFFFC07FFFFFFFFFFF80324479B441>20 D<0000000000001E00000000000000001E
00000000000000001E00000000000000001E00000000000000001F00000000000000000F
00000000000000000F00000000000000000F800000000000000007800000000000000007
C00000000000000003E00000000000000003E00000000000000001F00000000000000000
F80000000000000000FC00000000000000007E00000000000000003F0000000000000000
1F80000000000000000FC00000000000000007F07FFFFFFFFFFFFFFFFCFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFFFF7FFFFFFFFFFFFFFFFC0000000000000007F000000000000000
0FC0000000000000001F80000000000000003F00000000000000007E0000000000000000
FC0000000000000000F80000000000000001F00000000000000003E00000000000000003
E00000000000000007C0000000000000000780000000000000000F80000000000000000F
00000000000000000F00000000000000001F00000000000000001E00000000000000001E
00000000000000001E00000000000000001E0000482C7BAA53>33
D<600000000018F0000000003CF8000000007CF8000000007C7800000000787C00000000
F87C00000000F83C00000000F03E00000001F03E00000001F01F00000003E01F00000003
E00F00000003C00F80000007C00F80000007C007800000078007C000000F8007C000000F
8003E000001F0003E000001F0001FFFFFFFE0001FFFFFFFE0001FFFFFFFE0000FFFFFFFC
0000F800007C0000F800007C00007C0000F800007C0000F800003C0000F000003E0001F0
00003E0001F000001E0001E000001F0003E000001F0003E000000F8007C000000F8007C0
000007800780000007C00F80000007C00F80000003C00F00000003E01F00000003E01F00
000001F03E00000001F03E00000000F03C00000000F87C00000000F87C00000000787800
0000007CF8000000007CF8000000003FF0000000003FF0000000001FE0000000001FE000
0000001FE0000000000FC0000000000FC0000000000FC000000000078000000000030000
002E3C80B92F>56 D<0000C00001E00003E00003E00003C00007C00007C0000780000F80
000F80001F00001F00001E00003E00003E00007C00007C0000780000F80000F80001F000
01F00001E00003E00003E00003C00007C00007C0000F80000F80000F00001F00001F0000
3E00003E00003C00007C00007C0000780000F80000F80000F80000F800007800007C0000
7C00003C00003E00003E00001F00001F00000F00000F80000F800007C00007C00003C000
03E00003E00001E00001F00001F00000F80000F800007800007C00007C00003E00003E00
001E00001F00001F00000F80000F800007800007C00007C00003C00003E00003E00001E0
0000C0135278BD20>104 D<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F060045377BD17>106
D E /Fz 34 126 df<FFFFE0FFFFE0FFFFE0FFFFE0F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000
F00000F00000F00000F00000F00000F00000F00000F00000F00000F00000FFFFE0FFFFE0
FFFFE0FFFFE013776C832A>2 D<FFFFE0FFFFE0FFFFE0FFFFE00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E000
01E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E00001E0FF
FFE0FFFFE0FFFFE0FFFFE013777E832A>I<00000001E00000000FE00000007FE0000001
FF80000007FC0000000FF00000003FE00000007F80000000FF00000000FE00000001FE00
000001FC00000003FC00000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000007F800000007F000000007F00000000FE00000001FE00000003FC00000007F800000
00FF00000003FC00000007F00000003FC0000000FF00000000F800000000FF000000003F
C000000007F000000003FC00000000FF000000007F800000003FC00000001FE00000000F
E000000007F000000007F000000007F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003FC00000001FC00000001FE00000000FE00000000FF000000007F
800000003FE00000000FF000000007FC00000001FF800000007FE00000000FE000000001
E0237775833A>8 D<F000000000FE00000000FFC00000003FF000000007FC00000001FE
00000000FF800000003FC00000001FE00000000FE00000000FF000000007F000000007F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003FC00000001FC
00000001FC00000000FE00000000FF000000007F800000003FC00000001FE000000007F8
00000001FC000000007F800000001FE000000003E00000001FE00000007F80000001FC00
000007F80000001FE00000003FC00000007F80000000FF00000000FE00000001FC000000
01FC00000003FC00000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
07F800000007F00000000FF00000000FE00000001FE00000003FC0000000FF80000001FE
00000007FC0000003FF0000000FFC0000000FE00000000F000000000237775833A>I<00
0000180000003C0000007C0000007C000000F8000000F8000000F0000001F0000001F000
0003E0000003E0000007C0000007C000000F8000000F8000000F0000001F0000001F0000
003E0000003E0000007C0000007C000000F8000000F8000001F0000001F0000001E00000
03E0000003E0000007C0000007C000000F8000000F8000001F0000001F0000001E000000
3E0000003E0000007C0000007C000000F8000000F8000001F0000001F0000003E0000003
E0000003C0000007C0000007C000000F8000000F8000001F0000001F0000003E0000003E
0000003C0000007C0000007C000000F8000000F8000000F8000000F80000007C0000007C
0000003C0000003E0000003E0000001F0000001F0000000F8000000F80000007C0000007
C0000003C0000003E0000003E0000001F0000001F0000000F8000000F80000007C000000
7C0000003E0000003E0000001E0000001F0000001F0000000F8000000F80000007C00000
07C0000003E0000003E0000001E0000001F0000001F0000000F8000000F80000007C0000
007C0000003E0000003E0000001F0000001F0000000F0000000F8000000F80000007C000
0007C0000003E0000003E0000001F0000001F0000000F0000000F8000000F80000007C00
00007C0000003C000000181E7877832F>I<60000000F0000000F8000000F80000007C00
00007C0000003C0000003E0000003E0000001F0000001F0000000F8000000F80000007C0
000007C0000003C0000003E0000003E0000001F0000001F0000000F8000000F80000007C
0000007C0000003E0000003E0000001E0000001F0000001F0000000F8000000F80000007
C0000007C0000003E0000003E0000001E0000001F0000001F0000000F8000000F8000000
7C0000007C0000003E0000003E0000001F0000001F0000000F0000000F8000000F800000
07C0000007C0000003E0000003E0000001F0000001F0000000F0000000F8000000F80000
007C0000007C0000007C0000007C000000F8000000F8000000F0000001F0000001F00000
03E0000003E0000007C0000007C000000F8000000F8000000F0000001F0000001F000000
3E0000003E0000007C0000007C000000F8000000F8000001F0000001F0000001E0000003
E0000003E0000007C0000007C000000F8000000F8000001F0000001F0000001E0000003E
0000003E0000007C0000007C000000F8000000F8000001F0000001F0000003E0000003E0
000003C0000007C0000007C000000F8000000F8000001F0000001F0000003E0000003E00
00003C0000007C0000007C000000F8000000F8000000F0000000600000001E7879832F>
I<F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F00440728121>I<
FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC0FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000
FC000000FC000000FC000000FC000000FC000000FC000000FC000000FFFFFFC0FFFFFFC0
FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC01AEE678335>20 D<FFFFFFC0FFFFFFC0FFFFFFC0
FFFFFFC0FFFFFFC0FFFFFFC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC000000FC0
00000FC000000FC000000FC000000FC0FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC0FFFFFFC0
FFFFFFC01AEE7F8335>I<FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE
00000020B2608242>50 D<FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFF0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F00
00007F20B27F8242>I<FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE000000FE00
0000FE000000FE000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFF20B2608342>I<0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F000000
7F0000007F0000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
FF20B27F8342>I<FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE073E
608042>I<FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE
FEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFEFE073E668042
>I<0000000F800000003F80000000FF80000001FF80000007FF8000000FFF0000001FFC
0000003FF80000007FF0000001FFE0000003FFC0000007FF80000007FF0000000FFE0000
001FFC0000003FF80000007FF80000007FF0000000FFE0000001FFE0000001FFC0000003
FFC0000003FF80000007FF80000007FF0000000FFF0000000FFE0000001FFE0000001FFE
0000001FFC0000003FFC0000003FFC0000003FFC0000007FF80000007FF80000007FF800
00007FF80000007FF8000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF000
0000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000215A5A7E59>I<F800000000FE000000
00FF80000000FFC0000000FFF00000007FF80000001FFC0000000FFE00000007FF000000
03FFC0000001FFE0000000FFF00000007FF00000003FF80000001FFC0000000FFE000000
0FFF00000007FF00000003FF80000003FFC0000001FFC0000001FFE0000000FFE0000000
FFF00000007FF00000007FF80000003FF80000003FFC0000003FFC0000001FFC0000001F
FE0000001FFE0000001FFE0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF
00000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80
000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8000
0007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF800000
07FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007
FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF
80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80
000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8000
0007FF80000007FF80215A6F7E59>I<FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF000
0000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF0000000FFF0000000FFF00000007FF80000007FF80000007FF8
0000007FF80000007FF80000003FFC0000003FFC0000003FFC0000001FFC0000001FFE00
00001FFE0000000FFE0000000FFF00000007FF00000007FF80000003FF80000003FFC000
0001FFC0000001FFE0000000FFE00000007FF00000007FF80000003FF80000001FFC0000
000FFE00000007FF00000007FF80000003FFC0000001FFE00000007FF00000003FF80000
001FFC0000000FFF00000007FF80000001FF80000000FF800000003F800000000F80215A
5A8059>I<000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8000
0007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF800000
07FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007
FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF
80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80
000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8000
0007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF800000
07FF80000007FF80000007FF8000000FFF0000000FFF0000000FFF0000000FFF0000000F
FF0000001FFE0000001FFE0000001FFE0000001FFC0000003FFC0000003FFC0000003FF8
0000007FF80000007FF0000000FFF0000000FFE0000001FFE0000001FFC0000003FFC000
0003FF80000007FF0000000FFF0000000FFE0000001FFC0000003FF80000007FF0000000
FFF0000001FFE0000003FFC0000007FF0000000FFE0000001FFC0000007FF8000000FFF0
000000FFC0000000FF80000000FE00000000F800000000215A6F8059>I<000007FF8000
0007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF800000
07FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007
FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF
80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80
000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8000
0007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF800000
07FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007
FF8000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFE0000001FFE
0000001FFE0000001FFE0000001FFC0000003FFC0000003FF80000003FF80000007FF800
00007FF0000000FFF0000000FFE0000000FFE0000001FFC0000001FF80000003FF800000
07FF00000007FE0000000FFE0000000FFC0000001FF80000003FF00000007FE00000007F
E0000000FFC0000001FF80000003FF00000007FC0000000FF80000001FF00000007FE000
0000FF80000000FF00000000FC00000000FF00000000FF800000007FE00000001FF00000
000FF800000007FC00000003FF00000001FF80000000FFC00000007FE00000007FE00000
003FF00000001FF80000000FFC0000000FFE00000007FE00000007FF00000003FF800000
01FF80000001FFC0000000FFE0000000FFE0000000FFF00000007FF00000007FF8000000
3FF80000003FF80000003FFC0000001FFC0000001FFE0000001FFE0000001FFE0000000F
FE0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000007FF80000007FF
80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80
000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8000
0007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF800000
07FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007
FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF
80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80
000007FF80000007FF80000007FF80000007FF80000007FF80000007FF80000007FF8021
B56F8059>I<FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF000
0000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF00000007FF80000007FF80000007FF80000007FF80000007FF8
0000003FF80000003FFC0000003FFC0000003FFC0000001FFC0000001FFE0000000FFE00
00000FFE0000000FFF00000007FF00000007FF80000003FF80000003FF80000001FFC000
0000FFC0000000FFE00000007FF00000003FF00000003FF80000001FF80000000FFC0000
0007FE00000003FF00000003FF00000001FF80000000FFC00000007FE00000001FF00000
000FF800000007FC00000003FF00000000FF800000007F800000001F800000007F800000
00FF80000003FF00000007FC0000000FF80000001FF00000007FE0000000FFC0000001FF
80000003FF00000003FF00000007FE0000000FFC0000001FF80000003FF80000003FF000
00007FF0000000FFE0000000FFC0000001FFC0000003FF80000003FF80000007FF800000
07FF0000000FFF0000000FFE0000000FFE0000001FFE0000001FFC0000003FFC0000003F
FC0000003FFC0000003FF80000007FF80000007FF80000007FF80000007FF80000007FF8
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF000
0000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000
FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FF
F0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0
000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF000
0000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF0000000FFF00000
00FFF0000000FFF000000021B55A8059>I<FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0
FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0FFF0
FFF0FFF0FFF0FFF0FFF00C205A8059>I<000000000E000000001F000000001F00000000
3F000000003E000000003E000000007E000000007C00000000FC00000000F800000000F8
00000001F800000001F000000003F000000003E000000003E000000007E000000007C000
00000FC00000000F800000000F800000001F800000001F000000003F000000003E000000
003E000000007E000000007C00000000FC00000000F800000000F800000001F800000001
F000000003F000000003E000000003E000000007E000000007C00000000FC00000000F80
0000000F800000001F800000001F000000003F000000003E000000007E000000007C0000
00007C00000000FC00000000F800000001F800000001F000000001F000000003F0000000
03E000000007E000000007C000000007C00000000FC00000000F800000001F800000001F
000000001F000000003F000000003E000000007E000000007C000000007C00000000FC00
000000F800000001F800000001F000000001F000000003F000000003E000000007E00000
0007C000000007C00000000FC00000000F800000001F800000001F000000001F00000000
3F000000003E000000007E000000007C000000007C00000000FC00000000F800000000FC
000000007C000000007C000000007E000000003E000000003F000000001F000000001F00
0000001F800000000F800000000FC000000007C000000007C000000007E000000003E000
000003F000000001F000000001F000000001F800000000F800000000FC000000007C0000
00007C000000007E000000003E000000003F000000001F000000001F000000001F800000
000F800000000FC000000007C000000007C000000007E000000003E000000003F0000000
01F000000001F000000001F800000000F800000000FC000000007C000000007C00000000
7E000000003E000000003F000000001F000000001F800000000F800000000F800000000F
C000000007C000000007E000000003E000000003E000000003F000000001F000000001F8
00000000F800000000F800000000FC000000007C000000007E000000003E000000003E00
0000003F000000001F000000001F800000000F800000000F800000000FC000000007C000
000007E000000003E000000003E000000003F000000001F000000001F800000000F80000
0000F800000000FC000000007C000000007E000000003E000000003E000000003F000000
001F000000001F000000000E28B375833D>68 D<7000000000F800000000F800000000FC
000000007C000000007C000000007E000000003E000000003F000000001F000000001F00
0000001F800000000F800000000FC000000007C000000007C000000007E000000003E000
000003F000000001F000000001F000000001F800000000F800000000FC000000007C0000
00007C000000007E000000003E000000003F000000001F000000001F000000001F800000
000F800000000FC000000007C000000007C000000007E000000003E000000003F0000000
01F000000001F000000001F800000000F800000000FC000000007C000000007E00000000
3E000000003E000000003F000000001F000000001F800000000F800000000F800000000F
C000000007C000000007E000000003E000000003E000000003F000000001F000000001F8
00000000F800000000F800000000FC000000007C000000007E000000003E000000003E00
0000003F000000001F000000001F800000000F800000000F800000000FC000000007C000
000007E000000003E000000003E000000003F000000001F000000001F800000000F80000
0000F800000000FC000000007C000000007E000000003E000000003E000000003F000000
001F000000003F000000003E000000003E000000007E000000007C00000000FC00000000
F800000000F800000001F800000001F000000003F000000003E000000003E000000007E0
00000007C00000000FC00000000F800000000F800000001F800000001F000000003F0000
00003E000000003E000000007E000000007C00000000FC00000000F800000000F8000000
01F800000001F000000003F000000003E000000003E000000007E000000007C00000000F
C00000000F800000000F800000001F800000001F000000003F000000003E000000003E00
0000007E000000007C00000000FC00000000F800000001F800000001F000000001F00000
0003F000000003E000000007E000000007C000000007C00000000FC00000000F80000000
1F800000001F000000001F000000003F000000003E000000007E000000007C000000007C
00000000FC00000000F800000001F800000001F000000001F000000003F000000003E000
000007E000000007C000000007C00000000FC00000000F800000001F800000001F000000
001F000000003F000000003E000000007E000000007C000000007C00000000FC00000000
F800000000F800000000700000000028B377833D>I<000000003C00000000000000007E
00000000000000007F0000000000000000FF0000000000000000FF0000000000000001FF
8000000000000001FF8000000000000001FF8000000000000003FFC000000000000003FF
C000000000000003FFC000000000000007FFE000000000000007FFE000000000000007FF
E00000000000000FFFF00000000000000FFFF00000000000000FE7F00000000000001FE7
F80000000000001FE7F80000000000001FC3F80000000000003FC3FC0000000000003FC3
FC0000000000003F81FC0000000000007F81FE0000000000007F81FE000000000000FF00
FF000000000000FF00FF000000000000FE007F000000000001FE007F800000000001FE00
7F800000000001FC003F800000000003FC003FC00000000003FC003FC00000000003F800
1FC00000000007F8001FE00000000007F8001FE00000000007F0000FE0000000000FF000
0FF0000000000FF0000FF0000000000FE00007F0000000001FE00007F8000000001FE000
07F8000000001FC00003F8000000003FC00003FC000000003FC00003FC000000007F8000
01FE000000007F800001FE000000007F000000FE00000000FF000000FF00000000FF0000
00FF00000000FE0000007F00000001FE0000007F80000001FE0000007F80000001FC0000
003F80000003FC0000003FC0000003FC0000003FC0000003F80000001FC0000007F80000
001FE0000007F80000001FE0000007F00000000FE000000FF00000000FF000000FF00000
000FF000000FE000000007F000001FE000000007F800001FE000000007F800003FC00000
0003FC00003FC000000003FC00003F8000000001FC00007F8000000001FE00007F800000
0001FE00007F0000000000FE0000FF0000000000FF0000FF0000000000FF0000FE000000
00007F0001FE00000000007F8001FE00000000007F8001FC00000000003F8003FC000000
00003FC003FC00000000003FC003F800000000001FC007F800000000001FE007F8000000
00001FE007F000000000000FE00FF000000000000FF00FF000000000000FF01FE0000000
000007F81FE0000000000007F81FC0000000000003F83FC0000000000003FC3FC0000000
000003FC3F80000000000001FC7F80000000000001FE7F80000000000001FE7F00000000
000000FEFF00000000000000FFFF00000000000000FFFE000000000000007FFE00000000
0000007F7C000000000000003E7C000000000000001E48647B7F53>86
D<7C000000000000001E7C000000000000003EFE000000000000007FFE00000000000000
7FFF00000000000000FFFF00000000000000FF7F00000000000000FE7F80000000000001
FE7F80000000000001FE3F80000000000001FC3FC0000000000003FC3FC0000000000003
FC1FC0000000000003F81FE0000000000007F81FE0000000000007F80FF000000000000F
F00FF000000000000FF007F000000000000FE007F800000000001FE007F800000000001F
E003F800000000001FC003FC00000000003FC003FC00000000003FC001FC00000000003F
8001FE00000000007F8001FE00000000007F8000FE00000000007F0000FF0000000000FF
0000FF0000000000FF00007F0000000000FE00007F8000000001FE00007F8000000001FE
00003F8000000001FC00003FC000000003FC00003FC000000003FC00001FE000000007F8
00001FE000000007F800000FE000000007F000000FF00000000FF000000FF00000000FF0
000007F00000000FE0000007F80000001FE0000007F80000001FE0000003F80000001FC0
000003FC0000003FC0000003FC0000003FC0000001FC0000003F80000001FE0000007F80
000001FE0000007F80000000FE0000007F00000000FF000000FF00000000FF000000FF00
0000007F000000FE000000007F800001FE000000007F800001FE000000003FC00003FC00
0000003FC00003FC000000001FC00003F8000000001FE00007F8000000001FE00007F800
0000000FE00007F0000000000FF0000FF0000000000FF0000FF00000000007F0000FE000
00000007F8001FE00000000007F8001FE00000000003F8001FC00000000003FC003FC000
00000003FC003FC00000000001FC003F800000000001FE007F800000000001FE007F8000
00000000FE007F000000000000FF00FF000000000000FF00FF0000000000007F81FE0000
000000007F81FE0000000000003F81FC0000000000003FC3FC0000000000003FC3FC0000
000000001FC3F80000000000001FE7F80000000000001FE7F80000000000000FE7F00000
000000000FFFF00000000000000FFFF000000000000007FFE000000000000007FFE00000
0000000007FFE000000000000003FFC000000000000003FFC000000000000003FFC00000
0000000001FF8000000000000001FF8000000000000001FF8000000000000000FF000000
0000000000FF00000000000000007F00000000000000007E00000000000000003C000000
0048647B7F53>I<FFFFFCFFFFFCFFFFFCFFFFFCFFFFFCF80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F80000F8
0000F80000F80000F80000F80000F80000F80000F80000FFFFFCFFFFFCFFFFFCFFFFFCFF
FFFC16B26A832F>104 D<FFFFFCFFFFFCFFFFFCFFFFFCFFFFFC00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00
007C00007C00007C00007C00007C00007C00007C00007C00007CFFFFFCFFFFFCFFFFFCFF
FFFCFFFFFC16B27E832F>I<000000000780000000003F8000000000FF8000000003FF80
00000007FE000000001FF8000000003FE0000000007FC000000001FF8000000003FE0000
000003FC0000000007FC000000000FF8000000001FF0000000001FE0000000003FE00000
00003FC0000000003FC0000000007FC0000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
0000FF8000000000FF0000000000FF0000000001FF0000000001FE0000000003FE000000
0003FC0000000007F8000000000FF8000000001FF0000000001FE0000000007FC0000000
00FF8000000001FE0000000003FC000000000FF0000000003FE000000000FF8000000000
FE0000000000FE0000000000FF80000000003FE0000000000FF00000000003FC00000000
01FE0000000000FF80000000007FC0000000001FE0000000001FF0000000000FF8000000
0007F80000000003FC0000000003FE0000000001FE0000000001FF0000000000FF000000
0000FF0000000000FF80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007F800000
00007F80000000007F80000000007F80000000007F80000000007F80000000007FC00000
00003FC0000000003FC0000000003FE0000000001FE0000000001FF0000000000FF80000
000007FC0000000003FC0000000003FE0000000001FF80000000007FC0000000003FE000
0000001FF80000000007FE0000000003FF8000000000FF80000000003F80000000000780
29B2748342>110 D<F00000000000FE0000000000FF8000000000FFE0000000003FF800
0000000FFC0000000003FF0000000000FF80000000007FC0000000003FE0000000001FF0
000000000FF80000000007FC0000000003FE0000000003FE0000000001FF0000000000FF
0000000000FF0000000000FF80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
C0000000003FC0000000003FC0000000003FE0000000001FE0000000001FF0000000000F
F0000000000FF80000000007F80000000003FC0000000001FE0000000000FF0000000000
7F80000000003FC0000000001FF00000000007F80000000001FE0000000000FF80000000
003F80000000003F8000000000FF8000000001FE0000000007F8000000001FF000000000
3FC0000000007F8000000000FF0000000001FE0000000003FC0000000007F8000000000F
F8000000000FF0000000001FF0000000001FE0000000003FE0000000003FC0000000003F
C0000000007FC0000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F80000000007F80000000007F
80000000007F80000000007F80000000007F80000000007F8000000000FF8000000000FF
0000000000FF0000000001FF0000000003FE0000000003FE0000000007FC000000000FF8
000000001FF0000000003FE0000000007FC000000000FF8000000003FF000000000FFC00
0000003FF800000000FFE000000000FF8000000000FE0000000000F0000000000029B274
8342>I<00000000007F80000000000FFF8000000000FFFF8000000007FFFF800000001F
FFFF800000007FFFFF80000001FFFFFF80000007FFFFFF8000001FFFFFFF8000003FFFFF
FF800000FFFFFFFF800001FFFFFFFF800003FFFFFF00000007FFFFC00000000FFFFC0000
00003FFFE0000000007FFF0000000000FFFC0000000000FFF00000000001FFC000000000
03FF800000000007FE00000000000FFC00000000000FF800000000001FF000000000003F
E000000000003FC000000000007F800000000000FF000000000000FE000000000000FE00
0000000000FC000000000000F80000000000003121838B2D>122
D<FF000000000000FFF80000000000FFFF8000000000FFFFF000000000FFFFFC00000000
FFFFFF00000000FFFFFFC0000000FFFFFFF0000000FFFFFFFC000000FFFFFFFE000000FF
FFFFFF800000FFFFFFFFC00000007FFFFFE000000001FFFFF0000000001FFFF800000000
03FFFE00000000007FFF00000000001FFF800000000007FF800000000001FFC000000000
00FFE000000000003FF000000000001FF800000000000FF8000000000007FC0000000000
03FE000000000001FE000000000000FF0000000000007F8000000000003F800000000000
3F8000000000001F8000000000000F803121818B2D>I<F8000000000000FC0000000000
00FE000000000000FE000000000000FF0000000000007F8000000000003FC00000000000
3FE000000000001FF000000000000FF800000000000FFC000000000007FE000000000003
FF800000000001FFC00000000000FFF00000000000FFFC00000000007FFF00000000003F
FFE0000000000FFFFC0000000007FFFFC000000003FFFFFF00000001FFFFFFFF800000FF
FFFFFF8000003FFFFFFF8000001FFFFFFF80000007FFFFFF80000001FFFFFF800000007F
FFFF800000001FFFFF8000000007FFFF8000000000FFFF80000000000FFF800000000000
7F80312183A02D>I<00000000000F8000000000001F8000000000003F8000000000003F
8000000000007F800000000000FF000000000001FE000000000003FE000000000007FC00
000000000FF800000000001FF800000000003FF00000000000FFE00000000001FFC00000
000007FF80000000001FFF80000000007FFF0000000003FFFE000000001FFFF800000001
FFFFF00000007FFFFFE00000FFFFFFFFC00000FFFFFFFF800000FFFFFFFE000000FFFFFF
FC000000FFFFFFF0000000FFFFFFC0000000FFFFFF00000000FFFFFC00000000FFFFF000
000000FFFF8000000000FFF80000000000FF000000000000312181A02D>I
E /FA 2 49 df<FFFFFFFFC0FFFFFFFFC0FFFFFFFFC022037A8D30>0
D<01E003F003F003F003F007E007E007C00FC00FC00F800F801F001F001E001E003E003C
003C007800780078007000F000E00060000C1A7E9B12>48 D E /FB
87[40 46[60 60 86 60 66 40 47 53 66 66 60 66 100 33 66
40 33 66 60 40 53 66 53 66 60 40 18[113 80 1[60 17[60
60 60 60 60 60 60 60 2[30 40 30 4[40 35[66 66 2[{
 TeXBase1Encoding ReEncodeFont }44 119.999948 /Times-Bold
rf /FC 4 75 df<7FFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFC0FF
FFFFFFFFFFFFFFC0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0F000000000000003C0F000000000000003C0F000000000000003C0F0
00000000000003C0FFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFC07F
FFFFFFFFFFFFFF8042447BC34D>3 D<6000060000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000
F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000
F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000
F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000FFFFFFFFFF0F0000FFFFFFFFFF8
F0000FFFFFFFFFF8F0000FFFFFFFFFF0F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000
F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000
F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000
F0000F0000000000F0000F0000000000F0000F0000000000F0000F0000000000F0000F00
00000000F0000F0000000000F0000F000000000060000600000000003D457BC448>13
D<E0000000000000000001C000E0000000000000000001C000E0000000000000000000E0
0070000000000000000000E0007000000000000000000070003800000000000000000070
003C00000000000000000038001C0000000000000000001C000E0000000000000000001E
00070000000000000000000E0007800000000000000000070003C0000000000000000003
8001E0000000000000000001C000F0000000000000000000F00078000000000000000000
78003FFFFFFFFFFFFFFFFFFFFC003FFFFFFFFFFFFFFFFFFFFF003FFFFFFFFFFFFFFFFFFF
FF003FFFFFFFFFFFFFFFFFFFFC00780000000000000000007800F0000000000000000000
F001E0000000000000000001C003C0000000000000000003800780000000000000000007
00070000000000000000000E000E0000000000000000001E001C0000000000000000001C
003C00000000000000000038003800000000000000000070007000000000000000000070
0070000000000000000000E000E0000000000000000000E000E0000000000000000001C0
00E0000000000000000001C000602278A96F>26 D<00000000000000E000000000000003
F00000000000000FF00000000000003FF0000000000000FFF0000000000003FFF0000000
00000FFFF000000000003FFFF00000000000FFFFF00000000003FFFFF0000000000FFFFF
F0000000003FFFFFF000000000FFFFFFF000000003FFFFFFF00000001FFFFFFFF0000000
7FFFFFFFF0000001FFFFFFFFF0000007FFFFFFFFF000001FFFFFFFFFF000007FFFFFFFFF
F00001FFFFFFFFFFF00007FFFFFFFFFFF0001FFFFFFFFFFFF0007FFFFFFFFFFFF001FFFF
FFFFFFFFF007FFFFFFFFFFFFF01FFFFFFFFFFFFFF07FFFFFFFFFFFFFF0FFFFFFFFFFFFFF
F0FFFFFFFFFFFFFFF07FFFFFFFFFFFFFF01FFFFFFFFFFFFFF007FFFFFFFFFFFFF001FFFF
FFFFFFFFF0007FFFFFFFFFFFF0001FFFFFFFFFFFF00007FFFFFFFFFFF00001FFFFFFFFFF
F000007FFFFFFFFFF000001FFFFFFFFFF0000007FFFFFFFFF0000001FFFFFFFFF0000000
7FFFFFFFF00000001FFFFFFFF000000007FFFFFFF000000000FFFFFFF0000000003FFFFF
F0000000000FFFFFF00000000003FFFFF00000000000FFFFF000000000003FFFF0000000
00000FFFF0000000000003FFF0000000000000FFF00000000000003FF00000000000000F
F000000000000003F000000000000000E03C3A78B54D>74 D E /FD
2 60 df<3FFFFFFFFFFFFF00FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80
F000000000000780F000000000000780F000000000000780F000000000000780F0000000
00000780F000000000000780F000000000000780F000000000000780F000000000000780
F000000000000780F000000000000780F000000000000780F000000000000780F0000000
00000780F000000000000780F000000000000780F000000000000780F000000000000780
F000000000000780F000000000000780F000000000000780F000000000000780F0000000
00000780F000000000000780F000000000000780F000000000000780F000000000000780
F000000000000780F000000000000780F000000000000780F000000000000780F0000000
00000780F000000000000780F000000000000780F000000000000780F000000000000780
F000000000000780F000000000000780F000000000000780F000000000000780F0000000
00000780F000000000000780F000000000000780F000000000000780F000000000000780
F000000000000780F000000000000780F000000000000780F000000000000780FFFFFFFF
FFFFFF80FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80FFFFFFFFFFFFFF80393977BE4A>50
D<0000000000000000000200000000000000000000000700000000000000000000000780
0000000000000000000003800000000000000000000003C0000003FE00000000000001C0
00000FFF80000000000001E000003FFFE0000000000000F000007FFFF0000000000000F0
0001FE03FC000000000000780003F800FE0000000000003C0007E0003F0000000000001E
000FC0001F8000000000000F001F80000FC0000000000007803F000007E0000000000003
E07E000003F0000000000001F0FC000001F800000000FFFFFCF8000000F800000003FFFF
FFF00000007C0000000FFFFFFF600000007E0000003FFFFFFC000000003F0000007F8001
F0000000001F800001FE0003E0000000000FC00003F80007800000000007E0000FE0000F
000000000003F0001FC0001E000000000001FC007F00003C000000000000FF03FE000078
0000000000003FFFF80000F00000000000001FFFF00000F000000000000007FFC00001E0
00000000000001FE000001C00000000000000000000003C0000000000000000000000380
000000000000000000000780000000000000000000000700000000000000000000000200
00602482AA64>59 D E /FE 6 104 df<FFFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC02A
037A9137>0 D<3C7EFFFFFFFF7E3C08087A9414>I<007800FE01FE01FE01FE03FE03FC03
FC03FC07F807F807F807F007F00FE00FE00FE00FC01FC01F801F801F803F003F003F003E
007E007C007C007C00F800F800F800F0000F227EA413>48 D<600000000CE00000001CE0
0000001CE00000001CE00000001CE00000001CE00000001CE00000001CE00000001CE000
00001CE00000001CE00000001CE00000001CE00000001CE00000001CE00000001CE00000
001CE00000001CE00000001CE00000001CE00000001CE00000001CE00000001CE0000000
1CE00000001CE00000001CE00000001CE00000001CE00000001CF00000003C7000000038
700000003878000000783C000000F01E000001E00F800007C007E0001F8003FE01FF0000
FFFFFC00003FFFF0000003FF000026297CA72F>91 D<00001F0000FF0003F0000FC0001F
80001F00003F00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E
00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00007E00007C
0000FC0001F80003F0007FC000FF00007FC00003F00001F80000FC00007C00007E00003E
00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E
00003E00003E00003E00003E00003E00003E00003E00003F00001F00001F80000FC00003
F00000FF00001F18437BB123>102 D<FC0000FF80000FE00001F00000FC00007C00007E
00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E
00003E00003E00003E00003E00003E00003E00003E00003E00003E00001F00001F80000F
800007E00001FE00007F0001FE0007E0000F80001F80001F00003E00003E00003E00003E
00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E00003E
00003E00003E00003E00003E00003E00007E00007C0000FC0001F0000FE000FF8000FC00
0018437BB123>I E /FF 179[70 4[83 1[70 69[{
 TeXBase1Encoding ReEncodeFont }3 115.199912 /Times-Roman
rf /FG 176[149 79[{ TeXBase1Encoding ReEncodeFont }1
207.333362 /Times-Roman rf /FH 179[101 4[119 1[101 69[{
 TeXBase1Encoding ReEncodeFont }3 165.866715 /Times-Roman
rf /FI 134[40 42 1[44 1[32 32 30 1[44 40 9[34 3[42 10[64
74 50 46 2[54 5[40 38 4[70 52 60 66[{ TeXBase1Encoding ReEncodeFont }20
100.000003 /ZapfChancery-MediumItalic rf /FJ 134[53 48
2[61 34 39 30 68 1[65 61 93 20 50 1[20 61 67 31 65 68
64 68 68 8[61 2[65 1[50 60 1[59 87 74 4[23 1[87 48 53
1[81 1[74 62[49 2[{ TeXBase1Encoding ReEncodeFont }35
100.000003 /AvantGarde-BookOblique rf /FK 135[33 7[33
1[37 52 24[41 37 2[41 14[48 65[{ TeXBase1Encoding ReEncodeFont }8
66.666667 /Palatino-Italic rf /FL 33 123 df<0000007E00000001FFC000000781
E000001E00F000003800F000007000F80000E000780001C0007800038000F800030000F8
00070000F800060000F8000E0001F8000C0001F0001C0001F000180003E000180007C000
3800078000301FEF0000303FFE0000703FFE0000601FEF000060000F8000600007C000E0
0007C000C00007E000C00007E000C00007E001C00007E001800007E001800007E0018000
07E00380000FE00300000FC00300000FC00300000FC00700001F800700001F800700003F
000700003F000F80007E000D80007C000DC000F8000CE001F0001C7003E000183C0F8000
181FFE00001803F800003800000000300000000030000000003000000000700000000060
0000000060000000006000000000E000000000C000000000C000000000C000000000253C
7EAE28>12 D<0003FE00000FFFE0000E3FF0001C0FF0001803E0001800C000180000001C
0000001C0000001E0000001F0000000F8000000F8000000FC0000007E0000007F0000003
F0000001F800000FFC00003EFE000078FE0001F07E0003E07F0007C03F000F803F000F80
3F001F001F003F001F003E001F007E001F007C001F007C001F007C001F00FC001E00F800
3E00F8003E00F8003E00F8003C00F8007C00F8007C00780078007800F0007C00F0003C01
E0001E03C0000F07800007FF000000FC00001C307DAE1F>14 D<00E00001F00001F00003
F00003E00003E00003E00007E00007C00007C00007C0000FC0000F80000F80001F80001F
00001F00001F00003F00003E00203E00607E00607C00E07C00C0F801C0F80380F8070078
0E00783C003FF0000FC000131F7D9D19>19 D<00FC00000000FF000000001FC00000000F
C000000007E000000007E000000007E000000003F000000003F000000001F000000001F8
00000001F800000000FC00000000FC00000000FC000000007E000000007E000000003F00
0000003F000000003F000000001F800000001F800000000F800000000FC00000000FC000
00001FE00000003FE00000007FE0000000F3F0000001E3F0000003C1F000000781F80000
0F81F800001F00FC00003E00FC00007C00FC0000F8007E0001F0007E0003E0003F0007E0
003F000FC0003F001F80001F803F00001F807E00001F80FC00000FC0F8000007E0700000
03E0232F7DAD29>21 D<3C7EFFFFFFFF7E3C08087A8714>58 D<003FFFFFFFFF003FFFFF
FFFF0000FE00007F0000FE00001F0000FC00000F0000FC00000F0001FC0000070001FC00
00060001F80000060001F80000060003F80000060003F80000060003F00000060003F000
30060007F00070060007F00070000007E00060000007E000E000000FE000E000000FE001
E000000FC007C000000FFFFFC000001FFFFFC000001FC007C000001F80038000001F8003
8000003F80038000003F80038000003F00030000003F00030000007F00030000007F0000
0000007E00000000007E0000000000FE0000000000FE0000000000FC0000000000FC0000
000001FC0000000001FC0000000001F80000000001F80000000003F800000000FFFFF000
0000FFFFF0000000302D7DAC2D>70 D<003FFFFE0000003FFFFE00000000FF0000000000
FE0000000000FC0000000000FC0000000001FC0000000001FC0000000001F80000000001
F80000000003F80000000003F80000000003F00000000003F00000000007F00000000007
F00000000007E00000000007E0000000000FE0000000000FE0000000000FC0000000000F
C0000000001FC0000000001FC0000000001F80000000001F80000000003F80000000003F
80000000003F00000180003F00000180007F00000380007F00000300007E00000700007E
0000060000FE00000E0000FE00000E0000FC00001C0000FC00003C0001FC00003C0001FC
0000780001F80001F80001F80003F00003F8001FF000FFFFFFFFF000FFFFFFFFE000292D
7DAC30>76 D<003FFE0000FFFF003FFE0000FFFF0000FF000007E00000FF000007C00000
FF800003800000DF800003000001DFC00007000001CFC000060000018FE0000600000187
E0000600000387F0000E00000387F0000C00000303F0000C00000303F8000C00000701F8
001C00000701FC001800000600FC001800000600FE001800000E007E003800000E007F00
3000000C003F003000000C003F003000001C003F807000001C001F8060000018001FC060
000018000FC060000038000FE0E00000380007E0C00000300007F0C00000300003F0C000
00700003F1C00000700003F9800000600001F9800000600001FD800000E00000FF800000
E00000FF000000C000007F000000C000007F000001C000003F000001C000003E00000180
00003E000003C000001E00000FE000001E0000FFFE00000C0000FFFE00000C0000382D7C
AC38>78 D<0007E000001FF800007C1CE000F80DE001F00FE003E007E007C007E00FC007
E01F8007C01F8007C03F0007C03F000FC07F000F807E000F807E000F807E001F80FE001F
00FC001F00FC001F00FC003F02FC003E06FC003E06F8003E06F8007E0E7C00FE0C7C00FC
0C7C01FC1C3E07BE181F0E1E380FFC0FF003F003C01F1F7D9D25>97
D<00F800001FF800001FF8000001F8000001F8000001F0000001F0000003F0000003F000
0003E0000003E0000007E0000007E0000007C0000007C000000FC000000FC7E0000F9FF8
000FB83C001FF01E001FE01F001FC01F001F800F803F000F803F000F803E000F803E000F
807E001F807E001F807C001F807C001F807C003F80FC003F00F8003F00F8003F00F8007E
00F8007E00F8007C00F800FC00F800F8007801F0007803F0007807E0003C0F80001E1F00
000FFC000003F00000192F7DAD1E>I<0001F800000FFE00003E0780007C018001F801C0
03F007C007E00FC00FC00FC00F800F801F800F803F0000003F0000007F0000007E000000
7E0000007E000000FE000000FC000000FC000000FC000000FC000000FC000000FC000060
7C0000E07C0001C07C0003803E000F001E001C000F81F80007FFE00000FE00001B1F7D9D
1F>I<0000001F000003FF000003FF0000003F0000003F0000003E0000003E0000007E00
00007E0000007C0000007C000000FC000000FC000000F8000000F8000001F80007E1F800
1FF9F0007C1DF000F80FF001F00FF003E007E007C007E00FC007E01F8007E01F8007C03F
0007C03F000FC07F000FC07E000F807E000F807E001F80FE001F80FC001F00FC001F00FC
003F02FC003F06FC003E06F8003E06F8007E0E7C00FE0C7C00FC0C7C01FC1C3E07BE181F
0E1E380FFC0FF003F003C0202F7DAD24>I<0003F800000FFE00003E078000F8038001F0
03C003E001C007C001C00FC003C01F8003801F8007803F000F003F001E007F01FC007FFF
F0007FFF00007E000000FE000000FC000000FC000000FC000000FC0000007C0000007C00
00607C0000E07C0001C03E0003803E000F001F001C000F81F80003FFE00000FE00001B1F
7D9D21>I<0000007C00000001FF00000007C38000000F878000000F0F8000001F1F8000
001F1F8000001F1F8000003E0E0000003E000000003E000000003E000000007E00000000
7C000000007C000000007C000000007C00000000FC0000003FFFF800003FFFF8000000F8
00000000F800000000F800000001F800000001F000000001F000000001F000000001F000
000003F000000003E000000003E000000003E000000003E000000007E000000007C00000
0007C000000007C000000007C000000007C00000000FC00000000F800000000F80000000
0F800000000F800000001F800000001F000000001F000000001F000000001F000000003E
000000003E000000003E000000383C000000FC3C000000FC78000000FC78000000FCF000
0000F0F0000000E1E00000007FC00000001F00000000213D7CAE22>I<0000FC000003FF
00000F839C001F01BC003E01FC007C00FC00F800FC01F800FC03F000FC03F000F807E000
F807E001F80FE001F80FC001F00FC001F00FC003F01FC003F01F8003E01F8003E01F8007
E01F8007E01F8007C01F8007C00F800FC00F801FC007803F8007C07F8003E1FF8000FF9F
80003E1F0000001F0000003F0000003F0000003E0000003E0000007E0038007C00FC00FC
00FC00F800FC01F000F807E000F00F80007FFE00001FF800001E2C7E9D22>I<001F0000
0003FF00000003FF000000003F000000003F000000003E000000003E000000007E000000
007E000000007C000000007C00000000FC00000000FC00000000F800000000F800000001
F800000001F83F000001F1FFC00001F3C1F00003FF00F00003FC00F80003F800F80003F8
00F80007F000F80007E000F80007E000F80007C000F8000FC001F8000FC001F0000F8001
F0000F8001F0001F8003F0001F8003E0001F0003E0001F0007E0003F0007C0403F0007C0
C03E000FC0C03E000F80C07E000F81C07E001F01807C001F03807C001F0700FC000F0600
FC000F1E00F80007F800700001E000222F7DAD29>I<000700000F80001FC0001FC0000F
8000070000000000000000000000000000000000000000000000000000000001E00007F8
000E3C001C3E00383E00303E00703E00607E00E07C00C07C00C0FC0080F80000F80001F8
0001F00003F00003E00003E00007E00007C04007C0C00FC0C00F80C00F81C01F01801F03
801F07000F06000F1E0007F80001F000122E7EAC18>I<000000E0000001F0000003F000
0003F0000003F0000001C000000000000000000000000000000000000000000000000000
000000000000000000000000007C000003FE0000078F80000E0780001C0780003807C000
3007C000700FC000600F8000E00F8000C00F8000801F8000001F8000001F0000001F0000
003F0000003F0000003E0000003E0000007E0000007E0000007C0000007C000000FC0000
00FC000000F8000000F8000001F8000001F8000001F0000001F0000003F0000003F00000
03E0000003E0000007E0003807C000FC0FC000FC0F8000FC1F0000F83E0000F0F800007F
F000001F8000001C3B81AC1D>I<001F000003FF000003FF0000003F0000003F0000003E
0000003E0000007E0000007E0000007C0000007C000000FC000000FC000000F8000000F8
000001F8000001F800F801F003FC01F00F0E03F01C1E03F0387E03E0707E03E0E07E07E1
C07E07E3803807C7000007CE00000FDC00000FF800000FF800000FFF80001F9FE0001F83
F0001F01F8001F00F8003F00F8043F00F80C3E00F80C3E00F80C7E00F81C7E00F8187C00
F0387C00F830FC00F870FC0078E0F8003FC070000F801F2F7DAD25>I<007C0FFC0FFC00
FC00FC00F800F801F801F801F001F003F003F003E003E007E007E007C007C00FC00FC00F
800F801F801F801F001F003F003F003E003E007E007E007C007C00FC08FC18F818F818F8
38F830F030F070F86078E03FC00F000E2F7DAD15>I<078007F0007E00001FE01FFC03FF
800018F0781F0783E0003878E00F1E01E0003079C00FB801F000707F800FB001F000607F
000FF001F00060FE000FE001F000E0FE000FC001F000C0FC000FC001F000C0F8000F8001
F00081F8001F8003F00001F8001F8003E00001F0001F0003E00001F0001F0003E00003F0
003F0007E00003F0003F0007C00003E0003E0007C00003E0003E000FC00007E0007E000F
808007E0007E000F818007C0007C001F818007C0007C001F01800FC000FC003F03800FC0
00FC003E03000F8000F8003E07000F8000F8003E0E001F8001F8001E0C001F8001F8001E
3C001F0001F0000FF0000E0000E00003E000391F7E9D3E>I<07C007E0001FE03FF80018
F8783E003879E01E00307B801F00707F001F00607F001F0060FE001F00E0FC001F00C0FC
001F00C0F8001F0081F8003F0001F8003E0001F0003E0001F0003E0003F0007E0003F000
7C0003E0007C0003E000FC0007E000F80807E000F81807C001F81807C001F0180FC001F0
380FC003E0300F8003E0700F8003E0E01F8001E0C01F8001E3C01F0000FF000E00003E00
251F7E9D2B>I<0001F800000FFF00003F0780007C03C001F803E003F001F007E001F00F
C001F80F8000F81F8000F83F0000F83F0001F87F0001F87E0001F87E0001F87E0003F8FE
0003F0FC0003F0FC0003F0FC0007E0FC0007E0FC000FC0FC000FC07C001F807C001F007C
003E003E007C001F01F8000F83E00003FF800000FC00001D1F7D9D22>I<007C01F80000
FE07FE0001CF8E0F0003879C07800307B807C00707F007C00607E003E0060FC003E00E0F
8003E00C0F8003E00C0F8003E0081F8007E0001F8007E0001F0007E0001F0007E0003F00
0FE0003F000FC0003E000FC0003E000FC0007E001F80007E001F80007C001F00007C003F
0000FC003E0000FC007C0000FC00FC0000FE01F80001FF03E00001FB87C00001F1FF0000
01F0FC000003F000000003F000000003E000000003E000000007E000000007E000000007
C000000007C00000000FC00000000FC0000000FFFC000000FFFC000000232B829D24>I<
0007E030001FF870007C1CF000F80DF001F00FF003E007E007C007E00FC003E01F8007E0
1F8007C03F0007C03F0007C07F000FC07E000F807E000F807E000F80FE001F80FC001F00
FC001F00FC001F00FC003F00FC003E00F8003E00F8007E007C00FE007C00FC007C01FC00
3E07FC001F0EFC000FFCF80003F0F8000000F8000001F8000001F0000001F0000001F000
0003F0000003E0000003E0000007E0000007E00000FFFE0000FFFE001C2B7D9D20>I<07
C01F000FF07FC01CF8E0E03879C1E0307B87E0707F07E0607E07E060FC07E0E0FC0380C0
F80000C0F8000081F8000001F8000001F0000001F0000003F0000003F0000003E0000003
E0000007E0000007E0000007C0000007C000000FC000000FC000000F8000000F8000001F
8000001F8000001F0000000E0000001B1F7E9D20>I<0007E0003FF800781E00F00601E0
0703C00F03C01F03C01F07C01E07C00C07E00007F80007FF8003FFE001FFF000FFF8003F
FC0001FC0000FC00007C78003CFC003CFC003CFC007CF80078E000F8E000F06001E07807
C01FFF0007F800181F7C9D21>I<000E00001F00001F00003F00003F00003E00003E0000
7E00007E00007C00007C0000FC0000FC00FFFFF8FFFFF801F80001F80001F00001F00003
F00003F00003E00003E00007E00007E00007C00007C0000FC0000FC0000F80000F80001F
80101F80301F00301F00701F00601F00E01E01C01E03801F07000F0E0007FC0001F00015
2B7EA919>I<01E000000007F8000E000E3C001F001C3E003F00383E003E00303E003E00
703E003E00607E007E00E07C007C00C07C007C00C0FC007C0080F800FC0000F800F80001
F800F80001F000F80001F001F80003F001F00003E001F00003E001F00003E003F02007E0
03E06007C003E06007C003E06007C003E0E007C007E0C003C00FC0C003E01FC1C003E03B
E18001F071E380007FE0FF00001F803C00231F7E9D29>I<01E0007007F800F80E3C01F8
1C3E01FC383E01FC303E00FC703E007C607E007CE07C0038C07C0038C0FC003880F80038
00F8003001F8003001F0003001F0007003F0006003E0006003E000E003E000C007E000C0
07C001C007C0018007C0038007C0070003C0060003E00E0001E01C0001F07800007FE000
001F80001E1F7E9D22>I<003F007C0000FFC1FF0001C1E383800380F703C00700F60FC0
0E00FE0FC01C00FC0FC01800FC0FC03800FC07003000F800003000F800002001F8000000
01F000000001F000000001F000000003F000000003E000000003E000000003E000000007
E001000007E003000007C003003807C007007C0FC00600FC0FC00E00FC1FC00C00FC1BC0
1C00F03BE038007071E0F0003FE0FFC0000F803F0000221F7E9D28>120
D<01E0000007F8000E0E3C001F1C3E003F383E003E303E003E703E003E607E007EE07C00
7CC07C007CC0FC007C80F800FC00F800F801F800F801F000F801F001F803F001F003E001
F003E001F003E003F007E003E007C003E007C003E007C007E007C007C003C00FC003E01F
C003E03FC001F07F80007FEF80001F8F8000001F8000001F0000001F003E003E003E003E
007E007C007E00F8007C01F0007003E0003007C0003C0F80000FFE000003F00000202C7E
9D23>I<001E0030003F803000FFC07001FFE0E001FFF1C003C0FFC003803F8003000700
07000E0000001C0000003800000070000000E0000001C0000003800000070000001E0000
003800000070000000E0004001C000C0038000C0070001C00E0003800FE007801FF81F00
387FFF00703FFE00601FFC00E00FF000C003C0001C1F7D9D21>I
E /FM 19 123 df<FFFFFFFFF0FFFFFFFFF003F80007F001F80001F001F80000F801F800
007801F800003801F800003801F800001801F800001801F800001801F800001C01F80000
0C01F800000C01F800000C01F800000001F800000001F800000001F800000001F8000000
01F800000001F800000001F800000001F800000001F800000001F800000001F800000001
F800000001F800000001F800000001F800000001F800000001F800000001F800000001F8
00000001F800000001F800000001F800000001F800000001F800000001F800000001F800
000003FC000000FFFFF80000FFFFF80000262D7EAC2C>0 D<00000060000000000000F0
000000000000F0000000000001F8000000000003FC000000000003FC000000000007FE00
0000000006FE00000000000E7F00000000000C7F00000000001C3F8000000000183F8000
000000301FC000000000300FC000000000600FE0000000006007E000000000C007F00000
0000C003F0000000018003F8000000018001F8000000030001FC000000070000FE000000
060000FE0000000E00007F0000000C00007F0000001C00003F8000001800003F80000038
00001FC000003000001FC000006000000FE0000060000007E00000C0000007F00000C000
0003F0000180000003F8000180000001F8000300000001FC000700000000FE0006000000
00FE000E000000007F000C000000007F001C000000003F8018000000003F803FFFFFFFFF
FFC03FFFFFFFFFFFC07FFFFFFFFFFFE07FFFFFFFFFFFE0FFFFFFFFFFFFF0342F7DAE3B>
I<003FFFFF0000003FFFFF000000007F80000000003F00000000003F00000000003F0000
0000003F00000000003F00000000003F0000000001FFE00000001FFFFE0000007F3F3F80
0001F83F07E00007E03F01F8000FC03F00FC001F803F007E003F003F003F007F003F003F
807F003F003F807E003F001F80FE003F001FC0FE003F001FC0FE003F001FC0FE003F001F
C0FE003F001FC07E003F001F807F003F003F807F003F003F803F003F003F001F803F007E
000FC03F00FC0007E03F01F80001F83F07E000007F3F3F8000001FFFFE00000001FFE000
0000003F00000000003F00000000003F00000000003F00000000003F00000000003F0000
0000007F800000003FFFFF0000003FFFFF00002A2D7CAC33>8 D<FFFFFFFFFFFFFFFFFF
18037BA623>22 D<3C7EFFFFFFFFFFFFFF7E7E7E7E7E7E7E7E7E3C3C3C3C3C3C3C3C3C3C
18181818000000000000003C7EFFFFFFFF7E3C082F7AAE14>33 D<00030007000E001C00
38007000F001E001C003C0078007800F000F001E001E001E003C003C003C003C00780078
00780078007800F800F800F000F000F000F000F000F000F000F000F000F000F000F800F8
00780078007800780078003C003C003C003C001E001E001E000F000F000780078003C001
C001E000F000700038001C000E0007000310437AB11B>40 D<C000E000700038001C000E
000F000780038003C001E001E000F000F0007800780078003C003C003C003C001E001E00
1E001E001E001F001F000F000F000F000F000F000F000F000F000F000F000F001F001F00
1E001E001E001E001E003C003C003C003C00780078007800F000F001E001E003C0038007
800F000E001C0038007000E000C00010437CB11B>I<0000038000000000038000000000
038000000000038000000000038000000000038000000000038000000000038000000000
038000000000038000000000038000000000038000000000038000000000038000000000
038000000000038000000000038000000000038000000000038000000000038000000000
03800000000003800000FFFFFFFFFFFCFFFFFFFFFFFCFFFFFFFFFFFC0000038000000000
038000000000038000000000038000000000038000000000038000000000038000000000
038000000000038000000000038000000000038000000000038000000000038000000000
038000000000038000000000038000000000038000000000038000000000038000000000
038000000000038000000000038000002E2F7CA737>43 D<003FC00000FFF00003E07C00
07C03E000F801F000F000F001E0007801E0007803E0007C03E0007C07C0003E07C0003E0
7C0003E07C0003E07C0003E0FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0
FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0FC0003F0
FC0003F07C0003E07C0003E07C0003E07E0007E03E0007C03E0007C03E0007C01F000F80
0F000F000F801F0007C03E0003F0FC0000FFF000003FC0001C2D7DAB23>48
D<000C00003C00007C0003FC00FFFC00FC7C00007C00007C00007C00007C00007C00007C
00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C
00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C00007C
00007C00007C00007C00007C00007C0000FE007FFFFE7FFFFE172C7AAB23>I<007F8000
01FFF0000780FC000E003F001C001F8038000FC070000FC0600007E0F00007E0FC0007F0
FE0007F0FE0003F0FE0003F0FE0003F07C0007F0000007F0000007F0000007E000000FE0
00000FC000001FC000001F8000003F0000007E0000007C000000F8000001F0000003E000
0007C000000F8000001E0000003C00000078000000F0003000E0003001C0003003800060
070000600E0000E01FFFFFE03FFFFFE07FFFFFC0FFFFFFC0FFFFFFC01C2C7DAB23>I<00
3FC00001FFF00007C0FC000E007E001C003F001C001F803F001FC03F001FC03F800FC03F
000FC03F000FC00C001FC000001FC000001F8000001F8000003F0000003E0000007C0000
00F8000003F00000FFC00000FFF0000000FC0000003F0000001F8000001FC000000FC000
000FE000000FE0000007F0000007F0380007F07C0007F0FE0007F0FE0007F0FE0007F0FE
000FE0F8000FE060000FC070001FC038001F801E003F000780FC0001FFF000007FC0001C
2D7DAB23>I<3C7EFFFFFFFF7E3C000000000000000000000000003C7EFFFFFFFF7E3C08
1D7A9C14>58 D<3C7EFFFFFFFF7E3C000000000000000000000000003C7EFEFFFFFF7F3F
0303030706060E0C1C18387060082A7A9C14>I<07C07F0007F000FFC3FFC03FFC00FFC7
83F0783F000FCE01F8E01F8007DC00F9C00F8007F800FF800FC007F0007F0007C007E000
7E0007C007E0007E0007C007C0007C0007C007C0007C0007C007C0007C0007C007C0007C
0007C007C0007C0007C007C0007C0007C007C0007C0007C007C0007C0007C007C0007C00
07C007C0007C0007C007C0007C0007C007C0007C0007C007C0007C0007C007C0007C0007
C007C0007C0007C007C0007C0007C007C0007C0007C007C0007C0007C00FE000FE000FE0
FFFE0FFFE0FFFEFFFE0FFFE0FFFE371E7E9D3C>109 D<07C0FE0000FFC3FF8000FFC703
E0000FDE01F00007F801F00007F000F80007F000F80007E000F80007E000F80007C000F8
0007C000F80007C000F80007C000F80007C000F80007C000F80007C000F80007C000F800
07C000F80007C000F80007C000F80007C000F80007C000F80007C000F80007C000F80007
C000F80007C000F80007C000F8000FE001FC00FFFE1FFFC0FFFE1FFFC0221E7E9D27>I<
01FE1807FFB81E01F83C00F8780078F00038F00038F00018F00018F80018FC0018FF0000
7FF0003FFF001FFFC00FFFF001FFF8001FFC0001FCC0007EC0003EC0003EE0001EE0001E
F0001EF0001EF8003CF8003CFC0078FF01F0E3FFC0C0FF0017207E9E1C>115
D<FFFC01FFC0FFFC01FFC00FE0007E0007E0007C0007E000380003E000300003F0007000
01F000600001F000600000F800C00000F800C00000FC01C000007C018000007E03800000
3E030000003E030000001F060000001F060000001F8E0000000F8C0000000F8C00000007
D800000007D800000003F000000003F000000003F000000001E000000001E000000000C0
00000000C0000000018000000001800000000380000000030000007803000000FC060000
00FC06000000FC0C000000FC1C000000783800000070700000003FE00000000F80000000
222B7F9C25>121 D<3FFFFF803FFFFF803F003F803C003F0038007E003000FC007001FC
006001F8006003F0006007E000600FE000000FC000001F8000003F0000007F0000007E00
0000FC018001F8018003F8018003F0018007E003800FC003801FC003001F8003003F0007
007E000F00FE003F00FFFFFF00FFFFFF00191D7E9C1F>I E /FN
134[55 51 1[56 60 32 42 39 1[60 54 58 88 29 1[23 29 58
55 1[48 61 44 55 50 8[66 3[61 1[67 78 60 78 83 1[61 5[55
61 2[61 78 61[61 3[{ TeXBase1Encoding ReEncodeFont }34
100.000003 /Palatino-Roman rf /FO 190[52 65[{
 TeXBase1Encoding ReEncodeFont }1 66.666667 /Palatino-Roman
rf /FP 133[44 50 50 72 50 55 33 39 39 46 50 44 55 78
28 44 1[28 50 50 28 39 50 41 46 44 6[66 66 72 1[72 78
61 55 66 78 61 78 78 94 55 2[33 78 72 55 61 1[66 61 72
16[50 30[28 14[53 2[{ TeXBase1Encoding ReEncodeFont }50
100.000003 /Palatino-Italic rf /FQ 104[83 28[37 42 42
60 42 42 23 32 28 42 42 42 42 65 23 42 23 23 42 42 28
37 42 37 42 37 28 8[78 1[60 51 46 55 1[46 60 60 74 51
60 32 28 2[46 51 1[55 55 60 1[37 4[23 42 1[42 1[42 42
42 1[42 42 1[21 28 21 2[28 28 28 36[46 2[{
 TeXBase1Encoding ReEncodeFont }62 83.333337 /Times-Roman
rf /FR 198[29 29 29 29 29 29 29 29 29 49[{
 TeXBase1Encoding ReEncodeFont }9 58.333334 /Times-Roman
rf /FS 176[48 2[41 4[48 1[41 11[33 33 33 33 33 33 33
33 33 49[{ TeXBase1Encoding ReEncodeFont }13 66.666667
/Times-Roman rf /FT 104[143 29[72 72 104 72 80 48 56
64 80 80 72 80 120 40 80 1[40 80 72 48 64 80 64 80 72
20[96 5[88 4[104 7[72 72 72 72 72 72 72 72 72 72 1[36
48 36 2[48 48 37[80 2[{ TeXBase1Encoding ReEncodeFont }44
143.999997 /Times-Bold rf /FU 133[39 44 44 66 44 50 28
39 39 50 50 50 50 72 28 44 28 28 50 50 28 44 50 44 50
50 33 9[61 1[55 4[72 1[83 3[33 72 3[72 2[61 6[33 11[25
33 5[33 36[50 2[{ TeXBase1Encoding ReEncodeFont }40 100.000003
/Times-Italic rf /FV 134[50 1[72 50 50 28 39 33 1[50
50 50 78 28 50 1[28 50 50 33 44 50 44 50 44 33 6[72 4[61
10[33 26[25 1[25 4[33 39[{
 .167 SlantFont TeXBase1Encoding ReEncodeFont }29 100.000003
/Times-Roman rf /FW 103[60 31[60 60 2[60 60 60 1[60 1[60
60 60 2[60 60 60 60 60 1[60 1[60 60 13[60 11[60 1[60
60 1[60 5[60 60 10[60 60 4[60 60 60 1[60 37[{
 TeXBase1Encoding ReEncodeFont }31 100.000003 /Courier
rf /FX 22 94 df<FFFFFFFFFFFF80FFFFFFFFFFFF80FFFFFFFFFFFF8001FFC00003FF80
007F8000003FC0007F8000001FC0007F80000007C0007F80000003C0007F80000003C000
7F80000001C0007F80000001C0007F80000000E0007F80000000E0007F80000000E0007F
8000000060007F8000000060007F8000000060007F8000000060007F8000000070007F80
00000030007F8000000030007F8000000030007F8000000000007F8000000000007F8000
000000007F8000000000007F8000000000007F8000000000007F8000000000007F800000
0000007F8000000000007F8000000000007F8000000000007F8000000000007F80000000
00007F8000000000007F8000000000007F8000000000007F8000000000007F8000000000
007F8000000000007F8000000000007F8000000000007F8000000000007F800000000000
7F8000000000007F8000000000007F8000000000007F8000000000007F8000000000007F
8000000000007F8000000000007F8000000000007F8000000000007F8000000000007F80
00000000007F8000000000007F8000000000007F8000000000007F8000000000007F8000
000000007F8000000000007F8000000000007FC00000000001FFE000000000FFFFFFF800
0000FFFFFFF8000000FFFFFFF800000034447CC33D>0 D<000000001800000000000000
003C00000000000000003C00000000000000007E00000000000000007E00000000000000
00FF0000000000000000FF0000000000000001FF8000000000000001FF80000000000000
037FC0000000000000037FC0000000000000063FE0000000000000063FE0000000000000
0C1FF00000000000000C1FF0000000000000180FF8000000000000180FF8000000000000
3807FC0000000000003007FC0000000000007003FE0000000000006003FE000000000000
E001FF000000000000C001FF000000000001C000FF8000000000018000FF800000000003
80007FC0000000000300007FC0000000000700003FE0000000000600003FE0000000000E
00001FF0000000000C00001FF0000000001C00000FF8000000001800000FF80000000038
000007FC0000000030000007FC0000000070000003FE0000000060000003FE00000000E0
000001FF00000000C0000001FF00000001C0000000FF8000000180000000FF8000000380
0000007FC0000003000000007FC0000003000000003FC0000006000000003FE000000600
0000001FE000000C000000001FF000000C000000000FF0000018000000000FF800001800
00000007F80000300000000007FC0000300000000003FC0000600000000003FE00006000
00000003FE0000C00000000001FF0000C00000000001FF0001800000000000FF80018000
00000000FF80030000000000007FC0030000000000007FC0060000000000003FE0060000
000000003FE00C0000000000001FF00C0000000000001FF01FFFFFFFFFFFFFFFF81FFFFF
FFFFFFFFFFF83FFFFFFFFFFFFFFFFC3FFFFFFFFFFFFFFFFC7FFFFFFFFFFFFFFFFE7FFFFF
FFFFFFFFFFFEFFFFFFFFFFFFFFFFFF48477CC651>I<FFFFFFFFFFFFFFFFFFFFFFFFFFFF
FFFFFFFFFFFFFFFFFFFF01FF80000001FF80007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001
FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001
FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001
FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001
FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001
FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001
FE00007F80000001FE00007F80000001FE00007F80000001FE00007F80000001FE00007F
80000001FE00007F80000001FE00007F80000001FE00007F80000001FE0001FFE0000007
FF80FFFFFFC003FFFFFFFFFFFFC003FFFFFFFFFFFFC003FFFFFF40447CC349>5
D<FFFFFFFFFFFFFF00FFFFFFFFFFFFFF00FFFFFFFFFFFFFF007FE00000003FFF007FE000
000003FF803FF0000000007F801FF8000000003F801FF8000000001F800FFC000000000F
8007FE00000000078007FE00000000038003FF0000000003C001FF0000000001C001FF80
00000001C000FFC000000001C0007FC000000000C0007FE000000000C0003FF000000000
C0001FF000000000E0001FF80000000060000FFC00000000600007FC00000000600007FE
00000000000003FF00000000000001FF00000000000001FF80000000000000FFC0000000
0000007FC00000000000007FE00000000000003FF00000000000001FF00000000000001F
F80000000000000FFC00000000000007FC00000000000007FC00000000000003FC000000
00000001F800000000000001F000000000000000E000000000000001C000000000000003
80000000000000030000000000000007000000000000000E000000000000001C00000000
00000038000000006000007000000000600000E000000000600000C000000000E00001C0
00000000C000038000000000C000070000000000C0000E0000000001C0001C0000000001
C000380000000001C000700000000003C0006000000000038000E000000000078001C000
0000000F800380000000001F800700000000003F800E00000000007F801C0000000003FF
8018000000007FFF803FFFFFFFFFFFFF007FFFFFFFFFFFFF00FFFFFFFFFFFFFF00FFFFFF
FFFFFFFF003B447BC346>I<0003FFFFFFFC00000003FFFFFFFC00000003FFFFFFFC0000
000000FFF00000000000007FE00000000000003FC00000000000003FC00000000000003F
C00000000000003FC00000000000003FC00000000000003FC00000000000003FC0000000
0000003FC0000000000001FFF000000000003FFFFF8000000001FF3FDFF000000007F03F
C1FC0000001FC03FC07F0000003F003FC01F800000FE003FC00FE00001FC003FC007F000
03F8003FC003F80007F0003FC001FC000FE0003FC000FE001FE0003FC000FF001FC0003F
C0007F003FC0003FC0007F807FC0003FC0007FC07FC0003FC0007FC07F80003FC0003FC0
FF80003FC0003FE0FF80003FC0003FE0FF80003FC0003FE0FF80003FC0003FE0FF80003F
C0003FE0FF80003FC0003FE0FF80003FC0003FE0FF80003FC0003FE07F80003FC0003FC0
7FC0003FC0007FC07FC0003FC0007FC03FC0003FC0007F801FC0003FC0007F001FE0003F
C000FF000FE0003FC000FE0007F0003FC001FC0003F8003FC003F80001FC003FC007F000
00FE003FC00FE000003F003FC01F8000001FC03FC07F00000007F03FC1FC00000001FF3F
DFF0000000003FFFFF800000000001FFF00000000000003FC00000000000003FC0000000
0000003FC00000000000003FC00000000000003FC00000000000003FC00000000000003F
C00000000000003FC00000000000007FE0000000000000FFF00000000003FFFFFFFC0000
0003FFFFFFFC00000003FFFFFFFC00003B447BC346>8 D<00007FFFFFFF80000000007F
FFFFFF80000000007FFFFFFF8000000000001FFE000000000000000FFC00000000000000
07F80000000000000007F80000000000000007F80000000000000007F800000000000000
07F80000000000000007F80000000000000007F80000000000000007F800000000FF8000
07F80000FF80FFE00007F80003FF801FF00007F80007FC000FF80007F8000FF80007F800
07F8000FF00007FC0007F8001FF00003FC0007F8001FE00003FC0007F8001FE00003FE00
07F8003FE00001FE0007F8003FC00001FE0007F8003FC00001FE0007F8003FC00001FE00
07F8003FC00001FE0007F8003FC00001FE0007F8003FC00001FE0007F8003FC00001FE00
07F8003FC00001FE0007F8003FC00001FE0007F8003FC00001FE0007F8003FC00001FE00
07F8003FC00000FF0007F8003F800000FF0007F8007F800000FF0007F8007F800000FF00
07F8007F800000FF0007F8007F8000007F8007F800FF0000007F8007F800FF0000003F80
07F800FE0000003FC007F801FE0000001FC007F801FE0000001FE007F803FC0000000FE0
07F803F800000007F007F807F800000003F807F807F000000001FC07F80FE000000000FE
07F81FC0000000007F07F87F00000000001FC7F8FE000000000007FFFFF8000000000001
FFFFC00000000000001FFC0000000000000007F80000000000000007F800000000000000
07F80000000000000007F80000000000000007F80000000000000007F800000000000000
07F80000000000000007F8000000000000000FFC000000000000001FFE0000000000007F
FFFFFF80000000007FFFFFFF80000000007FFFFFFF80000041447BC34C>I<FFFFFFFFC0
FFFFFFFFC0FFFFFFFFC0220379B931>22 D<1E007F80FFC0FFC0FFC0FFC0FFC0FFC0FFC0
FFC0FFC07F807F807F807F807F807F807F807F807F807F807F807F803F003F003F003F00
3F003F003F003F003F003F003F001E001E001E001E001E001E001E001E001E001E001E00
1E000C000C000C000C000C0000000000000000000000000000000000000000001E007F80
7F80FFC0FFC0FFC0FFC07F807F801E000A4778C61B>33 D<00000C00001C000038000070
0000E00001C00003C0000780000F00000F00001E00003C00003C0000780000F80000F000
01F00001E00003E00003E00007C00007C00007C0000F80000F80000F80001F00001F0000
1F00003F00003F00003E00003E00007E00007E00007E00007E00007C00007C00007C0000
FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000
FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC00007C00007C00007C00007E0000
7E00007E00007E00003E00003E00003F00003F00001F00001F00001F00000F80000F8000
0F800007C00007C00007C00003E00003E00001E00001F00000F00000F800007800003C00
003C00001E00000F00000F000007800003C00001C00000E000007000003800001C00000C
166476CA26>40 D<C00000E000007000003800001C00000E00000F000007800003C00003
C00001E00000F00000F000007800007C00003C00003E00001E00001F00001F00000F8000
0F80000F800007C00007C00007C00003E00003E00003E00003F00003F00001F00001F000
01F80001F80001F80001F80000F80000F80000F80000FC0000FC0000FC0000FC0000FC00
00FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC0000FC00
00FC0000FC0000FC0000F80000F80000F80001F80001F80001F80001F80001F00001F000
03F00003F00003E00003E00003E00007C00007C00007C0000F80000F80000F80001F0000
1F00001E00003E00003C00007C0000780000F00000F00001E00003C00003C0000780000F
00000E00001C0000380000700000E00000C0000016647BCA26>I<00000000C000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E0000000007FFFFFFFFFFFFFFF00FFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFF80
7FFFFFFFFFFFFFFF0000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000001E00000000000000001E000000000
00000001E00000000000000001E00000000000000000C00000000041407BB84C>43
D<0000FF00000007FFE000001F81F800003E007C0000FC003F0001F8001F8001F0000F80
03E00007C007C00003E007C00003E00FC00003F00F800001F01F800001F81F800001F83F
800001FC3F800001FC3F800001FC3F000000FC7F000000FE7F000000FE7F000000FE7F00
0000FE7F000000FEFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF0000
00FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000
FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FFFF000000FF
FF000000FFFF000000FF7F000000FE7F000000FE7F000000FE7F000000FE7F000000FE7F
800001FE3F800001FC3F800001FC3F800001FC1F800001F81F800001F80FC00003F00FC0
0003F00FC00003F007E00007E003E00007C003F0000FC001F8001F8000FC003F00003E00
7C00001F81F8000007FFE0000000FF000028447CC131>48 D<000030000000F0000001F0
000003F000001FF00000FFF000FFFFF000FFE7F000FF07F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0000007F0
000007F0000007F0000007F0000007F000000FF800001FFC007FFFFFFF7FFFFFFF7FFFFF
FF204278C131>I<0001FF0000000FFFE000003FFFFC0000FE01FE0001F0007F8003C000
3FC00700001FE00E00001FE00E00000FF00FE0000FF01FF0000FF81FF0000FF81FF00007
F81FF80007F81FF00007F81FF00007F80FE0000FF803C0000FF80000000FF00000000FF0
0000000FF00000001FE00000001FE00000003FC00000003F800000007F00000000FE0000
0001FC00000003F00000001FC000000FFF0000000FFFF000000001FC000000007F000000
003F800000001FC00000000FE00000000FF000000007F800000007FC00000003FC000000
03FE00000003FE00000001FE00000001FF00000001FF00000001FF1E000001FF7F800001
FFFFC00001FFFFC00001FFFFC00001FFFFC00001FFFFC00001FEFF800003FEFF800003FE
7E000003FC70000007FC30000007F83800000FF81C00000FF00E00001FE00780003FC003
E0007F8001FE01FE00007FFFF800000FFFE0000001FF000028447CC131>51
D<06000000C007C00007C007FC007F8007FFFFFF0007FFFFFE0007FFFFFC0007FFFFF800
07FFFFE00007FFFF8000063FFC0000060000000006000000000600000000060000000006
000000000600000000060000000006000000000600000000060000000006000000000600
000000060000000006000000000600FF00000607FFC000061F01F000063800FC0006F000
7E0007C0003F000780001F800780001FC00700000FC00600000FE000000007F000000007
F000000007F000000007F800000003F800000003F800000003FC00000003FC00000003FC
00000003FC00000003FC3E000003FC7F000003FCFF800003FCFF800003FCFF800003FCFF
800003FCFF800003F8FF000007F8FE000007F860000007F060000007F07000000FF03000
000FE03800001FC01C00001FC01E00003F800F00007F00078000FE0003C001FC0001F807
F000007FFFE000001FFF00000007F8000026447BC131>53 D<1C00000000001C00000000
001F80000000001FFFFFFFFFC01FFFFFFFFFC01FFFFFFFFFC03FFFFFFFFF803FFFFFFFFF
803FFFFFFFFF003FFFFFFFFE00380000000C00300000001C007000000038006000000030
0060000000700060000000E00060000000C000C0000001C000C00000038000C000000700
000000000600000000000E00000000001C00000000001800000000003800000000007000
00000000600000000000E00000000001C00000000001C000000000038000000000078000
0000000700000000000F00000000000F00000000001F00000000001E00000000003E0000
0000003E00000000007E00000000007C00000000007C0000000000FC0000000000FC0000
000001FC0000000001FC0000000001FC0000000003F80000000003F80000000003F80000
000003F80000000007F80000000007F80000000007F80000000007F80000000007F80000
000007F8000000000FF8000000000FF8000000000FF8000000000FF8000000000FF80000
00000FF8000000000FF8000000000FF8000000000FF8000000000FF80000000007F00000
000001C00000002A457BC231>55 D<1E007F807F80FFC0FFC0FFC0FFC07F807F801E0000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000001E007F807F80FFC0FFC0FFC0FFC07F807F801E000A2B78AA1B>58
D<1E007F807F80FFC0FFC0FFC0FFC07F807F801E00000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000001E007F00FF
80FF80FFC0FFC0FFC0FFC07FC01EC000C000C000C000C000C001C0018001800180038003
00070006000E000C001C003800700060000A3E78AA1B>I<7FFFFFFFFFFFFFFF00FFFFFF
FFFFFFFFFF80FFFFFFFFFFFFFFFF807FFFFFFFFFFFFFFF00000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000007FFFFFFFFFFFFFFF00FFFFFF
FFFFFFFFFF80FFFFFFFFFFFFFFFF807FFFFFFFFFFFFFFF0041187BA44C>61
D<000FFC0000007FFFC00001F007F000078001FC000E0000FE001C00007F003800003F80
7000003FC06000001FC0FE00001FE0FF00001FE0FF80001FE0FF80001FE0FF80001FE0FF
80001FE0FF80001FE07F00001FE01C00003FC00000003FC00000007F800000007F800000
00FF00000001FE00000003F800000007F000000007E00000000FC00000001F800000001F
000000003E000000003C00000000780000000078000000007000000000F000000000E000
000000E000000000C000000001C000000001C000000001C0000000018000000001800000
000180000000018000000001800000000180000000018000000001800000000180000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000003C00000000FF00000000FF00000001FF80000001FF8
0000001FF80000001FF80000000FF00000000FF000000003C0000023467BC52E>63
D<FFFCFFFCFFFCFFFCF000F000F000F000F000F000F000F000F000F000F000F000F000F0
00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F0
00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F0
00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F0
00F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F000F0
00F000F000F000F000F000F000FFFCFFFCFFFCFFFC0E6476CA1B>91
D<FFFCFFFCFFFCFFFC003C003C003C003C003C003C003C003C003C003C003C003C003C00
3C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C00
3C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C00
3C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C00
3C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C003C00
3C003C003C003C003C003C003CFFFCFFFCFFFCFFFC0E647ECA1B>93
D E /FY 38 127 df<000003FC00000000001FFF0000000000FE07C000000003F001F000
000007E000F80000001FC000FC000E003F80007C000E007F00003E000C00FE00003F000C
01FC00003F001C03F800001F001807F800001F801807F000001F80380FF000001F80301F
E000001F80701FE000001FC0603FC000001FC0603FC000001FC0E03FC000000FC0C07F80
00000FC1C07F8000000FC1807F8000000FC380FF8000000FC700FF0000000FC600FF0000
000FCE00FF0000000FDC00FF0000001FD800FE0000001FF800FE0000001FF000FE000000
1FE000FE0000001FC000FE0000001FC000FE0000001FC000FE0000001FC000FE0000001F
C0007E0000003FC0007E0000007FC0003F000000EFC0383F000003CFC0381F80000F07C0
300FC0001C07C07007E000F803E0E001F00FE001E1C0007FFF0000FF80001FF000003E00
372D7CAB3E>11 D<0000000003F800000000001FFF00000000007C0F8000000001E003E0
000000078001F00000000E0001F00000001C0000F8000000380000F8000000700000FC00
0000E00000FC000001C00000FC000001800000FC000003800000FC000007000000FC0000
06000000FC00000E000001FC00000C000001FC00001C000001F8000018000001F8000038
000003F0000030000003F0000070000007E0000060000007E000006000000FC00000E000
000F800000C000001F000000C000003E000001C007FE7C000001801FFFF8000001801807
E0000001801FFFF80000038007FCFC0000030000007E0000030000007E0000030000003F
0000070000003F0000060000003F8000060000001F8000060000001FC0000E0000001FC0
000C0000001FC0000C0000001FC0000C0000003FC0001C0000003FC000180000003FC000
180000003FC000180000003FC000380000007FC000300000007F8000300000007F800030
0000007F800070000000FF800070000000FF000070000000FF000070000001FE0000F000
0001FE0000F0000001FC0000F0000003FC0000F0000003F80001F0000007F80001B80000
07F000019800000FE000019800001FC000039C00003F8000030E00007F000003060000FE
000003078001F800000701C003F000000600F01FC0000006003FFF00000006000FF00000
000E0000000000000C0000000000000C0000000000000C0000000000001C000000000000
180000000000001800000000000018000000000000380000000000003000000000000030
000000000000300000000000007000000000000060000000000000600000000000006000
0000000000E0000000000000E000000000000036597DC537>I<0000007800000007FFE0
00001FFFFC00003C7FFE00007007FE00006003FE0000E000FE0000C000380000C0000000
00C000000000E000000000E000000000E000000000F000000000F000000000F800000000
7C000000007C000000007E000000003E000000003F000000003F800000001FC00000001F
C00000000FE00000000FF000000007F000000007F80000003FFC000000FFFC000003E1FE
000007C1FE00001F00FF00003E00FF00007C007F8000F8007F8001F8003F8003F0003F80
07E0003FC007C0001FC00FC0001FC01F80001FC01F80001FC03F00001FC03F00000FC07F
00000FC07E00000FC07E00000FC07E00000FC0FE00001F80FC00001F80FC00001F80FC00
001F80FC00001F00F800001F00F800003F00F800003F00F800003E00F800007E00F80000
7C00F800007C00FC0000F8007C0000F8007C0001F0003E0003E0003E0003E0001F0007C0
000F800F800007C01F000003E07C000000FFF00000001FC0000027487CC62B>14
D<00F80003FC0003FE001FFF00071F007C0FC00E0F80E007E01C0FC3C003E01807C70003
F01807CE0001F03807DC0001F83007D80001F8300FF80001F8700FF00001F8600FE00001
F8600FE00001F8E00FC00003F8C01FC00003F0C01F800003F0001F800003F0001F800007
F0003F800007F0003F000007E0003F000007E0003F00000FE0007F00000FE0007E00000F
C0007E00000FC0007E00001FC000FE00001FC000FC00001F8000FC00001F8000FC00003F
8001FC00003F8001F800003F0001F800003F0001F800007F0003F800007F0003F000007E
0003F000007E0003F00000FE0007F00000FE0007E00000FC0007E00000FC0007E00001FC
000FE00001FC000FC00001F80003800001F80000000003F80000000003F80000000003F0
0000000003F00000000007F00000000007F00000000007E00000000007E0000000000FE0
000000000FE0000000000FC0000000000FC0000000001FC0000000001FC0000000001F80
000000001F80000000003F80000000003F80000000003F00000000000E00002D417DAB30
>17 D<001C0000003E0000007E0000007E0000007E000000FE000000FC000000FC000000
FC000001FC000001F8000001F8000001F8000003F8000003F0000003F0000003F0000007
F0000007E0000007E000000FE000000FC000000FC000000FC000001FC000001F8000001F
8000003F8000003F0000003F0003807F0003007E000300FE000700FC000600FC000E00FC
000C00FC001C00F8003800F8007000F800E000F801C000780780007C1E00001FF8000007
E00000192D7AAB22>19 D<0007C00000000007F80000000000FE00000000007F00000000
003F80000000001FC0000000001FC0000000001FC0000000000FE0000000000FE0000000
000FE00000000007F00000000007F00000000007F00000000003F80000000003F8000000
0003F80000000001FC0000000001FC0000000001FC0000000000FE0000000000FE000000
0000FE00000000007F00000000007F00000000007F00000000003F80000000003F800000
00003F80000000001FC0000000001FC0000000001FC0000000000FE0000000000FE00000
00000FE00000000007F00000000007F00000000007F0000000000FF8000000001FF80000
00003BF80000000071FC00000000F1FC00000001E1FC00000003C0FE0000000780FE0000
000F00FE0000001E007F0000003E007F0000007C007F000000F8003F800001F0003F8000
03E0003F800007C0001FC0000FC0001FC0001F80001FC0003F00000FC0007E00000FE000
FC00000FE001F8000007E003F8000007F007F0000007F00FE0000003F01FC0000003F83F
80000003F87F00000001FCFF00000001FCFE00000001FEFC00000000FE78000000007E2F
467BC439>21 D<000070000000000000F800000E000001F800003F000001F800003F0000
01F800003F000003F800007F000003F800007F000003F000007E000003F000007E000007
F00000FE000007F00000FE000007E00000FC000007E00000FC00000FE00001FC00000FE0
0001FC00000FC00001F800000FC00001F800001FC00003F800001FC00003F800001F8000
03F000001F800003F000003F800007F000003F800007F000003F000007E000003F000007
E000007F00000FE000007F00000FE000007E00000FC000007E00000FC00000FE00001FC0
1800FE00001FC03800FC00001F803000FC00001F803001FC00003F807001FC00003F8060
01FC00007F006001FC0000FF006003FE0000FF00E003FE0001DF00C003FE00039F01C003
FF00071F018007FF801E0F838007F7C07807870007E1FFE003FE0007E07F8000F8000FE0
00000000000FE000000000000FC000000000000FC000000000001FC000000000001FC000
000000001F8000000000001F8000000000003F8000000000003F8000000000003F000000
0000003F0000000000007F0000000000007F0000000000007E0000000000007E00000000
0000FE000000000000FE000000000000FC0000000000003800000000000035417DAB3B>
I<00000007F0000000001FFE000000007C1F00000001F00FC0000007C007E000000F8003
E000001F0003F000003E0001F800007E0001F80000FC0001F80000F80001FC0001F80001
FC0003F00001FC0003F00001FC0007E00001FC0007E00001FC000FC00001FC000FC00003
FC001FC00003FC001F800003FC001F800003FC001F800007FC003F800007F8003F000007
F8003F000007F8007F00000FF8007F00000FF0007E00000FF0007E00000FE000FE00001F
E000FE00001FC000FC00003FC000FC00003F8001FC00007F8001FC00007F0001FC0000FE
0001FC0000FC0003FE0001F80003FE0003F00003F70007E00003F3800FC00007F1C01F00
0007F0E07E000007E07FF8000007E01FC000000FE0000000000FE0000000000FC0000000
000FC0000000001FC0000000001FC0000000001F80000000001F80000000003F80000000
003F80000000003F00000000003F00000000007F00000000007F00000000007E00000000
007E0000000000FE0000000000FE0000000000FC00000000003800000000002E417DAB32
>26 D<000003FFFFFFE000001FFFFFFFF00000FFFFFFFFF00001FFFFFFFFE00007FFFFFF
FFC0000FF80FF80000001FC003F80000003F8001FC0000007E0000FC000000FC00007E00
0001F800007E000003F000003E000007F000003F000007E000003F00000FC000003F0000
0FC000003F00001F8000003F00001F8000003F00003F8000003F00003F0000003F00003F
0000007F00007F0000007E00007E0000007E00007E0000007E00007E000000FE0000FE00
0000FC0000FC000000FC0000FC000001FC0000FC000001F80000FC000001F80000FC0000
03F000007C000003E000007C000007E000007C00000FC000007C00000F8000003E00001F
0000003E00003E0000001F00007C0000001F0000F80000000F8003F000000007C007C000
000001F03F00000000007FFC00000000001FE000000000342C7DAA37>I<000FFFFFFFFC
003FFFFFFFFE007FFFFFFFFE01FFFFFFFFFC03FFFFFFFFF807E001C00000078001800000
0F00038000001E00038000001C0003800000380003800000700007000000600007000000
E0000700000040000F00000000000F00000000000E00000000001E00000000001E000000
00001E00000000001E00000000003C00000000003C00000000003C00000000007C000000
00007C0000000000780000000000F80000000000F80000000000F80000000000F8000000
0001F00000000001F00000000001F00000000003F00000000003F00000000003E0000000
0007E00000000007E00000000007E0000000000FE0000000000FE0000000000FC0000000
0007800000002F2C7EAA2A>I<003E0000003800FF800000FC03C3C00001FE0703E00001
FE0601F00001FE0E01F00001FE1C01F00001FE1803F00000FE3803F000007E3003F00000
3E7003F000003E6007F000001E6007E000001E6007E000001EE00FE000001CC00FC00000
0C001FC000000C001F8000001C001F80000018003F80000018003F00000018003F000000
38007F00000030007E00000030007E00000070007E0000006000FE0000006000FC000000
E000FC000000C000FC000001C000FC0000018000FC0000038000F80000070000F8000006
0000F800000E0000FC00001C0000FC0000180000FC00003800007E00007000003E0000E0
00003F0001C000001F800780000007E01E00000001FFF8000000003FE000002F2D7DAB35
>I<000000001C0000000000001C00000000000018000000000000180000000000003800
000000000038000000000000300000000000003000000000000070000000000000700000
000000006000000000000060000000000000E0000000000000E0000000000000C0000000
000000C0000000000001C0000000000001C0000000000001800000000000018000000000
000380000000000003800000000000030000000000000300000000000007000000000000
7FE00000000007FFFE000000001FC63F80000000FE0E07C0000001F80E03F0000007E00C
00F800001FC00C00FC00003F001C007E00007E001C003F0000FC0018003F0001F8001800
1F8003F80038001F8007F00038001F800FE00030001FC00FE00030001FC01FC00070001F
C01FC00070001FC03F800060001FC03F800060001FC07F0000E0001FC07F0000E0001FC0
7F0000C0003FC0FF0000C0003F80FE0001C0003F80FE0001C0003F80FE000180007F80FE
000180007F00FE000380007F00FC00038000FE00FC00030000FE00FC00030001FC00FE00
070003F800FE00070003F8007E00060007F0007E0006000FE0003F000E001FC0003F000E
003F80001F800C007F00000F800C00FC000007C01C01F8000003E01C07E0000001F8181F
800000007E18FE000000001FFFF80000000001FF80000000000030000000000000300000
0000000070000000000000700000000000006000000000000060000000000000E0000000
000000E0000000000000C0000000000000C0000000000001C0000000000001C000000000
000180000000000001800000000000038000000000000380000000000003000000000000
0300000000000003000000000032597BC43A>I<00000000003000000000000000300000
000000000030000000000000007000000000000000600000000000000060000000000000
006000000000000000E000000000000000C000000000000000C000000000000000C00000
0000000001C0000000000000018000000000000001800000000000000180000000000000
038000000000000003000000000000000300000000000000030000000000000007000000
000000000600000000000000060000000000000006000000000000000E00000000000000
0C000000003E00000C00070000FF80000C001F8003C3C0001C003FC00703E00018003FC0
0601F00018007FC00E01F00018003FC01C01F00038003FC01803F00030001FC03803F000
30000FC03003F000300007C07003F000700007C06007F000600003C06007E000600003C0
6007E000600003C0E00FE000E0000380C00FC000C0000180001FC000C0000180001F8000
C0000380001F8001C0000300003F800180000300003F000180000300003F000180000700
007F000380000600007E000300000600007E000300000E00007E000300000C0000FE0007
00001C0000FC00060000180000FC00060000380000FC00060000700000FC000E00006000
00FC000C0000E00000FC000C0001C00000FC000C0003800000FC001C0007000000FC0018
000E0000007E0018001C0000007E001800380000003F003800700000001F803000E00000
000FC03003C000000007F0300F0000000001FE707C00000000003FFFF0000000000003FF
800000000000006000000000000000E000000000000000C000000000000000C000000000
000000C000000000000001C0000000000000018000000000000001800000000000000180
000000000000038000000000000003000000000000000300000000000000030000000000
000007000000000000000600000000000000060000000000000006000000000000000E00
0000000000000C00000000003A597DC43F>32 D<000007FE0000007FFFC00001FFFFF000
07FFFFF8001FF003FE003F00007E007800003E00E000000801C000000003800000000300
000000070000000006000000000600000000060000000006000000000700000000030000
000003803E000001E7FFC000007FC1E000007FFFE00001E7FFC000038000000007000000
000E000000001C000000003800000000700000000060000000006000000000E000000000
C000000000C000000000C000000000C000000000C000000180E000000380F00000030070
000007007800000E003E00003C001FC003F8000FFFFFE00003FFFFC00000FFFE0000001F
F00000272F7EAC2E>34 D<600000000000F80000000000FE0000000000FF8000000000FF
C000000000FFF000000000F3FC00000000F0FF00000000F07F80000000F01FE0000000F0
07F8000000F001FC000000F000FF000000F0003FC00000F0000FF00000F00007F80000F0
0001FE0000F000007F8000F000001FE000F000000FF000F0000003FC00F0000000FF00F0
0000003FC0F00000001FE0F000000007F0F000000007F0F00000001FE0F00000003FC0F0
000000FF00F0000003FC00F000000FF000F000001FE000F000007F8000F00001FE0000F0
0003F80000F0000FF00000F0003FC00000F000FF000000F001FE000000F007F8000000F0
1FE0000000F07F80000000F0FF00000000F3FC00000000FFF000000000FFC000000000FF
8000000000FE0000000000F800000000006000000000002C327EB131>46
D<1E007F807F80FFC0FFC0FFC0FFC07F807F801E000A0A78891B>58
D<1E007F80FF80FFC0FFC0FFE0FFE0FFE07FE01E60006000600060006000E000C000C000
C001C0018003800300070006000E001C003800700060000B1D78891B>I<000000000000
01C000000000000007E00000000000001FE00000000000007FC0000000000001FF000000
00000007FC0000000000001FF00000000000007FC0000000000001FF0000000000000FFC
0000000000003FF0000000000000FFC0000000000003FF0000000000000FF80000000000
003FE0000000000000FF80000000000003FE0000000000001FF80000000000007FE00000
00000001FF80000000000007FE0000000000001FF00000000000007FC0000000000001FF
00000000000007FC0000000000001FF00000000000007FC0000000000000FF0000000000
0000FF000000000000007FC00000000000001FF000000000000007FC00000000000001FF
000000000000007FC00000000000001FF000000000000007FE00000000000001FF800000
000000007FE00000000000001FF800000000000003FE00000000000000FF800000000000
003FE00000000000000FF800000000000003FF00000000000000FFC00000000000003FF0
0000000000000FFC00000000000001FF000000000000007FC00000000000001FF0000000
00000007FC00000000000001FF000000000000007FC00000000000001FE0000000000000
07E000000000000001C03B3878B44C>I<0000000018000000003C000000007C00000000
7C000000007800000000F800000000F800000000F000000001F000000001F000000001E0
00000003E000000003E000000003C000000007C000000007C000000007800000000F8000
00000F800000001F000000001F000000001E000000003E000000003E000000003C000000
007C000000007C000000007800000000F800000000F800000000F000000001F000000001
F000000003E000000003E000000003C000000007C000000007C000000007800000000F80
0000000F800000000F000000001F000000001F000000001E000000003E000000003E0000
00003C000000007C000000007C00000000F800000000F800000000F000000001F0000000
01F000000001E000000003E000000003E000000003C000000007C000000007C000000007
800000000F800000000F800000000F000000001F000000001F000000003E000000003E00
0000003C000000007C000000007C000000007800000000F800000000F800000000F00000
0001F000000001F000000001E000000003E000000003E000000007C000000007C0000000
07800000000F800000000F800000000F000000001F000000001F000000001E000000003E
000000003E000000003C000000007C000000007C000000007800000000F800000000F800
000000F000000000600000000026647BCA31>I<0000FFFFFFFFFF80000000FFFFFFFFFF
F0000000FFFFFFFFFFFC00000000FFC00003FF000000007F800000FF80000000FF800000
3FC0000000FF8000003FE0000000FF0000001FE0000000FF0000000FF0000000FF000000
0FF0000001FF0000000FF8000001FE00000007F8000001FE00000007F8000001FE000000
07F8000003FE00000007F8000003FC00000007F8000003FC0000000FF8000003FC000000
0FF8000007FC0000000FF0000007F80000001FF0000007F80000001FE0000007F8000000
3FE000000FF80000003FC000000FF00000007F8000000FF0000000FF0000000FF0000001
FE0000001FF0000003FC0000001FE0000007F80000001FE000001FF00000001FE000003F
C00000003FE00001FF000000003FC0001FFC000000003FFFFFFFF0000000003FFFFFFFFE
000000007FC000007F800000007F8000001FC00000007F8000000FF00000007F80000007
F8000000FF80000003FC000000FF00000003FC000000FF00000001FE000000FF00000001
FE000001FF00000001FF000001FE00000001FF000001FE00000001FF000001FE00000001
FF000003FE00000001FF000003FC00000001FF000003FC00000001FF000003FC00000001
FF000007FC00000001FE000007F800000003FE000007F800000003FE000007F800000007
FC00000FF800000007FC00000FF00000000FF800000FF00000001FF000000FF00000001F
F000001FF00000003FE000001FE00000007FC000001FE0000001FF8000003FE0000003FE
0000003FE000000FFC0000003FC000003FF8000000FFC00001FFE00000FFFFFFFFFFFF80
0000FFFFFFFFFFFC000000FFFFFFFFFFC000000045447CC34A>66
D<0000000001FF800018000000003FFFF0003800000001FFFFFC003800000007FF007E00
780000001FF0000F80F00000007F800003C1F0000001FE000001C3F0000003FC000000E7
F000000FF00000007FE000001FE00000003FE000003FC00000003FE00000FF000000001F
E00001FE000000001FC00003FC000000000FC00007F8000000000FC0000FF8000000000F
C0000FF0000000000F80001FE0000000000780003FC0000000000780007FC00000000007
8000FF8000000000070000FF0000000000070001FF0000000000070003FE000000000007
0003FE0000000000060007FC0000000000060007FC000000000006000FF8000000000006
000FF8000000000000001FF8000000000000001FF0000000000000001FF0000000000000
003FF0000000000000003FE0000000000000003FE0000000000000003FE0000000000000
007FE0000000000000007FC0000000000000007FC0000000000000007FC0000000000000
007FC000000000000000FF8000000000000000FF8000000000000000FF80000000000000
00FF8000000000000000FF800000000000C000FF800000000000C000FF800000000001C0
00FF80000000000180007F80000000000180007F80000000000380007F80000000000300
007F80000000000700007F80000000000600003FC0000000000E00003FC0000000001C00
003FC0000000001800001FC0000000003800001FE0000000007000000FE000000000E000
000FF000000001C0000007F80000000380000003F80000000700000001FC0000000E0000
0000FE0000003C000000007F00000078000000003FC00001E0000000001FF0000FC00000
000007FE007F000000000001FFFFFC0000000000003FFFE000000000000007FF00000000
0045487CC546>I<0000001FFFFFFC0000003FFFFFFC0000003FFFFFF8000000000FFE00
0000000007FC000000000007FC000000000007FC000000000007F8000000000007F80000
0000000FF800000000000FF800000000000FF000000000000FF000000000001FF0000000
00001FF000000000001FE000000000001FE000000000003FE000000000003FE000000000
003FC000000000003FC000000000007FC000000000007FC000000000007F800000000000
7F800000000000FF800000000000FF800000000000FF000000000000FF000000000001FF
000000000001FF000000000001FE000000000001FE000000000003FE000000000003FE00
0000000003FC000000000003FC000000000007FC000000000007FC000000000007F80000
00000007F800000000000FF800000000000FF800000000000FF000000000000FF0000000
00001FF000000000001FF000000000001FE000000000001FE000000000003FE000000000
003FE000000000003FC000000F80003FC000003FE0007FC000003FE0007F8000007FE000
7F8000007FE0007F8000007FE000FF000000FFC000FF000000FFC001FE000000FF0001FE
0000006C0003FC000000600007F800000070000FF000000030001FE000000038003F8000
00001C007F000000000F81FC0000000003FFF000000000007F8000000000364679C336>
74 D<0000FFFFFFFFF000000000FFFFFFFFFF00000000FFFFFFFFFFE000000000FFC000
3FF8000000007F800007FC00000000FF800001FE00000000FF8000007F00000000FF0000
003F80000000FF0000003FC0000000FF0000001FE0000001FF0000001FE0000001FE0000
001FE0000001FE0000001FF0000001FE0000001FF0000003FE0000001FF0000003FC0000
001FF0000003FC0000001FF0000003FC0000001FF0000007FC0000003FE0000007F80000
003FE0000007F80000003FE0000007F80000007FC000000FF80000007F8000000FF00000
00FF8000000FF0000000FF0000000FF0000001FE0000001FF0000003FC0000001FE00000
07F80000001FE000000FE00000001FE000001FC00000003FE000007F000000003FC00003
FC000000003FC0001FF0000000003FFFFFFF80000000007FFFFFFE00000000007F80007F
80000000007F80000FC0000000007F800007F000000000FF800003F800000000FF000003
FC00000000FF000001FC00000000FF000001FE00000001FF000001FE00000001FE000000
FE00000001FE000000FE00000001FE000001FE00000003FE000001FE00000003FC000001
FE00000003FC000001FE00000003FC000003FE00000007FC000003FE00000007F8000003
FE00000007F8000003FE00000007F8000007FC0000000FF8000007FC0000000FF0000007
FC0000000FF0000007FC0000000FF0000007FC0000001FF0000007FC0018001FE0000007
FC0018001FE0000007FC0018003FE0000007F80038003FE0000007F80030003FC0000007
FC007000FFE0000003FC00E0FFFFFFE00003FC01C0FFFFFFE00001FC0380FFFFFFE00000
FE0F000000000000003FFE0000000000000007F00045467CC34A>82
D<01FFFFFFFFFFFFFFC003FFFFFFFFFFFFFFC003FFFFFFFFFFFFFFC003FF0000FF8000FF
8007F00000FF00001F8007E00001FF00000F8007800001FF000007800F000001FE000007
800F000001FE000003800E000001FE000003801C000003FE000003001C000003FC000003
0018000003FC0000030038000003FC0000030030000007FC0000030030000007F8000007
0070000007F80000060060000007F800000600E000000FF800000600C000000FF0000006
00C000000FF000000600C000000FF0000006000000001FF0000000000000001FE0000000
000000001FE0000000000000001FE0000000000000003FE0000000000000003FC0000000
000000003FC0000000000000003FC0000000000000007FC0000000000000007F80000000
000000007F80000000000000007F8000000000000000FF8000000000000000FF00000000
00000000FF0000000000000000FF0000000000000001FF0000000000000001FE00000000
00000001FE0000000000000001FE0000000000000003FE0000000000000003FC00000000
00000003FC0000000000000003FC0000000000000007FC0000000000000007F800000000
00000007F80000000000000007F8000000000000000FF8000000000000000FF000000000
0000000FF0000000000000000FF0000000000000001FF0000000000000001FE000000000
0000001FE0000000000000001FE0000000000000003FE0000000000000003FC000000000
0000003FC0000000000000007FC0000000000000007FC000000000000000FFC000000000
000003FFE000000000001FFFFFFFFC000000001FFFFFFFFC000000001FFFFFFFF8000000
0042447EC339>84 D<7FFFFF8000001FFFF8FFFFFF8000003FFFF8FFFFFF8000003FFFF8
01FFE000000003FF0000FF8000000001FC0000FF8000000000F00000FF8000000000E000
00FF8000000001C00000FF8000000001C000007F80000000038000007F80000000030000
007F80000000060000007F80000000060000007F800000000C0000007FC0000000180000
007FC0000000180000003FC0000000300000003FC0000000700000003FC0000000600000
003FC0000000C00000003FC0000000C00000003FC0000001800000003FE0000003000000
003FE0000003000000001FE0000006000000001FE000000E000000001FE000000C000000
001FE0000018000000001FE0000018000000001FF0000030000000001FF0000060000000
001FF0000060000000000FF00000C0000000000FF00001C0000000000FF0000180000000
000FF0000300000000000FF0000300000000000FF8000600000000000FF8000C00000000
000FF8000C000000000007F80018000000000007F80030000000000007F8003000000000
0007F80060000000000007F800E0000000000007FC00C0000000000007FC018000000000
0003FC0180000000000003FC0300000000000003FC0600000000000003FC060000000000
0003FC0C00000000000003FC1C00000000000003FE1800000000000003FE300000000000
0001FE3000000000000001FE6000000000000001FEC000000000000001FEC00000000000
0001FF8000000000000001FF8000000000000001FF0000000000000001FE000000000000
0000FE0000000000000000FC0000000000000000F80000000000000000F8000000000000
0000F00000000000000000F00000000000000000E000000000000045467BC339>86
D<00003FFFFFE0001FFFFF00003FFFFFE0001FFFFF00003FFFFFE0001FFFFF0000007FFE
000003FFE00000003FF8000001FE000000001FF0000000FC000000001FF0000000F00000
00000FF8000001E0000000000FF8000001C00000000007FC000003800000000007FC0000
06000000000007FC00000E000000000003FE00001C000000000003FE0000380000000000
01FF000070000000000001FF0000E0000000000001FF8001C0000000000000FF80018000
0000000000FF8003000000000000007FC006000000000000007FC00C000000000000003F
E018000000000000003FE030000000000000003FE060000000000000001FF0C000000000
0000001FF1C0000000000000000FFB80000000000000000FFF00000000000000000FFE00
0000000000000007FC000000000000000007FC000000000000000003FE00000000000000
0003FE000000000000000003FE000000000000000001FF000000000000000003FF000000
000000000006FF80000000000000000CFF80000000000000001C7FC00000000000000038
7FC000000000000000707FC000000000000000E03FE000000000000001C03FE000000000
000003801FF000000000000003001FF000000000000006001FF00000000000000C000FF8
00000000000018000FF8000000000000300007FC000000000000600007FC000000000000
C00007FC000000000001800003FE000000000003800003FE000000000007000001FF0000
0000000E000001FF00000000001C000001FF000000000038000000FF8000000000300000
00FF8000000000E00000007FC000000001C00000007FC000000003C00000003FE0000000
07800000003FE00000001F800000003FE00000003FC00000007FF0000003FFE0000001FF
F800007FFFFC00001FFFFFF000FFFFFC00001FFFFFF000FFFFFC00001FFFFFF00050447E
C351>88 D<FFFFFF8000001FFFFCFFFFFF8000001FFFFCFFFFFF8000001FFFF801FFE000
000003FF8000FFC000000001FC0000FF8000000001F000007FC000000001E000007FC000
000003C000007FC0000000038000003FE0000000070000003FE00000000E0000003FE000
00001C0000001FF0000000180000001FF0000000300000001FF8000000600000000FF800
0000C00000000FF80000018000000007FC0000038000000007FC0000070000000007FC00
00060000000003FE00000C0000000003FE0000180000000003FE0000300000000001FF00
00600000000001FF0000E00000000001FF0001C00000000000FF8001800000000000FF80
03000000000000FFC0060000000000007FC00C0000000000007FC0180000000000007FE0
380000000000003FE0700000000000003FE0600000000000001FF0C00000000000001FF1
800000000000001FF3000000000000000FFE000000000000000FFE000000000000000FFC
0000000000000007F80000000000000007F0000000000000000FF0000000000000000FF0
000000000000000FF0000000000000000FE0000000000000001FE0000000000000001FE0
000000000000001FE0000000000000001FC0000000000000003FC0000000000000003FC0
000000000000003FC0000000000000003F80000000000000007F80000000000000007F80
000000000000007F80000000000000007F0000000000000000FF0000000000000000FF00
00000000000000FF0000000000000001FE0000000000000001FE0000000000000001FE00
00000000000007FF00000000000007FFFFFF000000000007FFFFFF000000000007FFFFFE
000000000046447CC339>I<000007F80000003FFF000000FC07C00003F000E00007E000
70001F800030003F000070007E0003F800FE0007F801FC0007F803F8000FF007F8000FF0
07F0000FF00FF00007C01FE00000001FE00000003FC00000003FC00000007FC00000007F
800000007F800000007F80000000FF80000000FF00000000FF00000000FF00000000FF00
000000FE00000000FE00000000FE00000000FE00000000FE00000000FE00000018FE0000
0038FE000000707E000000E07E000001C03F000003803F000007001F80001E000F800038
0007C001F00003F00FC00000FFFE0000001FF00000252D7CAB2A>99
D<00001E0000003F0000007F000000FF000000FF000000FF0000007E0000003800000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000003E000000FF800001C3C0000781E0000601F0
000E01F0001C01F0001803F0003803F0003003F0003003F0007007F0006007E0006007E0
00E00FE000C00FC000001FC000001F8000001F8000003F8000003F0000003F0000007F00
00007E000000FE000000FC000000FC000001FC000001F8000001F8038003F8030003F003
0007F0030007E0070007E0060007E00E0007E00C0007C01C0007C0180007C0380007C070
0003C0E00003E1C00000FF8000003E000019437DC121>105 D<000000003C00000000FE
00000000FE00000001FE00000001FE00000001FE00000001FC0000000070000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000FC00000003
FF0000000F078000001C07C000003803E000007003E00000E003E00000C003E00001C003
E000018007E000038007E000030007E000070007E00006000FE0000E000FE0000C000FC0
0000000FC00000001FC00000001FC00000001F800000001F800000003F800000003F8000
00003F000000003F000000007F000000007F000000007E000000007E00000000FE000000
00FE00000000FC00000000FC00000001FC00000001FC00000001F800000001F800000003
F800000003F800000003F000000003F000000007F000000007F000000007E000000007E0
0000000FE00000000FE00000000FC00000000FC00000001FC00000001F800000001F8000
00003F80001C003F00007F003F0000FF007E0000FF00FC0000FF00FC0000FE01F80000FE
03E00000F807C00000781F8000003FFE00000007F0000000275681C128>I<0000FE0000
00007FFE000000007FFE000000007FFE0000000001FC0000000000FC0000000001FC0000
000001FC0000000001F80000000001F80000000003F80000000003F80000000003F00000
000003F00000000007F00000000007F00000000007E00000000007E0000000000FE00000
00000FE0000000000FC0000000000FC0000000001FC0000000001FC0000000001F800000
00001F80003F00003F8000FFC0003F8003C0E0003F000703E0003F001E0FE0007F00380F
E0007F00701FE0007E00E01FE0007E01C01FE000FE01801FC000FE0380070000FC070000
0000FC0E00000001FC1C00000001FC3800000001F87000000001F8E000000003FBC00000
0003FF0000000003FF8000000003FFF800000007F1FE00000007F03F80000007E00FE000
0007E007F000000FE003F000000FE003F800000FC001F800000FC001F800001FC001F801
C01FC001F801801F8001F801801F8001F801803F8001F803803F8001F803003F0001F003
003F0001F007007F0001F006007F0001F00E007E0001F00C007E0001F01C00FE0000F038
00FE0000787000FC00003FE0003800000F80002B467BC433>I<0003F801FFF801FFF801
FFF80007F00003F00007F00007F00007E00007E0000FE0000FE0000FC0000FC0001FC000
1FC0001F80001F80003F80003F80003F00003F00007F00007F00007E00007E0000FE0000
FE0000FC0000FC0001FC0001FC0001F80001F80003F80003F80003F00003F00007F00007
F00007E00007E0000FE0000FE0000FC0000FC0001FC0001FC0001F80001F80003F80003F
80003F00003F00007F00607F00E07E00C07E00C07E01C0FE0180FC0180FC0180FC03807C
03007C07007C06003E0E001E1C000FF80003E00015467CC41D>I<00F80003FC00007F80
0003FE001FFF0003FFE000071F007C0FC00F81F8000E0F80E007E01C00FC001C0FC3C003
E078007C001807C70003F0E0007E001807CE0001F1C0003E003807DC0001FB80003F0030
07D80001FB00003F00300FF80001FF00003F00700FF00001FE00003F00600FE00001FC00
003F00600FE00001FC00003F00E00FC00003F800007F00C01FC00003F800007E00C01F80
0003F000007E00001F800003F000007E00001F800007F00000FE00003F800007F00000FC
00003F000007E00000FC00003F000007E00000FC00003F00000FE00001FC00007F00000F
E00001F800007E00000FC00001F800007E00000FC00003F800007E00001FC00003F00000
FE00001FC00003F00000FC00001F800007F00000FC00001F800007E00000FC00003F8000
07E00E01FC00003F80000FE00C01F800003F00000FC00C01F800003F00001FC00C01F800
007F00001F801C03F800007F00001F801803F000007E00001F803803F000007E00001F00
3003F00000FE00001F007007F00000FE00001F006007E00000FC00001F00E007E00000FC
00001F01C007E00001FC00000F03800FE00001FC00000F87000FC00001F8000003FE0003
80000070000000F8004F2D7DAB55>I<00F80003FC000003FE001FFF0000071F007C0FC0
000E0F80E007E0000C07C3C003E0001C07C70003F0001807CE0001F0003807DC0001F800
3007D80001F800300FF80001F800700FF00001F800600FE00001F800600FE00001F800E0
0FC00003F800C01FC00003F000C01F800003F000001F800003F000001F800007F000003F
800007E000003F000007E000003F000007E000003F00000FE000007F00000FC000007E00
000FC000007E00001FC000007E00001F800000FE00001F800000FC00003F800000FC0000
3F000000FC00003F007001FC00007F006001F800007E006001F80000FE006001F80000FC
00E003F80000FC00C003F00000FC01C003F00000F8018003F00000F8038007F00000F803
0007E00000F8070007E00000F80E0007E00000781C000FE000007C38000FC000001FF000
0380000007C000342D7DAB3A>I<00F8000FC003FE007FF0070F00F0380E0F83C07C0C07
C701FC1C07CE01FC1807DC03FC3807D803FC3007F803FC300FF003F8700FE000E0600FE0
0000600FC00000E00FC00000C01FC00000C01F800000001F800000001F800000003F8000
00003F000000003F000000003F000000007F000000007E000000007E000000007E000000
00FE00000000FC00000000FC00000000FC00000001FC00000001F800000001F800000001
F800000003F800000003F000000003F000000003F000000007F000000007E000000007E0
00000007E00000000FE00000000FC00000000380000000262D7DAB2C>114
D<00001C0000007E0000007E0000007E000000FE000000FC000000FC000000FC000001FC
000001F8000001F8000001F8000003F8000003F0000003F0000003F0000007F0000007E0
000007E0007FFFFFFCFFFFFFFCFFFFFFF8000FC000000FC000001FC000001F8000001F80
00001F8000003F8000003F0000003F0000003F0000007F0000007E0000007E0000007E00
0000FE000000FC000000FC000000FC000001FC000001F8000001F8000001F8000003F800
0003F0000003F0000003F0007007F0006007E0006007E000E007E000C00FE001C00FC001
800FC003800FC0070007C0060007C00E0007C01C0003E0380001E0F00000FFC000003F00
001E3F7EBD23>116 D<0000FC0007E00003FF801FFC000F07C0781E001C03E0E01F0038
01F1C07F007000F1807F00E000FB80FF01C000FF00FF018000FE00FF038000FE00FE0300
00FE0038070000FC0000060000FC0000060001FC00000E0001F800000C0001F800000000
01F80000000003F80000000003F00000000003F00000000003F00000000007F000000000
07E00000000007E00000000007E0000000000FE0000000000FC0000000000FC000000000
0FC0000000001FC0003800001FC0003000001F80003000001F80007000003F8000601E00
3F8000603F003F8000E07F807F8001C07F806F800180FF80EF800380FF01CF800700FE01
87C00E007C0383C01C003C0F01E078001FFC00FFE00003F0003F8000302D7EAB37>120
D<000000003000000000007800000000007C00000000007C00000000003C00000000003E
00000000003F00000000001F007FFFFFFFFFC0FFFFFFFFFFC0FFFFFFFFFFC07FFFFFFFFF
C0000000007F0000000000FC0000000001F80000000003F00000000003E00000000007C0
0000000007C0000000000300002A146EC631>126 D E /FZ 133[42
53 48 83 55 61 34 39 30 68 68 65 61 93 20 50 20 20 61
67 31 65 68 64 68 68 9[96 70 65 42 50 60 87 59 87 74
92 46 59 1[23 68 87 48 53 74 81 57 74 2[60 60 60 9[55
55 55 2[33 28 60 39[48 49 2[{ TeXBase1Encoding ReEncodeFont }59
100.000003 /AvantGarde-Book rf /F0 87[33 17[50 28[50
50 72 50 55 33 39 44 55 55 50 55 83 28 55 33 28 55 50
33 44 55 44 55 50 11[72 66 55 72 1[61 78 1[94 66 78 1[39
3[66 72 72 66 72 8[50 50 50 50 50 50 50 50 50 2[33 25
26[28 13[55 55 2[{ TeXBase1Encoding ReEncodeFont }56
100.000003 /Times-Bold rf /F1 134[103 103 149 103 115
69 80 92 115 115 103 115 172 57 1[69 57 115 103 69 92
115 92 115 103 11[149 138 115 149 1[126 161 1[195 138
2[80 3[138 149 149 138 149 8[103 103 103 103 103 103
103 103 3[69 52 41[115 2[{ TeXBase1Encoding ReEncodeFont }49
207.333362 /Times-Bold rf /F2 169[58 58 49 44 53 58 44
58 58 71 49 2[27 58 58 44 49 1[53 1[58 65[{
 TeXBase1Encoding ReEncodeFont }18 79.999924 /Times-Roman
rf /F3 40 126 df<7FFFFFFFFFFFFFE0FFFFFFFFFFFFFFF0FFFFFFFFFFFFFFF07FFFFF
FFFFFFFFE03C04789A4D>0 D<1F003F807FC0FFE0FFE0FFE0FFE0FFE07FC03F801F000B
0B789E1C>I<600000000006F8000000000FFC000000001F7E000000003F3F000000007E
1F80000000FC0FC0000001F807E0000003F003F0000007E001F800000FC000FC00001F80
007E00003F00003F00007E00001F8000FC00000FC001F8000007E003F0000003F007E000
0001F80FC0000000FC1F800000007E3F000000003F7E000000001FFC000000000FF80000
000007F00000000007F0000000000FF8000000001FFC000000003F7E000000007E3F0000
0000FC1F80000001F80FC0000003F007E0000007E003F000000FC001F800001F8000FC00
003F00007E00007E00003F0000FC00001F8001F800000FC003F0000007E007E0000003F0
0FC0000001F81F80000000FC3F000000007E7E000000003FFC000000001FF8000000000F
600000000006303072B04D>I<00007000000000F800000000F800000000F800000000F8
00000000F800000000F800000000F800000000F80000000070000078007000F07C007001
F0FF007007F87F80700FF03FE0703FE00FF0707F8003F870FE0000FE73F800003F77E000
000FFF80000003FE00000000F800000003FE0000000FFF8000003F77E00000FE73F80003
F870FE000FF0707F803FE0703FE07F80700FF0FF007007F87C007001F078007000F00000
7000000000F800000000F800000000F800000000F800000000F800000000F800000000F8
00000000F800000000700000252B7AAD32>I<000003000000000007C0000000000FE000
0000001FF0000000003FF8000000007EFC00000000FC7E00000001F83F00000003F01F80
000007E00FC000000FC007E000001F8003F000003F0001F800007E0000FC0000FC00007E
0001F800003F0003F000001F8007E000000FC00FC0000007E01F80000003F03F00000001
F87E00000000FCFC000000007CFC000000007C7E00000000FC3F00000001F81F80000003
F00FC0000007E007E000000FC003F000001F8001F800003F0000FC00007E00007E0000FC
00003F0001F800001F8003F000000FC007E0000007E00FC0000003F01F80000001F83F00
000000FC7E000000007EFC000000003FF8000000001FF0000000000FE00000000007C000
000000030000002E2E7EAF33>5 D<0001FF0000000FFFE000003FFFF800007FFFFC0001
FF01FF0003F8003F8007E0000FC00FC00007E01F800003F01F000001F03E000000F87E00
0000FC7C0000007C780000003CF80000003EF80000003EF00000001EF00000001EF00000
001EF00000001EF00000001EF00000001EF80000003EF80000003E780000003C7C000000
7C7E000000FC3E000000F81F000001F01F800003F00FC00007E007E0000FC003F8003F80
01FF01FF00007FFFFC00003FFFF800000FFFE0000001FF000027267BAB32>14
D<0001FF0000000FFFE000003FFFF800007FFFFC0001FFFFFF0003FFFFFF8007FFFFFFC0
0FFFFFFFE01FFFFFFFF01FFFFFFFF03FFFFFFFF87FFFFFFFFC7FFFFFFFFC7FFFFFFFFCFF
FFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFFFFFFFEFFFF
FFFFFEFFFFFFFFFEFFFFFFFFFE7FFFFFFFFC7FFFFFFFFC7FFFFFFFFC3FFFFFFFF81FFFFF
FFF01FFFFFFFF00FFFFFFFE007FFFFFFC003FFFFFF8001FFFFFF00007FFFFC00003FFFF8
00000FFFE0000001FF000027267BAB32>I<7FFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFC0
FFFFFFFFFFFFFFFFC07FFFFFFFFFFFFFFF80000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000007FFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFC0
FFFFFFFFFFFFFFFFC07FFFFFFFFFFFFFFF80000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000007FFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFC0
FFFFFFFFFFFFFFFFC07FFFFFFFFFFFFFFF80422C7BAE4D>17 D<0000007FFFFFFFE00000
07FFFFFFFFF000003FFFFFFFFFF00000FFFFFFFFFFE00003FFC0000000000007FC000000
0000000FE00000000000003F800000000000007F00000000000000FC00000000000001F8
00000000000003F000000000000007E000000000000007C00000000000000F8000000000
00001F800000000000001F000000000000003E000000000000003E000000000000003C00
0000000000007C000000000000007C000000000000007800000000000000F80000000000
0000F800000000000000F000000000000000F000000000000000F000000000000000F000
000000000000F000000000000000F000000000000000F000000000000000F00000000000
0000F800000000000000F80000000000000078000000000000007C000000000000007C00
0000000000003C000000000000003E000000000000003E000000000000001F0000000000
00001F800000000000000F8000000000000007C000000000000007E000000000000003F0
00000000000001F800000000000000FC000000000000007E000000000000003F80000000
0000001FE000000000000007FC00000000000003FF80000000000000FFFFFFFFFFE00000
3FFFFFFFFFF0000007FFFFFFFFF0000000FFFFFFFFE00000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
0000000000001FFFFFFFFFFFFFE03FFFFFFFFFFFFFF03FFFFFFFFFFFFFF01FFFFFFFFFFF
FFE03C4E78BE4D>I<00000000000000E000000000000003F00000000000000FF0000000
0000003FE0000000000000FF80000000000003FE0000000000000FF80000000000003FE0
000000000000FF80000000000003FE0000000000000FF80000000000003FE00000000000
00FF80000000000003FE0000000000001FF80000000000007FE0000000000001FF800000
00000007FE0000000000001FF00000000000007FC0000000000001FF00000000000007FC
0000000000001FF00000000000007FC0000000000001FF00000000000007FC0000000000
001FF00000000000007FC0000000000000FF00000000000000FF000000000000007FC000
00000000001FF000000000000007FC00000000000001FF000000000000007FC000000000
00001FF000000000000007FC00000000000001FF000000000000007FC00000000000001F
F000000000000007FC00000000000001FF800000000000007FE00000000000001FF80000
0000000007FE00000000000000FF800000000000003FE00000000000000FF80000000000
0003FE00000000000000FF800000000000003FE00000000000000FF800000000000003FE
00000000000000FF800000000000003FE00000000000000FF000000000000003F0000000
00000000E000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000007FFFFFFFFFFFFFE0FFFFFF
FFFFFFFFF0FFFFFFFFFFFFFFF07FFFFFFFFFFFFFE03C4E78BE4D>20
D<7000000000000000FC00000000000000FF000000000000007FC00000000000001FF000
000000000007FC00000000000001FF000000000000007FC00000000000001FF000000000
000007FC00000000000001FF000000000000007FC00000000000001FF000000000000007
FC00000000000001FF800000000000007FE00000000000001FF800000000000007FE0000
0000000000FF800000000000003FE00000000000000FF800000000000003FE0000000000
0000FF800000000000003FE00000000000000FF800000000000003FE00000000000000FF
800000000000003FE00000000000000FF00000000000000FF00000000000003FE0000000
000000FF80000000000003FE0000000000000FF80000000000003FE0000000000000FF80
000000000003FE0000000000000FF80000000000003FE0000000000000FF800000000000
03FE0000000000001FF80000000000007FE0000000000001FF80000000000007FE000000
0000001FF00000000000007FC0000000000001FF00000000000007FC0000000000001FF0
0000000000007FC0000000000001FF00000000000007FC0000000000001FF00000000000
007FC0000000000000FF00000000000000FC000000000000007000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000007FFFFFFFFFFFFFE0FFFFFFFFFFFFFFF0FFFFFF
FFFFFFFFF07FFFFFFFFFFFFFE03C4E78BE4D>I<000000000000006000000000000000F0
00000000000000F000000000000000F000000000000001F000000000000001F000000000
000001E000000000000003E000000000000003E000000000000007C000000000000007C0
0000000000000F800000000000000F800000000000001F000000000000003F0000000000
00007E00000000000000FC00000000000001F800000000000007F00000000000000FE000
00000000003F80000000000001FF00000000000007FC0000000000007FF8000000000007
FFE00000000000FFFF0000000001FFFFFC0000007FFFFFFFC0000000FFFFFFFC00000000
FFFFFFFC000000007FFFFFFFC00000000001FFFFFC000000000000FFFF00000000000007
FFE00000000000007FF800000000000007FC00000000000001FF000000000000003F8000
00000000000FE000000000000007F000000000000001F800000000000000FC0000000000
00007E000000000000003F000000000000001F000000000000000F800000000000000F80
00000000000007C000000000000007C000000000000003E000000000000003E000000000
000001E000000000000001F000000000000001F000000000000000F000000000000000F0
00000000000000F000000000000000600000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
7FFFFFFFFFFFFFE0FFFFFFFFFFFFFFF0FFFFFFFFFFFFFFF07FFFFFFFFFFFFFE03C4E78BE
4D>I<0007F0000000000080001FFE0000000001C0007FFF8000000001C000FFFFE00000
0001C001FFFFF000000001C003FFFFF800000001C007F80FFC00000001C00FE001FE0000
0003C01F80007F00000003801F00001FC0000003803E00000FE0000007803C000007F000
00070038000003F800000F0078000001FC00001F0070000000FE00003E00700000003F80
007E00F00000001FE001FC00E00000000FFC07F800E000000007FFFFF000E000000003FF
FFE000E000000001FFFFC000E0000000007FFF8000E0000000001FFE0000400000000003
F8000042187BA44D>24 D<0007F8000000000080003FFF0000000001C000FFFFC0000000
01C001FFFFF000000001C003FFFFF800000001C007FFFFFE00000001C00FF807FF000000
03C01FC000FFC0000003803F00003FE0000007803E00000FF800000F807C000007FC0000
1F0078000001FF00003F0070000000FFC000FE00F00000003FF807FC00E00000001FFFFF
F800E000000007FFFFF000E000000003FFFFE000E000000000FFFFC000E0000000003FFF
0000400000000007F8000000000000000000000000000000000000000000000000000000
00000000000000000000000007F8000000000080003FFF0000000001C000FFFFC0000000
01C001FFFFF000000001C003FFFFF800000001C007FFFFFE00000001C00FF807FF000000
03C01FC000FFC0000003803F00003FE0000007803E00000FF800000F807C000007FC0000
1F0078000001FF00003F0070000000FFC000FE00F00000003FF807FC00E00000001FFFFF
F800E000000007FFFFF000E000000003FFFFE000E000000000FFFFC000E0000000003FFF
0000400000000007F80000422C7BAF4D>I<0000007FFFFFFFE0000007FFFFFFFFF00000
3FFFFFFFFFF00000FFFFFFFFFFE00003FFC0000000000007FC0000000000000FE0000000
0000003F800000000000007F00000000000000FC00000000000001F800000000000003F0
00000000000007E000000000000007C00000000000000F800000000000001F8000000000
00001F000000000000003E000000000000003E000000000000003C000000000000007C00
0000000000007C000000000000007800000000000000F800000000000000F80000000000
0000F000000000000000F000000000000000F000000000000000F000000000000000F000
000000000000F000000000000000F000000000000000F000000000000000F80000000000
0000F80000000000000078000000000000007C000000000000007C000000000000003C00
0000000000003E000000000000003E000000000000001F000000000000001F8000000000
00000F8000000000000007C000000000000007E000000000000003F000000000000001F8
00000000000000FC000000000000007E000000000000003F800000000000001FE0000000
00000007FC00000000000003FF80000000000000FFFFFFFFFFE000003FFFFFFFFFF00000
07FFFFFFFFF0000000FFFFFFFFE03C3A78B54D>I<000000000000006000000000000000
F000000000000000F000000000000000F000000000000001F000000000000001F0000000
00000001E000000000000003E000000000000003E000000000000007C000000000000007
C00000000000000F800000000000000F800000000000001F000000000000003F00000000
0000007E00000000000000FC00000000000001F800000000000007F00000000000000FE0
0000000000003F80000000000001FF00000000000007FC0000000000007FF80000000000
07FFE00000000000FFFF0000000001FFFFFC0000007FFFFFFFC0000000FFFFFFFC000000
00FFFFFFFC000000007FFFFFFFC00000000001FFFFFC000000000000FFFF000000000000
07FFE00000000000007FF800000000000007FC00000000000001FF000000000000003F80
0000000000000FE000000000000007F000000000000001F800000000000000FC00000000
0000007E000000000000003F000000000000001F000000000000000F800000000000000F
8000000000000007C000000000000007C000000000000003E000000000000003E0000000
00000001E000000000000001F000000000000001F000000000000000F000000000000000
F000000000000000F000000000000000603C3A78B54D>30 D<0000000000000000F00000
000000000000000000F00000000000000000000000F00000000000000000000000F80000
0000000000000000007800000000000000000000007800000000000000000000007C0000
0000000000000000003C00000000000000000000003C00000000000000000000003E0000
0000000000000000001E00000000000000000000001F00000000000000000000000F8000
0000000000000000000F800000000000000000000007C00000000000000000000003E000
00000000000000000003F00000000000000000000001F80000000000000000000000FC00
000000000000000000007E00000000000000000000003F00000000000000000000001F80
000000000000000000000FE00000000000000000000003F8007FFFFFFFFFFFFFFFFFFFFE
00FFFFFFFFFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFFFFFFF807FFFFFFFFFFFFFFFFFFFFE
0000000000000000000003F8000000000000000000000FE0000000000000000000001F80
000000000000000000003F00000000000000000000007E0000000000000000000000FC00
00000000000000000001F80000000000000000000003F00000000000000000000003E000
00000000000000000007C0000000000000000000000F80000000000000000000000F8000
0000000000000000001F00000000000000000000001E00000000000000000000003E0000
0000000000000000003C00000000000000000000003C00000000000000000000007C0000
000000000000000000780000000000000000000000780000000000000000000000F80000
000000000000000000F00000000000000000000000F00000000000000000000000F00000
0059347BB264>33 D<0000078000000000F00000000000078000000000F0000000000007
8000000000F000000000000F8000000000F800000000000F00000000007800000000000F
00000000007800000000001F00000000007C00000000001E00000000003C00000000001E
00000000003C00000000003E00000000003E00000000003C00000000001E00000000007C
00000000001F0000000000F800000000000F8000000000F800000000000F8000000001F0
000000000007C000000003E0000000000003E000000007E0000000000003F00000000FC0
000000000001F80000001F80000000000000FC0000003F000000000000007E0000007E00
0000000000003F000000FC000000000000001F800003F8000000000000000FE0000FE000
00000000000003F8003FFFFFFFFFFFFFFFFFFFFE00FFFFFFFFFFFFFFFFFFFFFF80FFFFFF
FFFFFFFFFFFFFFFF803FFFFFFFFFFFFFFFFFFFFE000FE00000000000000003F80003F800
0000000000000FE00000FC000000000000001F8000007E000000000000003F0000003F00
0000000000007E0000001F80000000000000FC0000000FC0000000000001F800000007E0
000000000003F000000003E0000000000003E000000001F0000000000007C000000000F8
00000000000F8000000000F800000000000F80000000007C00000000001F00000000003C
00000000001E00000000003E00000000003E00000000001E00000000003C00000000001E
00000000003C00000000001F00000000007C00000000000F00000000007800000000000F
00000000007800000000000F8000000000F80000000000078000000000F0000000000007
8000000000F00000000000078000000000F000000059347BB264>36
D<600000000000000000000000F00000000000000000000000F800000000000000000000
007C00000000000000000000003E00000000000000000000001F00000000000000000000
000F800000000000000000000007C00000000000000000000003E0000000000000000000
0001F00000000000000000000000F800000000000000000000007C000000000000000000
00003E00000000000000000000001F00000000000000000000000F800000000000000000
000007C00000000000000000000003E00000000000000000000001F00000000000000000
000000F800000000000000000000007C00000000000000000000003E0000000000000000
0000001F00000000000000000000000F800000000000000000000007C000000000000000
00000003E00000000000000000000001F00000000000000000000000F800000000000000
000000007C00000000000000000000003E00000000000000000000001F00000000000000
000000000F800000000000000000000007C00000000000000000000003E0000000000000
0000000001F00000000000000000000000F800000000000000000000007C000000000000
00000000003E00000000000000000000001F00000000000000000000000F800000000000
000000000007C00000000000000000000003E00000000000000000000001F00000000000
000000000000F800000000000000000000007C00000000000000000000003E0000000000
0000000000001F00000000000000000000000F800000000000000000000007C000000000
00000000000003E00000000000000000000001F00000000000000000000000F800000000
000000000000007C00000000000000000000003E00000000000000000000001F00000000
400000000000000F80000000E000000000000007C0000001F000000000000003E0000001
E000000000000001F0000003E000000000000000F8000007C0000000000000007C000007
C0000000000000003E00000780000000000000001F00000F80000000000000000F80000F
000000000000000007C0000F000000000000000003E0001F000000000000000001F0001E
000000000000000000F8001E0000000000000000007C001E0000000000000000003E003C
0000000000000000001F003C0000000000000000000F803C00000000000000000007C03C
00000000000000000003E03C00000000000000000001F03C00000000000000000000F83C
000000000000000000007C3C000000000000000000003E3C000000000000000000001F3C
000000000000000000000FBC0000000000000000000007FC0000000000000000000003FE
0000000000000000000001FE0000000000000000000FFFFE000000000000000000FFFFFE
000000000000000007FFFFFF00000000000000001FFFFFFF00000000000000007FF000FF
8000000000000001FF00000F8000000000000003F80000018000000000000007E0000000
0000000000000003C0000000000000000000000100000000005C5C7BC564>38
D<0007F8000000000080003FFF0000000001C000FFFFC000000001C001FFFFE000000001
C003FFFFF800000001C007FFFFFC00000001C00FF807FF00000003C01FC000FF80000003
801F00003FC0000007803E00001FF0000007803C000007F800000F0078000003FE00001F
0078000000FF00003E00700000007FC000FE00F00000003FF807FC00E00000000FFFFFF8
00E000000007FFFFF000E000000001FFFFE000E000000000FFFFC000E0000000003FFF00
00400000000007F800000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000007FFFFFFFFFFFFFFF
80FFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFC07FFFFFFFFFFFFFFF80422B7BAD4D>I<00
000000600000000000000000000000F00000000000000000000001F00000000000000000
000001E00000000000000000000003E00000000000000000000003C00000000000000000
000007C0000000000000000000000F80000000000000000000000F000000000000000000
00001F00000000000000000000003E00000000000000000000007C000000000000000000
0000F80000000000000000000001F80000000000000000000003F0000000000000000000
0007E0000000000000000000000FFFFFFFFFFFFFFFFF0000001FFFFFFFFFFFFFFFFF8000
003FFFFFFFFFFFFFFFFF8000007FFFFFFFFFFFFFFFFF000001F800000000000000000000
03F0000000000000000000000FE0000000000000000000003F8000000000000000000000
FF0000000000000000000003FC000000000000000000001FF000000000000000000000FF
C000000000000000000000FFC0000000000000000000001FF00000000000000000000003
FC0000000000000000000000FF00000000000000000000003F8000000000000000000000
0FE00000000000000000000003F00000000000000000000001F800000000000000000000
007FFFFFFFFFFFFFFFFF0000003FFFFFFFFFFFFFFFFF8000001FFFFFFFFFFFFFFFFF8000
000FFFFFFFFFFFFFFFFF00000007E00000000000000000000003F0000000000000000000
0001F80000000000000000000000F800000000000000000000007C000000000000000000
00003E00000000000000000000001F00000000000000000000000F000000000000000000
00000F800000000000000000000007C00000000000000000000003C00000000000000000
000003E00000000000000000000001E00000000000000000000001F00000000000000000
000000F00000000000000000000000600000000000000059387BB464>I<000000000000
03000000000000000000000007800000000000000000000007C000000000000000000000
03C00000000000000000000003E00000000000000000000001E000000000000000000000
01F00000000000000000000000F800000000000000000000007800000000000000000000
007C00000000000000000000003E00000000000000000000001F00000000000000000000
000F80000000000000000000000FC00000000000000000000007E0000000000000000000
0003F00000007FFFFFFFFFFFFFFFF8000000FFFFFFFFFFFFFFFFFC000000FFFFFFFFFFFF
FFFFFE0000007FFFFFFFFFFFFFFFFF00000000000000000000000FC00000000000000000
000007E00000000000000000000003F80000000000000000000000FE0000000000000000
0000007F80000000000000000000001FE00000000000000000000007FC00000000000000
00000001FF8000000000000000000001FF8000000000000000000007FC00000000000000
0000001FE0000000000000000000007F8000000000000000000000FE0000000000000000
000003F80000000000000000000007E0000000000000000000000FC000007FFFFFFFFFFF
FFFFFF000000FFFFFFFFFFFFFFFFFE000000FFFFFFFFFFFFFFFFFC0000007FFFFFFFFFFF
FFFFF80000000000000000000003F00000000000000000000007E0000000000000000000
000FC0000000000000000000000F80000000000000000000001F00000000000000000000
003E00000000000000000000007C00000000000000000000007800000000000000000000
00F80000000000000000000001F00000000000000000000001E000000000000000000000
03E00000000000000000000003C00000000000000000000007C000000000000000000000
07800000000000000000000003000000000059387BB464>I<000000FFFFFF00000007FF
FFFF8000003FFFFFFF800000FFFFFFFF000003FF800000000007FC00000000001FE00000
0000003F8000000000007E000000000000FC000000000001F8000000000003F000000000
0007E0000000000007C000000000000F8000000000001F8000000000001F000000000000
3E0000000000003E0000000000003C0000000000007C0000000000007C00000000000078
000000000000F8000000000000F8000000000000F0000000000000F0000000000000FFFF
FFFFFFFF00FFFFFFFFFFFF80FFFFFFFFFFFF80FFFFFFFFFFFF00F0000000000000F00000
00000000F8000000000000F8000000000000780000000000007C0000000000007C000000
0000003C0000000000003E0000000000003E0000000000001F0000000000001F80000000
00000F80000000000007C0000000000007E0000000000003F0000000000001F800000000
0000FC0000000000007E0000000000003F8000000000001FE0000000000007FC00000000
0003FF800000000000FFFFFFFF0000003FFFFFFF80000007FFFFFF80000000FFFFFF0031
3A78B542>50 D<00000000060000000000000000000F0000000000000000001F80000000
00000000001F8000000000000000003FC000000000000000003FC000000000000000007F
E000000000000000007FE00000000000000000F9F00000000000000001F9F80000000000
000001F0F80000000000000003E07C0000000000000003E07C0000000000000007C03E00
00000000000007C03E000000000000000F801F000000000000000F801F00000000000000
1F000F800000000000001F000F800000000000003E0007C00000000000003E0007C00000
000000007C0003E0000000000000FC0003F0000000000000F80001F0000000000001F000
00F8000000000001F00000F8000000000003E000007C000000000003E000007C00000000
0007C000003E000000000007C000003E00000000000F8000001F00000000000F8000001F
00000000001F0000000F80000000001F0000000F80000000003E00000007C0000000007E
00000007E0000000007C00000003E000000000F800000001F000000000F800000001F000
000001F000000000F800000001F000000000F800000003E0000000007C00000003E00000
00007C00000007C0000000003E00000007C0000000003E0000000F80000000001F000000
0F80000000001F0000001F00000000000F8000003F00000000000FC000003E0000000000
07C000007C000000000003E000007C000000000003E00000F8000000000001F00000F800
0000000001F00001F0000000000000F80001F0000000000000F80003E00000000000007C
0003E00000000000007C0007C00000000000003E0007C00000000000003E000F80000000
0000001F001F800000000000001F801F000000000000000F803E0000000000000007C03E
0000000000000007C07C0000000000000003E07C0000000000000003E0FFFFFFFFFFFFFF
FFFFF0FFFFFFFFFFFFFFFFFFF0FFFFFFFFFFFFFFFFFFF07FFFFFFFFFFFFFFFFFE04C477A
C659>52 D<00000000000600000000000F00000000001F00000000001F00000000003E00
000000003E00000000007C00000000007C0000000000F80000000000F80000000001F000
00000001F00000000003E00000000003E00000000007C00000000007C0000000000F8000
0000000F80000000001F00000000001F00000000003E00000000003E00000000007C0000
0000007C0000000000F80000000000F80000000001F00000000001F00000000003E00000
000003E00000000007C00000000007C0000000000F80000000000F80000000001F000000
00001F00000000003E00000000003E00000000007C00000000007C0000000000F8000000
0000F80000000001F00000000001F00000000003E00000000003E00000000007C0000000
0007C0000000000F80000000000F80000000001F00000000001F00000000003E00000000
003E00000000007C00000000007C0000000000F80000000000F80000000001F000000000
01F00000000003E00000000003E00000000007C00000000007C0000000000F8000000000
0F80000000001F00000000001F00000000003E00000000003E00000000007C0000000000
7C0000000000F80000000000F80000000001F00000000001F00000000003E00000000003
E00000000007C00000000007C0000000000F80000000000F80000000001F00000000001F
00000000003E00000000003E00000000007C00000000007C0000000000F80000000000F8
0000000000F00000000000600000000000305C72C600>54 D<60F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0FCFEFEFCF0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F06007267BAB00>I<6000
0000000018F000000000003CF800000000007CF800000000007C780000000000787C0000
000000F87C0000000000F83C0000000000F03E0000000001F03E0000000001F01F000000
0003E01F0000000003E00F0000000003C00F8000000007C00F8000000007C00780000000
078007C00000000F8007C00000000F8003E00000001F0003E00000001F0001E00000001E
0001F00000003E0001F00000003E0000F00000003C0000FFFFFFFFFC0000FFFFFFFFFC00
007FFFFFFFF800007FFFFFFFF800003C000000F000003E000001F000003E000001F00000
1E000001E000001F000003E000001F000003E000000F000003C000000F800007C000000F
800007C0000007C0000F80000007C0000F80000003C0000F00000003E0001F00000003E0
001F00000001E0001E00000001F0003E00000001F0003E00000000F8007C00000000F800
7C00000000780078000000007C00F8000000007C00F8000000003C00F0000000003E01F0
000000003E01F0000000001F03E0000000001F03E0000000000F03C0000000000F87C000
0000000F87C0000000000787800000000007CF800000000007CF800000000003FF000000
000003FF000000000001FE000000000001FE000000000001FE000000000000FC00000000
0000FC000000000000FC0000000000007800000000000030000000364780C437>I<7FFF
FFFFFFE0FFFFFFFFFFF0FFFFFFFFFFF07FFFFFFFFFF00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F01FFFFFFFFFF07FFFFFFFFFF07FFFFFFFFFF07FFFFFFFFFF00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F00000000000F00000
000000F00000000000F00000000000F00000000000F00000000000F07FFFFFFFFFF0FFFF
FFFFFFF0FFFFFFFFFFF07FFFFFFFFFE02C457BC437>I<00000000C00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E00000000000000001E00000000000000001E00000000000000001E00000000000000001
E0000000007FFFFFFFFFFFFFFF80FFFFFFFFFFFFFFFFC0FFFFFFFFFFFFFFFFC07FFFFFFF
FFFFFFFF8042427BC14D>63 D<000000380000000000007C0000000000007C0000000000
00FE000000000000FE000000000001FF000000000001FF000000000001EF000000000003
EF800000000003EF800000000007C7C00000000007C7C0000000000F83E0000000000F83
E0000000001F01F0000000001F01F0000000001E00F0000000003E00F8000000003E00F8
000000007C007C000000007C007C00000000F8003E00000000F8003E00000001F0001F00
000001F0001F00000001E0000F00000003E0000F80000003E0000F80000007C00007C000
0007C00007C000000F800003E000000F800003E000001F000001F000001F000001F00000
1E000000F000003E000000F800003E000000F800007C0000007C00007C0000007C0000F8
0000003E0000F80000003E0001F00000001F0001F00000001F0003E00000000F8003E000
00000F8003C0000000078007C000000007C007C000000007C00F8000000003E00F800000
0003E01F0000000001F01F0000000001F03E0000000000F83E0000000000F83C00000000
00787C00000000007C7C00000000007CF800000000003EF800000000003EF00000000000
1E6000000000000C373D7BBA42>94 D<6000000000000CF000000000001EF80000000000
3EF800000000003E7C00000000007C7C00000000007C3C0000000000783E0000000000F8
3E0000000000F81F0000000001F01F0000000001F00F8000000003E00F8000000003E007
C000000007C007C000000007C003C0000000078003E00000000F8003E00000000F8001F0
0000001F0001F00000001F0000F80000003E0000F80000003E00007C0000007C00007C00
00007C00003E000000F800003E000000F800001E000000F000001F000001F000001F0000
01F000000F800003E000000F800003E0000007C00007C0000007C00007C0000003E0000F
80000003E0000F80000001E0000F00000001F0001F00000001F0001F00000000F8003E00
000000F8003E000000007C007C000000007C007C000000003E00F8000000003E00F80000
00001E00F0000000001F01F0000000001F01F0000000000F83E0000000000F83E0000000
0007C7C00000000007C7C00000000003EF800000000003EF800000000001EF0000000000
01FF000000000001FF000000000000FE000000000000FE0000000000007C000000000000
7C00000000000038000000373D7BBA42>I<60000000000000F0000000000000F0000000
000000F0000000000000F0000000000000F0000000000000F0000000000000F000000000
0000F0000000000000F0000000000000F0000000000000F0000000000000F00000000000
00F0000000000000F0000000000000F0000000000000F0000000000000F0000000000000
F0000000000000F0000000000000F0000000000000F0000000000000F0000000000000F0
000000000000F0000000000000F0000000000000F0000000000000F0000000000000F000
0000000000F0000000000000F0000000000000F0000000000000FFFFFFFFFFFF80FFFFFF
FFFFFFC0FFFFFFFFFFFFC0FFFFFFFFFFFFC0F0000000000000F0000000000000F0000000
000000F0000000000000F0000000000000F0000000000000F0000000000000F000000000
0000F0000000000000F0000000000000F0000000000000F0000000000000F00000000000
00F0000000000000F0000000000000F0000000000000F0000000000000F0000000000000
F0000000000000F0000000000000F0000000000000F0000000000000F0000000000000F0
000000000000F0000000000000F0000000000000F0000000000000F0000000000000F000
0000000000F0000000000000F0000000000000F00000000000006000000000000032457B
C43D>I<0000000FE0000000FFE0000003FC0000000FE00000003FC00000007F80000000
FF00000000FE00000001FC00000001FC00000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000007F000000007
F00000000FE00000001FE00000003FC00000007F80000000FE00000007F8000000FFE000
0000FFE000000007F800000000FE000000007F800000003FC00000001FE00000000FE000
000007F000000007F000000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000001FC00000001FC00000000FE00
000000FF000000007F800000003FC00000000FE000000003FC00000000FFE00000000FE0
236479CA32>102 D<FE00000000FFE000000007F800000000FE000000007F800000003F
C00000001FE00000000FE000000007F000000007F000000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000003F800000003F800
000003F800000003F800000003F800000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000001
FC00000001FC00000000FE00000000FF000000007F800000003FC00000000FE000000003
FC00000000FFE0000000FFE0000003FC0000000FE00000003FC00000007F80000000FF00
000000FE00000001FC00000001FC00000003F800000003F800000003F800000003F80000
0003F800000003F800000003F800000003F800000003F800000003F800000003F8000000
03F800000003F800000003F800000003F800000003F800000003F800000003F800000003
F800000003F800000003F800000003F800000003F800000003F800000003F800000003F8
00000003F800000003F800000003F800000003F800000003F800000007F000000007F000
00000FE00000001FE00000003FC00000007F80000000FE00000007F8000000FFE0000000
FE00000000236479CA32>I<00000C00001E00003E00003E00003C00007C00007C0000F8
0000F80000F00001F00001F00003E00003E00003C00007C00007C0000F80000F80000F00
001F00001F00003E00003E00003C00007C00007C0000780000F80000F80001F00001F000
01E00003E00003E00007C00007C0000780000F80000F80001F00001F00001E00003E0000
3E00007C00007C0000780000F80000F80000F80000F800007800007C00007C00003E0000
3E00001E00001F00001F00000F80000F800007800007C00007C00003E00003E00001E000
01F00001F00000F80000F800007800007C00007C00003C00003E00003E00001F00001F00
000F00000F80000F800007C00007C00003C00003E00003E00001F00001F00000F00000F8
0000F800007C00007C00003C00003E00003E00001E00000C176476CA27>I<600000F000
00F80000F800007800007C00007C00003E00003E00001E00001F00001F00000F80000F80
0007800007C00007C00003E00003E00001E00001F00001F00000F80000F800007800007C
00007C00003C00003E00003E00001F00001F00000F00000F80000F800007C00007C00003
C00003E00003E00001F00001F00000F00000F80000F800007C00007C00003C00003E0000
3E00003E00003E00003C00007C00007C0000F80000F80000F00001F00001F00003E00003
E00003C00007C00007C0000F80000F80000F00001F00001F00003E00003E00003C00007C
00007C0000780000F80000F80001F00001F00001E00003E00003E00007C00007C0000780
000F80000F80001F00001F00001E00003E00003E00007C00007C0000780000F80000F800
00F0000060000017647BCA27>I<60F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0F0
F0F0F0F0F060046474CA1C>I<3FFFFFFFFFFFFFF87FFFFFFFFFFFFFFC7FFFFFFFFFFFFF
FC7FFFFFFFFFFFFFF8780000000000000078000000000000007800000000000000780000
000000000078000000000000007800000000000000780000000000000078000000000000
007800000000000000780000000000000078000000000000007800000000000000780000
000000000078000000000000007800000000000000780000000000000078000000000000
007800000000000000780000000000000078000000000000007800000000000000780000
000000000078000000000000007800000000000000780000000000000078000000000000
007800000000000000780000000000000078000000000000007800000000000000780000
000000000078000000000000007800000000000000780000000000000078000000000000
007800000000000000780000000000000078000000000000007800000000000000780000
000000000078000000000000007800000000000000780000000000000078000000000000
007800000000000000780000000000000078000000000000007800000000000000780000
000000000078000000000000007FFFFFFFFFFFFFF87FFFFFFFFFFFFFFC7FFFFFFFFFFFFF
FC3FFFFFFFFFFFFFF8000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000007FFFFFFFFFFFFF
F8FFFFFFFFFFFFFFFCFFFFFFFFFFFFFFFC7FFFFFFFFFFFFFF83E4E78BE4D>118
D<0001C000000007F000000007F000000007F000000007F000000007F000000007F00000
0007F000000007F000000003E000000003E000000003E000000003E000000003E0000000
03E000000001C000000001C000000001C000000001C000003E01C03E00FFE1C3FF80FFFF
FFFF80FFFFFFFF80FFFFFFFF80FFE1C3FF803E01C03E000001C000000001C000000001C0
00000001C000000003E000000003E000000003E000000003E000000003E000000003E000
000007F000000007F000000007F000000007F000000007F000000007F000000007F00000
0007F000000001C0000000000000000001C000000007F000000007F000000007F0000000
07F000000007F000000007F000000007F000000007F000000003E000000003E000000003
E000000003E000000003E000000001C000000001C000000001C000000001C000000001C0
00007F81C0FF00FFF9CFFF80FFFFFFFF80FFFFFFFF80FFF9CFFF807F81C0FF001001C004
000001C000000001C000000001C000000001C000000003E000000003E000000003E00000
0003E000000003E000000007F000000007F000000007F000000007F000000007F0000000
07F000000007F000000007F000000001C00000215A7BC52C>122
D<00000000C00000000000000001E00000000000000003F00000000000000003F0000000
0000000007F80000000000000007F8000000000000000FFC000000000000000FFC000000
000000001F3E000000000000001F3E000000000000003E1F000000000000007E1F800000
000000007C0F80000000000000F807C0000000000000F807C0000000000001F003E00000
00000003F003F0000000000003E001F0000000000007C000F800000000000FC000FC0000
0000000F80007C00000000001F00003E00000000003F00003F00000000007E00001F8000
0000007C00000F8000000000F8000007C000000001F8000007E000000003F0000003F000
000003E0000001F000000007C0000000F80000000FC0000000FC0000001F800000007E00
00003F000000003F0000007E000000001F8000007C000000000F800000F80000000007C0
0001F80000000007E00003F00000000003F00007E00000000001F8000FC00000000000FC
001F8000000000007E003F0000000000003F007E0000000000001F80FC0000000000000F
C0FC0000000000000FC07E0000000000001F803F0000000000003F001F8000000000007E
000FC00000000000FC0007E00000000001F80003F00000000003F00001F80000000007E0
0000F80000000007C000007C000000000F8000007E000000001F8000003F000000003F00
00001F800000007E0000000FC0000000FC00000007C0000000F800000003E0000001F000
000003F0000003F000000001F8000007E000000000F8000007C0000000007C00000F8000
0000007E00001F80000000003F00003F00000000001F00003E00000000000F80007C0000
0000000FC000FC000000000007C000F8000000000003E001F0000000000003F003F00000
00000001F003E0000000000000F807C0000000000000F807C00000000000007C0F800000
000000007E1F800000000000003E1F000000000000001F3E000000000000001F3E000000
000000000FFC000000000000000FFC0000000000000007F80000000000000007F8000000
0000000003F00000000000000003F00000000000000001E00000000000000000C0000000
0042587BC74D>125 D E /F4 71[33 3[33 11[33 15[33 100 50
27[44 50 50 72 50 50 28 39 33 50 50 50 50 78 28 50 28
28 50 50 33 44 50 44 50 44 33 2[33 1[33 61 72 1[94 72
72 61 55 66 72 55 72 72 89 61 72 39 33 72 72 55 61 72
66 66 72 1[44 1[56 1[28 28 50 50 50 50 50 50 50 50 50
50 28 25 33 25 2[33 33 33 5[33 2[33 12[28 13[55 55 2[{
 TeXBase1Encoding ReEncodeFont }86 100.000003 /Times-Roman
rf /F5 134[72 2[72 72 40 56 48 1[72 72 72 1[40 2[40 72
72 48 64 72 64 72 12[104 4[80 104 9[88 104 10[72 7[72
49[{ TeXBase1Encoding ReEncodeFont }25 143.999997 /Times-Roman
rf /F6 141[48 2[72 72 4[40 3[64 72 64 21[128 9[96 96
66[{ .167 SlantFont TeXBase1Encoding ReEncodeFont }10
143.999997 /Times-Roman rf /F7 134[86 1[124 1[96 57 67
76 1[96 86 96 143 48 96 1[48 96 86 57 76 96 76 96 86
12[115 3[105 9[105 1[124 2[124 65[{ TeXBase1Encoding ReEncodeFont }26
172.833377 /Times-Bold rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%PaperSize: A4

%%EndSetup
%%Page: 1 1
1 0 bop 556 760 a F7(Dependently)44 b(T)-13 b(yped)44
b(Functional)f(Pr)m(ograms)1476 968 y(and)f(their)i(Pr)m(oofs)1620
2776 y F6(Conor)34 b(McBride)1455 4820 y F5(Doctor)g(of)h(Philosoph)o
(y)1376 5002 y(Uni)l(v)n(ersity)f(of)h(Edinb)m(ur)m(gh)1928
5245 y(1999)p eop
%%Page: 1 2
1 1 bop 1752 606 a F7(Abstract)357 924 y F4(Research)25
b(in)g(dependent)f(type)g(theories)g([M-L71a])h(has,)f(in)g(the)h
(past,)f(concentrated)g(on)h(its)e(use)357 1073 y(in)j(the)g
(presentation)g(of)g(theorems)g(and)h(theorem-pro)o(ving.)34
b(This)26 b(thesis)f(is)h(concerned)h(mainly)357 1222
y(with)f(the)h(e)o(xploitation)d(of)j(the)g(computational)e(aspects)i
(of)g(type)f(theory)h(for)g(programming,)f(in)357 1372
y(a)k(conte)o(xt)f(where)i(the)f(properties)g(of)g(programs)g(may)g
(readily)g(be)g(speci\002ed)g(and)h(established.)357
1521 y(In)c(particular)l(,)g(it)f(de)n(v)o(elops)f(technology)h(for)h
(programming)e(with)h(dependent)h(inducti)n(v)o(e)d(f)o(ami-)357
1671 y(lies)g(of)h(datatypes)f(and)h(pro)o(ving)e(those)i(programs)f
(correct.)31 b(It)25 b(demonstrates)f(the)h(considerable)357
1820 y(adv)n(antage)i(to)g(be)h(gained)f(by)g(inde)o(xing)f(data)i
(structures)f(with)g(pertinent)g(characteristic)g(infor)n(-)357
1970 y(mation)c(whose)i(soundness)e(is)i(ensured)f(by)h(typechecking,)f
(rather)h(than)g(human)f(ef)n(fort.)357 2179 y(T)-8 b(ype)48
b(theory)g(traditionally)f(presents)h(safe)h(and)f(terminating)f
(computation)g(on)h(inducti)n(v)o(e)357 2329 y(datatypes)30
b(by)h(means)f(of)h(elimination)e(rules)i(which)g(serv)o(e)g(as)g
(induction)e(principles)h(and,)i(via)357 2478 y(their)20
b(associated)g(reduction)f(beha)n(viour)l(,)i(recursion)f(operators)g
([Dyb91].)29 b(In)21 b(the)f(programming)357 2627 y(language)f(arena,)i
(these)f(appear)g(some)n(what)e(cumbersome)g(and)i(gi)n(v)o(e)e(rise)i
(to)f(unappealing)f(code,)357 2777 y(complicated)35 b(by)h(the)g(ine)n
(vitable)e(interaction)h(between)i(case)f(analysis)f(on)h(dependent)g
(types)357 2926 y(and)d(equational)f(reasoning)g(on)h(their)f(indices)h
(which)f(must)g(appear)i(e)o(xplicitly)d(in)h(the)h(terms.)357
3076 y(Thierry)j(Coquand')-5 b(s)36 b(proposal)g([Coq92])h(to)g(equip)f
(type)g(theory)h(directly)f(with)g(the)g(kind)g(of)357
3225 y(pattern)e(matching)g(notation)f(to)i(which)f(functional)g
(programmers)g(ha)n(v)o(e)h(become)g(used)f(o)o(v)o(er)357
3375 y(the)29 b(past)h(three)g(decades)g([Bur69,)g(McB70])g(of)n(fers)f
(a)h(remedy)g(to)f(man)o(y)g(of)h(these)g(dif)n(\002culties.)357
3524 y(Ho)n(we)n(v)o(er)l(,)22 b(the)i(status)f(of)h(pattern)g
(matching)e(relati)n(v)o(e)h(to)h(the)f(traditional)g(elimination)f
(rules)h(has)357 3673 y(until)29 b(no)n(w)h(been)g(in)h(doubt.)46
b(P)o(attern)31 b(matching)e(implies)g(the)i(uniqueness)e(of)i
(identity)e(proofs,)357 3823 y(which)23 b(Martin)f(Hofmann)h(sho)n(wed)
f(underi)n(v)n(able)g(from)h(the)g(con)l(v)o(entional)f(de\002nition)g
(of)h(equal-)357 3972 y(ity)35 b([Hof95].)64 b(This)35
b(thesis)g(sho)n(ws)g(that)g(the)h(adoption)f(of)h(this)f(uniqueness)g
(as)h(axiomatic)f(is)357 4122 y(suf)n(\002cient)24 b(to)g(mak)o(e)h
(pattern)g(matching)e(admissible.)357 4331 y(A)33 b(datatype')-5
b(s)32 b(elimination)f(rule)h(allo)n(ws)g(abstraction)g(only)g(o)o(v)o
(er)g(the)h(whole)g(inducti)n(v)o(ely)d(de-)357 4481
y(\002ned)24 b(f)o(amily)-6 b(.)29 b(In)24 b(order)h(to)e(support)g
(pattern)h(matching,)f(the)h(application)f(of)h(such)g(rules)g(to)f
(spe-)357 4630 y(ci\002c)30 b(instances)g(of)g(dependent)g(f)o(amilies)
f(has)h(been)g(systematised.)45 b(The)30 b(underlying)f(analysis)357
4780 y(e)o(xtends)22 b(be)o(yond)g(datatypes)h(to)g(other)g(rules)g(of)
g(a)h(similar)e(second)h(order)g(character)l(,)i(suggesting)357
4929 y(the)o(y)c(may)i(ha)n(v)o(e)f(other)g(roles)h(to)f(play)g(in)g
(the)h(speci\002cation,)f(v)o(eri\002cation)g(and,)h(perhaps,)g(deri)n
(v)n(a-)357 5078 y(tion)h(of)i(programs.)32 b(The)25
b(technique)g(de)n(v)o(eloped)f(shifts)h(the)g(speci\002city)g(from)g
(the)h(instantiation)357 5228 y(of)g(the)h(type')-5 b(s)25
b(indices)h(into)g(equational)g(constraints)f(on)h(indices)g(freely)h
(chosen,)g(allo)n(wing)d(the)357 5377 y(elimination)e(rule)j(to)g(be)g
(applied.)p eop
%%Page: 2 3
2 2 bop 357 -6 a F4(Elimination)41 b(by)i(this)g(means)g(lea)n(v)o(es)h
(equational)e(hypotheses)g(in)i(the)f(resulting)g(subgoals,)357
144 y(which)36 b(must)g(be)h(solv)o(ed)f(if)h(further)g(progress)g(is)f
(to)h(be)g(made.)67 b(The)37 b(\002rst-order)h(uni\002cation)357
293 y(algorithm)33 b(for)j(constructor)e(forms)g(in)h(simple)f(types)g
(presented)h(in)g([McB96])g(has)g(been)g(e)o(x-)357 443
y(tended)29 b(to)g(co)o(v)o(er)g(dependent)g(datatypes)g(as)h(well,)h
(yielding)d(completely)g(automated)h(solution)357 592
y(to)24 b(a)h(class)g(of)g(problems)e(which)i(can)g(be)g(syntactically)
e(de\002ned.)357 802 y(The)31 b(justi\002cation)f(and)i(operation)f(of)
h(these)f(techniques)g(requires)g(the)h(machine)f(to)g(construct)357
951 y(and)i(e)o(xploit)f(a)h(standardised)g(collection)f(of)i
(auxiliary)e(lemmas)h(for)g(each)h(datatype.)56 b(This)33
b(is)357 1101 y(greatly)24 b(f)o(acilitated)h(by)f(tw)o(o)g(technical)h
(de)n(v)o(elopments)d(of)j(interest)f(in)h(their)f(o)n(wn)g(right:)502
1393 y F3(\017)49 b F4(a)19 b(more)h(con)l(v)o(enient)e(de\002nition)h
(of)g(equality)-6 b(,)19 b(with)g(a)h(relax)o(ed)f(formulation)f(rule)i
(allo)n(wing)601 1542 y(elements)36 b(of)h(dif)n(ferent)f(types)g(to)h
(be)g(compared,)j(b)n(ut)c(nonetheless)g(equi)n(v)n(alent)f(to)h(the)
601 1692 y(usual)24 b(equality)g(plus)g(the)g(axiom)g(of)h(uniqueness;)
502 1924 y F3(\017)49 b F4(a)20 b(type)g(theory)-6 b(,)22
b(O)t F2(L)t(E)t(G)r F4(,)h(which)d(incorporates)g(incomplete)f
(objects,)h(accounting)f(for)i(their)601 2074 y(`holes')27
b(entirely)g(within)g(the)h(typing)e(judgments)g(and,)j(no)o(v)o(elly)
-6 b(,)26 b(not)h(requiring)g(an)o(y)g(no-)601 2223 y(tion)c(of)i(e)o
(xplicit)f(substitution)e(to)i(manage)h(their)f(scopes.)357
2516 y(A)35 b(substantial)e(prototype)h(has)g(been)h(implemented,)h(e)o
(xtending)e(the)g(proof)h(assistant)f(LEGO)357 2665 y([LP92].)61
b(A)34 b(number)h(of)g(programs)f(are)h(de)n(v)o(eloped)f(by)g(w)o(ay)h
(of)g(e)o(xample.)60 b(Chie\003y)-6 b(,)37 b(the)e(in-)357
2815 y(creased)29 b(e)o(xpressi)n(vity)c(of)k(dependent)e(datatypes)h
(is)f(sho)n(wn)g(to)h(capture)h(a)f(standard)g(\002rst-order)357
2964 y(uni\002cation)21 b(algorithm)g(within)g(the)i(class)f(of)g
(structurally)f(recursi)n(v)o(e)h(programs,)g(remo)o(ving)f(an)o(y)357
3113 y(need)26 b(for)f(a)h(termination)f(ar)n(gument.)32
b(Furthermore,)26 b(the)g(use)f(of)h(elimination)e(rules)h(in)g
(specify-)357 3263 y(ing)f(the)h(components)e(of)i(the)g(program)f
(simpli\002es)f(signi\002cantly)h(its)g(correctness)h(proof.)2047
5667 y(2)p eop
%%Page: 1 4
1 3 bop 1360 606 a F7(Ackno)n(wledgements)357 924 y F4(Writing)21
b(this)g(thesis)g(has)h(been)g(a)g(long)g(hard)g(struggle,)f(and)h(I)h
(could)e(not)g(ha)n(v)o(e)h(done)g(it)f(without)g(a)357
1073 y(great)g(deal)h(of)f(friendship)g(and)g(support.)28
b(I)22 b(cannot)f(thank)g(my)g(of)n(\002cial)g(supervisor)f(Rod)i
(Burstall)357 1222 y(enough)27 b(for)g(his)g(constant)g(enthusiasm,)f
(e)n(v)o(en)g(when)i(mine)f(w)o(as)g(straining)f(at)i(times.)37
b(Supervi-)357 1372 y(sions)19 b(with)g(Rod,)i(whate)n(v)o(er)e(else)i
(the)o(y)e(achie)n(v)o(ed,)h(al)o(w)o(ays)g(managed)g(to)f(mak)o(e)h
(me)g(happ)o(y)-6 b(.)28 b(It)20 b(has)357 1521 y(also)26
b(been)h(a)h(pleasure)f(to)f(be)i(part)f(of)g(the)g(LEGO)f(group,)h
(and)g(indeed,)g(the)g(LFCS)h(as)f(a)h(whole.)357 1671
y(My)e(slightly)e(less)i(of)n(\002cial)g(supervisors,)g(successi)n(v)o
(ely)e(James)j(McKinna,)f(Healf)g(Goguen)g(and)357 1820
y(Martin)j(Hofmann,)h(deserv)o(e)f(my)g(w)o(armest)g(gratitude.)44
b(I)30 b(hope)g(I)g(ha)n(v)o(e)f(done)g(them)g(justice.)44
b(A)357 1970 y(w)o(ord)25 b(of)g(thanks,)f(too,)h(must)f(go)h(to)g
(Randy)g(Pollack)g(for)h(his)e(implementation)f(of)i(LEGO\227if)g(it)
357 2119 y(were)g(not)f(for)h(his)g(code,)g(I)g(could)f(not)g(ha)n(v)o
(e)h(b)n(uilt)e(mine.)357 2329 y(My)g(friends)h(and)g(f)o(amily)f(ha)n
(v)o(e)h(been)g(a)g(constant)g(source)g(of)g(lo)o(v)o(e)f(and)h
(encouragement.)30 b(Thank)357 2478 y(you,)g(all)g(of)g(you.)46
b(Finally)-6 b(,)30 b(I)g(cannot)g(e)o(xpress)f(ho)n(w)h(much)f(I)h
(appreciate)h(the)f(\003atmates)f(I)i(ha)n(v)o(e)357
2627 y(li)n(v)o(ed)20 b(with)h(o)o(v)o(er)f(the)i(last)f(four)g(years.)
30 b(Phil,)22 b(Carsten,)h(Melanie,)f(e)n(v)o(en)e(Firkin)i(the)f(cat,)
i(your)e(for)n(-)357 2777 y(bearance)h(is)g(something)e(for)i(which)f
(I)h(shall)f(al)o(w)o(ays)h(be)f(profoundly)g(grateful.)30
b(Y)-11 b(our)21 b(friendship)357 2926 y(is)j(something)f(I)i
(treasure.)p eop
%%Page: 1 5
1 4 bop 1642 606 a F7(Declaration)357 924 y F4(I)25 b(declare)g(that)g
(this)f(thesis)f(is)i(my)f(o)n(wn)g(w)o(ork,)g(not)h(submitted)e(for)i
(an)o(y)f(pre)n(vious)f(de)o(gree.)p eop
%%Page: 1 6
1 5 bop 357 719 a F1(T)-19 b(able)51 b(of)h(Contents)357
1360 y F0(Chapter)26 b(1)99 b(Intr)n(oduction)2313 b(6)506
1569 y F4(1.1)104 b(o)o(v)o(ervie)n(w)27 b(.)50 b(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)192 b(7)506 1779
y(1.2)104 b(this)24 b(thesis)g(in)g(conte)o(xt)i(.)50
b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(10)506 1988
y(1.3)104 b(implementation)65 b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)143 b(15)357 2297 y F0(Chapter)26 b(2)101 b F4(O)t
F2(L)t(E)t(G)r F0(,)28 b(a)c(type)i(theory)f(with)g(holes)1494
b(16)506 2507 y F4(2.1)104 b(the)27 b(O)t F2(L)t(E)t(G)i
F4(core)g(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(17)506 2716 y(2.2)104 b(the)27 b(O)t F2(L)t(E)t(G)i
F4(de)n(v)o(elopment)23 b(calculus)84 b(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(25)735 2926 y(2.2.1)119 b(positions)23 b(and)i(replacement)80
b(.)50 b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)143 b(30)735 3135 y(2.2.2)119 b(the)25 b(state)f(information)g
(order)61 b(.)50 b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)143 b(32)506 3344 y(2.3)104 b(life)25
b(of)g(a)g(hole)36 b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)143 b(34)506 3554 y(2.4)104 b(displaying)23 b(an)k(O)t
F2(L)t(E)t(G)j F4(state)52 b(.)e(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(35)506 3763 y(2.5)104 b(basic)25 b(component)f(manipulations)h(.)50
b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)143 b(37)506 3973 y(2.6)104 b(mo)o(ving)23
b(holes)79 b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(39)506 4182 y(2.7)104 b(re\002nement)25 b(and)g(uni\002cation)94
b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)g(.)f(.)h(.)g(.)143 b(40)506 4392 y(2.8)104 b(dischar)n(ge)25
b(and)g(other)g(permutations)39 b(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(43)506
4601 y(2.9)104 b(systems)24 b(with)g(e)o(xplicit)f(substitution)32
b(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)143 b(45)506 4811 y(2.10)54 b(sequences,)25
b(telescopes,)f(f)o(amilies,)g(triangles)37 b(.)50 b(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(46)357
5120 y F0(Chapter)26 b(3)99 b(Elimination)25 b(Rules)g(f)n(or)f
(Re\002nement)j(Pr)n(oof)1114 b(52)506 5329 y F4(3.1)104
b(propositional)23 b(equality)h(\(de\002nition)g(deferred\))38
b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(54)2047 5667 y(1)p eop
%%Page: 2 7
2 6 bop 506 -6 a F4(3.2)104 b(anatomy)24 b(of)h(an)g(elimination)e
(rule)61 b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(55)506 204 y(3.3)104
b(e)o(xamples)24 b(of)h(elimination)e(rules)35 b(.)49
b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)143 b(57)506 413 y(3.4)104 b(le)o(gitimate)23
b(tar)n(gets)81 b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(61)506 623 y(3.5)104 b(scheming)24 b(with)g(constraints)g(.)50
b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)143 b(63)735 832 y(3.5.1)119 b(simpli\002cation)
23 b(by)i(coalescence)97 b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(66)735 1042 y(3.5.2)119
b(what)25 b(to)f(\002x,)h(what)g(to)f(abstract)89 b(.)49
b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(67)735 1251 y(3.5.3)119 b(abstracting)24 b(patterns)g(from)h(the)g
(goal)80 b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)143 b(69)735 1461 y(3.5.4)119 b(constraints)24 b(in)g(inducti)n(v)o
(e)f(proofs)64 b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)143 b(70)506 1670 y(3.6)104 b(an)25 b(elimination)e
(tactic)28 b(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(71)735 1879 y(3.6.1)119 b(preparing)25 b(the)f(application)49
b(.)h(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)143 b(72)735 2089 y(3.6.2)119 b(\002ngering)25
b(tar)n(gets)98 b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(73)735
2298 y(3.6.3)119 b(constructing)24 b(the)g(scheme)83
b(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)143 b(75)735 2508 y(3.6.4)119 b(pro)o(ving)23
b(the)i(goal)95 b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(77)735
2717 y(3.6.5)119 b(tidying)23 b(up)41 b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)143 b(77)506 2927 y(3.7)104 b(an)25 b(e)o(xample\227)p
FZ(N)-63 b(NEq)80 b F4(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(78)735 3136 y(3.7.1)119 b(constructing)24 b FZ(N)-63
b(NEq)98 b F4(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(80)735 3346
y(3.7.2)119 b(pro)o(ving)23 b FZ(N)-63 b(NEqRecI)71 b
F4(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(81)735 3555 y(3.7.3)119
b(pro)o(ving)23 b FZ(N)-63 b(NEqIn)n(v)71 b F4(.)50 b(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)143 b(83)735 3764 y(3.7.4)119 b(pro)o(ving)23 b(the)i
(`introduction)e(rules')93 b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)143 b(85)357 4074 y F0(Chapter)26
b(4)99 b(Inducti)o(v)o(e)26 b(Datatypes)1950 b(87)506
4283 y F4(4.1)104 b(construction)24 b(of)h(inducti)n(v)o(e)d(datatypes)
46 b(.)k(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)143 b(89)735 4492 y(4.1.1)119 b(simple)24 b(inducti)n(v)o(e)e
(datatypes)j(lik)o(e)f FZ(N)-63 b(N)78 b F4(.)49 b(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143 b(89)735 4702
y(4.1.2)119 b(parameterised)25 b(datatypes)f(lik)o(e)g
FZ(list)74 b F4(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f
(.)h(.)g(.)143 b(92)735 4911 y(4.1.3)119 b(datatypes)24
b(with)g(higher)n(-order)h(recursi)n(v)o(e)f(ar)n(guments,)g(lik)o(e)h
FZ(or)o(d)82 b F4(.)50 b(.)143 b(94)735 5121 y(4.1.4)119
b(dependent)24 b(inducti)n(v)o(e)f(f)o(amilies)h(lik)o(e)g(the)h
FZ(\002n)p F4(s)79 b(.)49 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)143
b(96)735 5330 y(4.1.5)119 b(inducti)n(v)o(ely)22 b(de\002ned)k
(relations)e(lik)o(e)g FY(<)89 b F4(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)143 b(98)2047 5667 y(2)p eop
%%Page: 3 8
3 7 bop 735 -6 a F4(4.1.6)119 b(record)25 b(types)33
b(.)50 b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(101)506
204 y(4.2)104 b(a)25 b(compendium)f(of)g(inducti)n(v)o(e)f(datatypes)98
b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
93 b(103)506 413 y(4.3)104 b(abolishing)23 b FX(\006)q
F4(-types)h(and)h(rein)l(v)o(enting)e(them)43 b(.)50
b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(103)735 623 y(4.3.1)119 b(the)25 b(blunderb)n(uss)e(tactic)30
b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)f(.)h(.)g(.)93 b(105)506 832 y(4.4)104 b(constructing)24
b FW(Case)g F4(and)h FW(Fix)85 b F4(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(108)735 1042 y(4.4.1)119 b(case)25 b(analysis)f(for)h(datatypes)g
(and)f(relations)47 b(.)j(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(108)735 1251 y(4.4.2)119 b(the)25 b(guarded)g(\002xpoint)e(principle)
88 b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g
(.)93 b(110)357 1560 y F0(Chapter)26 b(5)99 b(Equality)26
b(and)f(Object-Le)o(v)o(el)h(Uni\002cation)1131 b(117)506
1770 y F4(5.1)104 b(tw)o(o)25 b(nearly)f(inducti)n(v)o(e)f
(de\002nitions)h(of)h(equality)f(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)93 b(118)735 1979 y(5.1.1)119
b(Martin-L)8 b(\250)-41 b(of)5 b(')-5 b(s)24 b(identity)f(type)75
b(.)50 b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)93 b(118)735 2189 y(5.1.2)119 b(uniqueness)24
b(of)h(identity)e(proofs)36 b(.)49 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(119)735 2398 y(5.1.3)119
b F3(')q F4(,)24 b(or)h(`John)g(Major')f(equality)91
b(.)49 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)93 b(119)735 2607 y(5.1.4)119 b(equality)24 b(for)h(sequences)80
b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)93 b(120)735 2817 y(5.1.5)119 b(the)25
b(relationship)e(between)i FZ(=)g F4(and)g F3(')90 b
F4(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(124)506 3026 y(5.2)104 b(\002rst-order)26 b(uni\002cation)e(for)h
(constructor)f(forms)91 b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)
f(.)h(.)g(.)93 b(127)735 3236 y(5.2.1)119 b(transition)23
b(rules)i(for)g(\002rst-order)g(uni\002cation)33 b(.)50
b(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(129)735
3445 y(5.2.2)119 b(an)25 b(algorithm)e(for)i(constructor)g(form)f
(uni\002cation)g(problems)55 b(.)49 b(.)h(.)g(.)93 b(133)735
3655 y(5.2.3)119 b(con\003ict)25 b(and)g(injecti)n(vity)74
b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)93 b(136)735 3864 y(5.2.4)119 b(c)o(ycle)90
b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)
h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(140)735 4074 y(5.2.5)119 b(a)25 b(brief)g(look)f(be)o(yond)g
(constructor)g(form)h(problems)78 b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(149)357 4383 y F0(Chapter)26 b(6)99 b(P)o(atter)o(n)26
b(Matching)f(f)n(or)g(Dependent)i(T)-7 b(ypes)1094 b(152)506
4592 y F4(6.1)104 b(pattern)25 b(matching)f(in)g(ALF)78
b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(155)506 4802 y(6.2)104
b(interacti)n(v)o(e)24 b(pattern)g(matching)g(in)i(O)t
F2(L)t(E)t(G)32 b F4(.)49 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)93 b(157)735 5011 y(6.2.1)119
b(computational)23 b(aspects)i(of)g(elimination)d(.)50
b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(158)735 5220 y(6.2.2)119 b(conserv)n(ati)n(vity)22
b(of)j(pattern-matching)f(o)o(v)o(er)i(O)t F2(L)t(E)t(G)104
b F4(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(162)735 5430
y(6.2.3)119 b(constructing)24 b(programs)76 b(.)50 b(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(166)2047 5667 y(3)p eop
%%Page: 4 9
4 8 bop 506 -6 a F4(6.3)104 b(recognising)24 b(programs)50
b(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(173)735 204 y(6.3.1)119
b(recursion)25 b(spotting)j(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(174)735 413 y(6.3.2)119 b(e)o(xact)25 b(problems)67
b(.)49 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(175)735 623 y(6.3.3)119
b(splitting)23 b(problems)98 b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(176)735 832 y(6.3.4)119 b(empty)24 b(problems)j(.)49
b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(177)506 1042 y(6.4)104
b(e)o(xtensions)48 b(.)h(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)93 b(178)735 1251 y(6.4.1)119 b(functions)24 b(with)g(v)n
(arying)g(arity)88 b(.)49 b(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)93 b(178)735 1461 y(6.4.2)119
b(more)25 b(e)o(xotic)f(recursion)29 b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(181)357 1770 y F0(Chapter)26 b(7)99 b(Some)26 b(Pr)n(ograms)e(and)i
(Pr)n(oofs)1591 b(184)506 1979 y F4(7.1)104 b(concrete)26
b(cate)o(gories,)e(functors)g(and)h(monads)93 b(.)49
b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(184)735 2189 y(7.1.1)119 b(records)25 b(for)g(cate)o(gories)35
b(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)
g(.)g(.)f(.)h(.)g(.)93 b(185)735 2398 y(7.1.2)119 b(records)25
b(for)g(functors)36 b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(187)735
2607 y(7.1.3)119 b(records)25 b(for)g(`concrete')h(monads)71
b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
93 b(188)506 2817 y(7.2)104 b(substitution)22 b(for)j(the)g(untyped)f
FY(\025)p F4(-calculus)48 b(.)i(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h
(.)g(.)g(.)f(.)h(.)g(.)93 b(192)735 3026 y(7.2.1)119
b FZ(lift)p F4(,)25 b FZ(thin)f F4(and)h FZ(thic)o(k)70
b F4(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f
(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(194)735 3236 y(7.2.2)119
b(the)25 b(substitution)d(monad)i(splits)f(the)i(renaming)f(functor)88
b(.)50 b(.)g(.)f(.)h(.)g(.)93 b(201)506 3445 y(7.3)104
b(a)25 b(correct)h(\002rst-order)f(uni\002cation)f(algorithm)30
b(.)50 b(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(210)735 3655 y(7.3.1)119 b(optimistic)23 b(optimisation)46
b(.)k(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g
(.)f(.)h(.)g(.)93 b(212)735 3864 y(7.3.2)119 b(optimistic)23
b(uni\002cation)46 b(.)j(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)
h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(216)735 4074
y(7.3.3)119 b(dependent)24 b(types)h(to)f(the)h(rescue)97
b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
93 b(217)735 4283 y(7.3.4)119 b(correctness)25 b(of)g
FZ(mgu)95 b F4(.)49 b(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h
(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(221)735 4492
y(7.3.5)119 b(what)25 b(substitution)d(tells)i(us)g(about)g(the)h
(occurs)g(check)94 b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)93
b(226)735 4702 y(7.3.6)119 b(positions)86 b(.)50 b(.)g(.)g(.)f(.)h(.)g
(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)
g(.)f(.)h(.)g(.)93 b(230)735 4911 y(7.3.7)119 b FZ(chec)o(k)25
b F4(and)g FZ(FlexRigid)58 b F4(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93 b(233)735
5121 y(7.3.8)119 b(comment)76 b(.)50 b(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g
(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)
g(.)93 b(236)357 5430 y F0(Chapter)26 b(8)99 b(Conclusion)2277
b(240)2047 5667 y F4(4)p eop
%%Page: 5 10
5 9 bop 506 -6 a F4(8.1)104 b(further)25 b(w)o(ork)43
b(.)50 b(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)
f(.)h(.)g(.)g(.)f(.)h(.)g(.)f(.)h(.)g(.)g(.)f(.)h(.)g(.)93
b(242)357 304 y F0(A)n(ppendix)25 b(A)78 b(Implementation)2014
b(245)357 613 y(Bibliograph)o(y)2723 b(247)357 922 y(Index)3038
b(254)2047 5667 y F4(5)p eop
%%Page: 6 11
6 10 bop 357 719 a F1(Chapter)51 b(1)357 1194 y(Intr)l(oduction)601
1687 y FV(`The)24 b(philosophers)e(ha)n(v)o(e)i(merely)g(interpreted)f
(the)h(w)o(orld)g(in)f(v)n(arious)g(w)o(ays.)30 b(The)601
1806 y(point,)23 b(ho)n(we)n(v)o(er)l(,)h(is)g(to)g(change)h(it.)-7
b(')951 b F4(\(Marx)25 b(and)g(Engels\))357 2124 y(Computer)f(programs)
h(are)g(not)g(e)o(xpected)g(to)f(mak)o(e)h(sense.)31
b(In)25 b(f)o(act,)h(the)o(y)e(are)i(seldom)e(e)o(xpected)357
2273 y(to)31 b(w)o(ork,)i(which)f(is)f(as)h(much)g(as)f(to)h(say)g
(that)f(computer)g(programmers)g(are)i(not)e(e)o(xpected)h(to)357
2423 y(mak)o(e)22 b(sense)g(either)-5 b(.)30 b(This)21
b(is)h(understandable\227programming)e(is)i(primarily)f(a)h(form)h(of)f
(gi)n(ving)357 2572 y(orders.)357 2782 y(Nonetheless,)39
b(there)e(are)h(grounds)e(for)h(optimism.)65 b(This)37
b(is)f(because)i(programmers)e(do)h(not)357 2931 y(really)e(w)o(ant)h
(genuinely)f(stupid)f(orders)i(to)g(be)g(obe)o(yed,)i(and)d(we)h
(understand)f(that)h(the)f(more)357 3081 y(sense)23 b(we)g(are)h(able)f
(to)f(mak)o(e,)h(the)g(shorter)g(our)g(orders)g(need)g(be.)30
b(The)23 b(bene\002t)h(comes)e(by)h(taking)357 3230 y(the)h(sense)h
(within)f(the)g(programmer')-5 b(s)24 b(mind)g(and)h(manifesting)e(it)h
(e)o(xplicitly)f(in)h(the)h(program.)357 3439 y(From)36
b(named)h(v)n(ariables)e(and)i(looping)e(constructs)h(through)g(to)g
(functional)f(abstraction)h(and)357 3589 y(method)25
b(encapsulation,)g(the)g(e)n(v)n(olution)f(of)i(programming)f
(languages)g(has)h(greatly)g(f)o(acilitated)357 3738
y(the)34 b(programmer)g(who)g(acti)n(v)o(ely)f(seeks)i(to)f(mak)o(e)g
(sense.)60 b(In)34 b(particular)l(,)j(type)d(systems)f(no)n(w)357
3888 y(allo)n(w)j(so)h(much)f(sense)h(to)g(be)h(made)f(that)f(the)o(y)h
(are)h(e)n(v)o(en)e(becoming)g(compulsory)g(in)h(some)357
4037 y(industrial)22 b(programming)h(languages.)30 b(Where)25
b(the)f(purpose)g(of)g(typing)f(in)h(C)h(is)f(to)g(indicate)f(the)357
4187 y(number)j(of)i(bits)e(left)i(an)f(array)h(subscript)e(should)g
(be)i(shifted,)f(strongly)f(typed)h(languages)g(lik)o(e)357
4336 y(Ja)n(v)n(a)d(genuinely)g(reduce)h(the)g(gullibility)d(with)i
(which)g(machine)h(f)o(aces)g(human.)357 4545 y(It)d(is)g(with)g(the)g
(objecti)n(v)o(e)f(of)i(promoting)e(sense)h(in)g(programs)g(that)g(I)h
(ha)n(v)o(e)f(pursued)g(the)g(research)357 4695 y(documented)f(in)h
(this)g(thesis.)29 b(Its)22 b(main)f(purpose)h(is)g(to)g(sho)n(w)g(the)
g(adv)n(antage)g(a)g F0(dependent)k F4(type)357 4844
y(system)d(lends)i(to)f(the)h(cause)g(of)g(principled)f(programming.)
357 5054 y(Brie\003y)-6 b(,)25 b(the)f(principal)h(contrib)n(utions)d
(are)k(these:)502 5371 y F3(\017)51 b F4(O)t F2(L)t(E)t(G)r
F4(,)34 b(a)d(type)g(theory)f(with)g(`holes')h(\(or)g(`meta)n(v)n
(ariables'\))f(standing)g(for)h(the)f(missing)2047 5667
y(6)p eop
%%Page: 7 12
7 11 bop 601 -6 a F4(parts)26 b(of)g(constructions)f(e)o(xplained)h
(entirely)g(within)f(the)h(judgments)f(of)i(the)f(calculus\227)601
144 y(the)e(state)h(of)g(a)g(theorem)f(pro)o(v)o(er)g(may)h(thus)f(be)g
(represented)i(as)e(a)i(v)n(alid)d(judgment)502 376 y
F3(\017)49 b F4(the)30 b(identi\002cation)f(of)h(what)g(must)f(be)i
(added)f(to)g(con)l(v)o(entional)e(type)i(theories)g(\(such)g(as)601
526 y(those)38 b(underlying)h(L)t F2(E)t(G)t(O)44 b F4(or)d(C)t
F2(O)t(Q)r F4(\))g(to)e(f)o(acilitate)f(pattern)h(matching)f(for)h
(dependent)601 675 y(types)24 b(\(as)h(implemented)e(in)h(ALF\))502
908 y F3(\017)49 b F4(a)26 b(systematic)e(vie)n(w)h(of)h(elimination)e
(rules,)i(leading)f(to)h(the)f(use)h(of)g FU(derived)i
F4(elimination)601 1057 y(rules)36 b(to)h(characterise)g(and)g(indeed)f
(specify)h(programs)f(in)h(a)g(compact)f(and)h(po)n(werful)601
1207 y(w)o(ay)357 1606 y FT(1.1)142 b(o)o(v)o(er)o(view)357
1919 y F4(This)24 b(thesis)f(records)i(my)f(de)n(v)o(elopment)e(of)j
(technology)e(to)i(support)e(functional)h(programming)357
2068 y(o)o(v)o(er)19 b(dependent)h(datatypes)g(by)g(pattern)g(matching)
f(and)h(structural)g(recursion)g(in)g(an)g(intensional)357
2218 y(type)32 b(theory)-6 b(.)54 b(This)31 b(technology)h(also)g
(suggests)g(no)o(v)o(el)f(tools)g(and)i(techniques)f(for)h(reasoning)
357 2367 y(about)24 b(such)g(programs.)31 b(Let)24 b(me)h(gi)n(v)o(e)e
(an)i(o)o(v)o(ervie)n(w)-6 b(,)23 b(identifying)g(the)i(inno)o(v)n
(ations.)357 2577 y(I)j(open)f(with)h(an)f(account)h(of)g(a)g(theorem)g
(pro)o(ving)e(in)i(a)g(type)f(theory)-6 b(,)30 b(O)t
F2(L)t(E)t(G)r F4(,)3126 2540 y FS(1)3195 2577 y F4(which)d(is)g(based)
357 2726 y(on)f(Luo')-5 b(s)27 b(ECC)h([Luo94)o(],)g(b)n(ut)e(includes)
g(an)i(account)e(of)i(`holes')2695 2690 y FS(2)2759 2726
y F4(in)e(terms.)37 b(There)28 b(is)e(a)i(lot)e(of)357
2875 y(theorem)g(pro)o(ving)e(in)i(this)g(thesis.)34
b(Some)26 b(of)h(it)e(is)h(done)g(by)g(hand.)35 b(Much)26
b(of)h(it)e(is)h(done)g(by)g(ma-)357 3025 y(chines,)k(manuf)o(acturing)
e(and)h(e)o(xploiting)e(standard)i(equipment)f(for)i(w)o(orking)e(with)
h(datatypes)357 3174 y(and)f(equational)f(problems.)41
b(I)28 b(therefore)h(feel)g(obliged)e(to)h(gi)n(v)o(e)f(a)i(precise)g
(treatment)e(not)h(only)357 3324 y(of)d(theorems)f(b)n(ut)g(also)g
(theorem)h(pro)o(ving.)357 3533 y(The)34 b(no)o(v)o(elty)f(is)h(that)g
(holes)h(are)g(handled)f(much)g(as)h(other)f(v)n(ariables)g(and)h
(accounted)g(for)g(by)357 3683 y(binding)24 b(entirely)h(within)g(the)g
(judgments)f(of)i(the)g(system.)32 b(This)25 b(system)g(is)g(w)o
(orkable)h(because)357 3832 y(the)32 b(core)h(calculus)f(of)h(terms)f
(is)g(embedded)h(in)f(a)h(`de)n(v)o(elopment)d(calculus',)k(which)f(is)
f(where)357 3981 y(the)25 b(hole-bindings)e(are)i(to)g(be)g(found\227a)
f(core)i(term)e(in)h(the)g(scope)g(of)g(a)g(hole)g(may)f(nonetheless)
357 4131 y(refer)35 b(to)e(that)h(hole.)58 b(The)34 b(ef)n(fect)h(of)f
(the)g(separation)f(is)h(to)f(pre)n(v)o(ent)g(troublesome)g
(interaction)357 4280 y(between)f(computation)e(and)h(holes.)52
b(Consequently)-6 b(,)32 b(terms)f(\(called)h(`partial)g
(constructions'\))357 4430 y(in)k(the)h(de)n(v)o(elopment)e(calculus)h
(enjo)o(y)g(the)h(property)g(that)f(one)h(may)f(safely)h(be)g(replaced)
h(by)357 4579 y(another)24 b(of)h(the)g(same)g(type\227remarkably)e
(good)h(beha)n(viour)h(for)g(a)g(dependent)f(type)h(system.)357
4789 y(As)36 b(a)i(result,)h(theorem)d(pro)o(ving)g(in)i(O)t
F2(L)t(E)t(G)k F4(consists)35 b(e)o(xactly)i(of)g(editing)g(O)t
F2(L)t(E)t(G)42 b F4(judgments)357 4938 y(in)30 b(w)o(ays)g(which)g
(are)h(guaranteed)g(to)f(preserv)o(e)h(their)f(deri)n(v)n(ability)-6
b(.)44 b(Although)31 b(O)t F2(L)t(E)t(G)k F4(is)30 b(more)p
357 5028 1373 4 v 473 5089 a FR(1)506 5119 y FQ(The)g(name)f(`)r(O)t
FS(L)t(E)t(G)r FQ(')h(is)h(a)f(trib)n(ute)g(to)g(Randy)g(Pollack')-5
b(s)30 b(proof)e(assistant)33 b(L)t FS(E)t(G)t(O)r FQ(.)55
b(The)30 b(ne)n(w)g(treatment)f(of)357 5219 y(partial)20
b(proofs)e(required)h(only)g(a)i(minor)e(rearrangement.)473
5288 y FR(2)506 5318 y FQ(also)k(kno)n(wn)e(as)i(`meta)n(v)n
(ariables',)d(`e)o(xistential)i(v)n(ariables',)f(`question)g(marks')h
(and)g(man)o(y)f(other)g(names)h(be-)357 5418 y(sides)2047
5667 y F4(7)p eop
%%Page: 8 13
8 12 bop 357 -6 a F4(restricti)n(v)o(e)26 b(than)h(systems)f(with)h(e)o
(xplicit)f(substitution,)g(those)h(restrictions)f(will)h(not)g(hinder)h
(us)357 144 y(in)c(the)h(slightest.)357 353 y(The)38
b(inducti)n(v)o(e)d(datatypes)j(we)g(shall)f(be)h(concerned)g(with)f
(are)i(much)e(lik)o(e)h(those)f(of)j(L)t F2(E)t(G)t(O)r
F4(,)359 503 y(C)t F2(O)t(Q)r F4([Coq97)r(])25 b(or)h(ALF)f([Mag94].)32
b(Their)25 b(elements)f(are)i(introduced)f(by)g(constructor)f(symbols)
357 652 y(whose)g(recursi)n(v)o(e)g(ar)n(guments)g(satisfy)g(a)i
(strict)e(positi)n(vity)e(condition.)29 b(Recursi)n(v)o(e)24
b(computation)357 802 y(and)35 b(inducti)n(v)o(e)e(proof)j(are)g(pro)o
(vided)e(in)h(the)h(old-f)o(ashioned)e(`elimination)g(rule')h(style.)62
b(This)357 951 y(necessitated)32 b(the)g(inno)o(v)n(ation)e(of)i
(principled)g(tactical)g(support)f(for)i(such)f(rules,)i(documented)357
1101 y(in)26 b(chapter)h(three.)36 b(Ho)n(we)n(v)o(er)l(,)26
b(the)h(technology)e(is)h(not)g(restricted)h(to)f(elimination)f(rules)h
(arising)357 1250 y(from)e(datatypes.)357 1459 y(The)34
b(contrib)n(ution)e(from)i(this)g(thesis)f(to)h(the)g(methodology)e(of)
i(program)g(v)o(eri\002cation)g(lies)g(in)357 1609 y(the)f(use)f(of)h
(deri)n(v)o(ed)f(elimination)f(rules)i(to)g(capture)g(the)g(le)n(v)o
(erage)f(e)o(x)o(erted)h(by)f(a)i(gi)n(v)o(en)d(piece)357
1758 y(of)h(information)e(on)h(an)h(arbitrary)g(goal.)51
b(The)32 b(abstraction)f(of)h(the)g(predicate)g(in)f(an)h(induction)357
1908 y(principle)f(or)i(the)f(return)g(type)g(in)g(a)g(datatype)g(fold)
g(operator)h(point)e(the)h(w)o(ay)-6 b(.)53 b(Gi)n(v)o(en)30
b(a)j(piece)357 2057 y(of)g(information,)g(we)g(ha)n(v)o(e)g(been)g
(indoctrinated)f(to)h(ask)g(what)f(we)i(can)f(deduce)g(from)g(it\227we)
357 2207 y(should)f(rather)j(ask)f(ho)n(w)f(we)h(can)g(deduce)g
FU(what)g(we)h(want)g F4(from)f(it.)58 b(The)33 b(tactics)h(of)g
(chapter)357 2356 y(three)22 b(were)h(de)n(v)o(eloped)e(to)h(support)f
(datatype)h(elimination)e(rules,)i(b)n(ut)g(the)o(y)f(allo)n(w)g(us)h
(to)g(e)o(xploit)357 2506 y(a)38 b(wide)f(class)g(of)h(rules)g(which)f
(similarly)f(abstract)h(the)h(type)f(of)h(their)f(conclusions.)68
b(I)38 b(gi)n(v)o(e)357 2655 y(numerous)30 b(e)o(xamples)g(capturing)h
(the)g(beha)n(viour)g(of)g(programs)g(in)g(this)f(w)o(ay)-6
b(,)33 b(and)e(I)h(belie)n(v)o(e)e(I)357 2804 y(demonstrate)24
b(the)g(ef)n(\002cac)o(y)h(of)g(the)g(polic)o(y)-6 b(.)357
3014 y(Once)44 b(we)g(understand)f(elimination)e(rules,)48
b(we)c(may)g(gi)n(v)o(e)e(proper)i(attention)e(to)h(inducti)n(v)o(e)357
3163 y(datatypes.)55 b(In)33 b(particular)l(,)i(we)e(may)g(use)g
(chapter)g(three')-5 b(s)33 b(technology)f(to)h(deri)n(v)o(e)f(from)h
(each)357 3313 y(`con)l(v)o(entional')25 b(eliminator)h(a)h(pair)g(of)f
(alternati)n(v)o(e)g(eliminators)f(which)i(usefully)e(untangle)h(the)
357 3462 y(treatment)j(of)h(case)h(analysis)e(and)h(recursion)f(on)h
(structurally)f(smaller)g(terms.)46 b(This)29 b(gi)n(v)o(es)g(ef-)357
3612 y(fecti)n(v)o(ely)h(the)h(same)g(presentation)f(as)h(the)g
FW(Case)f F4(and)h FW(Fix)g F4(constructs)f(which)h(are)h(primiti)n(v)o
(e)357 3761 y(notions)h(in)k(C)t F2(O)t(Q)r F4(.)63 b(The)35
b(equi)n(v)n(alence)f(w)o(as)h(established)f(by)g(Eduardo)h(Gim)6
b(\264)-39 b(enez)34 b([Gim94)o(]\227)357 3910 y(only)h(minor)g
(adaptations)h(are)h(required)f(to)g(mechanise)g(his)f(construction.)64
b(Chapter)36 b(four)h(is)357 4060 y(reassuringly)24 b(unremarkable.)357
4269 y(Case)j(analysis)e(on)h(a)g(restricted)g(instance)g(of)g(an)g
(inducti)n(v)o(e)e(f)o(amily)h(\(henceforth)i(a)f F0(subfamily)p
F4(\))357 4419 y(ine)n(vitably)k(in)l(v)n(olv)o(es)h(equational)h
(reasoning.)54 b(F)o(or)33 b(e)o(xample,)g(we)g(may)g(de\002ne)g(the)f
(f)o(amily)g(of)357 4568 y(lists)24 b FU(inde)n(xed)h(by)g(their)f
(length)p F4(\227when)g(analysing)g(the)h(instance)g(constrained)g(to)f
(contain)h(only)357 4718 y FU(nonempty)k F4(lists,)g(we)h(rule)g(out)f
(the)g(`nil')h(constructor)e(because)i(the)g(list)f(it)g(generates)h
(does)f(not)357 4867 y(satisfy)f(that)g(constraint.)41
b(More)29 b(generally)-6 b(,)29 b(for)g(each)g(constructor)l(,)g(we)g
(must)f(represent)h(at)f(the)357 5017 y(object-le)n(v)o(el)g(the)i
(constraint)e(that)i(its)f(return)g(type)h(uni\002es)f(with)h(the)f
(subf)o(amily)g(under)g(analy-)357 5166 y(sis.)g(These)22
b(constraints)f(are)h(similar)f(to)h(the)g(uni\002cation)f(problems)g
(which)h(arise)g(in)f(`unfolding')357 5315 y(transformations)27
b(for)i(logic)e(programs)h([TS83,)h(GS91].)42 b(My)28
b(MSc)h(w)o(ork)f(in)l(v)n(olv)o(ed)f(a)i(system-)357
5465 y(atic)e(solution)e(for)j(simply)d(typed)i(problems)f(in)h
(constructor)g(form,)g(implemented)f(in)g(the)i(form)2047
5667 y(8)p eop
%%Page: 9 14
9 13 bop 357 -6 a F4(of)25 b(a)g(tactic)f([McB96].)357
204 y(Chapter)32 b(\002)n(v)o(e)f(e)o(xtends)g(the)h(treatment)f(to)g
(dependent)h(types.)51 b(Of)32 b(necessity)-6 b(,)32
b(this)f(requires)h(us)357 353 y(to)f(compare)h(sequences)g(of)g(terms)
f(where)i(later)f(elements)f(may)g(ha)n(v)o(e)h(propositionally)d
(equal)357 503 y(b)n(ut)g(computationally)f(distinct)h(types,)i(an)g
(area)g(which)f(has)g(al)o(w)o(ays)g(pro)o(v)o(ed)f(troublesome)g(for)
357 652 y(intensional)i(type)i(theory)-6 b(.)54 b(I)33
b(present)g(a)g(ne)n(w)-6 b(,)34 b(slightly)d(more)i(relax)o(ed)f
(de\002nition)g(of)h(equality)357 802 y(which)28 b(scales)g(up)g(to)h
(sequences)f(without)f(signi\002cant)h(attendant)f(clumsiness.)41
b(It)28 b(turns)g(out)g(to)357 951 y(be)d(equi)n(v)n(alent)f(to)h(the)g
(more)h(traditional)e(inducti)n(v)o(e)f(de\002nition)i(augmented)g(by)g
(the)g(axiom)g(that)357 1101 y(identity)e(proofs)h(are)h(unique.)30
b(So)25 b(equipped,)f(we)h(may)f(easily)g(pro)o(v)o(e)f(for)i(each)g
(datatype)g(its)e(`no)357 1250 y(confusion')31 b
(property\227constructors)f(are)i(injecti)n(v)o(e)e(and)i
(disjoint\227in)d(the)j(form)f(of)h(a)g(single)357 1399
y(elimination)26 b(rule.)41 b(I)28 b(also)g(gi)n(v)o(e)f(a)i
(systematic)e(proof)h(that)g(each)h(datatype)e(contains)h(no)g(c)o
(ycles.)357 1549 y(It)c(is)h(these)f(lemmas)g(which)h(justify)e(the)i
(transitions)e(of)i(the)f(uni\002cation)h(tactic.)357
1758 y(In)c([Coq92],)h(Thierry)e(Coquand)h(characterises)h(a)f(class)g
(of)g(`pattern)g(matching')f(programs)g(o)o(v)o(er)357
1908 y(dependent)34 b(types)g(which)g(ensure)h(that)f(patterns)g(co)o
(v)o(er)g(all)g(possibilities)e(\(deterministically\))357
2057 y(and)k(that)f(recursion)h(is)g(structural.)64 b(This)35
b(is)h(the)g(class)g(of)g(programs)g(made)g(a)n(v)n(ailable)f(\(with)
357 2207 y(unrestricted)24 b(recursion\))h(in)f(the)g(ALF)h(system)f
([Mag94)o(].)31 b(Chapter)26 b(six)e(contains)f(the)i(principal)357
2356 y(metatheoretic)k(result)g(of)h(this)f(thesis,)h(con\002rming)f
(that)g(the)h(same)f(class)h(of)g(programs)f(can)h(be)357
2506 y(constructed)j(from)h(traditional)f(datatype)h(elimination)e
(rules,)k(gi)n(v)o(en)d(uniqueness)g(of)h(identity)357
2655 y(proofs.)29 b(The)21 b(meta-le)n(v)o(el)f(uni\002cation)h(in)g
(Coquand')-5 b(s)20 b(presentation)h(is)g(performed)g(at)h(the)f
(object)357 2804 y(le)n(v)o(el)i(by)i(the)f(tactic)h(de)n(v)o(eloped)f
(in)g(chapter)h(\002)n(v)o(e.)357 3014 y(By)30 b(w)o(ay)g(of)h
(illustration,)e(if)h(not)g(celebration,)h(the)f(w)o(ork)g(of)g(the)g
(thesis)f(closes)h(with)f(tw)o(o)h(sub-)357 3163 y(stantial)23
b(e)o(xamples)h(of)h(v)o(eri\002ed)g(dependently)f(typed)g(programs.)30
b(Both)25 b(concern)g(syntax:)502 3408 y F3(\017)49 b
F4(substitution)22 b(for)j(untyped)e FY(\025)p F4(-terms,)i(sho)n(wn)e
(to)i(ha)n(v)o(e)f(the)h(properties)f(of)h(a)g(monad)502
3625 y F3(\017)49 b F4(a)22 b FU(structur)o(ally)e(r)l(ecur)o(sive)j
F4(\002rst-order)g(uni\002cation)f(algorithm,)f(sho)n(wn)h(to)g
(compute)f(most)601 3774 y(general)k(uni\002ers)357 4019
y(It)31 b(is)f(well)h(understood,)g(at)h(least)e(in)h(the)g(type)g
(theory)f(community)-6 b(,)30 b(that)h(we)g(may)g(only)f(really)357
4169 y(mak)o(e)35 b(sense)h(of)g(terms)f FU(r)l(elative)g(to)g(a)h
(conte)n(xt)h F4(which)f(e)o(xplains)e(their)h(free)i(v)n(ariables.)62
b(Both)357 4318 y(of)31 b(these)g(e)o(xamples)f(e)o(xpress)g(that)h
(sense)g(directly)f(in)h(their)f(data)i(structures,)g(a)f(gain)f(which)
h(is)357 4468 y(re\003ected)26 b(in)e(the)h(correctness)g(proofs.)357
4677 y(Neither)g(e)o(xample)g(is)g(ne)n(w)h(to)f(the)h(literature)f(of)
h(program)f(synthesis)f(and)i(v)o(eri\002cation.)33 b(Substi-)357
4827 y(tution)18 b(has)h(been)h(treated)g(recently)g([BP99,)g(AR99])g
(via)f(polymorphic)f(recursion,)i(and)g(I)g(include)357
4976 y(it)26 b(simply)g(to)h(sho)n(w)f(that)h(dependent)g(types)g
(easily)f(of)n(fer)i(the)f(same)g(functionality)-6 b(,)26
b(without)g(re-)357 5125 y(course)f(to)f(counterfeiting)g(inde)o(x)g
(data)h(at)f(the)h(type)f(le)n(v)o(el.)357 5335 y(The)k(e)o(xisting)e
(treatments)i(of)g(uni\002cation)f(turn)h(on)g(the)g(use)g(of)g(an)h(e)
o(xternally)e(imposed)g(termi-)357 5484 y(nation)i(ordering.)47
b(The)30 b(no)o(v)o(elty)e(here)j(is)e(that)h(by)g(inde)o(xing)f(terms)
g(with)h(the)g(number)f(of)i(v)n(ari-)2047 5667 y(9)p
eop
%%Page: 10 15
10 14 bop 357 -6 a F4(ables)29 b(which)g(may)g(occur)g(in)g(them,)h(we)
g(gain)e(access)i(to)f(computation)e(o)o(v)o(er)i(that)g(inde)o
(x\227this)357 144 y(is)g(enough)g(to)h(capture)g(the)f(program)h(for)g
(structural)f(recursion.)46 b(W)l(itness)29 b(the)g(bene\002t)h(from)g
(a)357 293 y(program)21 b(which)g(captures)g(much)g(more)g(precisely)g
(the)g(sense)g(of)h(the)f(algorithm)f(it)g(implements.)357
503 y(Both)g(de)n(v)o(elopments)d(adopt)j(the)f(methodology)f(of)j
(characterising)e(the)h(beha)n(viour)g(of)g(their)g(sub-)357
652 y(programs)32 b(by)g(means)h(of)g(elimination)d(rules.)55
b(Establishing)30 b(program)j(correctness)g(becomes)357
802 y(suf)n(\002ciently)22 b(easy)i(that)f(in)g(presenting)g(the)g
(proofs,)h(I)f(cut)h(corners)g(only)e(where)i(to)g(do)f(otherwise)357
951 y(w)o(ould)h(be)h(monotonous)d(in)j(the)f(e)o(xtreme.)357
1161 y(I)35 b(w)o(ould)f(lik)o(e)h(to)f(apologise)g(for)i(the)f(length)
f(and)h(linearity)f(of)h(this)f(thesis.)61 b(I)35 b(hope)g(it)f(is)h
(not)357 1310 y(nearly)25 b(as)f(much)h(trouble)f(to)g(read)i(as)f(it)f
(w)o(as)h(to)f(write.)357 1703 y FT(1.2)142 b(this)36
b(thesis)e(in)i(context)601 1961 y FV(`I)c(do)g(press)g(you)g(still)f
(to)g(gi)n(v)o(e)g(me)h(an)h(account)f(of)g(yourself,)i(for)e(you)g
(certainly)601 2080 y(did)24 b(not)g(spring)g(from)h(a)g(tree)g(or)g(a)
g(rock)g FY(:)17 b(:)g(:)41 b FV(')192 b F4(\(Penelope.)31
b FU(Odysse)m(y)p F4(,)24 b(Homer\))357 2346 y(I)29 b(sprang)g(from)g
(a)h(little-kno)n(wn)d(Belf)o(ast)i(pattern-matcher)h(in)e(1973.)44
b(I)29 b(ha)n(v)o(e)g(spent)g(my)g(whole)357 2496 y(life)e(surrounded)f
(by)h(pattern)g(matching,)g(I)h(ha)n(v)o(e)f(implemented)e(pattern)i
(matching)f(almost)g(e)n(v-)357 2645 y(ery)38 b(year)h(since)e(1988,)k
(and)d(no)n(w)f(I)h(am)g(doing)f(a)i(PhD)f(about)f(pattern)h(matching)f
(with)g(Rod)357 2795 y(Burstall.)30 b(F)o(ortunately)-6
b(,)23 b(my)h(mother)h(w)o(as)f(not)h(a)g(computer)f(scientist.)29
b(Enough)24 b(about)g(me.)357 3004 y(Martin-L)8 b(\250)-41
b(of)5 b(')-5 b(s)20 b(type)h(theory)f([M-L71a])i(is)e(a)i(well)e
(established)g(and)h(con)l(v)o(enient)f(arena)i(in)f(which)357
3154 y(computational)33 b(Christians)g(are)j(re)o(gularly)e(fed)h(to)f
(logical)g(lions\227until)e(relati)n(v)o(ely)h(recently)-6
b(,)357 3303 y(much)28 b(more)g(emphasis)g(has)g(been)h(placed)g(on)f
(type)g(theory)h(as)f(a)h(basis)f(for)h(constructi)n(v)o(e)e(logic)357
3453 y(than)j(for)g(programming.)45 b(Comparati)n(v)o(ely)29
b(boring)g(programs)h(ha)n(v)o(e)g(been)g(written;)i(compara-)357
3602 y(ti)n(v)o(ely)c(interesting)h(theorems)h(ha)n(v)o(e)g(been)h(pro)
o(v)o(en.)46 b(This)29 b(is)h(a)h(pity)-6 b(,)30 b(as)h(the)f(e)o
(xpressi)n(v)o(eness)e(of)357 3751 y(type)c(theory)h(promises)e(much)i
(bene\002t)g(for)g(both.)30 b(But)24 b(things)g(ha)n(v)o(e)g(changed.)
357 3961 y(Induction)e(on)g(the)h(natural)g(numbers)f(w)o(as)h
(presented)g(e)o(xplicitly)e(in)i(dif)n(ferent)f(guises)g(by)h(P)o
(ascal)357 4110 y(and)32 b(Fermat)h(in)g(the)f(se)n(v)o(enteenth)f
(century)-6 b(,)34 b(although)e(it)g(has)g(been)h(used)g(implicitly)d
(for)j(a)g(lot)357 4260 y(longer)-5 b(.)29 b(Fre)o(ge)22
b(and)g(Dedekind)g(independently)e(ga)n(v)o(e)h(inducti)n(v)o(e)f
(de\002nitions)h(an)h(e)o(xplanation)f(in)357 4409 y(impredicati)n(v)o
(e)i(set)j(theory)-6 b(.)33 b(`Structural)26 b(induction')f(had)g(been)
h(widely)f(used)h(in)f(mathematical)357 4559 y(logic)i([CF58,)h(MP67)o
(])g(by)g(the)f(time)g(Burstall)g(introduced)g(the)g(notion)g(of)g
(inducti)n(v)o(e)f(datatypes)357 4708 y(to)36 b(programming,)h(with)f
(elements)f(b)n(uilt)h(from)g(constructor)f(functions)g(and)i(tak)o(en)
f(apart)h(by)357 4858 y(case)25 b(analysis)f([Bur69].)357
5067 y(Inducti)n(v)o(e)37 b(datatypes)h(ha)n(v)o(e)g(escaped)h(from)g
(programming)e(languages)h([McB70,)h(BMS80])3750 5031
y FS(3)357 5216 y F4(and)g(arri)n(v)o(ed)f(in)h(type)g(theory)g([M-L84)
o(,)g(CPM90].)74 b(Since)40 b(then,)i(the)o(y)d(ha)n(v)o(e)f(become)h
(more)p 357 5293 1373 4 v 473 5355 a FR(3)506 5385 y
FQ(My)23 b(f)o(ather')-5 b(s)23 b(LISP-with-pattern-matching)c(w)o(as)
24 b(a)g(programming)c(language)h(which)i(escaped)g(from)f(an)h(in-)357
5484 y(ducti)n(v)o(e)c(datatype.)2022 5667 y F4(10)p
eop
%%Page: 11 16
11 15 bop 357 -6 a F4(e)o(xpressi)n(v)o(e,)22 b(with)g(the)i(inde)o
(xing)e(po)n(wer)h(of)g(dependent)g(type)h(theory)f(gi)n(ving)f(a)h
(natural)h(home)f(to)357 144 y(inducti)n(v)o(e)29 b(f)o(amilies)h(of)i
(types)e([Dyb91].)50 b(F)o(or)31 b(e)o(xample,)h(as)g(hinted)e(abo)o(v)
o(e,)i(the)f(polymorphic)357 293 y(datatype)24 b FZ(list)e
FP(A)t F4(,)i(with)g(constructors)p 611 594 492 4 v 611
672 a FZ(nil)d FP(A)32 b FX(:)c FZ(list)21 b FP(A)1272
571 y(h)27 b FX(:)h FP(A)124 b(t)28 b FX(:)g FZ(list)21
b FP(A)p 1272 594 655 4 v 1275 672 a FZ(cons)h FP(h)f(t)28
b FX(:)g FZ(list)21 b FP(A)357 936 y F4(can)k(be)g(presented)g(in)f(a)h
(usefully)f(inde)o(x)o(ed)f(w)o(ay)i(as)g(v)o(ectors\227lists)d
FU(of)j(a)g(given)f(length)p F4(:)p 611 1237 644 4 v
611 1315 a FZ(vnil)766 1330 y FO(A)850 1315 y FX(:)k
FZ(v)n(ect)1121 1330 y FO(A)1199 1315 y FZ(0)1467 1214
y FP(h)f FX(:)h FN(A)120 b FP(t)28 b FX(:)f FZ(v)n(ect)2129
1229 y FO(A)2207 1214 y FP(n)p 1423 1237 883 4 v 1423
1315 a FZ(vcons)c FP(h)f(t)28 b FX(:)f FZ(v)n(ect)2134
1330 y FO(A)2212 1315 y FZ(s)o FP(n)357 1580 y F4(T)-8
b(yping)31 b(is)h(strong)f(enough)h(to)g(tell)f(when)i(a)f(v)o(ector)g
(is)g(empty)-6 b(,)33 b(so)f(potentially)e(disastrous)h(de-)357
1729 y(structi)n(v)o(e)23 b(operations)h(lik)o(e)g(`head')h(and)g
(`tail')g(can)g(be)g(safely)g(defused.)357 1938 y(Ho)n(we)n(v)o(er)l(,)
76 b(there)66 b(are)i(signi\002cant)e(w)o(ays)g(in)h(which)f(dependent)
g(datatypes)g(are)h(more)357 2088 y(troublesome\227the)31
b(question)h(is)g(`what)h(datatypes)g(shall)f(we)i(ha)n(v)o(e)e(and)h
(ho)n(w)g(shall)f(we)h(com-)357 2237 y(pute)23 b(with)h(them?'.)30
b(The)24 b(datatypes)f(and)h(f)o(amilies)f(proposed)g(by)h(Thierry)g
(Coquand,)g(Christine)357 2387 y(P)o(aulin-Mohring)29
b(and)h(Peter)i(Dybjer)f(ha)n(v)o(e)f(been)h(inte)o(grated)f(with)g
(type)h(theory)f(in)h(a)g(number)357 2536 y(of)25 b(v)n(ariations.)357
2746 y(Zhaohui)i(Luo')-5 b(s)26 b(UTT)i([Luo94)o(])g(is)g(closest)f(to)
g(the)h(traditional)e(presentation,)i(equipping)e(f)o(am-)357
2895 y(ilies)h(based)i(on)f(safe)h(`strictly)e(positi)n(v)o(e')f
(schemata)i(with)g(elimination)e(constants)h(doubling)g(as)357
3044 y(induction)18 b(principles)h(and)h(recursion)g(operators.)29
b(This)19 b(is)h(a)g(conserv)n(ati)n(v)o(e)e(treatment)h(for)i(which)
357 3194 y(the)28 b(appropriate)f(forms)h(of)g(good)f(beha)n(viour)h
(were)g(established)f(by)h(Healf)g(Goguen)g([Gog94)o(].)357
3343 y(Unfortunately)-6 b(,)20 b(recursion)h(operators)h(mak)o(e)f
(some)n(what)f(unwieldy)g(instruments)g(for)h(program-)357
3493 y(ming,)i(as)i(an)o(yone)f(who)h(has)g(e)n(v)o(er)f(added)h
(natural)f(numbers)g(in)j(L)t F2(E)t(G)t(O)r F4([Pol94)r(])e(will)f
(tell)g(you.)357 3702 y(Thierry)19 b(Coquand')-5 b(s)19
b(1992)g(presentation)f(of)i(pattern)f(matching)g(for)g(dependent)g
(types)g([Coq92],)357 3852 y(implemented)25 b(in)h(the)h(ALF)g(system)e
(by)h(Lena)h(Magnusson)f([Mag94)o(],)h(w)o(as)g(sho)n(wn)e(to)i(be)g
(non-)357 4001 y(conserv)n(ati)n(v)o(e)22 b(o)o(v)o(er)i(con)l(v)o
(entional)f(type)h(theory)g(by)g(Hofmann)g(and)g(Streicher)l(,)i(since)
e(it)g(implies)357 4151 y(uniqueness)30 b(of)h(identity)f(proofs)h
([HoS94].)51 b(P)o(attern)31 b(matching)f(for)i(the)f(full)g(language)g
(of)h(in-)357 4300 y(ducti)n(v)o(e)21 b(f)o(amilies)h(is)g(contingent)g
(on)h(uni\002cation,)f(which)g(is)h(needed)g(to)f(check)i(whether)f(a)g
(gi)n(v)o(en)357 4449 y(constructor)k(can)h(manuf)o(acture)g(an)g
(element)g(of)g(a)g(gi)n(v)o(en)e(f)o(amily)h(instance.)40
b(Uni\002cation,)28 b(once)357 4599 y(it)c(escapes)h(from)g(simple)e
(\002rst-order)j(syntax)o(es,)d(becomes)h(frightening)g(to)g(an)o(yone)
h(with)f(a)h(well)357 4748 y(de)n(v)o(eloped)e(instinct)g(for)i(survi)n
(v)n(al,)e(although)h(some)g(do)h(survi)n(v)o(e.)357
4958 y(Subsequent)j(systems)f(in)h(the)h(ALF)g(f)o(amily)-6
b(,)28 b(such)g(as)h(Agda)g([Hal99)o(],)h(ha)n(v)o(e)f(been)f(much)g
(more)357 5107 y(cautious)22 b(about)g(what)h(datatypes)f(the)o(y)g
(will)g(allo)n(w)-6 b(,)22 b(in)g(order)i(to)e(be)h(much)g(more)f
(generous)h(with)357 5257 y(f)o(acilities)f(for)h(w)o(orking)f(with)h
(them.)29 b(In)23 b(particular)l(,)g(the)g(question)f(of)h
(uni\002cation)f(is)h(a)n(v)n(oided)g(by)357 5406 y(forbidding)g
(datatype)i(constructors)f(to)h(restrict)g(their)g(return)g(types)f(to)
h(a)g(portion)f(of)h(the)g(f)o(amily)2022 5667 y(11)p
eop
%%Page: 12 17
12 16 bop 357 -6 a F4(\(e)o(g,)33 b(empty)d(v)o(ectors,)j(nonempty)d(v)
o(ectors\).)50 b(F)o(amilies)30 b(are)i(declared)g(in)f(a)h(similar)e
(manner)i(to)357 144 y(datatypes)24 b(in)g(functional)g(programming)f
(languages:)601 436 y FZ(data)f(f)l(amily)h FP(x)1215
451 y FM(1)1271 436 y FY(:)17 b(:)g(:)f FP(x)1452 451
y FL(n)1549 436 y FX(=)49 b FZ(con)23 b FP(T)1948 451
y FM(1)2004 436 y FY(:)17 b(:)g(:)f FP(T)2196 451 y FL(k)2288
436 y F3(j)50 b FY(:)17 b(:)g(:)357 729 y F4(The)k(indices)h
FP(x)887 744 y FM(1)943 729 y FY(:)17 b(:)g(:)g FP(x)1124
744 y FL(n)1193 729 y F4(are)23 b(distinct)d(v)n(ariables,)h
(indicating)g(that)g(each)h(constructor)g FZ(con)p F4(,)g(what-)357
878 y(e)n(v)o(er)e(its)g(domain)g(types)g FP(T)1272 893
y FM(1)1328 878 y FY(:)d(:)g(:)f FP(T)1520 893 y FL(k)1563
878 y F4(,)21 b(its)g(range)g(is)f(o)o(v)o(er)g(the)h(entire)g(f)o
(amily)f(P)o(attern)g(matching)g(o)o(v)o(er)357 1028
y(an)i(instantiated)f(subf)o(amily)g(just)g(instantiates)g(the)h
FP(x)o F4(')-5 b(s)22 b(in)g(the)g(types)g(of)g(the)g(constructors,)g
(rather)357 1177 y(than)i(generating)h(an)g(arbitrarily)f(comple)o(x)f
(uni\002cation)h(problem.)357 1387 y(This)35 b(is)h(a)g(sensible)g
(restriction)f(with)g(a)i(sound)e(moti)n(v)n(ation.)62
b(It)36 b(is)g(also)g(a)g(serious)g(one,)j(for)n(-)357
1536 y(bidding,)26 b(for)i(e)o(xample,)f(the)g(formulation)f(of)h(the)h
(identity)e(type\227the)g(re\003e)o(xi)n(vity)g(constructor)357
1686 y(restricts)c(its)g(return)h(type)g(to)f(the)h(subf)o(amily)f
(where)h(the)g(indices)f(are)i(equal.)30 b(As)23 b(we)g(decompose)357
1835 y(elements)30 b(of)i(these)f(datatypes,)i(their)e(indices)g(can)h
(only)f(become)g(more)g(instantiated\227Agda)357 1984
y(datatype)24 b(indices)g(only)g(`go)h(up'.)357 2194
y(Some)30 b(of)h(the)f(po)n(wer)h(lost)e(in)h(this)g(w)o(ay)h(is)f
(recaptured)h(by)f(computing)f(types)h(from)g(data.)48
b(F)o(or)357 2343 y(e)o(xample,)29 b(the)g(type)h(of)f(v)o(ectors,)h
(although)e(not)h(a)g(datatype)g(in)g(Agda)h(can)f(be)h
FU(computed)i F4(from)357 2493 y(the)24 b(length)g(inde)o(x:)601
2775 y FZ(v)n(ect)817 2790 y FO(A)992 2775 y FZ(0)119
b FX(=)147 b FZ(1)-44 b(1)601 2895 y(v)n(ect)817 2910
y FO(A)972 2895 y FZ(s)p FP(n)100 b FX(=)147 b FP(A)5
b F3(\002)p FX(\()p FZ(v)n(ect)1797 2910 y FO(A)1875
2895 y FP(n)p FX(\))357 3175 y F4(This)28 b(kind)f(of)i(computed)f
(type)g(is)g(good)g(for)h(data)g(which)f(are)i(in)e(some)g(w)o(ay)h
(measured)f(by)g(the)357 3325 y(indices\227elements)h(are)i(\002nite,)h
(not)e(because)h(the)o(y)f(contain)g(only)g(\002nitely)g(man)o(y)g
(constructor)357 3474 y(symbols)38 b(per)i(se,)j(b)n(ut)d(because,)j
(as)d(we)g(decompose)f(them,)k(their)d(indices)f(recursi)n(v)o(ely)f
(`go)357 3624 y(do)n(wn')33 b(some)h(well-founded)g(ordering.)60
b(There)35 b(is)f(no)g(place,)j(in)d(this)g(setting,)i(for)e(inducti)n
(v)o(e)357 3773 y(f)o(amilies)24 b(whose)g(indices,)g(lik)o(e)g(those)h
(of)g(the)f(stock)g(e)o(xchange,)h(can)g(go)g(do)n(wn)e(as)i(well)g(as)
g(up.)357 3983 y(The)30 b(practical)g(limitations)e(of)i(this)f(system)
g(require)h(further)h(e)o(xploration.)45 b(Certainly)-6
b(,)31 b(the)f(re-)357 4132 y(mo)o(v)n(al)j(of)j(uni\002cation)f(from)g
(the)g(pattern)h(matching)e(process)i(mak)o(es)f(it)g(considerably)f
(more)357 4282 y(straightforw)o(ard)39 b(to)g(implement)f(attracti)n(v)
o(ely)g(and)i(to)g(grasp.)75 b(It)40 b(has)g(been)g(e)n(v)o(en)f(been)h
(im-)357 4431 y(plemented)f(outside)g(the)g(protecti)n(v)o(e)g(en)l
(vironment)f(of)i(the)g(interacti)n(v)o(e)f(proof)g(assistant\227in)357
4580 y(Lennart)34 b(Augustsson')-5 b(s)32 b(dependently)h(typed)h
(programming)f(language,)j(Cayenne)f([Aug98)o(].)357
4730 y(Cayenne)24 b(allo)n(ws)f(general)h(recursion,)f(hence)h(its)f
(typecheck)o(er)i(requires)e(a)h(boredom)f(threshold)357
4879 y(to)30 b(pre)n(v)o(ent)g(embarrassing)h(nontermination.)47
b(Of)31 b(course,)i(the)d(programs)h(which)g(mak)o(e)f(sense)357
5029 y(do)24 b(typecheck,)h(and)g(some)f(interesting)f(e)o(xamples)h
(are)i(be)o(ginning)d(to)h(appear)h([A)l(C99)q(].)357
5238 y(On)h(the)h(other)g(hand,)g(tw)o(o)f(recent)i(e)o
(xamples\227both)c(implementations)g(of)j(\002rst-order)h(uni\002ca-)
357 5388 y(tion,)i(as)h(it)e(happens\227cannot)g(be)i(e)o(xpressed)e
(as)h(the)o(y)g(stand)f(in)h(this)g(restricted)g(system.)45
b(Ana)2022 5667 y(12)p eop
%%Page: 13 18
13 17 bop 357 -6 a F4(Bo)o(v)o(e')-5 b(s)25 b(treatment)h([Bo)o(v)o
(e99)o(])g(sho)n(ws)f(that)h(a)h(standard)f(Hask)o(ell)g
(implementation)e(of)i(the)g(algo-)357 144 y(rithm)34
b(can)h(be)g(imported)f(almost)g(systematically)g(into)g(type)h(theory)
-6 b(.)60 b(Ho)n(we)n(v)o(er)34 b(the)h(general)357 293
y(recursion)22 b(of)h(the)f(original)f(is)i(replaced)g(by)f(`petrol-po)
n(wered)g(recursion')2970 257 y FS(4)3030 293 y F4(o)o(v)o(er)f(an)i
(inducti)n(v)o(ely)357 443 y(de\002ned)38 b(accessibility)g(predicate)g
([Nor88])h(which)f(can)g(be)h(e)o(xpressed)f(in)g(ALF)-8
b(,)38 b(b)n(ut)g(not)g(its)357 592 y(successors.)357
802 y(My)25 b(implementation,)f(in)h(chapter)h(se)n(v)o(en)f(of)h(this)
f(thesis,)g(is)g(dependently)g(typed,)g(and)h(e)o(xploits)357
951 y(the)20 b(po)n(wer)f(of)i(`constraining)e(constructors')g(to)h
(represent)g(substitutions)e(as)i(association)f(lists)g(in)357
1101 y(a)j(w)o(ay)h(which)f(captures)g(the)g(idea)h(that)e(each)i
(assignment)e(gets)h(rid)g(of)g(a)h(v)n(ariable.)29 b(V)-11
b(ariables)23 b(are)357 1250 y(from)k(\002nite)g(sets)g(inde)o(x)o(ed)f
(by)h(size,)h FZ(\002n)c FP(n)p F4(,)k(and)g(terms)f(are)h(trees)f(o)o
(v)o(er)g(a)h(number)f(of)g(v)n(ariables,)357 1399 y
FZ(tree)c FP(n)p F4(.)40 b(Association)27 b(lists,)g
FZ(alist)d FP(m)g(n)p F4(,)29 b(represent)f(substitutions)d(from)j
FP(m)f F4(v)n(ariables)g(to)h(terms)357 1549 y(o)o(v)o(er)c
FP(n)p F4(:)p 611 1816 628 4 v 611 1894 a FZ(anil)779
1909 y FK(n)848 1894 y FX(:)k FZ(alist)21 b FP(n)i(n)1407
1787 y(x)28 b FX(:)g FZ(\002n)21 b(s)p FP(m)119 b(t)28
b FX(:)g FZ(tree)21 b FP(m)119 b FJ(g)28 b FX(:)g FZ(alist)21
b FP(m)h(n)p 1407 1816 1535 4 v 1679 1894 a FZ(acons)g
FP(x)g(t)g FJ(g)28 b FX(:)g FZ(alist)21 b(s)p FP(m)h(n)357
2145 y F4(Ha)n(ving)d(said)g(that,)h(I)f(am)h(quite)e(sure)i(that)f
(`gra)n(vity-po)n(wered')g(uni\002cation)g(can)g(be)h(implemented)357
2295 y(in)29 b(Agda)h(using)f(the)h(restricted)g(type)g(system.)46
b(I)30 b(only)f(use)h(association)f(lists)g(because)h(my)g(ap-)357
2444 y(plication)24 b(of)h(substitutions)d(is)j(delayed)g(and)g
(incremental.)31 b(If)26 b(you)e(are)i(happ)o(y)f(to)g(apply)g(substi-)
357 2594 y(tutions)i(straight)h(a)o(w)o(ay)-6 b(,)30
b(a)f(functional)g(representation)f(suf)n(\002ces.)44
b(Nonetheless,)29 b(the)g FZ(alist)g F4(type)357 2743
y(stands)c(as)h(a)h(useful)f(data)g(structure\227a)g(`conte)o(xt)f(e)o
(xtension'\227which)f(one)i(might)f(reasonably)357 2893
y(hope)f(to)h(represent)g(as)g(a)g(datatype.)357 3102
y(The)55 b(C)t F2(O)t(Q)k F4(system)52 b([Coq97])i(has)g(inducti)n(v)o
(e)d(f)o(amilies)i(of)h(types)f(with)g(strictly)g(positi)n(v)o(e)357
3251 y(schemata)41 b([P-M92,)g(P-M96)o(].)80 b(Ho)n(we)n(v)o(er)l(,)44
b(the)o(y)d(ha)n(v)o(e)f(mo)o(v)o(ed)g(a)o(w)o(ay)h(from)g(the)g
(traditional)357 3401 y(`one-step')33 b(elimination)e(operator)l(,)k
(follo)n(wing)c(a)i(suggestion)f(from)g(Thierry)h(Coquand:)47
b(the)o(y)357 3550 y(no)n(w)23 b(di)n(vide)g(elimination)g(into)g(a)i
FW(Case)e F4(analysis)h(operator)g(and)g(a)h(constructor)n(-guarded)f
FW(Fix)p F4(-)357 3700 y(point)g(operator)-5 b(.)31 b(Eduardo)24
b(Gim)6 b(\264)-39 b(enez')-5 b(s)25 b(conserv)n(ati)n(vity)d(ar)n
(gument)j([Gim94)o(])g(is)g(bolstered)f(by)h(a)357 3849
y(strong)20 b(normalisation)f(proof)h(for)i(the)e(case)i(of)f(lists)e
([Gim96)o(]\227he)i(has)g(recently)g(pro)o(v)o(ed)e(strong)357
3999 y(normalisation)k(for)j(the)g(general)g(case)g([Gim98)o(].)34
b(Bruno)26 b(Barras)h(has)e(formalised)g(much)h(of)f(the)357
4148 y(metathory)f(for)h(this)f(system)f([Bar99)q(],)i(including)e(the)
i(decidability)e(of)i(typechecking.)357 4358 y(This)35
b FW(Case)p F4(-)p FW(Fix)f F4(separation)h(is)g(a)h(sensible)f(one,)j
(and)e(it)f(mak)o(es)g(practical)h(the)f(technology)357
4507 y(in)j(this)f(thesis\227w)o(orking)f(in)i(what)g(is)g(ef)n(fecti)n
(v)o(ely)f(Luo')-5 b(s)37 b(UTT)h([Luo94)o(],)k(I)d(start)e(from)h(the)
357 4656 y(traditional)25 b(`one-step')h(rule,)g(b)n(ut)g(I)g(ha)n(v)o
(e)g(mechanised)g(the)f(deri)n(v)n(ation)g(of)h FW(Case)f
F4(and)h FW(Fix)g F4(for)357 4806 y(each)f(datatype.)30
b(Ev)o(erything)24 b(which)g(then)g(follo)n(ws)g(applies)g(as)h(much)f
(to)i(C)t F2(O)t(Q)k F4(as)25 b(to)h(L)t F2(E)t(G)t(O)r
F4(.)357 5015 y(There)i(is,)g(though,)f(a)i(noticeable)e(gap)g(between)
h(programming)e(by)i FW(Case)f F4(with)g FW(Fix)g F4(in)j(C)t
F2(O)t(Q)357 5165 y F4(and)36 b(programming)f(by)i(pattern)f(matching)f
(in)i(ALF)f(or)h(Cayenne.)67 b(This)36 b(gap)g(has)g(been)h(ad-)357
5314 y(dressed)d(by)f(the)h(w)o(ork)g(of)g(Cristina)g(Cornes)g
([Cor97].)59 b(She)35 b(identi\002es)e(a)i(decidable)e(class)h(of)p
357 5393 1373 4 v 473 5454 a FR(4)506 5484 y FQ(my)20
b(phrase)2022 5667 y F4(13)p eop
%%Page: 14 19
14 18 bop 357 -6 a F4(second-order)37 b(uni\002cation)f(problems)f
(which)h(captures)h(man)o(y)f(pattern)g(matching)g(programs)357
144 y(vie)n(wed)30 b(as)i(collections)e(of)h(functional)g(equations.)49
b(Solving)30 b(these)h(problems)g(mechanically)-6 b(,)357
293 y(she)22 b(has)g(e)o(xtended)i(C)t F2(O)t(Q)j F4(with)22
b(substantial)e(f)o(acilities)i(for)h(translating)e(such)h(programs)g
(in)g(terms)357 443 y(of)j FW(Case)f F4(and)g FW(Fix)p
F4(.)357 652 y(This)g(tak)o(es)g(the)h(form)g(of)g(a)g(macro)g
FW(Cases)e F4(which)i(allo)n(ws)e(pattern)i(matching)f(style)g
(decompo-)357 802 y(sition)e(of)i(multiple)d(terms)i(from)h
FU(unconstr)o(ained)g F4(inducti)n(v)o(e)d(f)o(amilies)i(\(e)o(g)g
FZ(v)n(ect)18 b FP(n)q F4(\227v)o(ectors)k(of)357 951
y(arbitrary)31 b(length\))f(and)h(combines)f(with)g FW(Fix)g
F4(to)h(yield)f(recursi)n(v)o(e)g(function)g(de\002nition)g(in)g(the)
357 1101 y(style)i(of)i(ML.)f(Although)f(the)h(full)g(gamut)f(of)h
(dependent)g(f)o(amilies)g(can)h(be)f(de\002ned,)j(she)d(has)357
1250 y(adopted)24 b(an)h(Agda-lik)o(e)f(solution)f(to)i(the)f(problem)g
(of)h(computing)e(with)h(them.)357 1459 y(The)e(task)f(of)h
(implementing)d(pattern)j(matching)f(for)h FU(constr)o(ained)g
F4(instances)f(of)h(inducti)n(v)o(e)e(f)o(am-)357 1609
y(ilies)i(\(or)g(`subf)o(amilies',)g(e)o(g)h FZ(v)n(ect)14
b(s)p FP(n)p F4(\227nonempty)21 b(v)o(ectors\))h(she)h(lea)n(v)o(es)f
(to)g(the)h(future.)30 b(Where)357 1758 y(she)h(lea)n(v)o(es)g(is)g
(where)g(I)h(arri)n(v)o(e.)49 b(I)32 b(ha)n(v)o(e)f(not)g(attempted)f
(to)h(duplicate)f(her)i(machinery)f(for)g(the)357 1908
y(translation)22 b(of)h(equational)g(programs.)30 b(Rather)l(,)24
b(I)g(ha)n(v)o(e)f(concentrated)g(on)g(the)h(problem)e(of)i(case)357
2057 y(analysis)19 b(for)h(subf)o(amilies,)g(the)f(last)h(gap)g
(between)g(her)g(w)o(ork)g(and)g(dependent)g(pattern)f(matching)357
2207 y(in)24 b(ALF)-8 b(.)357 2416 y(As)34 b(I)h(ha)n(v)o(e)g(already)f
(mentioned,)i(we)f(ha)n(v)o(e)g(kno)n(wn)e(for)i(some)f(time)g(that)g
(dependent)h(pattern)357 2566 y(matching)22 b(is)i(not)f(conserv)n(ati)
n(v)o(e\227it)e(implies)h(the)i(uniqueness)e(of)i(identity)f(proofs,)g
(which)h(does)357 2715 y(not)g(hold)g(in)g(Hofmann')-5
b(s)24 b(groupoid)g(model)g(of)h(type)f(theory)g([HoS94,)h(Hof95]:)601
2934 y FZ(IdUnique)48 b FX(:)23 b F3(8)p FP(A)15 b FX(:)c
FI(Type)p FY(:)22 b F3(8)p FP(a)12 b FX(:)f FP(A)t FY(:)22
b F3(8)p FP(e)15 b FX(:)c FP(a)q FZ(=)p FP(a)p FY(:)189
b FP(e)26 b FZ(=)d(re\003)f FP(a)601 3055 y FZ(IdUnique)258
b FP(A)280 b(a)145 b FX(\()p FZ(re\003)22 b FP(a)p FX(\))53
b(=)22 b FZ(re\003)g FX(\()p FZ(re\003)f FP(a)p FX(\))357
3272 y F4(This)f(points)h(to)g(a)h(v)o(ery)f(real)h(connection)e
(between)i(pattern)f(matching)g(and)g(the)h(po)n(wer)f(of)g(equal-)357
3422 y(ity)27 b(in)h(type)g(theory)-6 b(.)40 b(Case)29
b(analysis)f(on)g(inducti)n(v)o(e)e(subf)o(amilies)h(\(also)h(kno)n(wn)
f(as)h(`in)l(v)o(ersion'\))357 3571 y(necessarily)19
b(in)l(v)n(olv)o(es)g(equational)g(reasoning\227for)g(each)i
(constructor)l(,)f(we)g(must)f(check)i(that)e(its)357
3720 y(return)i(type)h(uni\002es)f(with)g(the)g(subf)o(amily)g(we)h
(are)g(analysing.)29 b(These)21 b(uni\002cation)g(problems)g(re-)357
3870 y(semble)h(those)h(which)g(arise)h(in)f(unfold/fold)e(program)i
(transformation)f([BD77)q(,)h(TS83,)g(GS91].)357 4019
y(The)o(y)h(are)h(treated)g(at)g(the)g(meta-le)n(v)o(el)e(in)i(ALF)g
([Coq92,)g(Mag94)o(].)357 4229 y(Cristina)30 b(Cornes)h(made)f(some)g
(progress)g(in)g(this)g(area)h(with)f(her)h(tactics)f(for)h(in)l(v)o
(erting)e(induc-)357 4378 y(ti)n(v)o(ely)21 b(de\002ned)j(relations)e
(o)o(v)o(er)h(simply)f(typed)g(data)i(in)h(C)t F2(O)t(Q)r
F4([CT95)r(].)31 b(My)23 b(MSc)g(project)g(w)o(as)h(to)357
4528 y(import)j(this)h(technology)g(for)j(L)t F2(E)t(G)t(O)r
F4(.)46 b(I)29 b(made)g(e)o(xplicit)f(the)g(separation)h(between,)h(on)
f(the)f(one)357 4677 y(hand,)35 b(the)f(splitting)d(of)j(the)g(f)o
(amily)f(into)g(its)g(constructors,)i(with)e(the)g(subf)o(amily)g
(constraints)357 4827 y(becoming)j(object-le)n(v)o(el)f(equations,)k
(and)e(on)f(the)h(other)g(hand,)i(the)e(simpli\002cation)e(of)i(those)
357 4976 y(constraints.)29 b(I)23 b(implemented)f(a)h(complete)g
(\002rst-order)g(uni\002cation)g(algorithm)e(for)j(object-le)n(v)o(el)
357 5125 y(equations)f(o)o(v)o(er)h(constructor)h(forms)f(in)g(simple)g
(types)g([McB96].)357 5335 y(The)37 b(uniqueness)g(of)g(identity)f
(proofs)h(contrib)n(utes)g(directly)g(to)g(the)g(e)o(xtension)f(of)h
(this)g(\002rst-)357 5484 y(order)26 b(uni\002cation)f(algorithm)g(to)g
(dependent)h(types,)f(yielding)g(e)o(xplicit)f(object-le)n(v)o(el)g
(solutions)2022 5667 y(14)p eop
%%Page: 15 20
15 19 bop 357 -6 a F4(to)25 b(the)g(same)g(class)g(of)g(uni\002cation)g
(problems)f(which)h(ALF)g(handles)g(implicitly)-6 b(.)3233
-42 y FS(5)3300 -6 y F4(The)25 b(last)g(gap)357 144 y(between)j
(programming)f(with)h(datatypes)g(in)i(L)t F2(E)t(G)t(O)k
F4(or)c(C)t F2(O)t(Q)j F4(and)c(pattern)f(matching)g(in)g(ALF)357
293 y(has)c(no)n(w)g(been)h(bridged.)357 503 y(Building)f(that)h
(bridge)h(has)f(in)l(v)n(olv)o(ed)f(man)o(y)h(engineering)g(problems)g
(and)g(the)h(de)n(v)o(elopment)d(of)357 652 y(some,)f(I)g(feel,)h(f)o
(ascinating)e(technology)-6 b(.)28 b(In)22 b(particular)l(,)g(the)g
(tactic)g(which)f(I)i(b)n(uilt)d(for)j(deplo)o(ying)357
802 y(the)28 b(elimination)f(rules)h(of)g(inducti)n(v)o(e)f(datatypes)h
(has)g(a)h(potential)e(f)o(ar)i(be)o(yond)f(that)g(purpose.)41
b(I)357 951 y(ha)n(v)o(e)19 b(be)o(gun)g(to)h(e)o(xplore)f(the)h(use)g
(of)g(rules)g(in)f(that)h(style)f(for)h(specifying)f(and)h(pro)o(ving)f
(properties)357 1101 y(of)25 b(programs:)k(this)24 b(thesis)g(contains)
g(se)n(v)o(eral)g(e)o(xamples.)357 1500 y FT(1.3)142
b(implementation)357 1813 y F4(I)23 b(ha)n(v)o(e)f(implemented)f(a)i
(prototype)f(v)o(ersion)g(of)h(the)f(technology)g(described)g(in)h
(this)f(thesis)f(as)i(an)357 1962 y(e)o(xtension)28 b(to)j(L)t
F2(E)t(G)t(O)r F4(.)47 b(It)29 b(contrib)n(uted)f(to,)j(rather)e(than)h
(bene\002ting)f(from)g(the)g(full)g(analysis)g(set)357
2112 y(out)23 b(here.)31 b(Nonetheless,)22 b(let)i(me)f(emphasise)g(at)
g(this)g(stage)g(that)h(although)e(the)h(prototype)g(could)357
2261 y(w)o(ork)h(better)l(,)h(it)f(does)h(w)o(ork.)357
2470 y(Enough)33 b(technology)h(has)h(been)f(implemented)f(to)i
(support)e(all)i(the)f(e)o(xample)g(programs)g(and)357
2620 y(proofs)h(in)g(this)f(thesis.)62 b(The)o(y)34 b(ha)n(v)o(e)i(all)
f(been)g(b)n(uilt)f(with)j(O)t F2(L)t(E)t(G)r F4(')-5
b(s)38 b(assistance)c(and)i(check)o(ed)357 2769 y(with)26
b(L)t F2(E)t(G)t(O)r F4(\227core)k(O)t F2(L)t(E)t(G)f
F4(is)c(a)g(subset)f(of)j(L)t F2(E)t(G)t(O)r F4(')-5
b(s)27 b(type)e(theory)g(for)g(which)g(Randy)g(Pollack')-5
b(s)357 2919 y(typecheck)o(er)30 b(runs)g(unchanged.)46
b(Sometimes)29 b(I)h(ha)n(v)o(e)g(had)g(to)g(hand-crank)g(techniques)f
(I)i(ha)n(v)o(e)357 3068 y(subsequently)f(sho)n(wn)h(ho)n(w)g(to)h
(mechanise,)h(b)n(ut)f(the)g(de)n(v)o(elopments)e(described)i(in)f(the)
h(thesis)357 3218 y(are)25 b(an)g(honest)f(account)h(of)g(real)g
(machine)g(proofs.)p 357 5293 1373 4 v 473 5354 a FR(5)506
5384 y FQ(In)20 b(f)o(act,)h(ALF)g(rejects)f(c)o(yclic)h(equations)e
(as)i(uni\002cation)e(problems)g(which)h(are)h(`too)e(hard',)h(while)g
(I)h(dispro)o(v)o(e)357 5484 y(them,)e(so)i(four)e(years')g(w)o(ork)h
(has)g(been)g(good)f(for)g(something.)2022 5667 y F4(15)p
eop
%%Page: 16 21
16 20 bop 357 719 a F1(Chapter)51 b(2)362 1194 y FG(O)10
b FH(L)g(E)g(G)5 b F1(,)52 b(a)g(type)f(theory)h(with)f(holes)357
1735 y F4(Although)29 b(you)h(ha)n(v)o(e)h(just)f(started)g(reading)h
(this)f(chapter)l(,)i(I)f(ha)n(v)o(e)g(nearly)g(\002nished)f(writing)g
(it.)357 1885 y(When)k(I)h(started,)i(a)d(long)g(time)g(ago,)j(I)d
(intended)g(it)g(to)g(be)h(an)g(unremarkable)f(summary)f(of)i(a)357
2034 y(f)o(amiliar)29 b(type)g(theory)-6 b(,)30 b(present)g(lar)n(gely)
f(out)g(of)h(the)f(need)h(to)g(present)f(the)h(notational)e(con)l(v)o
(en-)357 2184 y(tions)21 b(used)h(in)g(this)f(thesis.)29
b(Ho)n(we)n(v)o(er)l(,)22 b(despite)f(my)h(best)g(intentions,)f(this)g
(chapter)i(does)f(contain)357 2333 y(original)d(w)o(ork\227it)h
(describes)h(a)g(type)f(theory)-6 b(,)23 b(O)t F2(L)t(E)t(G)r
F4(,)h(which)c(gi)n(v)o(es)f(an)i(account)g(of)f(incomplete)357
2483 y(constructions)j(quite)h(dif)n(ferent)g(from)h(those)f(in)h(e)o
(xisting)e(use.)357 2692 y(Let)36 b(me)h(say)f(from)g(the)h(outset)e
(that)i(I)f(did)g(not)g(set)h(out)f(to)g(in)l(v)o(ent)f(such)i(a)f
(thing.)65 b(F)o(or)37 b(some)357 2841 y(years)24 b(I)g(ha)n(v)o(e)f
(been)h(writing)e(programs)h(which)g(construct)i(L)t
F2(E)t(G)t(O)j F4(proofs)c(of)f(standard)h(datatype)357
2991 y(equipment\227constructor)c(injecti)n(vity)g(and)j(so)f
(forth\227together)g(with)g(tactics)g(to)g(deplo)o(y)g(them.)357
3140 y(I)i(be)o(gan,)e(in)i(my)f(MSc)h(w)o(ork,)f(with)g(direct)h
(synthesis)e(of)i(proof)f(terms)g(in)g(the)h(abstract)f(syntax\227)357
3290 y(this)30 b(w)o(as,)k(frankly)-6 b(,)32 b(rather)g(painful.)51
b(Ho)n(we)n(v)o(er)l(,)32 b(as)g(time)f(went)g(on,)i(the)f(tools)e(I)i
(w)o(as)g(b)n(uilding)357 3439 y(myself)23 b(look)o(ed)g(more)g(and)h
(more)f(lik)o(e)h(a)g(theorem-pro)o(v)o(er)-5 b(.)28
b(Ev)o(entually)-6 b(,)22 b(the)h(penn)o(y)g(dropped\227)357
3589 y(synthetic)28 b(programming)h(and)h(proof)g(is)f(only)g(for)i
(cle)n(v)o(er)e(people)h(with)f(nothing)f(better)i(to)g(do;)357
3738 y(b)n(usy)e(people)h(and)f(stupid)g(machines)g(need)h(an)g
(analytic)g(frame)n(w)o(ork)f(with)h(a)g(sound)f(treatment)357
3887 y(of)f(re\002nement.)39 b(What)27 b(had)g(pre)n(viously)f(been)i
(`v)n(oodoo',)f(an)g(ad)h(hoc)f(assortment)g(of)g(syntactic)357
4037 y(trick)o(ery)-6 b(,)24 b(became)j(O)t F2(L)t(E)t(G)r
F4(,)g(a)f(type)e(theory)g(for)i(machines)e(as)h(well)f(as)h(people.)
359 4246 y(O)t F2(L)t(E)t(G)43 b F4(w)o(as)c(thus)g(manifest)f(in)h
(code)g(long)f(before)i(it)e(w)o(as)h(rationalised)f(in)h(this)f
(chapter)-5 b(.)73 b(I)357 4396 y(put)32 b(it)h(together)g(with)g(the)g
(help)g(of)g(man)o(y)f(spare)i(parts)f(from)g(Randy)h(Pollack')-5
b(s)34 b(L)t F2(E)t(G)t(O)k F4(code.)359 4545 y(L)t F2(E)t(G)t(O)r
F4(')-5 b(s)26 b(treatment)e(of)h(`meta)n(v)n(ariables')f(is)g
(remarkable)g(in)h(what)f(it)g(allo)n(ws\227too)e(remarkable,)357
4695 y(in)29 b(f)o(act.)46 b(Scope)30 b(is)g(not)f(quite)g(managed)h
(properly)-6 b(,)30 b(so)f(that)g(the)h(reliability)e(of)k(L)t
F2(E)t(G)t(O)i F4(still)29 b(lies)357 4844 y(in)37 b(the)h(\002nal)g
(typecheck)g(of)g(the)g(completed)f(term.)69 b(I)38 b(did)g(not)f
(consider)g(it)h(my)f(b)n(usiness)g(to)357 4994 y(repair)g(this)e
(problem\227I)h(w)o(as)g(looking)f(for)i(a)g(more)f(con)l(v)o(enient)f
(w)o(ay)i(to)f(represent)g(proofs-)357 5143 y(with-holes)c(for)j
(mechanical)e(manipulation.)56 b(I)35 b(hit)e(upon)g(the)h(idea)g(of)g
FU(binding)f F4(holes)g(in)g(the)357 5292 y(conte)o(xt)20
b(because)h(it)g(required)g(v)o(ery)g(little)f(alteration)h(of)g(the)g
(term)g(syntax,)g(and)g(because)h(it)e(made)357 5442
y(operations)i(lik)o(e)g(re\002nement')-5 b(s)22 b(`turn)h(the)f(unkno)
n(wn)f(premises)h(into)g(subgoals')g(just)g(a)h(matter)f(of)2022
5667 y(16)p eop
%%Page: 17 22
17 21 bop 357 -6 a F4(turning)18 b F3(8)p F4(s)h(into)g
FX(?)p F4(s.)29 b(This)18 b(treatment)h(of)g(holes)g(resonates)g
(strongly)f(with)g(Dale)i(Miller')-5 b(s)18 b(e)o(xplicit)357
144 y(binding)23 b(of)h(e)o(xistential)f(v)n(ariables)h(in)g(the)g
(`mix)o(ed')g(quanti\002er)g(pre\002x)h(of)g(uni\002cation)e(problems)
357 293 y([Mil91)n(,)i(Mil92)o(].)357 503 y(At)38 b(the)h(time,)i(e)o
(xplicit)d(substitution)e(w)o(as)i(not)h(e)n(v)o(en)f(an)h(issue.)72
b(If)39 b(I)g(had)g(w)o(anted)f(to)h(main-)357 652 y(tain)31
b(the)h(scope)g(of)g(holes)g(via)g(such)f(technology)g(\(as)h(is)g
(found)g(in)f(the)h(ALF)g(f)o(amily)g([Mag94)o(])357
802 y(and)26 b(T)-8 b(ypelab)26 b([vHLS98)o(]\),)h(I)g(should)e(ha)n(v)
o(e)h(had)g(to)g(re-engineer)g(the)h(whole)g(L)t F2(E)t(G)t(O)k
F4(syntax,)26 b(re-)357 951 y(duction)h(mechanism)h(and)g(typecheck)o
(er)-5 b(.)42 b(As)28 b(it)g(turned)h(out,)f(my)g(adaptations)g(were)h
(minimal.)357 1101 y(There)35 b(is)g(a)g(profound)f(reason)i(for)f
(this\227where)f(e)o(xplicit)g(substitution)e(relies)j(on)f(ingenuity)
-6 b(,)359 1250 y(O)t F2(L)t(E)t(G)33 b F4(relies)28
b(on)g(co)n(w)o(ardice.)41 b(Instead)28 b(of)g(repairing)g(the)g
(troublesome)f(interactions)g(between)357 1399 y(holes)g(and)h
(computation)e(by)i(propagating)e(bits)h(of)h(stack)g(through)f(the)h
(term)f(structure,)k(O)t F2(L)t(E)t(G)357 1549 y F4(simply)23
b(forbids)h(them.)357 1758 y(Ho)n(we)n(v)o(er)l(,)31
b(let)g(me)g(k)o(eep)h(you)f(in)g(suspense)f(no)h(longer)-5
b(.)51 b(O)t F2(L)t(E)t(G)36 b F4(consists)30 b(of)i(a)f(computational)
357 1908 y(core\227Luo')-5 b(s)21 b(ECC)h([Luo94)o(])g(with)f(local)h
(de\002nition)f([SP94])h(b)n(ut)f(without)g FX(\006)p
F4(-types\227wrapped)357 2057 y(in)29 b(a)h(de)n(v)o(elopment)e
(calculus,)i(in)f(much)h(the)f(same)h(w)o(ay)g(that)f(Extended)g(ML)g
([KST94])h(wraps)357 2207 y(core)e(Standard)f(ML)g([MTH90)o(].)39
b(My)27 b(reason)g(for)h(the)f(separation)g(is)g(precisely)g(the)g
(aforemen-)357 2356 y(tioned)d(co)n(w)o(ardice)g(with)g(respect)i(to)e
(holes)g(and)h(computation.)357 2566 y(Extended)h(ML)-9
b(')k(s)25 b(treatment)h(of)h(holes)f(pro\002ts)g(from)g(the)h(f)o(act)
g(that,)f(in)h(simple)e(type)h(systems,)g(it)357 2715
y(is)c(al)o(w)o(ays)h(safe)g(to)f(replace)i(a)f(term)g(\(e)o(g,)g(the)f
(placeholder)h(`?'\))31 b(with)22 b(another)h(of)f(the)h(same)g(type.)
357 2864 y(Although)e(there)i(is)f(no)g(w)o(ay)h(that)f(core)i(terms)e
(in)g(a)h(dependent)f(type)h(theory)f(could)g(e)n(v)o(er)g(hope)h(to)
357 3014 y(ha)n(v)o(e)k(such)g(a)h(replacement)f(property)g(\(for)h(a)g
(countere)o(xample)e(see)i(section)f(2.2\),)h(it)f(does)g(hold)357
3163 y(for)36 b(the)g(terms)g(\(or)h(`partial)f(constructions'\))f(of)j
(O)t F2(L)t(E)t(G)r F4(')-5 b(s)39 b(de)n(v)o(elopment)34
b(layer)-5 b(.)65 b(This)35 b(single)357 3313 y(metatheorem)21
b(does)h(most)f(of)i(the)f(w)o(ork)g(in)i(O)t F2(L)t(E)t(G)r
F4(')-5 b(s)24 b(successful)e(reconstruction)g(of)g(re\002nement)357
3462 y(proof)i(as)h(we)g(kno)n(w)f(it.)357 3862 y FT(2.1)142
b(the)40 b F5(O)8 b FF(L)g(E)g(G)36 b FT(cor)m(e)359
4174 y F4(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)f
F0(uni)o(v)o(erses,)26 b(identi\002ers,)g(bindings,)f(terms)601
4467 y(uni)o(v)o(erses)49 b FI(U)27 b FX(::=)50 b FI(Prop)f
F3(j)h FI(Type)1789 4502 y FL(j)815 4616 y F4(where)25
b FY(j)31 b F4(is)25 b(a)g(natural)f(number)601 4807
y F0(identi\002ers)50 b FI(I)27 b FX(::=)50 b FP(x)g
F3(j)f FP(y)h F3(j)f FY(:)17 b(:)g(:)815 4957 y F4(Let)25
b(us)f(allo)n(w)g(ourselv)o(es)g(countably)g(man)o(y)f(identi\002ers.)
601 5148 y(I)d(de\002ne)h(f)o(amilies)e(of)i(bindings)d(and)j(terms)e
(inde)o(x)o(ed)g(by)h(the)g(\002nite)h(set)f(of)g(v)n(ariables)601
5297 y FI(V)38 b F3(\032)h FI(I)30 b F4(permitted)g(to)g(appear)i(free)
f(in)f(them.)48 b(My)30 b(moti)n(v)n(ation)e(is)i(to)g(ensure)h(that)
2022 5667 y(17)p eop
%%Page: 18 23
18 22 bop 601 -6 a F4(identi\002ers)24 b(are)i(only)e(used)g(where)h
(the)o(y)f(are)i(meaningful.)2670 -42 y FS(1)601 179
y F4(F)o(or)e(an)o(y)f(set)h FI(V)g F4(of)g(v)n(ariables,)f(and)h(an)o
(y)f FP(x)h F4(not)g(in)f FI(V)h F4(the)g(sets)f FI(B)2792
140 y FL(x)2792 227 y FI(V)2884 179 y F4(of)h F0(bindings)h(of)f
FY(x)601 329 y F0(extending)f FI(V)39 b F4(and)23 b FI(T)1358
365 y(V)1465 329 y F4(of)g F0(terms)g(o)o(v)o(er)g FI(V)39
b F4(are)23 b(de\002ned)g(inducti)n(v)o(ely)3056 293
y FS(2)3114 329 y F4(as)f(follo)n(ws:)1088 570 y FP(S)28
b F3(2)g FI(T)1315 607 y(V)p 989 616 493 4 v 989 691
a F3(8)p FP(x)g FX(:)f FP(S)i F3(2)f FI(B)1413 652 y
FL(x)1413 739 y FI(V)1870 570 y FP(S)g F3(2)g FI(T)2097
607 y(V)p 1771 616 495 4 v 1771 691 a FY(\025)p FP(x)f
FX(:)h FP(S)g F3(2)g FI(B)2197 652 y FL(x)2197 739 y
FI(V)2666 570 y FP(s)p FY(;)17 b FP(S)27 b F3(2)h FI(T)2975
607 y(V)p 2554 616 601 4 v 2554 691 a FX(!)p FP(x)g FX(=)f
FP(s)11 b FX(:)g FP(S)28 b F3(2)g FI(B)3087 652 y FL(x)3087
739 y FI(V)751 938 y FP(y)f F3(2)h FI(V)p 724 973 290
4 v 724 1049 a FP(y)f F3(2)h FI(T)945 1085 y(V)1325 957
y FP(U)f F3(2)h FI(U)p 1303 973 317 4 v 1303 1049 a FP(U)f
F3(2)h FI(T)1552 1085 y(V)1909 927 y FP(f)p FY(;)17 b
FP(s)27 b F3(2)h FI(T)2191 964 y(V)p 1909 973 350 4 v
1920 1049 a FP(f)22 b(s)27 b F3(2)h FI(T)2180 1086 y(V)2548
912 y FY(B)33 b F3(2)28 b FI(B)2809 873 y FL(x)2809 960
y FI(V)2997 912 y FP(t)f F3(2)h FI(T)3201 949 y(V)p FE([f)p
FK(x)q FE(g)p 2548 973 873 4 v 2795 1049 a FY(B)5 b(:)p
FP(t)28 b F3(2)g FI(T)3106 1085 y(V)357 1289 y F4(Binding)23
b(is)g(the)h(means)g(of)g(attaching)f(to)h(an)g(identi\002er)f
(properties)h(such)g(as)g(`type',)g(`v)n(alue')f(and)357
1439 y(an)o(y)28 b(other)g(beha)n(vioural)g(attrib)n(utes)g(in)g(which)
h(we)g(may)f(be)h(interested.)42 b(A)28 b(structural)g(linguist,)357
1588 y(follo)n(wing)20 b(Saussure)i([Sau16],)g(might)f(point)g(out)g
(that)g(identi\002ers,)h(lik)o(e)f(w)o(ords,)h(ha)n(v)o(e)g(no)f
(intrin-)357 1738 y(sic)h(signi\002cance.)29 b FU(V)-11
b(ariables)p F4(,)22 b(on)f(the)h(other)g(hand,)h(are)g(signs.)28
b(Binding)22 b(creates)h(a)f(sign,)g(linking)357 1887
y(signi\002er)i(and)h(signi\002ed.)357 2097 y(Syntactically)-6
b(,)31 b(a)g F0(binding)h F4(is)e(a)h(binding)f(operator)l(,)i(follo)n
(wed)d(by)i(an)g(identi\002er)l(,)h(follo)n(wed)e(by)357
2246 y(a)f(sequence)g(of)g(properties)g(each)h(introduced)e(by)h(a)g
(special)g(piece)g(of)g(punctuation,)g(e)o(g)g(`:')39
b(for)357 2395 y(`type')32 b(or)g(`=')h(for)f(`v)n(alue'.)53
b(The)32 b(binding)f(operator)h(determines)g(the)g(computational)e
(role)i(of)357 2545 y(the)22 b(v)n(ariable.)30 b(I)23
b(w)o(ould)f(encourage)h(you)f(to)h(think)e(of)i(bindings)e(as)i
(important)e(syntactic)h(entities)357 2694 y(in)32 b(their)g(o)n(wn)g
(right,)i(and)e(the)g(`.)-7 b(')55 b(as)32 b(a)h(combinator)f(which)g
(attaches)g(a)h(binding)e(to)i(its)e(scope)357 2844 y(which,)24
b(by)h(con)l(v)o(ention,)e(e)o(xtends)g(rightw)o(ards)h(as)h(f)o(ar)h
(as)f(possible.)359 3053 y(O)t F2(L)t(E)t(G)r F4(')-5
b(s)36 b(core)f(binding)e(operators)h(comprise)g(the)g(usual)g
F3(8)h F4(\(often)g(written)e FX(\005)p F4(\))i(for)g(uni)n(v)o(ersal)
357 3203 y(quanti\002cation)26 b(and)i FY(\025)g F4(for)g(functional)e
(abstraction,)i(together)f(with)g FX(!)h F4(\(pronounced)f(`let'\))h
(rep-)357 3352 y(resenting)h(local)i(de\002nition.)46
b(I)31 b(describe)g(those)f(bindings)e(where)j(the)g(bound)e(v)n
(ariable)h(occurs)357 3502 y(no)n(where)24 b(in)h(its)f(scope)g(as)h
F0(fatuous)p F4(.)357 3711 y(As)36 b(usual,)i(application)d(is)h
(indicated)g(by)g(juxtaposition)e(and)i(associates)g(leftw)o(ards.)64
b(I)37 b(shall)357 3860 y(denote)d(by)h FP(x)46 b F3(2)h
FP(T)35 b F4(that)f(v)n(ariable)h FP(x)g F4(occurs)g(free)h(in)e(term)h
FP(T)r F4(.)g(When)g FP(x)46 b F3(62)h FP(T)p F4(,)37
b(I)f(shall)e(freely)357 4010 y(abbre)n(viate)d F3(8)p
FP(x)24 b FX(:)g FP(S)q FY(:)j FP(T)32 b F4(by)f FP(S)41
b F3(!)f FP(T)p F4(.)52 b(Further)l(,)34 b(otherwise)d(identical)g
(consecuti)n(v)o(e)f(bindings)g(of)357 4159 y(distinct)k(v)n(ariables)i
(may)g(be)g(abbre)n(viated)g(with)f(commas,)j FY(\025)p
FP(x)32 b FX(:)g FP(S)q FY(:)f(\025)p FP(y)g FX(:)i FP(S)p
FY(:)e FP(T)p F4(,)39 b(for)d(e)o(xample,)357 4309 y(becoming)24
b FY(\025)p FP(x)o FY(;)17 b FP(y)11 b FX(:)g FP(S)p
FY(:)23 b FP(T)o F4(.)357 4518 y FY(\013)q F4(-con)l(v)o(ertible)i
(terms)g(are)i(identi\002ed,)f(with)52 b F3(\021)27 b
F4(representing)e(the)h(consequent)g(notion)f(of)h F0(syn-)357
4668 y(tactic)k(identity)p F4(.)46 b(Let)29 b FX([)p
FP(S)q FY(=)p FP(x)o FX(])p FP(T)h F4(denote)g(the)f(result)g(of)h
(substituting)d FP(S)j F4(for)g(free)h(occurrences)f(of)357
4817 y FP(x)c F4(in)f FP(T)p F4(.)34 b(F)o(ormally)-6
b(,)25 b(we)h(might)e(prefer)j(to)f(li)n(v)o(e)e(in)i(a)g(de)g
(Bruijn-inde)o(x)o(ed)e(w)o(orld)i([deB72];)g(infor)n(-)357
4966 y(mally)-6 b(,)23 b(let)h(us)g(grant)g(ourselv)o(es)f(the)h
(luxury)g(of)g(names)g(and)h(the)f(associated)g(luxury)f(of)i(ignoring)
357 5116 y(the)f(issue)g(of)h(v)n(ariable)g(capture.)p
357 5194 1373 4 v 473 5255 a FR(1)506 5285 y FQ(My)30
b(ulterior)f(moti)n(v)o(e)f(is)j(to)f(prepare)e(the)i(ground)e(for)h
(the)h(application)e(of)i(dependently)d(typed)i(functional)357
5385 y(programming)16 b(to)21 b(syntax)e(in)i(chapter)e(se)n(v)o(en.)
473 5454 y FR(2)506 5484 y FQ(Natural)h(deduction)e(is)j(the)f(best)h
(style)f(I)h(ha)n(v)o(e)e(found)g(for)g(presenting)g(inde)o(x)o(ed)f
(inducti)n(v)o(e)h(f)o(amilies.)2022 5667 y F4(18)p eop
%%Page: 19 24
19 23 bop 357 -6 a F4(Ha)n(ving)38 b(introduced)g(all)g(this)g(syntax,)
j(let)d(us)h(ab)n(use)f(it)g(where)n(v)o(er)h(it)f(suits)f(us.)72
b(W)-8 b(e)39 b(are)h(not)357 144 y(machines,)23 b(and)g(we)h(can)g
(suppress)f(inferrable)h(information)e(which)i(machines)f(might)f
(demand.)357 293 y(T)-8 b(o)29 b(be)h(sure,)h(the)e(machines)g(are)h
(catching)g(up,)g(with)f(w)o(ork)g(on)g(implicit)f(syntax)h(from)g
([Pol90])357 443 y(and)38 b(be)o(yond.)70 b(I)38 b(do)g(not)g(propose)g
(to)g(gi)n(v)o(e)f(an)o(y)g(mechanistic)h(account)g(of)g(the)g(ar)n
(guments)g(I)357 592 y(shall)24 b(omit,)h(the)g(parentheses)g(I)h
(shall)e(drop)h(and)h(the)f(ad)g(hoc)h(notations)d(I)j(shall)f
(introduce\227the)357 742 y(purpose)f(is)g(purely)h(presentational.)359
951 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35
b F0(contexts)26 b(and)f(judgments)601 1244 y F4(The)f(set)h
FI(Ctxt)f F4(of)h F0(contexts)h F4(is)e(de\002ned)h(inducti)n(v)o(ely:)
p 1894 1495 357 4 v 1894 1573 a F3(h)o(i)j(2)g FI(Ctxt)811
1736 y FX(\000)f F3(2)h FI(Ctxt)120 b FP(S)28 b F3(2)g
FI(T)1498 1751 y FM(\000)1666 1736 y FP(x)f F3(62)i FX(\000)p
811 1764 1088 4 v 1069 1839 a(\000;)17 b FP(x)27 b FX(:)h
FP(S)g F3(2)g FI(Ctxt)2163 1736 y FX(\000)g F3(2)g FI(Ctxt)119
b FP(s)p FY(;)17 b FP(S)28 b F3(2)g FI(T)2932 1751 y
FM(\000)3101 1736 y FP(x)f F3(62)h FX(\000)p 2163 1764
1171 4 v 2377 1839 a(\000;)17 b FP(x)28 b FX(=)f FP(s)g
FX(:)h FP(S)g F3(2)g FI(Ctxt)601 2091 y F4(Note)g(that)g(we)h(may)f
(treat)h(a)f(conte)o(xt)g(`for)n(getfully')g(as)h(a)f(set)h(of)f(v)n
(ariables,)h(hence)601 2240 y FI(T)650 2255 y FM(\000)724
2240 y F4(is)24 b(the)h(set)f(of)h(terms)f(o)o(v)o(er)g
FX(\000)p F4(.)601 2431 y(If)29 b FX(\000)35 b F3(2)h
FI(Ctxt)o F4(,)30 b(then)f FI(J)1347 2450 y FM(\000)1424
2431 y F4(is)f(the)h(set)g(of)g FX(\000)p F4(-)p F0(judgments)p
F4(.)44 b(If)30 b FY(J)44 b F3(2)36 b FI(J)2868 2450
y FM(\000)2916 2431 y F4(,)30 b(we)f(may)f(assert)601
2581 y(that)c FY(J)34 b F4(holds)24 b(by)g(writing)815
2813 y FX(\000)50 b F3(`)g FY(J)601 3045 y FI(J)640 3065
y FM(\000)714 3045 y F4(contains)24 b(conte)o(xt)f(v)n(alidity)g(and)i
(typing)e(judgments:)p 1524 3326 420 4 v 1524 3402 a
F0(v)o(alid)28 b F3(2)g FI(J)1896 3421 y FM(\000)2247
3299 y FP(t)q FY(;)17 b FP(T)27 b F3(2)h FI(T)2557 3314
y FM(\000)p 2233 3326 387 4 v 2233 3402 a FP(t)g FX(:)g
FP(T)f F3(2)h FI(J)2571 3421 y FM(\000)357 3670 y F4(In)i(man)o(y)e
(presentations,)i(a)g(conte)o(xt)f(is)g(an)h(assignment)e(of)i(types)f
(to)g(identi\002ers.)45 b(Here,)32 b(v)n(alue)357 3820
y(assignments)d(are)i(also)g(permitted.)48 b(Let)31 b(us)f(also)h
(indulge)f(in)g(a)h(slight)f(ab)n(use)h(of)g(notation)e(and)357
3969 y(write)g(whole)g(bindings)f(in)h(the)h(conte)o(xt,)f(ef)n(fecti)n
(v)o(ely)f(annotating)h(entries)g(with)g(binding)f(oper)n(-)357
4118 y(ators)i(and)g(perhaps)g(additional)f(properties.)1948
4082 y FS(3)2032 4118 y F4(Seen)i(as)f(a)g(data)h(structure,)g(for)f(e)
o(xample)g(in)f(the)357 4268 y(implementation)20 b(of)26
b(L)t F2(E)t(G)t(O)r F4(,)f(a)f(conte)o(xt)e(is)g(a)i(stack)f(of)g
(bindings.)28 b(W)-8 b(e)24 b(can)f(reco)o(v)o(er)g(the)g(`formal')357
4417 y(conte)o(xts)f(de\002ned)j(abo)o(v)o(e)e(simply)f(by)h(for)n
(getting)h(the)f(e)o(xtra)h(annotations.)29 b(W)-8 b(e)24
b(shall)f(often)h(need)357 4567 y(to)f(check)i(whether)f(a)g(gi)n(v)o
(en)f(v)n(ariable)g(has)h(a)h(particular)e(property)-6
b(,)24 b(whether)g(or)g(not)f(it)h(may)g(ha)n(v)o(e)357
4716 y(others.)29 b(Let)23 b(us,)g(for)h(e)o(xample,)e(write)h
FX(\000;)17 b FP(x)10 b FX(:)h FP(T)p FX(;)17 b(\000)2069
4680 y FE(0)2115 4716 y F4(for)24 b(a)f(conte)o(xt)f(where)h
FP(x)g F4(has)g(the)g(property)g(that)357 4866 y(its)h(type)g(is)h
FP(T)o F4(,)g(re)o(gardless)f(of)h(other)g(annotations.)357
5075 y(As)g(we)h(e)o(xplore)g(a)g(term,)f(each)i(v)n(ariable)e(we)h
(encounter)g(is)f(gi)n(v)o(en)f(its)h(meaning)g(by)h(the)g(stack)f(of)
357 5225 y(bindings)h(under)i(which)g(we)h(ha)n(v)o(e)f(passed.)40
b(A)28 b(v)n(ariable)g(is)g(not)f(a)i(name;)g(it)f(is)g(a)g(reference)i
(to)e(a)p 357 5314 1373 4 v 473 5375 a FR(3)506 5406
y FQ(It)21 b(is)g(often)e(useful)h(to)g(kno)n(w)f(what)h(colour)f(a)i
(v)n(ariable)e(is.)2022 5667 y F4(19)p eop
%%Page: 20 25
20 24 bop 357 -6 a F4(binding.)29 b(Names)24 b(arise)g(as)g(a)h(social)
f(phenomenon\227just)d(as)j(in)g(the)g(story)g(of)g(Rumpelstiltskin,)
357 144 y(naming)f(things)h(gi)n(v)o(es)f(us)i(po)n(wer)f(o)o(v)o(er)g
(them.)357 353 y(Let)h(us)f(no)n(w)g(de\002ne)i(computation)d(with)h
(respect)i(to)e(a)h(conte)o(xt.)31 b(W)-8 b(e)25 b(should)f(feel)h(no)g
(apprehen-)357 503 y(sion)k(at)h(this.)44 b(Quite)30
b(the)f(re)n(v)o(erse,)i(syntax)e(only)g(mak)o(es)h(sense)f(relati)n(v)
o(e)g(to)g(the)h(conte)o(xt)f(which)357 652 y(e)o(xplains)23
b(its)h(signs.)30 b(Goguen')-5 b(s)24 b(typed)g(operational)g
(semantics)g(for)h(type)g(theory)f([Gog94])h(nec-)357
802 y(essarily)i(and)g(naturally)g(in)l(v)n(olv)o(es)f(the)h(conte)o
(xt,)g(signi\002cantly)f(reducing)i(the)f(cost)g(of)h(metathe-)357
951 y(ory)-6 b(.)54 b(Although)31 b(the)i(conte)o(xtual)e(information)g
(he)i(requires)g(is)f(acti)n(v)o(e)g(in)h(typing)e(and)i(passi)n(v)o(e)
357 1101 y(in)c(computation,)f(this)h(is)g(more)g(an)h(accident)f(of)h
(ECC)g(than)f(an)h(ine)n(vitable)e(restriction.)43 b(Com-)357
1250 y(pagnoni)28 b(and)g(Goguen')-5 b(s)28 b(more)h(recent)g(typed)g
(operational)f(semantics)g(for)h(higher)n(-order)g(sub-)357
1399 y(typing)23 b([CG99])j(e)o(xploits)c(the)j(potential)f(to)g(the)h
(full.)359 1609 y(M)t F2(A)t(N)t(T)t(R)t(A)r F4(:)601
1901 y FX(\000)f F4(is)h(with)f(me,)g(where)n(v)o(er)h(I)g(go.)357
2194 y(I,)e(too,)f(feel)i(strongly)d(pro)o(v)n(ok)o(ed)h(to)g(e)o
(xploit)g(the)g(potential)g(he)h(re)n(v)o(eals)f(by)h(increasing)f(the)
h(acti)n(v-)357 2343 y(ity)k(of)h(the)g(conte)o(xt)e(in)i(computation.)
38 b(Real)29 b(programming)d(language)i(implementations)d(k)o(eep)357
2493 y(v)n(alues)f(in)g(stacks.)357 2702 y(W)-8 b(e)47
b(may)g(still)f(emplo)o(y)g(the)h(usual)g(technique)f(of)i(supplying)d
(a)i(number)g(of)g F0(contraction)357 2852 y(schemes)29
b F4(which)f(indicate)g(the)h(actual)f(computation)f(steps,)i(together)
f(with)g(a)h(notion)e(of)i F0(com-)357 3001 y(patible)c(closur)n(e)g
F4(which)g(allo)n(ws)e(computation)g(to)i(occur)g(an)o(ywhere)g(within)
e(a)i(term.)359 3210 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(contraction)26 b(schemes)603 3503 y F4(O)t
F2(L)t(E)t(G)r F4(')-5 b(s)26 b F0(contraction)g(schemes)g
F4(are)f(sho)n(wn)f(in)g(table)h(2.1.)357 3795 y(Subterms)i
(susceptible)g(to)h(the)g FY(\014)6 b F4(,)29 b FY(\016)j
F4(or)c FX(!)g F4(contraction)g(schemes)g(are,)h(respecti)n(v)o(ely)-6
b(,)27 b FY(\014)6 b F0(-)p F4(,)29 b FY(\016)t F0(-)f
F4(and)357 3945 y FX(!)p F0(-r)n(edexes)p F4(.)j(Note)23
b(that)f(the)h(property)f(of)h(being)g(a)g FY(\016)t
F4(-rede)o(x)g(is)f(implicitly)f(conte)o(xt-dependent.)28
b(A)357 4094 y(term)c(is)h(in)f F0(normal)h(f)n(orm)f
F4(if)h(it)g(contains)e(no)i(rede)o(x)o(es.)357 4304
y(It)30 b(is)f(perhaps)h(helpful)g(to)g(think)f(of)h
FD(;)1753 4268 y FL(\014)1830 4304 y F4(and)g FD(;)2104
4268 y FL(\016)2172 4304 y F4(as)g(`w)o(ork',)h(while)f
FD(;)2963 4268 y FM(!)3017 4304 y F4(is)f(`w)o(aste)i(disposal'.)357
4453 y(As)d(a)i(f)o(an)f(of)g(Fritz)g(Lang')-5 b(s)29
b(1926)f(classic)h(silent)f(\002lm,)h(`Metropolis',)g(I)g(lik)o(e)g(to)
f(imagine)h(what)357 4603 y(computation)24 b(sounds)h(lik)o(e:)33
b FY(\014)6 b F4(-reduction)26 b(sounds)f(lik)o(e)h(paper)n(-shuf)n
(\003ing;)g FY(\016)t F4(-reduction)f(sounds)357 4752
y(lik)o(e)f(\002ling)g(cabinets)h(and)f(photocopiers;)g
FX(!)h F4(pops)f(lik)o(e)g(sudden)g(suction.)359 4961
y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35 b F0(compatible)26
b(closur)n(e)601 5254 y F4(If)f FD(;)792 5218 y FE(\001)840
5254 y F4(is)f(a)i(contraction)e(scheme,)g(its)g(compatible)g(closure,)
h FD(;)2847 5269 y FE(\001)2870 5254 y F4(,)g(is)f(gi)n(v)o(en)f(by)i
(2.2)2022 5667 y(20)p eop
%%Page: 21 26
21 25 bop 1174 261 a FY(\014)p 1562 238 1305 4 v 1562
325 a FX(\000)50 b F3(`)f FX(\()p FY(\025)p FP(x)11 b
FX(:)g FP(S)q FY(:)22 b FP(t)p FX(\))g FP(s)50 b FD(;)2364
289 y FL(\014)2433 325 y FX(!)p FP(x)27 b FX(=)h FP(s)11
b FX(:)g FP(S)p FY(:)22 b FP(t)1174 464 y FY(\016)p 1693
441 1044 4 v 1693 527 a FX(\000;)17 b FP(x)27 b FX(=)g
FP(s)11 b FX(:)g FP(S)q FX(;)17 b(\000)2227 491 y FE(0)2300
527 y F3(`)49 b FP(x)h FD(;)2610 491 y FL(\016)2697 527
y FP(s)1174 661 y FX(!)p 1808 638 862 4 v 1808 724 a(\000)g
F3(`)22 b FX(!)p FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)q
FY(:)p FP(t)50 b FD(;)2564 688 y FM(!)2637 724 y FP(t)2765
661 y(x)27 b F3(62)i FP(t)1453 915 y F4(T)-8 b(able)25
b(2.1:)30 b(contraction)24 b(schemes)1862 1774 y FX(\000)49
b F3(`)h FP(s)g FD(;)2272 1738 y FE(\001)2345 1774 y
FP(s)2384 1738 y FE(0)p 1862 1791 546 4 v 1862 1868 a
FX(\000)f F3(`)h FP(s)g FD(;)2272 1883 y FE(\001)2345
1868 y FP(s)2384 1832 y FE(0)1407 2018 y FX(\000)f F3(`)h
FP(s)g FD(;)1817 2033 y FE(\001)1890 2018 y FP(s)1928
1982 y FE(0)p 1351 2041 656 4 v 1351 2118 a FX(\000)g
F3(`)g FP(s)22 b(t)50 b FD(;)1817 2133 y FE(\001)1890
2118 y FP(s)1928 2082 y FE(0)1974 2118 y FP(t)2322 2018
y FX(\000)g F3(`)g FP(t)g FD(;)2727 2033 y FE(\001)2800
2018 y FP(t)2833 1980 y FE(0)p 2261 2041 V 2261 2120
a FX(\000)g F3(`)g FP(s)22 b(t)50 b FD(;)2727 2135 y
FE(\001)2800 2120 y FP(s)22 b(t)2894 2082 y FE(0)1190
2274 y FX(\000)50 b F3(`)g FP(S)g FD(;)1617 2289 y FE(\001)1690
2274 y FP(S)1745 2232 y FE(0)p 926 2297 1108 4 v 926
2381 a FX(\000)f F3(`)h(8)p FP(x)11 b FX(:)g FP(S)q FY(:)22
b FP(T)50 b FD(;)1617 2396 y FE(\001)1690 2381 y F3(8)p
FP(x)11 b FX(:)g FP(S)1900 2338 y FE(0)1923 2381 y FY(:)22
b FP(T)2526 2274 y FX(\000)50 b F3(`)f FP(S)i FD(;)2953
2289 y FE(\001)3026 2274 y FP(S)3081 2232 y FE(0)p 2287
2297 1056 4 v 2287 2381 a FX(\000)f F3(`)g FY(\025)p
FP(x)11 b FX(:)g FP(S)p FY(:)23 b FP(t)50 b FD(;)2953
2396 y FE(\001)3026 2381 y FY(\025)p FP(x)11 b FX(:)g
FP(S)3237 2338 y FE(0)3260 2381 y FY(:)23 b FP(t)1105
2536 y FX(\000)50 b F3(`)g FP(s)f FD(;)1515 2551 y FE(\001)1589
2536 y FP(s)1627 2499 y FE(0)p 749 2559 1259 4 v 749
2636 a FX(\000)h F3(`)22 b FX(!)p FP(x)27 b FX(=)h FP(s)11
b FX(:)g FP(S)p FY(:)p FP(t)50 b FD(;)1504 2651 y FE(\001)1550
2636 y FX(!)p FP(x)27 b FX(=)h FP(s)1797 2599 y FE(0)1831
2636 y FX(:)11 b FP(S)q FY(:)22 b FP(t)2601 2536 y FX(\000)50
b F3(`)g FP(S)g FD(;)3028 2551 y FE(\001)3101 2536 y
FP(S)3156 2493 y FE(0)p 2261 2559 V 2261 2642 a FX(\000)g
F3(`)22 b FX(!)p FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)q
FY(:)p FP(t)50 b FD(;)3017 2657 y FE(\001)3062 2642 y
FX(!)p FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)3414 2599
y FE(0)3437 2642 y FY(:)22 b FP(t)1784 2792 y FX(\000;)17
b FY(B)1968 2756 y FL(x)1963 2817 y FM(\000)2061 2792
y F3(`)50 b FP(t)g FD(;)2355 2807 y FE(\001)2428 2792
y FP(t)2461 2754 y FE(0)p 1717 2825 835 4 v 1717 2904
a FX(\000)g F3(`)g FY(B)2018 2868 y FL(x)2013 2930 y
FM(\000)2062 2904 y FY(:)p FP(t)g FD(;)2272 2919 y FE(\001)2345
2904 y FY(B)2424 2868 y FL(x)2419 2930 y FM(\000)2468
2904 y FY(:)p FP(t)2528 2866 y FE(0)1481 3227 y F4(T)-8
b(able)25 b(2.2:)30 b(compatible)23 b(closure)1852 3995
y FX(\000)50 b F3(`)f FP(S)2179 3967 y F3(\030)2179 3999
y FX(=)2306 3995 y FP(T)p 1852 4011 515 4 v 1874 4087
a FX(\000)h F3(`)f FP(S)29 b F3(\026)f FP(T)1576 4229
y FX(\000)50 b F3(`)f FP(R)29 b F3(\026)f FP(S)120 b
FX(\000)50 b F3(`)g FP(S)28 b F3(\026)g FP(T)p 1576 4251
1067 4 v 1869 4326 a FX(\000)49 b F3(`)h FP(R)28 b F3(\026)g
FP(T)p 1278 4496 726 4 v 1278 4571 a FX(\000)50 b F3(`)f
FI(Prop)27 b F3(\026)h FI(Type)1967 4606 y FL(j)2441
4469 y FY(j)34 b(<)27 b(k)p 2173 4496 769 4 v 2173 4571
a FX(\000)49 b F3(`)h FI(Type)2561 4606 y FL(j)2626 4571
y F3(\026)28 b FI(Type)2898 4606 y FL(k)1378 4759 y FX(\000)50
b F3(`)g FP(S)1705 4731 y F3(\030)1706 4763 y FX(=)1832
4759 y FP(S)1888 4716 y FE(0)2031 4759 y FX(\000;)17
b F3(8)p FP(x)27 b FX(:)h FP(S)2379 4716 y FE(0)2452
4759 y F3(`)49 b FP(T)28 b F3(\026)g FP(T)2817 4716 y
FE(0)p 1378 4786 1462 4 v 1589 4870 a FX(\000)50 b F3(`)f(8)p
FP(x)12 b FX(:)f FP(S)p FY(:)22 b FP(T)28 b F3(\026)g(8)p
FP(x)11 b FX(:)g FP(S)2473 4827 y FE(0)2496 4870 y FY(:)22
b FP(T)2606 4827 y FE(0)1633 5181 y F4(T)-8 b(able)25
b(2.3:)30 b(cumlati)n(vity)2022 5667 y(21)p eop
%%Page: 22 27
22 26 bop 407 514 a F0(empty)p 1906 491 448 4 v 1906
569 a F3(h)o(i)50 b(`)g F0(v)o(alid)407 922 y(declar)n(e)1851
844 y FX(\000)f F3(`)h FP(S)g FX(:)g FI(Type)2422 879
y FL(j)p 1800 899 709 4 v 1800 975 a FX(\000;)17 b FY(B)5
b FP(x)11 b FX(:)g FP(S)50 b F3(`)g F0(v)o(alid)2603
922 y FY(B)33 b F3(2)28 b(f8)p FY(;)17 b(\025)p F3(g)407
1283 y F0(de\002ne)1908 1244 y FX(\000)50 b F3(`)g FP(s)f
FX(:)h FP(S)p 1716 1260 827 4 v 1716 1335 a FX(\000;)17
b(!)p FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)50 b F3(`)g
F0(v)o(alid)407 1643 y(pr)n(op)1914 1604 y FX(\000)g
F3(`)f F0(v)o(alid)p 1768 1620 723 4 v 1768 1696 a FX(\000)h
F3(`)g FI(Prop)f FX(:)h FI(Type)2451 1730 y FM(0)407
2019 y F0(type)1914 1980 y FX(\000)g F3(`)f F0(v)o(alid)p
1706 1996 847 4 v 1706 2072 a FX(\000)h F3(`)g FI(Type)2095
2106 y FL(j)2182 2072 y FX(:)f FI(Type)2426 2106 y FL(j)t
FM(+1)407 2423 y F0(v)o(ar)1751 2373 y FX(\000;)17 b
FP(x)10 b FX(:)h FP(S)q FX(;)17 b(\000)2115 2337 y FE(0)2188
2373 y F3(`)49 b F0(v)o(alid)p 1740 2400 780 4 v 1740
2477 a FX(\000;)17 b FP(x)10 b FX(:)h FP(S)q FX(;)17
b(\000)2104 2441 y FE(0)2177 2477 y F3(`)49 b FP(x)h
FX(:)g FP(S)407 2808 y F0(imp)1698 2746 y FX(\000;)17
b F3(8)p FP(x)27 b FX(:)h FP(S)50 b F3(`)g FP(P)g FX(:)g
FI(Prop)p 1698 2785 864 4 v 1712 2860 a FX(\000)f F3(`)h(8)p
FP(x)11 b FX(:)g FP(S)q FY(:)22 b FP(P)50 b FX(:)g FI(Prop)407
3219 y F0(all)1316 3140 y FX(\000)g F3(`)f FP(S)i FX(:)e
FI(Type)1887 3175 y FL(j)2043 3140 y FX(\000;)17 b F3(8)p
FP(x)28 b FX(:)g FP(S)50 b F3(`)f FP(T)h FX(:)g FI(Type)2906
3175 y FL(j)p 1316 3196 1628 4 v 1693 3271 a FX(\000)g
F3(`)g(8)p FP(x)11 b FX(:)g FP(S)q FY(:)22 b FP(T)50
b FX(:)g FI(Type)2529 3306 y FL(j)407 3618 y F0(abs)1764
3568 y FX(\000;)17 b FY(\025)p FP(x)27 b FX(:)h FP(S)50
b F3(`)g FP(t)g FX(:)g FP(T)p 1649 3595 962 4 v 1649
3671 a FX(\000)f F3(`)h FY(\025)p FP(x)11 b FX(:)g FP(S)p
FY(:)23 b FP(t)50 b FX(:)f F3(8)p FP(x)12 b FX(:)f FP(S)p
FY(:)22 b FP(T)407 3983 y F0(app)1500 3924 y FX(\000)50
b F3(`)g FP(f)f FX(:)h F3(8)p FP(x)11 b FX(:)g FP(S)q
FY(:)22 b FP(T)120 b FX(\000)50 b F3(`)g FP(s)f FX(:)h
FP(S)p 1500 3960 1259 4 v 1694 4036 a FX(\000)g F3(`)g
FP(f)21 b(s)50 b FX(:)22 b(!)p FP(x)28 b FX(=)f FP(s)11
b FX(:)g FP(S)q FY(:)22 b FP(T)407 4363 y F0(let)1711
4313 y FX(\000;)17 b(!)p FP(x)27 b FX(=)g FP(s)11 b FX(:)g
FP(S)51 b F3(`)e FP(t)h FX(:)g FP(T)p 1535 4340 1189
4 v 1535 4416 a FX(\000)g F3(`)22 b FX(!)p FP(x)28 b
FX(=)f FP(s)11 b FX(:)g FP(S)q FY(:)22 b FP(t)50 b FX(:)22
b(!)p FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)p FY(:)23
b FP(T)407 4706 y F0(cuml)1936 4666 y FX(\000)50 b F3(`)f
FP(t)h FX(:)g FP(S)p 1933 4683 443 4 v 1933 4758 a FX(\000)g
F3(`)g FP(t)g FX(:)g FP(T)2470 4706 y FX(\000)g F3(`)g
FP(S)28 b F3(\026)g FP(T)1330 4949 y F4(T)-8 b(able)25
b(2.4:)32 b(O)t F2(L)t(E)t(G)d F4(core)d(inference)f(rules)2022
5667 y(22)p eop
%%Page: 23 28
23 27 bop 359 843 a F4(M)t F2(E)t(T)m(A)-5 b(T)t(H)t(E)t(O)t(R)t(E)t(M)
r F4(:)37 b F0(Chur)n(ch-Rosser)815 1046 y FX(\000)50
b F3(`)g FP(s)1125 1019 y F3(\030)1126 1051 y FX(=)1253
1046 y FP(t)601 1208 y F4(implies)23 b(e)o(xistence)h(of)h(a)g
F0(common)g(r)n(educt)i FP(r)e F4(such)f(that)815 1412
y FX(\000)50 b F3(`)g FP(s)44 b FY(.)g FP(r)119 b FX(\000)50
b F3(`)g FP(t)44 b FY(.)g FP(r)359 1615 y F4(M)t F2(E)t(T)m(A)-5
b(T)t(H)t(E)t(O)t(R)t(E)t(M)r F4(:)37 b F0(str)n(engthening)815
1819 y FX(\000;)17 b FI(B)980 1779 y FL(x)980 1843 y
FM(\000)1028 1819 y FX(;)g(\000)1133 1782 y FE(0)1206
1819 y F3(`)49 b FP(t)h FX(:)g FP(T)120 b(x)28 b F3(62)g
FX(\000)1890 1782 y FE(0)1913 1819 y FY(;)17 b FP(t)p
FY(;)g FP(T)601 1980 y F4(implies)815 2184 y FX(\000;)g(\000)981
2148 y FE(0)1054 2184 y F3(`)50 b FP(t)g FX(:)f FP(T)359
2387 y F4(M)t F2(E)t(T)m(A)-5 b(T)t(H)t(E)t(O)t(R)t(E)t(M)r
F4(:)37 b F0(subject)26 b(r)n(eduction)815 2591 y FX(\000)50
b F3(`)g FP(s)f FX(:)h FP(T)120 b FX(\000)50 b F3(`)f
FP(s)44 b FY(.)h FP(t)601 2753 y F4(implies)815 2956
y FX(\000)50 b F3(`)g FP(t)g FX(:)g FP(T)359 3159 y F4(M)t
F2(E)t(T)m(A)-5 b(T)t(H)t(E)t(O)t(R)t(E)t(M)r F4(:)37
b F0(str)n(ong)25 b(normalisation)815 3363 y FX(\000)50
b F3(`)g FP(t)g FX(:)g FP(T)601 3525 y F4(ensures)24
b(that)h FP(t)g F4(is)f(strongly)g(normalising.)359 3728
y(M)t F2(E)t(T)m(A)-5 b(T)t(H)t(E)t(O)t(R)t(E)t(M)r F4(:)37
b F0(cut)815 3931 y FX(\000;)17 b(!)p FP(x)27 b FX(=)h
FP(s)11 b FX(:)g FP(S)p FX(;)17 b(\000)1376 3895 y FE(0)1449
3931 y F3(`)50 b FP(t)g FX(:)g FP(T)601 4093 y F4(implies)815
4297 y FX(\000;)17 b([)p FP(s)p FY(=)p FP(x)o FX(]\000)1172
4261 y FE(0)1245 4297 y F3(`)50 b FX([)p FP(s)p FY(=)p
FP(x)p FX(])p FP(t)g FX(:)g([)p FP(s)o FY(=)p FP(x)p
FX(])p FP(T)1376 4583 y F4(T)-8 b(able)25 b(2.5:)30 b(metatheoretic)24
b(properties)2022 5667 y(23)p eop
%%Page: 24 29
24 28 bop 357 -6 a F4(Henceforth,)22 b(I)f(shall)g(elide)g(the)g(conte)
o(xt)f(in)h(casual)h(discussion.)27 b(I)22 b(write)f
FD(;)k F4(for)d(the)f(union)f(of)h(the)357 144 y(labelled)26
b(compatible)g(closures,)i(and)f FY(.)g F4(for)g(its)g(\002nite)g
(transiti)n(v)o(e)e(closure.)37 b(A)28 b(term)f(is)f
F0(str)n(ongly)357 293 y(normalising)k F4(if)i(admits)e(only)g
(\002nite)i(sequences)f(of)h(reductions.)49 b(The)31
b(smallest)f(equi)n(v)n(alence)357 443 y(relation)24
b(closed)g(under)h FY(.)g F4(is)f(called)h F0(con)l(v)o(ersion)g
F4(and)g(denoted)2633 415 y F3(\030)2634 447 y FX(=)2711
443 y F4(.)357 652 y(Observ)o(e)e(that)h FX(!)p F4(-binding)f(allo)n
(ws)g(us)h(to)f(a)n(v)n(oid)h(meta-le)n(v)o(el)f(substitution)e(in)j
(describing)f(compu-)357 802 y(tation.)29 b(Explanations)20
b(of)j(identi\002ers)e(are)i(acti)n(v)n(ated)e(by)h(putting)f(them)h
(into)f(the)h(conte)o(xt,)g(not)g(by)357 951 y(propagating)h(them)h
(through)g(terms.)30 b(The)25 b(traditional)e FY(\014)6
b F4(-contraction)601 1215 y FX(\()p FY(\025)p FP(x)k
FX(:)h FP(S)q FY(:)22 b FP(t)p FX(\))g FP(s)88 b FD(;)j
FX([)p FP(s)p FY(=)p FP(x)p FX(])p FP(t)357 1479 y F4(becomes)24
b(a)h(`noisier')g(reduction)f(sequence)601 1743 y FX(\()p
FY(\025)p FP(x)10 b FX(:)h FP(S)q FY(:)22 b FP(t)p FX(\))g
FP(s)88 b FD(;)1219 1707 y FL(\014)1326 1743 y FX(!)p
FP(x)27 b FX(=)h FP(s)11 b FX(:)g FP(S)p FY(:)22 b FP(t)88
b FD(;)1947 1758 y FL(\016)2012 1743 y F3(\001)17 b(\001)g(\001)59
b FX(!)p FP(x)27 b FX(=)h FP(s)11 b FX(:)g FP(S)p FY(:)22
b FX([)p FP(s)p FY(=)p FP(x)p FX(])p FP(t)88 b FD(;)3002
1707 y FM(!)3113 1743 y FX([)p FP(s)p FY(=)p FP(x)o FX(])p
FP(t)357 2007 y F4(F)o(ollo)n(wing)28 b(Luo,)j(I)g(combine)e(the)h
(notions)f(of)i(con)l(v)o(ersion)e(and)h(uni)n(v)o(erse)f(inclusion)g
(in)h(a)h(type)357 2156 y(cumulati)n(vity)22 b(preorder)j(with)f
(respect)h(to)1857 2129 y F3(\030)1857 2160 y FX(=)1934
2156 y F4(:)359 2366 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(cumulati)o(vity)601 2630 y F4(The)24 b F0(cumulati)o(vity)
h(r)n(elation)p F4(,)g F3(\026)p F4(,)h(is)e(de\002ned)h(inducti)n(v)o
(ely)d(in)j(table)f(2.3.)357 2894 y(In)j([Luo94)o(],)h(Luo)f(sho)n(ws)e
(that)i F3(\026)h F4(is)e(antisymmetric)g(and)h(hence)g(a)h(partial)e
(order)i(with)e(respect)357 3043 y(to)459 3015 y F3(\030)460
3047 y FX(=)537 3043 y F4(.)k(In)25 b(f)o(act,)g(e)n(v)o(ery)f
(well-typed)g(term)h FP(t)g F4(\(under)g FX(\000)p F4(\))f(has)h(a)g
(principal)f(type)h FP(T)f F4(in)h(the)f(sense)h(that)601
3307 y FX(\000)49 b F3(`)h FP(t)g FX(:)g FP(T)1043 3264
y FE(0)1214 3307 y F3(\()-17 b(\))147 b FX(\000)50 b
F3(`)g FP(T)27 b F3(\026)h FP(T)2020 3264 y FE(0)2043
3307 y F4(.)357 3571 y(Consequently)33 b(it)g(will)h(be)g(my)g(habit)f
(to)h(omit)f(the)h(inde)o(x)f(in)h FI(Type)f F4(where)i(uncontro)o(v)o
(ersial\227)357 3720 y(this)23 b(phenomenon)f(is)h(kno)n(wn)g(as)h
F0(typical)g(ambiguity)f F4([HP91].)31 b(In)24 b(practice,)g(the)g
(cumulati)n(vity)357 3870 y(constraints)f(required)i(to)f(ensure)h
(consistenc)o(y)e(of)i(an)o(y)f(de)n(v)o(elopment)e(can)k(be)e(stored)h
(as)f(a)h(\002nite)357 4019 y(directed)f(graph)h(and)g(check)o(ed)g
(for)g(of)n(fending)f(c)o(ycles.)357 4229 y(The)j(system)f(of)i
(inference)g(rules)f(for)h(the)f(v)n(alidity)f(of)h(conte)o(xts)f(and)i
(typing)e(judgments)f(in)i(the)359 4378 y(O)t F2(L)t(E)t(G)35
b F4(core)d(calculus)f(is)f(gi)n(v)o(en)g(in)g(table)h(2.4.)49
b(The)31 b(formulation)e(is)i(slightly)e(unusual)h(in)h(that)357
4528 y(it)c(in)l(v)n(olv)o(es)f(no)i(meta-le)n(v)o(el)f(substitution)e
(in)i(types\227the)g(same)h(job)f(is)h(done)f(by)h(the)g(computa-)357
4677 y(tional)c(beha)n(viour)g(of)h(local)f(de\002nition,)g(as)h
(performed)g(by)f(the)h F0(cuml)g F4(rule.)357 4887 y(All)f(the)h
(usual)f(metatheoretic)g(properties)h(\(see)g(table)g(2.5\))f(hold)g
(as)h(we)h(might)d(e)o(xpect)i(them)f(to.)357 5036 y(The)o(y)30
b(contrib)n(ute)g(no)h(insight)f(una)n(v)n(ailable)g(from)h(the)g(Luo')
-5 b(s)30 b(treatment)h(of)g(ECC)h(in)f([Luo94)o(].)357
5185 y(Se)n(v)o(eri)f(and)g(Poll)g(ha)n(v)o(e)g(sho)n(wn)f(ho)n(w)g(to)
h(e)o(xtend)g(dependent)g(type)g(systems)e(with)i(local)g(de\002ni-)357
5335 y(tions)k([SP94].)62 b(The)35 b(Church-Rosser)g(property)g(follo)n
(ws)f(by)g(the)h(`parallel)g(reduction')g(ar)n(gu-)357
5484 y(ment)27 b(of)h(T)-8 b(ait)27 b(and)h(Martin-L)8
b(\250)-41 b(of,)28 b(as)g(modernised)e(by)i(T)-8 b(akahashi[T)g(ak95)o
(].)40 b(Subject)28 b(reduction,)2022 5667 y(24)p eop
%%Page: 25 30
25 29 bop 357 -6 a F4(strengthening)26 b(and)h(cut)h(follo)n(w)e(by)h
(induction)f(on)i(typing)e(deri)n(v)n(ations,)g(dif)n(fering)h(only)g
(in)g(mi-)357 144 y(nor)d(details)g(from)h(the)f(proofs)h(for)g(ECC.)g
(I)g(ha)n(v)o(e)f(omitted)g(weak)o(ening)g(from)h(the)f(list)g(because)
h(it)357 293 y(is)f(a)h(special)g(case)g(of)g(the)g F0(monotonicity)g
F4(property)f(which)g(I)h(shall)g(pro)o(v)o(e)e(in)i(section)f(2.2.2.)
357 503 y(Strong)19 b(normalisation)e(for)j(the)h(O)t
F2(L)t(E)t(G)j F4(core)c(is)f(a)h(direct)g(consequence)f(of)h(strong)e
(normalisation)357 652 y(for)38 b(ECC.)g(In)g(the)f(style)g(of)g(Se)n
(v)o(eri)h(and)f(Poll,)k(a)c(type-preserving)g(translation)g(maps)i(O)t
F2(L)t(E)t(G)357 802 y F4(terms)34 b(to)h(ECC)h(terms)f(adding)f
(apparently)h(pointless)e FY(\014)6 b F4(-rede)o(x)o(es)2759
766 y FS(4)2796 802 y F4(,)37 b(so)e(that)g(each)h(step)e(in)h(an)359
951 y(O)t F2(L)t(E)t(G)e F4(reduction)28 b(sequence)g(can)h(then)f(be)h
(simulated)e(by)h(a)h(step)f(in)g(an)g(ECC)i(reduction)e(of)g(its)357
1101 y(translation.)36 b(Consequently)-6 b(,)27 b(an)g(in\002nite)g
(reduction)g(sequence)g(for)h(a)f(well-typed)i(O)t F2(L)t(E)t(G)j
F4(term)357 1250 y(becomes)26 b(an)h(in\002nite)f(reduction)g(sequence)
h(for)g(a)g(well-typed)e(ECC)j(term,)f(and)f(we)h(kno)n(w)f(that)357
1399 y(no)e(such)h(thing)e(e)o(xists.)357 1609 y(The)h(interesting)f
(aspect)i(of)h(O)t F2(L)t(E)t(G)j F4(is)24 b(its)g(de)n(v)o(elopment)e
(superstructure.)30 b(Let)25 b(us)f(no)n(w)f(gi)n(v)o(e)g(our)357
1758 y(attention)g(to)i(that.)357 2158 y FT(2.2)142 b(the)40
b F5(O)8 b FF(L)g(E)g(G)36 b FT(de)n(v)o(elopment)c(calculus)601
2422 y FV(`Y)-11 b(ou)24 b(can')n(t)i(put)e(a)h(hole)f(where)i(a)f
(hole)f(don')n(t)h(belong.)-7 b(')238 b F4(\(Bernard)26
b(Cribbins\))357 2739 y(Holes)e(stand)g(for)i(the)e(parts)h(of)g
(constructions)e(we)i(ha)n(v)o(e)g(not)f(yet)h(in)l(v)o(ented.)30
b(Ev)o(ery)24 b(hole)h(should)357 2889 y(tell)f(us)g(tw)o(o)h(things)e
(about)i(the)f(candidates)h(which)f(may)g(\002ll)h(it:)502
3181 y F3(\017)49 b F4(their)24 b F0(type)p F4(,)i FP(T)502
3414 y F3(\017)49 b F4(the)24 b F0(context)p F4(,)i FX(\000)p
F4(,)f(of)g(v)n(ariables)f(the)o(y)g(may)g(emplo)o(y)357
3706 y(W)-8 b(e)27 b(may)f(ascribe)h(these)g(properties)f(to)g(the)h
(hole)f(itself,)g(by)h(w)o(ay)g(of)f(con)l(v)o(enient)g(abbre)n
(viation.)357 3856 y(The)k(point)g(is)g(that)g(it)g(must)g(be)g(safe)i
(to)e(\002ll)g(such)h(a)f(hole)h(with)f(an)o(y)g FP(t)h
F4(such)f(that)g FX(\000)65 b F3(`)f FP(t)h FX(:)g FP(T)p
F4(.)357 4005 y(Solutions)23 b(must)h(be)h F0(locally)e(checkable)k
F4(if)e(w)o(orking)f(with)g(holes)g(is)g(to)h(be)g(practicable.)357
4215 y(As)g(I)h(ha)n(v)o(e)f(already)h(mentioned,)f(the)g(treatment)g
(of)h(holes)f(for)h(simple)e(type)h(systems)f(is)i(greatly)357
4364 y(helped)38 b(by)h(the)g(f)o(act)g(that)g(terms)f(do)h(not)f
(`leak')h(into)f(types.)73 b(Consequently)-6 b(,)41 b(an)o(y)d(subterm)
357 4513 y(may)28 b(safely)h(be)f(replaced)h(by)g(another)f(of)h(the)f
(same)h(type,)g(without)e(af)n(fecting)h(the)h(type)f(of)g(the)357
4663 y(containing)i(term\227local)h(checkability)g(of)h(hole)g
(solutions)e(is)h(just)g(one)h(special)g(case.)53 b(Holes)357
4812 y(may)30 b(safely)h(be)g(represented)g(by)g(unlabelled)f(?)49
b(symbols,)31 b(as)g(typing)e(places)i(no)g(dependenc)o(y)357
4962 y(between)25 b(them.)p 357 5031 1373 4 v 473 5092
a FR(4)506 5122 y FQ(It)i(may)f(help)g(to)h(think)f(of)g(the)g
(translation)g(to)h(ECC)g(as)h(tying)d(old)i(tin)f(cans)h(onto)f(terms)
g(to)h(mak)o(e)f(the)h(ECC)357 5222 y(reduction)18 b(as)j(noisy)f(as)h
(the)h(O)t FS(L)t(E)t(G)g FQ(reduction.)2022 5667 y F4(25)p
eop
%%Page: 26 31
26 30 bop 357 -6 a F4(Ho)n(we)n(v)o(er)l(,)22 b(the)i(application)f(of)
h(a)g(dependently)f(typed)g(function)g(smuggles)f(the)i(ar)n(gument)g
(term)357 144 y(into)d(the)g(result)h(type\227this)e(is)h(why)g(the)h
(replacement)g(property)f(f)o(ails.)30 b(Consider)22
b(the)f(follo)n(wing)357 293 y(e)o(xample,)j(in)g(a)h(conte)o(xt)f
(de\002ning)g(an)h(equality)f(symbol)f(for)j(natural)e(numbers:)601
574 y FY(\025)o FZ(=)718 589 y FL(N)910 574 y FX(:)f
FZ(N)-63 b(N)27 b F3(!)g FZ(N)-63 b(N)28 b F3(!)f FI(Prop)601
694 y FY(\025)o FN(r)n(e\003)803 709 y FL(N)910 694 y
FX(:)c F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23
b FP(n)p FZ(=)1369 709 y FL(N)1437 694 y FP(n)601 815
y FY(\025)o FN(sym)843 847 y FL(N)910 815 y FX(:)g F3(8)p
FP(m)o FY(;)17 b FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22
b FP(m)o FZ(=)1513 830 y FL(N)1580 815 y FP(n)50 b F3(!)g
FP(n)p FZ(=)1950 830 y FL(N)2018 815 y FP(m)357 1058
y F4(It)24 b(may)h(be)g(reasonable)g(to)f(infer)h(that)601
1338 y FN(sym)786 1371 y FL(N)876 1338 y FX(?)d(?)g(\()p
FN(r)n(e\003)1196 1353 y FL(N)1285 1338 y FX(?\))50 b(:)22
b(?)p FZ(=)1575 1353 y FL(N)1642 1338 y FX(?)357 1619
y F4(b)n(ut)33 b(we)h(may)f(not)g(instantiate)f(an)o(y)i(of)f(the)h(?s)
g(and)f(retain)h(this)e(typing)h(unless)g(we)h(instantiate)357
1768 y(them)24 b(all\227)p FN(sym)966 1801 y FL(N)1033
1768 y F4(')-5 b(s)24 b(\002rst)h(tw)o(o)g(ar)n(guments)f(appear)h(in)g
(the)f(required)h(type)g(of)f FX(\()p FN(r)n(e\003)3300
1783 y FL(N)3390 1768 y FX(?\))p F4(.)357 1978 y(Someho)n(w)30
b(we)i(must)f(represent)g(the)h(information)e(that)h(the)g(three)h(?s)g
(in)f FN(sym)3184 2010 y FL(N)3279 1978 y FX(?)c(?)g(\()p
FN(r)n(e\003)3609 1993 y FL(N)3703 1978 y FX(?\))357
2127 y F4(signify)35 b(the)g(same,)k(and)d(what)g(more)f(natural)h(w)o
(ay)g(could)g(we)g(choose)g(than)f(to)h(gi)n(v)o(e)f(them)g(a)357
2277 y(single)24 b(sign?)357 2486 y(Hence,)j(let)f(us)f(in)l(v)o(ent)g
(a)i(ne)n(w)f(binding)e(operator)j(`?')35 b(\(pronounced)26
b(`hole'\))g(to)g(introduce)g(v)n(ari-)357 2636 y(ables)f(standing)f
(for)i(holes)f(in)g(a)h(proof)g(which)f(must)f(be)i(instantiated)e(by)h
(a)h(common)e(candidate)357 2785 y(of)h(an)g(appropriate)f(type.)30
b(W)-8 b(e)26 b(may)e(no)n(w)g(add)h(to)f(the)h(conte)o(xt)601
3065 y FX(?)p FP(x)i FX(:)h FZ(N)-63 b(N)357 3346 y F4(and)24
b(infer)601 3626 y FN(sym)786 3659 y FL(N)876 3626 y
FP(x)d(x)h FX(\()p FN(r)n(e\003)1203 3641 y FL(N)1293
3626 y FP(x)o FX(\))50 b(:)g FP(x)p FZ(=)1617 3641 y
FL(N)1685 3626 y FP(x)357 3907 y F4(When)33 b(we)h(think)e(of)i(a)g
(suitable)e(candidate,)k(we)d(may)g(`solv)o(e)g(the)g(hole')h(by)f
(changing)g(the)g FX(?)p F4(-)357 4056 y(binding)23 b(to,)h(say)-6
b(,)25 b FX(!)p FP(x)i FX(=)h FZ(0)11 b FX(:)g FZ(N)-63
b(N)p F4(,)25 b(and)g(the)f(typing)g(will)g(stand.)357
4266 y(Ho)n(we)n(v)o(er)l(,)f(the)i(danger)g(has)g(not)f(gone)g(a)o(w)o
(ay)-6 b(.)30 b(W)-8 b(e)26 b(could)e(quite)g(reasonably)g(infer)601
4546 y FN(sym)786 4578 y FL(N)876 4546 y FX(\(?)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FP(n)q FX(\))g(\(?)p
FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FP(n)q FX(\))g(\()p
FN(r)n(e\003)1936 4561 y FL(N)2025 4546 y FX(?)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FP(n)p FX(\))50 b(:)22
b(?)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FP(n)h
FZ(=)2925 4561 y FL(N)3014 4546 y FX(?)p FP(n)12 b FX(:)f
FZ(N)-63 b(N)p FY(:)22 b FP(n)357 4827 y F4(since)28
b(one)h(binding)e FX(?)p FP(n)19 b FX(:)f FZ(N)-63 b(N)p
FY(:)25 b FP(n)k F4(is)f(syntactically)f(identical)h(to)h(another)l(,)g
(e)n(v)o(en)f(if)g(we)h(re)o(gard)f(the)357 4976 y(bound)i(v)n
(ariables)g(as)h(distinct)f(\(indeed,)i(not)f(in)g(the)f(same)h
(scope\).)50 b(W)-8 b(e)31 b(are)h(not)f(free)h(to)e(solv)o(e)357
5125 y(one)24 b(without)g(the)g(others,)h(so)f(we)h(must)f(a)n(v)n(oid)
g(this)g(situation.)357 5335 y(The)j(point)e(is)i(that)f(although)g
(there)h(is)f(nothing)g(wrong)g(with)h(holes)f(leaking)g(into)g(types,)
h(disas-)357 5484 y(ter)h(strik)o(es)f(if)h(we)h(permit)e
FX(?)p F4(-)p FU(bindings)g F4(to)g(do)h(so.)40 b(The)30
b(O)t F2(L)t(E)t(G)j F4(de)n(v)o(elopment)26 b(calculus)h(ensures)2022
5667 y(26)p eop
%%Page: 27 32
27 31 bop 357 -6 a F4(that)23 b FX(?)p F4(-bindings)g(are)h(al)o(w)o
(ays)g(in)f(safe)i(places\227ie,)e(that)h(the)o(y)f(may)g(al)o(w)o(ays)
h(be)g(solv)o(ed)f(indepen-)357 144 y(dently)-6 b(.)42
b(Indeed,)31 b(this)d(arises)h(as)g(a)h(corollary)f(of)g(a)g(more)g
(general)h(replacement)f(property)-6 b(,)29 b(just)357
293 y(lik)o(e)24 b(in)g(the)h(simply)e(typed)i(case.)357
503 y(By)d(introducing)e(an)i(e)o(xplicit)e(binding)h(operator)g(for)h
(holes,)i(O)t F2(L)t(E)t(G)j F4(follo)n(ws)20 b(Dale)i(Miller')-5
b(s)20 b(lead)357 652 y([Mil91)n(,)26 b(Mil92)o(])g(in)f(representing)h
(the)g(state)f(of)h(the)g(system)e(as)i(a)h(judgment)d(whose)h(conte)o
(xt)g(or)357 802 y(`mix)o(ed)e(pre\002x')j(e)o(xplains)d(the)i(v)n
(ariously)e(quanti\002ed)i(v)n(ariables)f(in)l(v)n(olv)o(ed.)357
1011 y(The)34 b(O)t F2(L)t(E)t(G)i F4(de)n(v)o(elopment)30
b(calculus)i(represents)g(the)g(store)g(of)g(a)g(theorem)g(pro)o(v)o
(er)f(directly)g(at)357 1161 y(the)24 b(judgment)g(le)n(v)o(el.)29
b(Theorem)c(pro)o(v)o(ers)e(tend)i(to)f(contain)g(four)h(kinds)f(of)h
(information:)502 1453 y F3(\017)49 b F4(assumptions)502
1686 y F3(\017)g F4(pro)o(v)o(ed)23 b(theorems)502 1918
y F3(\017)49 b F4(unpro)o(v)o(ed)23 b(claims)502 2150
y F3(\017)49 b F4(partial)24 b(proofs)g(of)h(claims)357
2443 y(These)j(four)g F0(components)i F4(are)f(each)f(represented)h(by)
f(a)g(form)g(of)g(binding\227respecti)n(v)o(ely)-6 b(,)25
b(the)357 2592 y(four)h(gi)n(v)o(en)f(in)h(the)g(de\002nition)f(belo)n
(w)-6 b(.)34 b(A)26 b F0(state)h F4(is)f(a)g(conte)o(xt)f(of)i(such)f
(bindings.)33 b(The)26 b(terms)g(of)357 2742 y(the)e(de)n(v)o(elopment)
f(calculus)h(are)i(called)f F0(partial)f(constructions)p
F4(.)359 2951 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(states,)25 b(components)h(and)g(partial)e(constructions)
601 3244 y(states)48 b FI(State)p 1429 3622 385 4 v 1429
3701 a F3(hi)27 b(2)h FI(State)2103 3562 y FX(\001)g
F3(2)g FI(State)119 b FY(C)35 b F3(2)28 b FI(C)2862 3526
y FL(x)2862 3612 y FI(V)p 2103 3622 827 4 v 2262 3697
a FX(\001;)17 b FY(C)34 b F3(2)28 b FI(State)601 3918
y F0(components)50 b FI(C)1210 3882 y FL(x)1210 3968
y FI(V)1303 3918 y F4(for)25 b FP(x)j F3(2)g FI(I)22
b F3(\000)g FI(V)1591 4237 y FP(S)28 b F3(2)g FI(T)1818
4273 y(V)p 1495 4283 487 4 v 1495 4358 a FY(\025)p FP(x)f
FX(:)h FP(S)g F3(2)g FI(C)1913 4322 y FL(x)1913 4409
y FI(V)2378 4237 y FP(s)p FY(;)17 b FP(S)28 b F3(2)g
FI(T)2688 4273 y(V)p 2270 4283 593 4 v 2270 4358 a FX(!)p
FP(x)g FX(=)g FP(s)10 b FX(:)h FP(S)29 b F3(2)f FI(C)2796
4322 y FL(x)2796 4409 y FI(V)1535 4548 y FP(S)g F3(2)g
FI(T)1762 4584 y(V)p 1445 4594 476 4 v 1445 4669 a FX(?)p
FP(x)f FX(:)h FP(S)g F3(2)g FI(C)1852 4633 y FL(x)1852
4719 y FI(V)2209 4548 y FP(q)g F3(2)g FI(P)2431 4584
y(V)2619 4548 y FP(S)g F3(2)g FI(T)2846 4584 y(V)p 2209
4594 705 4 v 2251 4669 a FX(?)p FP(x)g F3(\031)g FP(q)11
b FX(:)g FP(S)28 b F3(2)g FI(C)2804 4633 y FL(x)2804
4719 y FI(V)601 4890 y F0(partial)c(constructions)50
b FI(P)1586 4927 y(V)1457 5223 y FP(t)28 b F3(2)g FI(T)1662
5260 y(V)p 1455 5269 277 4 v 1455 5345 a FP(t)g F3(2)g
FI(P)1664 5381 y(V)2021 5208 y FY(C)35 b F3(2)28 b FI(C)2272
5172 y FL(x)2272 5259 y FI(V)2459 5208 y FP(p)g F3(2)g
FI(P)2685 5245 y(V)p FE([f)p FK(x)p FE(g)p 2021 5269
883 4 v 2255 5345 a FY(C)r(:)22 b FP(p)27 b F3(2)i FI(P)2601
5381 y(V)2022 5667 y F4(27)p eop
%%Page: 28 33
28 32 bop 357 -6 a F4(Observ)o(e)24 b(that)h(partial)f(proofs,)h(or)g
(`guesses')f(are)i(attached)f(to)f(holes)h(with)f(a)h(`)p
F3(\031)p F4(')h(symbol,)d(indi-)357 144 y(cating)k(that)g(the)o(y)f
(ha)n(v)o(e)i(not)e(the)i(computational)d(force)k(of)e
FX(!)p F4(-bound)g(v)n(alues)g(attached)g(with)g(`='.)357
293 y(Indeed,)e(we)g(may)g(vie)n(w)g(an)o(y)f(state)h
FX(\001)h F4(as)f(a)g(core)h(conte)o(xt)e(by)h(for)n(getting)f(all)h(b)
n(ut)g(the)g(`:')32 b(and)25 b(`=')357 443 y(properties)i(of)g(each)i
(v)n(ariable.)38 b(This,)28 b(in)f(particular)l(,)h(means)f(that)g
(guesses)g(are)h(in)l(visible)e(to)h(the)357 592 y(core.)357
802 y(States)39 b FX(\001)h F4(in)g(the)f(de)n(v)o(elopment)f(calculus)
h(are)h(equipped)f(with)g FX(\001)p F4(-judgment)g(forms)g
FI(DevJ)3724 821 y FM(\001)357 951 y F4(corresponding)d(to)h(those)f
(of)i(the)f(core.)68 b(If)38 b FY(J)60 b F3(2)51 b FI(DevJ)2392
970 y FM(\001)2455 951 y F4(,)41 b(we)c(may)g(assert)g(that)g
FY(J)46 b F4(holds)37 b(by)357 1101 y(writing)23 b FX(\001)51
b FC(\015)e FY(J)9 b F4(.)357 1310 y FI(DevJ)544 1329
y FM(\001)632 1310 y F4(is)24 b(gi)n(v)o(en)g(by)p 1297
1611 582 4 v 1297 1686 a F0(v)o(alid)j F3(2)h FI(DevJ)1816
1706 y FM(\001)2143 1576 y FP(p)g F3(2)g FI(P)2368 1591
y FM(\001)2551 1576 y FP(T)g F3(2)g FI(T)2784 1591 y
FM(\001)p 2143 1611 704 4 v 2186 1686 a FP(p)g FX(:)g
FI(T)2368 1701 y FM(\001)2459 1686 y F3(2)g FI(DevJ)2740
1706 y FM(\001)357 1957 y F4(Ev)o(en)54 b(the)h(abstract)f(form)h(of)g
(the)g(typing)e(judgment)h(contains)g(an)h(important)e(piece)i(of)357
2106 y(information\227the)23 b(de)n(v)o(elopment)g(calculus)i(does)g
(not)f(e)o(xtend)h(the)g(type)g(system,)f(only)g(the)h(lan-)357
2255 y(guage)37 b(of)g(terms.)66 b(Holes)37 b(are)g(ne)n(v)o(er)f
(bound)h(to)f(the)h(right)f(of)h(the)g(`:'.)67 b(This)36
b(only)g(serv)o(es)h(to)357 2405 y(emphasise)30 b(the)i(analytic)f(vie)
n(w)g(that)g(types)g(come)g(before)h(terms\227we)f(do)g(not)g(e)o
(xplain)g(terms)357 2554 y(with)24 b(types,)g(we)h(search)g(for)g
(terms)g(inside)f(types.)357 2764 y(T)-8 b(able)20 b(2.6)g(sho)n(ws)f
(the)h(ne)n(w)g(inference)h(rules.)29 b(Note)20 b(that)g(core)h
(judgments)d FX(\001)34 b F3(`)f FY(J)d F4(only)19 b(v)n(alidate)357
2913 y FX(\001)30 b F4(vie)n(wed)g(for)n(getfully)f(as)i(a)f(core)h
(conte)o(xt\227an)o(y)d(guesses)h(in)h FX(\001)h F4(will)e(not)h(be)g
(check)o(ed.)47 b(This)357 3063 y(accounts)24 b(for)h(the)g(e)o(xtra)f
FX(\001)51 b FC(\015)e F0(v)o(alid)25 b F4(premises)f(appearing)g(in)h
(some)f(rules.)357 3272 y(The)36 b(analogous)f(metatheoretic)h
(properties)f(from)h(table)g(2.5)g(continue)g(to)f(hold)h(for)g(this)f
(e)o(x-)357 3422 y(tended)26 b(system.)36 b(The)26 b(parallel)h
(reduction)f(treatment)g(for)h(Church-Rosser)h(and)f(the)f(deri)n(v)n
(ation)357 3571 y(inductions)h(for)j(subject)f(reduction,)h
(strengthening)e(and)i(cut)f(can)h(easily)f(be)h(adapted.)45
b(Strong)357 3720 y(normalisation)37 b(for)i(the)g(de)n(v)o(elopment)e
(calculus)h(reduces)h(to)g(strong)f(normalisation)f(for)i(the)357
3870 y(core)23 b(by)f(a)h(translation)f(ar)n(gument)g(which)g(adds)g
(the)h(assumption)e FP(Imagine)27 b FX(:)h F3(8)p FP(A)15
b FX(:)c FI(Type)p FY(:)j FP(A)27 b F4(at)22 b(the)357
4019 y(root)j(of)i(the)f(conte)o(xt)f(and)h(turning)f
FX(?)p F4(-bindings)g(into)g FX(!)p F4(-bindings:)32
b(e)n(v)o(ery)26 b(hole)g(without)e(a)j(guess,)357 4169
y FX(?)p FP(x)g FX(:)h FP(S)p F4(,)22 b(becomes)f FX(?)p
FP(x)28 b F3(\031)g FP(Imagine)8 b(S)k FX(:)f FP(S)p
F4(,)22 b(then)f(the)g(translated)g(guesses)f(become)i
FX(!)p F4(-bound)e(v)n(alues.)357 4378 y(The)26 b(core)h(terms)g(are)g
(embedded)f(in)g(the)h(partial)f(constructions.)34 b(The)27
b(for)n(getful)f(interpretation)357 4528 y(of)36 b(states)g(as)h(core)g
(conte)o(xts)e(allo)n(ws)h(v)n(ariables)f(to)i(appear)g(in)f(partial)g
(constructions)f(via)h(the)357 4677 y F0(term)23 b F4(rule.)30
b(The)23 b(ef)n(fect)g(of)f(the)h(core/de)n(v)o(elopment)d(separation)i
(is)g(thus)g(to)g(restrict)h(where)g(holes)357 4827 y(may)h(be)i
FU(bound)p F4(.)k(A)25 b(partial)g(construction)f(containing)g(no)g
FX(?)p F4(-bindings)g(is)h(said)f(to)h(be)g F0(pur)n(e)p
F4(,)i(that)357 4976 y(is,)e(e)o(xpressible)g(as)g(a)i(core)f(term.)33
b(Pure)26 b(terms)g(may)-6 b(,)25 b(of)g(course,)h(refer)h(to)f(v)n
(ariables)f FX(?)p F4(-bound)g(in)357 5125 y(their)f(conte)o(xt.)357
5335 y(In)34 b(particular)l(,)i FX(?)p F4(-bindings)d(cannot)h(occur)g
(inside)f(applications)g(or)h FX(!)p F4(-bound)g(v)n(alues.)57
b(This)34 b(is)357 5484 y(enough)24 b(to)h(ensure)h(that)e(the)o(y)h
(ha)n(v)o(e)g(no)g(interaction)f(whate)n(v)o(er)h(with)f(computation.)
31 b FX(?)p F4(-bindings)2022 5667 y(28)p eop
%%Page: 29 34
29 33 bop 2196 576 a F4(state)25 b(v)n(alidity)461 817
y F0(empty)p 2284 794 459 4 v 2284 873 a F3(hi)49 b FC(\015)h
F0(v)o(alid)461 1226 y(declar)n(e)1933 1148 y FX(\001)g
FC(\015)g F0(v)o(alid)120 b FX(\001)50 b F3(`)f FP(S)i
FX(:)e FI(Type)3107 1182 y FL(j)p 1933 1203 1211 4 v
2170 1278 a FX(\001;)17 b FY(C)7 b FP(x)j FX(:)h FP(S)51
b FC(\015)f F0(v)o(alid)3238 1226 y FY(C)35 b F3(2)28
b(f)p FY(\025;)17 b FX(?)p F3(g)461 1587 y F0(de\002ne)1991
1547 y FX(\001)50 b FC(\015)g F0(v)o(alid)119 b FX(\001)50
b F3(`)g FP(s)g FX(:)f FP(S)p 1991 1564 1045 4 v 2085
1639 a FX(\001;)17 b(!)p FP(x)27 b FX(=)h FP(s)11 b FX(:)g
FP(S)50 b FC(\015)g F0(v)o(alid)461 1966 y(construct)2271
1908 y FX(\001)g FC(\015)g FP(p)g FX(:)f FP(S)p 2069
1943 890 4 v 2069 2019 a FX(\001;)17 b(?)p FP(x)27 b
F3(\031)i FP(p)10 b FX(:)h FP(S)51 b FC(\015)f F0(v)o(alid)1906
2281 y F4(typing)24 b(partial)g(constructions)461 2576
y F0(term)1991 2536 y FX(\001)50 b FC(\015)g F0(v)o(alid)119
b FX(\001)50 b F3(`)g FP(t)g FX(:)g FP(T)p 1991 2553
1045 4 v 2277 2628 a FX(\001)g FC(\015)f FP(t)h FX(:)g
FP(T)461 2937 y F0(abs)2124 2879 y FX(\001;)17 b FY(\025)p
FP(x)28 b FX(:)f FP(S)51 b FC(\015)e FP(p)h FX(:)g FP(T)p
2008 2914 1010 4 v 2008 2990 a FX(\001)h FC(\015)e FY(\025)p
FP(x)11 b FX(:)g FP(S)q FY(:)22 b FP(p)50 b FX(:)f F3(8)p
FP(x)12 b FX(:)f FP(S)p FY(:)22 b FP(T)461 3325 y F0(let)2071
3267 y FX(\001;)17 b(!)p FP(x)27 b FX(=)h FP(s)11 b FX(:)g
FP(S)50 b FC(\015)g FP(p)f FX(:)h FP(T)p 1917 3302 1193
4 v 1917 3377 a FX(\001)g FC(\015)23 b FX(!)p FP(x)k
FX(=)h FP(s)10 b FX(:)h FP(S)q FY(:)p FP(p)50 b FX(:)22
b(!)p FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)q FY(:)p
FP(T)461 3713 y F0(hole)2154 3654 y FX(\001;)17 b(?)p
FP(x)28 b FX(:)g FP(S)50 b FC(\015)g FP(p)f FX(:)h FP(T)p
2154 3690 768 4 v 2182 3765 a FX(\001)g FC(\015)22 b
FX(?)p FP(x)11 b FX(:)g FP(S)q FY(:)22 b FP(p)50 b FX(:)g
FP(T)3017 3713 y(x)28 b F3(62)g FP(T)461 4101 y F0(guess)2082
4042 y FX(\001;)17 b(?)p FP(x)27 b F3(\031)h FP(q)12
b FX(:)f FP(S)50 b FC(\015)g FP(p)f FX(:)h FP(T)p 2082
4078 914 4 v 2093 4153 a FX(\001)g FC(\015)22 b FX(?)p
FP(x)27 b F3(\031)i FP(q)11 b FX(:)g FP(S)p FY(:)23 b
FP(p)49 b FX(:)h FP(T)3090 4101 y(x)27 b F3(62)h FP(T)461
4488 y F0(cuml)2296 4430 y FX(\001)50 b FC(\015)g FP(p)f
FX(:)h FP(S)p 2293 4465 491 4 v 2293 4541 a FX(\001)g
FC(\015)g FP(p)g FX(:)g FP(T)2878 4488 y FX(\001)g F3(`)g
FP(S)28 b F3(\026)g FP(T)1120 4865 y F4(T)-8 b(able)25
b(2.6:)30 b(de)n(v)o(elopment)23 b(calculus)h(inference)i(rules)2022
5667 y(29)p eop
%%Page: 30 35
30 34 bop 357 -6 a F4(are)25 b(allo)n(wed)e(to)h(appear)h(in)f
(`guesses'\227partial)f(constructions)f(attached)j(to)f(holes)f(as)i
(potential)357 144 y(solutions.)36 b(Ho)n(we)n(v)o(er)l(,)26
b(unlik)o(e)h FX(!)p F4(-bindings,)f(guesses)h(are)h(merely)f
(typecheck)o(ed)g(annotations\227)357 293 y(the)o(y)d(ha)n(v)o(e)g(no)h
(computational)e(beha)n(viour)h(and)h(hence)g(no)g(ef)n(fect)g(on)f
(subsequent)g(typing.)357 503 y(In)35 b(f)o(act,)j(the)c(only)h
(contraction)f(scheme)h(at)g(the)f(partial)h(construction)f(le)n(v)o
(el)f(is)i FX(!)p F4(-contraction)357 652 y(remo)o(ving)23
b(spent)h(v)n(alue)g(bindings.)p 1066 922 949 4 v 1066
1008 a FX(\001)50 b FC(\015)22 b FX(!)p FP(x)28 b FX(=)g
FP(s)10 b FX(:)h FP(S)q FY(:)22 b FP(p)50 b FD(;)1892
972 y FM(!)1965 1008 y FP(p)2110 945 y(x)27 b F3(62)h
FP(p)357 1285 y F4(All)k(the)g(other)g(computations)f(occur)h(within)g
(embedded)g(terms)g(via)g(the)g(closure)h(rules)f(gi)n(v)o(en)357
1434 y(belo)n(w)-6 b(.)29 b(Of)c(course)g FY(\016)t F4(-reduction)f(in)
h(terms)f(can)h(e)o(xploit)e FX(!)p F4(-components)h(in)g(the)h(conte)o
(xt.)1857 1737 y FX(\001)50 b F3(`)g FP(t)g FD(;)2282
1752 y FE(\001)2355 1737 y FP(t)2388 1699 y FE(0)p 1851
1760 566 4 v 1851 1839 a FX(\001)h FC(\015)e FP(t)h FD(;)2287
1854 y FE(\001)2361 1839 y FP(t)2394 1801 y FE(0)1186
1994 y FX(\001)g F3(`)g FP(S)g FD(;)1633 2009 y FE(\001)1706
1994 y FP(S)1762 1951 y FE(0)p 926 2017 1120 4 v 926
2100 a FX(\001)g FC(\015)g FY(\025)p FP(x)10 b FX(:)h
FP(S)q FY(:)22 b FP(p)50 b FD(;)1639 2115 y FE(\001)1712
2100 y FY(\025)p FP(x)11 b FX(:)g FP(S)1923 2058 y FE(0)1947
2100 y FY(:)22 b FP(p)2522 1994 y FX(\001)50 b F3(`)g
FP(S)g FD(;)2969 2009 y FE(\001)3042 1994 y FP(S)3097
1951 y FE(0)p 2300 2017 1043 4 v 2300 2100 a FX(\001)g
FC(\015)22 b FX(?)p FP(x)11 b FX(:)g FP(S)q FY(:)22 b
FP(p)49 b FD(;)2974 2115 y FE(\001)3020 2100 y FX(?)p
FP(x)11 b FX(:)g FP(S)3220 2058 y FE(0)3244 2100 y FY(:)22
b FP(p)1052 2268 y FX(\001)50 b F3(`)g FP(s)f FD(;)1482
2283 y FE(\001)1555 2268 y FP(s)1594 2231 y FE(0)p 662
2290 1345 4 v 662 2368 a FX(\001)h FC(\015)22 b FX(!)p
FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)q FY(:)22 b FP(p)50
b FD(;)1488 2383 y FE(\001)1533 2368 y FX(!)p FP(x)28
b FX(=)f FP(s)1780 2331 y FE(0)1814 2368 y FX(:)11 b
FP(S)q FY(:)22 b FP(p)2634 2268 y FX(\001)50 b F3(`)g
FP(S)g FD(;)3081 2283 y FE(\001)3155 2268 y FP(S)3210
2225 y FE(0)p 2261 2290 V 2261 2374 a FX(\001)g FC(\015)23
b FX(!)p FP(x)k FX(=)h FP(s)11 b FX(:)g FP(S)p FY(:)22
b FP(p)50 b FD(;)3087 2389 y FE(\001)3132 2374 y FX(!)p
FP(x)28 b FX(=)g FP(s)10 b FX(:)h FP(S)3484 2331 y FE(0)3507
2374 y FY(:)22 b FP(p)1011 2535 y FX(\001)50 b FC(\015)g
FP(q)g FD(;)1460 2550 y FE(\001)1533 2535 y FP(q)1579
2499 y FE(0)p 606 2570 1401 4 v 606 2647 a FX(\001)g
FC(\015)22 b FX(?)p FP(x)28 b F3(\031)g FP(q)11 b FX(:)g
FP(S)q FY(:)22 b FP(p)50 b FD(;)1460 2662 y FE(\001)1505
2647 y FX(?)p FP(x)28 b F3(\031)g FP(q)1780 2611 y FE(0)1814
2647 y FX(:)11 b FP(S)q FY(:)22 b FP(p)2662 2547 y FX(\001)50
b F3(`)g FP(S)g FD(;)3109 2562 y FE(\001)3183 2547 y
FP(S)3238 2504 y FE(0)p 2261 2570 V 2261 2654 a FX(\001)g
FC(\015)23 b FX(?)p FP(x)k F3(\031)h FP(q)11 b FX(:)g
FP(S)q FY(:)22 b FP(p)50 b FD(;)3115 2669 y FE(\001)3160
2654 y FX(?)p FP(x)28 b F3(\031)g FP(q)11 b FX(:)g FP(S)3540
2611 y FE(0)3563 2654 y FY(:)22 b FP(p)1747 2814 y FX(\001;)17
b FY(C)1949 2778 y FL(x)1942 2840 y FM(\001)2054 2814
y FC(\015)50 b FP(p)g FD(;)2376 2829 y FE(\001)2449 2814
y FP(p)2499 2778 y FE(0)p 1653 2850 963 4 v 1653 2927
a FX(\001)g FC(\015)g FY(C)1983 2891 y FL(x)1976 2952
y FM(\001)2038 2927 y FY(:)23 b FP(p)49 b FD(;)2287 2942
y FE(\001)2361 2927 y FY(C)2438 2891 y FL(x)2431 2952
y FM(\001)2493 2927 y FY(:)22 b FP(p)2592 2891 y FE(0)357
3229 y F4(A)h(crucial)g(role)g(is)g(played)g(by)g(the)g
(side-conditions)e(in)i(the)g F0(hole)g F4(and)g F0(guess)h
F4(rules.)30 b(These)23 b(insist)357 3378 y(that)j(although)f(the)i
(term)f(under)h(a)g FX(?)p F4(-binding)e(may)i(e)o(xploit)e(the)h
(bound)g(v)n(ariable,)g(its)g(type)h(may)357 3527 y(not.)47
b(W)l(ithout)29 b(them,)j(we)e(should)g(ha)n(v)o(e)g(to)g(allo)n(w)g
FX(?)p F4(-bindings)f(in)h(types.)47 b(Furthermore,)32
b(these)357 3677 y(restrictions)24 b(simply)g(re\003ect)j(the)f
(natural)f(w)o(ays)h(in)f(which)h(holes)f(arise\227in)g(a)h
(re\002nement)g(style)357 3826 y(proof,)f(we)h(only)f(mak)o(e)g(claims)
g(moti)n(v)n(ated)e(by)i(the)h(need)f(to)h(construct)e(an)i(inhabitant)
e(of)i(a)g(type)357 3976 y(which)e(we)h(already)g(kno)n(w)-6
b(.)357 4185 y(The)29 b(inability)e(to)i(leak)g(into)g(types)f(is)h
(something)f(partial)g(constructions)g(share)i(with)e(terms)h(in)357
4335 y(simply)h(typed)i(systems.)51 b(W)-8 b(e)32 b(should)f(e)o(xpect)
g(the)h F0(r)n(eplacement)i F4(property)e(to)g(follo)n(w)e(easily)-6
b(,)357 4484 y(and)30 b(in)h(e)o(xactly)f(the)h(same)f(manner)n
(\227replacing)g(the)h(typing)f(subderi)n(v)n(ation)e(for)j(the)g
(replaced)357 4634 y(term.)357 4989 y FB(2.2.1)118 b(positions)30
b(and)h(r)n(eplacement)357 5265 y F4(The)26 b F0(positions)f
FI(P)o(os)1065 5302 y(V)1159 5265 y F4(are)h(formed)g(from)g(the)f
(partial)h(constructions)e FI(P)2879 5302 y(V)2973 5265
y F4(by)i(deleting)f(one)h(sub-)357 5415 y(partial)35
b(construction.)60 b(A)36 b(position)d FP(P)47 b F3(2)g
FI(P)o(os)2036 5430 y FM(\001)2134 5415 y F4(`for)n(getfully')35
b(induces)g(a)h(conte)o(xt)e(e)o(xtension)2022 5667 y(30)p
eop
%%Page: 31 36
31 35 bop 363 -32 a FX(\026)357 -6 y FP(P)35 b F4(which)h(collects)f
(the)g(components)g(under)g(which)h(the)f(deletion)g(point)f(lies.)63
b(If)36 b FP(p)48 b F3(2)g FI(P)3639 16 y FM(\001;)3721
-2 y(\026)3718 16 y FK(P)3762 -6 y F4(,)357 144 y(then)25
b FP(P)o FX([)p FP(p)p FX(])h F4(denotes)f(the)g(partial)g
(construction)e(obtained)i(by)g(inserting)f FP(p)h F4(at)g
FP(P)p F4(')-5 b(s)25 b(deletion)f(point.)357 293 y(Positions)f(are)j
(de\002ned)f(inducti)n(v)o(ely)d(as)j(follo)n(ws)359
503 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35
b F0(positions)601 762 y F4(F)o(or)24 b FP(x)k F3(2)g
FI(I)22 b F3(\000)h FI(V)p 681 1024 365 4 v 681 1099
a F3(\016)28 b(2)g FI(P)o(os)977 1136 y(V)1316 963 y
FP(P)f F3(2)h FI(P)o(os)1623 999 y(V)p FE([f)p FK(x)p
FE(g)p 1310 1024 539 4 v 1310 1099 a FI(C)1361 1063 y
FL(x)1361 1150 y FI(V)1446 1099 y FY(:)p FP(P)f F3(2)i
FI(P)o(os)1780 1136 y(V)2112 963 y FP(P)f F3(2)g FI(P)o(os)2420
999 y(V)2608 963 y FP(S)g F3(2)g FI(T)2835 999 y(V)3022
963 y FP(q)g F3(2)g FI(P)3244 999 y(V)p FE([f)p FK(x)p
FE(g)p 2112 1024 1351 4 v 2386 1099 a FX(?)p FP(x)f F3(\031)h
FP(P)11 b FX(:)g FP(S)q FY(:)22 b FP(q)28 b F3(2)g FI(P)o(os)3122
1136 y(V)1166 1359 y F3(\016)p FX([)p FP(p)p FX(])22
b(=)g FP(p)1103 b FX(\001;)2719 1358 y(\026)2718 1359
y F3(\016)22 b FX(=)g(\001)921 1484 y(\()p FI(C)1010
1448 y FL(x)1010 1509 y FM(\001)1073 1484 y FY(:)17 b
FP(P)p FX(\)[)p FP(p)p FX(])22 b(=)g FI(C)1492 1448 y
FL(x)1492 1509 y FM(\001)1555 1484 y FY(:)17 b FP(P)o
FX([)p FP(p)p FX(])661 b(\001;)p 2549 1403 220 4 v 17
w FI(C)2601 1449 y FL(x)2601 1510 y FM(\001)2664 1484
y FY(:)17 b FP(P)k FX(=)h(\001;)17 b FI(C)3065 1448 y
FL(x)3065 1509 y FM(\001)3128 1484 y FX(;)3178 1458 y(\026)3172
1484 y FP(P)650 1609 y FX(\(?)p FP(x)28 b F3(\031)g FP(P)11
b FX(:)g FP(S)q FY(:)22 b FP(q)p FX(\)[)p FP(p)p FX(])g(=)g(?)p
FP(x)28 b F3(\031)g FP(P)p FX([)p FP(p)o FX(])11 b(:)g
FP(S)q FY(:)22 b FP(q)121 b FX(\001;)p 2279 1528 490
4 v 17 w(?)p FP(x)27 b F3(\031)h FP(P)11 b FX(:)g FP(S)q
FY(:)22 b FP(q)g FX(=)g(\001;)3019 1583 y(\026)3013 1609
y FP(P)357 1838 y F4(Crucially)-6 b(,)36 b(an)o(y)e(deri)n(v)n(ation)e
(of)j FX(\001)75 b FC(\015)f FP(P)p FX([)p FP(p)p FX(])h(:)f
FP(T)35 b F4(follo)n(ws)e(from)h(a)h(subderi)n(v)n(ation)c(of)k(some)
357 1987 y FX(\001;)488 1961 y(\026)482 1987 y FP(P)49
b FC(\015)h FP(p)g FX(:)g FP(S)p F4(.)357 2197 y(W)-8
b(e)28 b(may)g(compose)g(positions,)f(writing)g FP(P)p
FX(;)17 b FP(P)1993 2154 y FE(0)2045 2197 y F4(for)28
b(the)g(position)f(obtained)g(by)h(replacing)g(the)g
F3(\016)357 2346 y F4(in)c FP(P)h F4(by)f FP(P)730 2303
y FE(0)754 2346 y F4(.)30 b(Clearly)c FX(\()p FP(P)o
FX(;)17 b FP(P)1331 2303 y FE(0)1354 2346 y FX(\)[)p
FP(p)p FX(])50 b(=)g FP(P)p FX([)p FP(P)1821 2303 y FE(0)1844
2346 y FX([)p FP(p)p FX(]])25 b F4(and)p 2169 2254 189
4 v 25 w FP(P)o FX(;)17 b FP(P)2334 2303 y FE(0)2407
2346 y FX(=)2539 2320 y(\026)2533 2346 y FP(P)p FX(;)2655
2309 y(\026)2638 2346 y FP(P)2698 2303 y FE(0)2722 2346
y F4(.)359 2555 y(M)t F2(E)t(T)m(A)-5 b(T)t(H)t(E)t(O)t(R)t(E)t(M)r
F4(:)37 b F0(r)n(eplacement)601 2778 y F4(If)548 b FX(\001)50
b FC(\015)g FP(P)p FX([)p FP(p)p FX(])g(:)g FP(T)601
2898 y F4(follo)n(ws)23 b(from)99 b FX(\001;)1346 2872
y(\026)1340 2898 y FP(P)50 b FC(\015)g FP(p)f FX(:)h
FP(R)601 3018 y F4(and)470 b FX(\001;)1346 2992 y(\026)1340
3018 y FP(P)50 b FC(\015)g FP(p)1622 2982 y FE(0)1696
3018 y FX(:)f FP(R)601 3139 y F4(then)442 b FX(\001)50
b FC(\015)g FP(P)p FX([)p FP(p)1606 3103 y FE(0)1629
3139 y FX(])g(:)g FP(T)359 3359 y F4(P)t F2(R)q(O)t(O)t(F)357
3568 y F4(The)25 b(proof)h(is)f(by)h(induction)e(o)o(v)o(er)h(the)g
(deri)n(v)n(ation)f(of)i FX(\001)53 b FC(\015)f FP(P)p
FX([)p FP(p)p FX(])g(:)g FP(T)p F4(,)26 b(then)f(case)i(analysis)e(on)
357 3718 y(the)f(position.)357 3927 y(In)i(all)g(cases)h(where)g(the)f
(position)f(is)h F3(\016)p F4(,)h(ie)f FP(P)p FX([)p
FP(p)p FX(])54 b(=)g FP(p)p F4(,)27 b(the)f(typing)f(deri)n(v)n(ations)
g(for)i FP(P)o FX([)p FP(p)p FX(])g F4(and)f FP(p)357
4077 y F4(must)d(be)i(the)g(same,)g(yielding)e(that)h
FP(R)i F4(is)e FP(T)p F4(\227the)g(conclusion)g(is)g(e)o(xactly)g(the)h
(typing)e(of)i FP(p)3554 4040 y FE(0)3577 4077 y F4(.)357
4286 y(W)-8 b(e)25 b(only)f(need)h(the)g(strength)e(of)i(the)g
(induction)e(when)i(the)g(position)e(is)h(nontri)n(vial.)502
4545 y F3(\017)49 b F0(term)p F4(\227)p F3(\016)25 b
F4(is)f(the)h(only)f(position)502 4766 y F3(\017)49 b
F0(abs)601 4896 y F4(W)-8 b(e)25 b(ha)n(v)o(e)417 b FX(\001)50
b FC(\015)g FY(\025)p FP(x)11 b FX(:)g FP(S)p FY(:)22
b FP(P)p FX([)p FP(p)p FX(])50 b(:)g F3(8)p FP(x)11 b
FX(:)g FP(S)q FY(:)22 b FP(T)601 5016 y F4(so)i(we)h(must)f(ha)n(v)o(e)
99 b FX(\001;)17 b FY(\025)p FP(x)27 b FX(:)h FP(S)50
b FC(\015)g FP(P)p FX([)p FP(p)p FX(])g(:)g FP(T)601
5137 y F4(follo)n(wing)22 b(from)154 b FX(\001;)17 b
FY(\025)p FP(x)27 b FX(:)h FP(S)q FX(;)1777 5111 y(\026)1772
5137 y FP(P)49 b FC(\015)h FP(p)f FX(:)h FP(R)601 5257
y F4(Suppose)419 b FX(\001;)17 b FY(\025)p FP(x)27 b
FX(:)h FP(S)q FX(;)1777 5231 y(\026)1772 5257 y FP(P)49
b FC(\015)h FP(p)2054 5221 y FE(0)2127 5257 y FX(:)g
FP(R)601 5378 y F4(Inducti)n(v)o(ely)305 b FX(\001;)17
b FY(\025)p FP(x)27 b FX(:)h FP(S)50 b FC(\015)g FP(P)p
FX([)p FP(p)2037 5341 y FE(0)2060 5378 y FX(])g(:)g FP(T)601
5498 y F4(Hence)503 b FX(\001)50 b FC(\015)g FY(\025)p
FP(x)11 b FX(:)g FP(S)p FY(:)22 b FP(P)p FX([)p FP(p)2009
5462 y FE(0)2033 5498 y FX(])49 b(:)h F3(8)p FP(x)12
b FX(:)f FP(S)p FY(:)22 b FP(T)2022 5667 y F4(31)p eop
%%Page: 32 37
32 36 bop 502 -6 a F3(\017)49 b F0(let)p F4(,)24 b F0(hole)601
185 y F4(W)-8 b(e)25 b(go)f(under)h(the)g(component)e(in)i(the)f(same)h
(w)o(ay)g(as)g(for)g F0(abs)p F4(.)502 418 y F3(\017)49
b F0(guess)601 609 y F4(If)35 b(the)g(position)e(goes)i(under)g(the)g
(component,)i(the)e(abo)o(v)o(e)f(ar)n(gument)h(applies.)61
b(If)35 b(the)601 758 y(position)23 b(goes)h(into)g(the)h(guess:)601
914 y(W)-8 b(e)25 b(ha)n(v)o(e)417 b FX(\001)50 b FC(\015)22
b FX(?)p FP(x)28 b F3(\031)g FP(P)p FX([)p FP(p)p FX(])11
b(:)g FP(S)p FY(:)23 b FP(q)50 b FX(:)g FP(T)601 1034
y F4(so)24 b(we)h(must)f(ha)n(v)o(e)99 b FX(\001)50 b
FC(\015)g FP(P)p FX([)p FP(p)p FX(])g(:)f FP(S)601 1155
y F4(follo)n(wing)22 b(from)154 b FX(\001;)1489 1129
y(\026)1483 1155 y FP(P)50 b FC(\015)f FP(p)h FX(:)g
FP(R)601 1275 y F4(Suppose)419 b FX(\001;)1489 1249 y(\026)1483
1275 y FP(P)50 b FC(\015)f FP(p)1765 1239 y FE(0)1838
1275 y FX(:)h FP(R)601 1395 y F4(Inducti)n(v)o(ely)305
b FX(\001)50 b FC(\015)g FP(P)p FX([)p FP(p)1749 1359
y FE(0)1772 1395 y FX(])g(:)g FP(S)601 1516 y F4(Hence)503
b FX(\001)50 b FC(\015)22 b FX(?)p FP(x)28 b F3(\031)g
FP(P)p FX([)p FP(p)1950 1480 y FE(0)1973 1516 y FX(])11
b(:)g FP(S)q FY(:)22 b FP(q)50 b FX(:)g FP(T)601 1671
y F4(Note)32 b(that)f(the)i(typing)e(of)h FP(q)h F4(and)f(the)g
(side-condition)e FP(x)42 b F3(62)g FP(T)32 b F4(are)h(not)f(af)n
(fected)g(by)g(the)601 1820 y(change)25 b(of)g(guess.)3710
2113 y FC(\003)357 2472 y F4(T)-8 b(o)33 b(claim)g(that)g(the)h
(simplicity)d(of)j(this)e(theorem)i(belies)f(its)g(utility)e(is)i(to)h
(misunderstand)d(the)357 2621 y(pragmatics)24 b(of)h(theory)-6
b(.)30 b(There)25 b(is)f(no)h(utility)e(without)g(simplicity)-6
b(.)357 2976 y FB(2.2.2)118 b(the)31 b(state)d(inf)m(ormation)i(order)
357 3253 y F4(W)-8 b(e)20 b(shall)g(need)g(a)g(little)f(more)h
(metatheoretical)g(apparatus)g(before)g(we)h(are)f(ready)h(to)f
(reconstruct)357 3402 y(theorem)25 b(pro)o(ving)g(in)j(O)t
F2(L)t(E)t(G)r F4(.)37 b(In)27 b(particular)l(,)f(we)h(shall)e(need)h
(a)h(notion)e(of)h(`progress')g(between)359 3552 y(O)t
F2(L)t(E)t(G)35 b F4(states.)49 b(The)31 b(idea)g(is)g(that)f(a)h
(state)g FX(\001)1961 3516 y FE(0)2016 3552 y F4(`impro)o(v)o(es')e
FX(\001)i F4(if)g(it)g(contains)f(at)h(least)g(as)g(much)357
3701 y(information\227)p FX(\001)1010 3665 y FE(0)1056
3701 y F4(must)24 b(simulate)f(the)i(beha)n(viour)f(of)h(e)n(v)o(ery)g
(v)n(ariable)f(in)g FX(\001)p F4(.)359 3911 y(D)t F2(E)t(FI)t(N)t(I)t
(T)t(I)t(O)t(N)r F4(:)35 b F0(state)26 b(inf)n(ormation)e(order)601
4203 y F4(F)o(or)g(v)n(alid)g(states)g FX(\001)h F4(and)g
FX(\001)1586 4167 y FE(0)1610 4203 y F4(,)g(we)g(say)f
FX(\001)k F3(v)h FX(\001)2254 4167 y FE(0)2277 4203 y
F4(,)c(if)717 4436 y F3(\017)48 b F4(F)o(or)25 b(each)g
FP(x)j F3(2)g FX(\001)p F4(,)d(if)g FX(\001)50 b F3(`)g
FP(x)f FX(:)h FP(T)25 b F4(then)f FX(\001)2354 4400 y
FE(0)2428 4436 y F3(`)50 b FP(x)f FX(:)h FP(T)p F4(.)717
4627 y F3(\017)e F4(F)o(or)25 b(each)g FP(x)j F3(2)g
FX(\001)p F4(,)d(if)g FX(\001)50 b F3(`)g FP(x)f FD(;)2014
4591 y FL(\016)2102 4627 y FP(s)24 b F4(then)h FX(\001)2443
4591 y FE(0)2516 4627 y F3(`)50 b FP(x)2726 4599 y F3(\030)2727
4631 y FX(=)2854 4627 y FP(s)o F4(.)601 4859 y F3(v)25
b F4(is)f(clearly)h(a)g(preorder)-5 b(.)357 5152 y(Notice)20
b(that)g(inserting)g(ne)n(w)g(components)f(into)h FX(\001)h
F4(mo)o(v)o(es)d(it)i(up)h(the)f(order)-5 b(.)29 b(So)21
b(does)g(replacing)f(a)357 5301 y(type-only)j(binding)h(or)h
FX(?)p F4(-with-guess)e(by)i(a)g FX(!)p F4(-binding)f(of)g(an)h
(appropriately)f(typed)h(v)n(alue.)30 b(Fur)n(-)357 5450
y(thermore,)23 b(guesses)h(may)f(be)h(added)g(to)f(holes,)h(remo)o(v)o
(ed)e(or)i(modi\002ed)f(at)h(will,)f(so)h(long)f(as)h(their)2022
5667 y(32)p eop
%%Page: 33 38
33 37 bop 357 -6 a F4(intended)24 b(type)h(is)f(respected\227the)h
(replacement)g(property)g(helps)f(us)h(to)f(check)i(modi\002cations.)
357 144 y(On)h(the)g(other)g(hand,)h(once)g(a)f(v)n(ariable)g(has)g(a)h
(computational)e(beha)n(viour)l(,)h(we)h(may)f(not)f(tak)o(e)i(it)357
293 y(a)o(w)o(ay)-6 b(.)357 503 y(If)26 b FX(\001)k F3(v)g
FX(\001)748 467 y FE(0)797 503 y F4(then,)c(vie)n(wed)f(as)h(v)n
(ariable)f(sets)g FX(\001)30 b F3(\032)g FX(\001)2258
467 y FE(0)2282 503 y F4(,)c(so)f FI(DevJ)2635 522 y
FM(\001)2727 503 y F3(\032)30 b FI(DevJ)3021 522 y FM(\001)3080
503 y FA(0)9 b F4(.)33 b(As)26 b(the)g(ordering)357 652
y(preserv)o(es)20 b(all)h(the)g(observ)n(able)f(beha)n(viour)g(of)h(a)g
(state,)h(we)f(should)f(e)o(xpect)g(to)h(\002nd)g(the)f(follo)n(wing)
357 802 y(holds)359 1011 y(M)t F2(E)t(T)m(A)-5 b(T)t(H)t(E)t(O)t(R)t(E)
t(M)r F4(:)37 b F0(monotonicity)601 1293 y F4(If)25 b
FX(\001)j F3(v)g FX(\001)987 1257 y FE(0)1011 1293 y
F4(,)c(then)h(for)g(all)f FY(J)37 b F3(2)28 b FI(DevJ)1895
1313 y FM(\001)1958 1293 y F4(,)c FX(\001)k FC(\015)g
FY(J)34 b F4(implies)23 b FX(\001)2703 1257 y FE(0)2755
1293 y FC(\015)k FY(J)359 1576 y F4(P)t F2(R)q(O)t(O)t(F)357
1785 y F4(W)-8 b(e)25 b(must)f(\002rst)h(generalise)f(a)h(little:)601
2054 y(If)386 b FX(\001)1134 2069 y FM(1)1201 2054 y
F3(v)28 b FX(\001)1387 2018 y FE(0)1387 2078 y FM(1)601
2174 y F4(then)280 b FX(\001)1134 2189 y FM(1)1174 2174
y FY(;)17 b FX(\001)1299 2189 y FM(2)1388 2174 y FC(\015)50
b FY(J)1131 b F4(implies)98 b FX(\001)3169 2138 y FE(0)3169
2199 y FM(1)3208 2174 y FY(;)17 b FX(\001)3333 2189 y
FM(2)3423 2174 y FC(\015)49 b FY(J)601 2295 y F4(and)308
b FX(\001)1134 2310 y FM(1)1174 2295 y FX(;)17 b(\000)49
b F3(`)h FY(J)1202 b F4(implies)98 b FX(\001)3169 2258
y FE(0)3169 2319 y FM(1)3208 2295 y FX(;)17 b(\000)50
b F3(`)g FY(J)601 2415 y F4(pro)o(vided)98 b FX(\001)1134
2379 y FE(0)1134 2440 y FM(1)1199 2415 y F4(captures)24
b(no)h(v)n(ariables)f(from)h FX(\001)2362 2430 y FM(2)2426
2415 y F4(or)g FX(\000)357 2682 y F4(This)32 b(allo)n(ws)g(us)g(an)i
(easy)f(induction)e(on)i(deri)n(v)n(ations.)53 b(From)33
b(the)g(de\002nition)f(of)h F3(v)p F4(,)j(we)d(shall)357
2831 y(acquire)h(e)o(xactly)f(the)g(components)f(we)i(need)g(to)f
(replace)i(those)e(subderi)n(v)n(ations)e(which)i(look)357
2981 y(up)d(types)f(from)h FX(\001)1032 2996 y FM(1)1072
2981 y F4(,)h(perform)f FY(\016)t F4(-reductions)g(from)g
FX(\001)2310 2996 y FM(1)2379 2981 y F4(or)h(simply)d(v)n(alidate)h
FX(\001)3218 2996 y FM(1)3258 2981 y F4(.)47 b(That)30
b(is,)g(the)357 3130 y(interesting)23 b(cases)i(are)502
3412 y F3(\017)49 b F4(the)24 b F0(v)o(ar)h F4(rule)601
3602 y(If)20 b(the)g(v)n(ariable)g(being)f(typed)h(lies)f(in)h
FX(\001)1988 3617 y FM(1)2028 3602 y F4(,)h(the)f(de\002nition)f(of)h
F3(v)g F4(tells)g(us)f(ho)n(w)h(to)f(deri)n(v)o(e)g(the)601
3751 y(same)k(type)g(from)g FX(\001)1322 3715 y FE(0)1322
3776 y FM(1)1361 3751 y F4(.)31 b(Otherwise,)23 b(the)g(result)g(follo)
n(ws)e(from)i(the)g(inducti)n(v)o(e)f(hypothesis,)601
3900 y(which)32 b(replaces)i(the)f(pre\002x)g(in)g(the)g(premise,)h
(and)f(the)g F0(v)o(ar)g F4(rule,)i(which)e(reco)o(v)o(ers)f(the)601
4050 y(type)24 b(from)h(the)f(unchanged)h(suf)n(\002x.)502
4279 y F3(\017)49 b F4(the)24 b(v)n(alidity)f(rules)601
4468 y(If)36 b(the)f(conte)o(xt)f(being)h(v)n(alidated)g(is)g
FX(\001)2026 4483 y FM(1)2065 4468 y F4(,)k(replace)d(the)f(entire)h
(deri)n(v)n(ation)d(with)i(that)g(of)601 4618 y FX(\001)682
4581 y FE(0)682 4642 y FM(1)770 4618 y F3(`)49 b F0(v)o(alid)o
F4(.)31 b(Otherwise,)24 b(the)h(conte)o(xt)e(strictly)h(contains)f
FX(\001)2806 4633 y FM(1)2846 4618 y F4(,)i(so)f(the)g(premise)g(conte)
o(xt)601 4767 y(contains)g FX(\001)1039 4782 y FM(1)1078
4767 y F4(,)h(hence)g(the)g(inducti)n(v)o(e)e(hypothesis)f(applies.)502
4996 y F3(\017)49 b F4(the)24 b F0(cuml)h F4(rule)601
5185 y(The)34 b(inducti)n(v)o(e)f(hypothesis)f(supplies)h(the)h
(modi\002ed)g(premise.)60 b(As)34 b(for)h(the)f(computa-)601
5335 y(tional)24 b(side)h(condition,)f(the)i(de\002nition)e(of)i
F3(v)g F4(enables)f(us)h(to)f(replace)h(e)n(v)o(ery)f
FY(\016)t F4(-reduction)601 5484 y(for)g(v)n(ariables)f(in)g
FX(\001)1307 5499 y FM(1)1372 5484 y F4(with)g(an)h(equi)n(v)n(alent)e
(con)l(v)o(ersion)g(v)n(alid)h(in)g FX(\001)2989 5448
y FE(0)2989 5509 y FM(1)3029 5484 y F4(.)2022 5667 y(33)p
eop
%%Page: 34 39
34 38 bop 3710 -6 a FC(\003)357 536 y FT(2.3)142 b(life)36
b(of)f(a)h(hole)357 849 y F4(I)25 b(no)n(w)g(present)g(four)h(basic)f
(replacement)g(operations)g(which)g(act)h(as)f(a)h(basis)f(for)g(w)o
(orking)g(with)357 998 y(holes.)601 1284 y F0(claim)123
b F4(\(birth\))1811 1223 y FX(\001)50 b FC(\015)g FP(p)g
FX(:)f FP(T)120 b FX(\001)50 b F3(`)g FP(S)g FX(:)g FI(Type)p
1811 1261 1202 4 v 2056 1337 a FX(\001)g FC(\015)22 b
FX(?)p FP(x)11 b FX(:)g FP(S)p FY(:)23 b FP(p)49 b FX(:)h
FP(T)601 1672 y F0(try)229 b F4(\(marriage\))1755 1614
y FX(\001)50 b FC(\015)22 b FX(?)p FP(x)11 b FX(:)g FP(S)q
FY(:)22 b FP(p)50 b FX(:)g FP(T)119 b FX(\001)51 b FC(\015)e
FP(q)h FX(:)g FP(S)p 1755 1649 1314 4 v 1966 1724 a FX(\001)g
FC(\015)22 b FX(?)p FP(x)28 b F3(\031)g FP(q)11 b FX(:)g
FP(S)q FY(:)22 b FP(p)50 b FX(:)g FP(T)601 2060 y F0(r)n(egr)n(et)101
b F4(\(di)n(v)n(orce\))1966 2001 y FX(\001)50 b FC(\015)22
b FX(?)p FP(x)28 b F3(\031)g FP(q)11 b FX(:)g FP(S)q
FY(:)22 b FP(p)50 b FX(:)g FP(T)p 1966 2037 892 4 v 2056
2112 a FX(\001)g FC(\015)22 b FX(?)p FP(x)11 b FX(:)g
FP(S)p FY(:)23 b FP(p)49 b FX(:)h FP(T)601 2448 y F0(solv)o(e)146
b F4(\(death\))1991 2389 y FX(\001)50 b FC(\015)22 b
FX(?)p FP(x)28 b F3(\031)g FP(q)11 b FX(:)g FP(S)q FY(:)22
b FP(p)50 b FX(:)g FP(T)p 1991 2425 V 2001 2500 a FX(\001)g
FC(\015)23 b FX(!)p FP(x)k FX(=)h FP(q)11 b FX(:)g FP(S)p
FY(:)23 b FP(p)49 b FX(:)h FP(T)2977 2448 y(q)23 b F4(pure)357
2749 y(It)31 b(is)g(clear)g(that)g(each)h(of)f(these)g(rules)g(is)g
(admissible.)48 b(W)-8 b(e)32 b(may)f(read)g(them)g(as)g(justifying)e
(the)357 2899 y(replacement)i(at)g(an)o(y)f(position)g(of)h(the)g
(construction)e(in)i(the)g(premise)f(by)h(the)g(construction)f(in)357
3048 y(the)20 b(conclusion.)28 b(Monotonicity)17 b(justi\002es)j(the)g
(corresponding)f(steps)h(which)g(insert)f(and)h(modify)357
3198 y(ne)n(w)k FX(?)p F4(-components)g(in)g(the)h(state.)357
3407 y(Ef)n(fecti)n(v)o(ely)-6 b(,)30 b F0(claim)g F4(allo)n(ws)f(us)i
(to)f(insert)g(a)h(ne)n(w)f(hole)h(at)g(an)o(y)f(position.)46
b(Holes)31 b(are)g(naturally)357 3557 y(born)h(this)f(w)o(ay\227we)h
(claim)g(that)g FP(S)g F4(holds)g(in)f(order)i(to)f(de)n(v)o(elop)f
(our)h(proof)g(of)g FP(T)p F4(.)53 b(The)33 b(side-)357
3706 y(condition)23 b(on)i(the)f F0(hole)h F4(typing)f(rule)h(holds)e
(as)i(a)g(matter)g(of)g(course.)357 3915 y(The)f F0(try)h
F4(and)f F0(r)n(egr)n(et)i F4(steps)e(allo)n(w)f(us)h(to)g(attach)g
(and)h(discard)f(guesses)g(repeatedly\227hopefully)357
4065 y(our)40 b(judgment)f(impro)o(v)o(es)f(as)i(we)h(go)f(round)g(the)
g(c)o(ycle.)77 b(Once)41 b(the)f(guess)f(contains)h(no)g
FX(?)p F4(-)357 4214 y(components,)32 b(it)f(has)g(become)h(a)g(core)g
(term\227death)f(is)g(not)g(the)h(end)f(of)h(the)g(journe)o(y)-6
b(,)31 b(b)n(ut)g(the)357 4364 y(transition)23 b(by)i(which)f(a)h(hole)
g(is)f F0(solv)o(e)p F4(d,)g(becoming)g(a)h(local)f(de\002nition.)357
4573 y(These)f(four)h(rules)f(allo)n(w)g(us)g(to)g(e)o(xtend)g(the)g
(notion)g(of)g(`information)g(order')h(to)f FU(positions)p
F4(.)28 b(This)357 4723 y(gi)n(v)o(es)22 b(us)h(the)g(means)g(to)g
(relate)h(operations)e(which)h(are)h(focused)g(at)f(a)h(particular)f
(position)e(to)i(the)357 4872 y(amount)g(of)i(information)f(a)n(v)n
(ailable)g(at)h(that)f(position.)359 5082 y(D)t F2(E)t(FI)t(N)t(I)t(T)t
(I)t(O)t(N)r F4(:)35 b F0(position)25 b(inf)n(ormation)g(order)601
5335 y F4(F)o(or)e(v)n(alid)g(states)g FX(\001)h F4(and)f
FP(P)p FY(;)17 b FP(P)1665 5292 y FE(0)1716 5335 y F3(2)28
b FI(P)o(os)1934 5350 y FM(\001)1997 5335 y F4(,)c(the)f
F0(position)h(inf)n(ormation)f(order)i FX(\001)45 b FC(\015)601
5484 y FP(P)k F3(v)i FP(P)899 5441 y FE(0)948 5484 y
F4(is)24 b(gi)n(v)o(en)f(inducti)n(v)o(ely)g(by)h(the)h(follo)n(wing)e
(rules:)2022 5667 y(34)p eop
%%Page: 35 40
35 39 bop 650 -21 a F0(r)n(e\003)p 2042 -44 552 4 v 2042
31 a FX(\001)50 b FC(\015)g FP(P)g F3(v)g FP(P)650 350
y F0(trans)1662 305 y FX(\001)g FC(\015)g FP(P)f F3(v)i
FP(P)2214 262 y FE(0)2357 305 y FX(\001)f FC(\015)g FP(P)2671
262 y FE(0)2744 305 y F3(v)g FP(P)2932 262 y FE(00)p
1662 327 1313 4 v 2021 410 a FX(\001)g FC(\015)g FP(P)g
F3(v)g FP(P)2573 368 y FE(00)650 748 y F0(claim)1970
687 y FX(\001;)2101 661 y(\026)2095 687 y FP(P)g F3(`)g
FP(S)g FX(:)g FI(Type)p 1789 725 1058 4 v 1789 809 a
FX(\001)h FC(\015)e FP(P)p FX(;)17 b FP(P)2208 766 y
FE(0)2281 809 y F3(v)50 b FP(P)p FX(;)17 b(?)p FP(x)11
b FX(:)g FP(S)p FY(:)23 b FP(P)2823 766 y FE(0)650 1150
y F0(try)2025 1091 y FX(\001;)2156 1065 y(\026)2150 1091
y FP(P)50 b FC(\015)g FP(q)g FX(:)g FP(S)p 1575 1127
1486 4 v 1575 1210 a FX(\001)g FC(\015)g FP(P)p FX(;)17
b(?)p FP(x)11 b FX(:)g FP(S)p FY(:)22 b FP(P)2243 1168
y FE(0)2316 1210 y F3(v)51 b FP(P)o FX(;)17 b(?)p FP(x)28
b F3(\031)g FP(q)11 b FX(:)g FP(S)q FY(:)22 b FP(P)3038
1168 y FE(0)650 1472 y F0(r)n(egr)n(et)p 1575 1450 V
1575 1533 a FX(\001)50 b FC(\015)g FP(P)p FX(;)17 b(?)p
FP(x)27 b F3(\031)h FP(q)11 b FX(:)g FP(S)q FY(:)22 b
FP(P)2422 1490 y FE(0)2495 1533 y F3(v)51 b FP(P)o FX(;)17
b(?)p FP(x)11 b FX(:)g FP(S)q FY(:)22 b FP(P)3038 1490
y FE(0)650 1795 y F0(solv)o(e)p 1521 1772 1645 4 v 1521
1856 a FX(\001)50 b FC(\015)g FP(P)p FX(;)17 b(?)p FP(x)27
b F3(\031)h FP(q)11 b FX(:)g FP(S)q FY(:)22 b FP(P)2368
1813 y FE(0)2441 1856 y F3(v)50 b FP(P)p FX(;)17 b(!)p
FP(x)27 b FX(=)h FP(q)11 b FX(:)g FP(S)q FY(:)22 b FP(P)3142
1813 y FE(0)3260 1795 y FP(q)g F4(pure)357 2124 y(The)k(admissibility)e
(of)j(the)g(four)f(basic)h(replacement)g(operations)e(gi)n(v)o(en)h
(abo)o(v)o(e)f(ensures)i(that)f(if)357 2273 y FX(\001)50
b FC(\015)g FP(P)f F3(v)i FP(P)908 2231 y FE(0)932 2273
y F4(,)25 b(then)502 2557 y F3(\017)49 b F4(if)d FX(\001;)840
2531 y(\026)833 2557 y FP(P)k FC(\015)g F0(v)o(alid)c
F4(then)h FX(\001;)1684 2520 y(\026)1666 2557 y FP(P)1727
2514 y FE(0)1800 2557 y FC(\015)j F0(v)o(alid)c F4(and)h
FX(\001;)2500 2531 y(\026)2494 2557 y FP(P)28 b F3(v)g
FX(\001;)2830 2520 y(\026)2813 2557 y FP(P)2874 2514
y FE(0)502 2786 y F3(\017)49 b F4(if)d FX(\001)51 b FC(\015)e
FP(P)p FX([)p FP(p)p FX(])h(:)g FP(T)d F4(then)f FX(\001)51
b FC(\015)e FP(P)1893 2744 y FE(0)1917 2786 y FX([)p
FP(p)o FX(])h(:)g FP(T)357 3070 y F4(W)-8 b(e)35 b(may)g(no)n(w)f
(reconstruct)g(the)h(f)o(amiliar)g(tools)f(of)h(re\002nement)g(proof)g
(as)g(operations)f(which)357 3219 y(manipulate)29 b(O)t
F2(L)t(E)t(G)34 b F4(states,)29 b(preserving)f(their)h(v)n(alidity)-6
b(.)40 b(Moreo)o(v)o(er)l(,)28 b(we)h(can)g(mak)o(e)g(assurance)357
3369 y(double)c(sure)i(at)f(an)o(y)g(stage)g(by)g(rederi)n(ving)f(the)h
(state')-5 b(s)26 b(v)n(alidity)e(judgment.)34 b(This)25
b(direct)h(corre-)357 3518 y(spondence)j(between)h(judgments)e(of)i
(the)f(type)h(theory)f(and)h(states)f(of)h(the)g(machine,)g(and)g(thus)
357 3668 y(between)h(admissible)e(rules)i(and)g(tactics,)h(is)f(quite)f
(a)i(solid)e(basis)g(on)h(which)f(to)h(b)n(uild)f(a)h(proof)357
3817 y(assistant.)357 4215 y FT(2.4)142 b(displaying)34
b(an)40 b F5(O)8 b FF(L)g(E)g(G)36 b FT(state)357 4528
y F4(The)26 b(prototype)f(implementation)f(of)k(O)t F2(L)t(E)t(G)j
F4(w)o(as)26 b(written)g(for)g(use)g(by)g(other)g(programs,)g(rather)
357 4677 y(than)32 b(by)g(people.)53 b(Ho)n(we)n(v)o(er)l(,)33
b(this)f(thesis)f(is)h(full)g(of)j(O)t F2(L)t(E)t(G)i
F4(proofs,)d(so)e(we)h(shall)e(need)i(some)357 4827 y(w)o(ay)25
b(to)f(see)h(what)g(we)g(are)g(doing.)30 b(Let)25 b(us)f(think)g(ho)n
(w)g(we)h(might)e(display)h(an)j(O)t F2(L)t(E)t(G)j F4(state.)357
5036 y(I)h(propose)g(to)g(list)g(the)g(components)f(of)i(a)f(state)h(v)
o(ertically)-6 b(,)31 b(so)g(that)g(the)g(more)h(local)f(bindings)357
5185 y(are)f(literally)f(as)h(well)g(as)f(metaphorically)g(under)h(the)
f(more)h(global)f(ones.)46 b(F)o(or)29 b(each)i(binding,)357
5335 y(we)f(should)f(gi)n(v)o(e)g(the)h(binding)f(operator)l(,)i(the)f
(identi\002er)l(,)h(then)f(a)g(table)g(sho)n(wing)f(the)h(property)357
5484 y(indicators)20 b(\(`:')29 b(or)22 b(`='\))g(with)f(the)g
(associated)g(terms)g(\(types)f(or)i(v)n(alues\).)29
b(It)21 b(will)g(serv)o(e)g(the)g(cause)2022 5667 y(35)p
eop
%%Page: 36 41
36 40 bop 357 -6 a F4(of)32 b(bre)n(vity)f(if)h(we)g(sometimes)e(relax)
i(v)o(ertical)g(alignment,)g(combining)e(bindings)h(when)g(more)357
144 y(than)24 b(one)h(identi\002er)g(is)f(being)g(gi)n(v)o(en)f(the)i
(same)g(treatment.)357 353 y(No)n(w)-6 b(,)32 b(an)o(y)g(term)g(can)g
(be)g(vie)n(wed)g(as)g(a)g(subterm)f(under)h(a)h(conte)o(xt)e(of)h
(binders\227let)f(us)g(allo)n(w)357 503 y(ourselv)o(es)g(to)h(format)g
(these)g(conte)o(xts)f(in)g(the)i(same)f(w)o(ay)g(as)g(the)g(`main')g
(state)g(and)g(write)g(the)357 652 y(subterm)22 b(directly)h
(underneath.)29 b(F)o(or)24 b(e)o(xample,)e(we)i(might)d(ha)n(v)o(e)i
(the)g(state)g(sho)n(wn)f(on)h(the)g(right.)357 862 y(The)38
b(initial)f(four)h(assumptions)e(introduce)i(a)357 1011
y(type)d FZ(N)-63 b(N)36 b F4(of)g(natural)g(numbers,)h(its)e(tw)o(o)h
(con-)357 1161 y(structors)27 b(and)h(a)g(primiti)n(v)o(e)e(recursion)h
(opera-)357 1310 y(tor)-5 b(.)61 b(F)o(ollo)n(wing)32
b(this,)37 b(I)e(ha)n(v)o(e)g(sho)n(wn)f(a)h(par)n(-)357
1459 y(tial)25 b(de)n(v)o(elopment)f(of)j(the)f(addition)f(function.)
357 1609 y(Observ)o(e)g(the)g(completed)f(successor)h(case)h(in-)357
1758 y(troduced)41 b(by)g(a)h FX(!)f F4(binding,)j(while)d(the)g(zero)
357 1908 y(case)34 b(is)e(still)g(an)i(unkno)n(wn)d(bound)i(with)f(a)i
FX(?)p F4(.)357 2057 y(The)k(partial)h(proof)g(is)f(bound)g(with)g(a)h
FX(?)p F4(,)j(in-)357 2207 y(dicating)i(that)h(it)g(still)g(contains)f
FX(?)p F4(-bindings)357 2356 y(which)30 b(must)g(not)h(be)g
(duplicated.)49 b(Note)30 b(also)357 2506 y(that)e FX(!)p
F4(-binding)g(enables)h(us)g(to)g(inspect)f(terms)357
2655 y(such)k(as)h FZ(plus)875 2678 y FL(s)944 2655 y
F4(which)f(w)o(ould)g(otherwise)g(be)357 2804 y(stuck)24
b(beneath)h(the)f(application)g(of)h FZ(rec)p F4(.)p
2165 753 1623 4 v 2165 2849 4 2097 v 2193 862 a FY(\025)p
FZ(N)-63 b(N)127 b FX(:)48 b FI(Type)2193 982 y FY(\025)p
FZ(0)157 b FX(:)48 b FZ(N)-63 b(N)2193 1102 y FY(\025)p
FZ(s)173 b FX(:)48 b FZ(N)-63 b(N)27 b F3(!)h FZ(N)-63
b(N)2193 1223 y FY(\025)p FZ(rec)53 b FX(:)48 b F3(8)p
FX(\010)23 b(:)g FI(Type)2537 1343 y F3(8)p FY(\036)2650
1358 y FM(z)2685 1343 y FX(:)g(\010)2537 1464 y F3(8)p
FY(\036)2650 1479 y FM(s)2685 1464 y FX(:)g(\010)28 b
F3(!)f FX(\010)2537 1584 y F3(8)p FP(n)38 b FX(:)23 b
FZ(N)-63 b(N)2592 1704 y FX(\010)2204 1825 y(?)p FZ(plus)o
F3(\031)23 b FX(?)p FZ(plus)2770 1847 y FL(z)2834 1825
y FX(:)47 b FZ(N)-63 b(N)27 b F3(!)h FZ(N)-63 b(N)2556
1945 y FX(!)p FZ(plus)2770 1968 y FL(s)2810 1945 y FX(=)22
b FY(\025)p FZ(plus)3152 1968 y FL(x)3196 1945 y FX(:)g
FZ(N)-63 b(N)27 b F3(!)h FZ(N)-63 b(N)2908 2066 y FY(\025)p
FP(y)181 b FX(:)22 b FZ(N)-63 b(N)2965 2186 y(s)o FX(\()p
FZ(plus)3228 2209 y FL(x)3294 2186 y FP(y)p FX(\))2834
2306 y(:)47 b F3(8)p FY(\036)p FX(:)22 b FZ(N)-63 b(N)28
b F3(!)f FZ(N)-63 b(N)2908 2427 y F3(8)p FP(y)8 b FX(:)22
b FZ(N)-63 b(N)2963 2547 y(N)g(N)2583 2667 y(rec)22 b
FX(\()p FZ(N)-63 b(N)27 b F3(!)h FZ(N)-63 b(N)o FX(\))22
b FZ(plus)3374 2690 y FL(z)3435 2667 y FZ(plus)3623 2690
y FL(s)2462 2788 y FX(:)48 b FZ(N)-63 b(N)27 b F3(!)h
FZ(N)-63 b(N)27 b F3(!)g FZ(N)-63 b(N)p 3784 2849 V 2165
2852 1623 4 v 357 2988 a F4(In)25 b(general,)i(then,)e(a)h(state)g(is)f
(displayed)g(as)g(a)h(tree)g(whose)g(forking)f(nodes)g(are)i(bindings.)
k(From)357 3138 y(each)h(binding,)h(one)f(edge)g(points)f(`underneath')
h(to)g(its)f(scope,)j(and)e(others)g(point)f(`side)n(w)o(ays')357
3287 y(into)g(the)h(terms)f(attached)h(by)g(the)g(property)g
(indicators)f(`)p FX(:)p F4(',)j(`)p FX(=)p F4(')e(and)h(`)p
F3(\031)p F4('.)53 b(The)32 b(sequence)g(of)357 3437
y(components)e(which)h(mak)o(e)g(up)g(a)h(state)f(form)h(a)f(spine)g
(of)h(the)f(tree,)j(v)o(ertically)c(aligned)h(at)g(the)357
3586 y(left)g(hand)f(side,)i(starting)e(at)h(the)g(root)g(and)f(follo)n
(wing)f(the)i(`underneath')g(edges)g(until)f(the)h(last)357
3736 y(component)i(is)h(reached.)60 b(In)34 b(the)g(abo)o(v)o(e)f(e)o
(xample,)j(the)e(spine)g(consists)f(of)h(the)g(bindings)f(for)357
3885 y FZ(N)-63 b(N)p F4(,)40 b FZ(0)q F4(,)g FZ(s)p
F4(,)h FZ(rec)c F4(and)h FZ(plus)o F4(.)69 b(The)38 b(subtrees)f
(reached)h(by)f(going)g(`side)n(w)o(ays')g(from)g(this)g(spine)357
4034 y(\(representing,)32 b(for)g(e)o(xample,)g(the)f(type)g(of)g
FZ(rec)p F4(,)i(or)e(the)g(incomplete)f(de)n(v)o(elopment)g(of)h
FZ(plus)o F4(\))357 4184 y(ha)n(v)o(e)25 b(terms)g(or)h(partial)g
(constructions)e(at)i(the)f(lea)n(v)o(es.)33 b(As)26
b(we)g(ha)n(v)o(e)g(seen,)g(where)n(v)o(er)f(we)h(\002nd)g(a)357
4333 y(partial)e(construction,)g(we)h(may)f(replace)i(it)e(by)g
(another)h(of)g(the)g(same)f(type.)357 4543 y(It)33 b(is)f(unlik)o(ely)
g(that)h(we)g(should)f(al)o(w)o(ays)h(w)o(ant)g(to)f(see)i(the)f(whole)
g(tree)g(of)g(a)h(lar)n(ge)f(state)g(fully)357 4692 y(e)o(xpanded)e(as)
h(abo)o(v)o(e.)51 b(Y)-11 b(ou)32 b(can,)i(perhaps,)f(imagine)e(using)g
(a)h(mouse)f(to)h(dra)o(w)g(clouds)f(round)357 4842 y(uninteresting)25
b(parts)h(of)h(proofs,)g(introducing)e(a)i(cloud)f(symbol)g(in)g(the)g
(state)h(display)-6 b(.)35 b(Perhaps)357 4991 y(we)25
b(can)g(double-click)f(on)g(the)h(cloud)f(to)h(restore)g(the)f(e)o
(xpanded)h(tree.)2022 5667 y(36)p eop
%%Page: 37 42
37 41 bop 357 70 a F4(Let)33 b(us)g(e)o(xpand)g(in)h(detail)f(only)g
(where)h(we)f(are)i(interested,)357 219 y(k)o(eeping)30
b(connected)g(subtrees)g(of)h(uninteresting)e(proof)h(ob-)357
369 y(scured)37 b(by)f(clouds.)67 b(F)o(or)37 b(instance,)i(if)e(we)g
(are)h(simply)d(in-)357 518 y(terested)f(in)f(unsolv)o(ed)f(goals,)k
(the)e(abo)o(v)o(e)f(e)o(xample)g(can)h(be)357 668 y(reduced)25
b(to)f(this)g(picture.)p 2687 -102 1101 4 v 2687 554
4 657 v 7 setlinewidth np 2770 -22 25 135.00 315.00 arc
st 7 setlinewidth np 2806 -40 18 180.00 360.00 arc st
7 setlinewidth np 2859 -40 35 180.00 360.00 arc st 7
setlinewidth np 2904 -13 28 251.56 341.56 arc st 7 setlinewidth
np 2931 5 27 270.00 450.00 arc st 7 setlinewidth np 2895
32 35 360.00 540.00 arc st 7 setlinewidth np 2842 32
18 360.00 540.00 arc st 7 setlinewidth np 2797 32 27
360.00 540.00 arc st 7 setlinewidth np 2761 14 19 63.43
243.43 arc st 2715 190 a FX(?)p FZ(plus)o F3(\031)f FX(?)p
FZ(plus)3281 213 y FL(z)3321 190 y FX(:)f F3(8)q FP(y)o
FX(:)h FZ(N)-63 b(N)3426 311 y(N)g(N)p 7 setlinewidth
np 3149 402 25 135.00 315.00 arc st 7 setlinewidth np
3185 384 18 180.00 360.00 arc st 7 setlinewidth np 3238
384 35 180.00 360.00 arc st 7 setlinewidth np 3283 411
28 251.56 341.56 arc st 7 setlinewidth np 3310 429 27
270.00 450.00 arc st 7 setlinewidth np 3274 455 35 360.00
540.00 arc st 7 setlinewidth np 3220 455 18 360.00 540.00
arc st 7 setlinewidth np 3176 455 27 360.00 540.00 arc
st 7 setlinewidth np 3140 438 19 63.43 243.43 arc st
3784 554 V 2687 557 1101 4 v 357 825 a F4(I)34 b(lik)o(e)f(this)h
(interf)o(ace)g(for)g(obscuring)f(irrele)n(v)n(ant)g(details)h(because)
g(I)g(can)h(focus)e(on)h(a)g(subtree)357 975 y(without)22
b(displaying)g(the)i(full)g(path)f(back)h(to)g(the)g(root.)30
b(Further)l(,)24 b(if)g(we)g(allo)n(w)f(subtrees)h(contain-)357
1124 y(ing)19 b(clouds)g(to)g(be)h(obscured)g(by)f(bigger)h(clouds,)f
(we)i(can)f(structure)f(our)h(lack)g(of)f(interest\227when)357
1274 y(we)k(e)o(xpand)f(the)h(lar)n(ger)h(cloud)e(to)h(return)g(to)g
(that)f(part)h(of)g(the)g(de)n(v)o(elopment,)e(the)i(bits)f(mark)o(ed)h
(as)357 1423 y(dull)h(remain)g(hidden.)357 1633 y(No)n(w)18
b(that)g(we)i(can)f(visualise)f(the)g(state,)i(let)f(us)g(visualise)e
(tactics)i(as)g(direct)g(manipulations)d(of)j(the)357
1782 y(displayed)25 b(image.)33 b(Each)27 b(symbol)d(is)i(gi)n(v)o(en)e
(a)j(tangible)e(presence)h(by)g(its)f(binding.)33 b(Operations)357
1931 y(which)26 b(af)n(fect)i(a)f(symbol)f(should)f(be)j(addressed,)f
(by)g(mouse)f(or)h(whate)n(v)o(er)l(,)g(to)g(its)f(binding.)36
b(W)-8 b(e)357 2081 y(shall)20 b(soon)h(\002nd)h(ourselv)o(es)e
(dragging)h(bindings)e(about)i(the)g(place,)i(and)e(so)g(forth.)30
b(It)21 b(is,)g(perhaps,)357 2230 y(an)k(adv)n(antage)f(of)h(making)f
FX(?)p F4(-bindings)f(e)o(xplicit)g(that)i(the)o(y)f(af)n(ford)g(such)h
(visual)f(metaphors.)357 2630 y FT(2.5)142 b(basic)35
b(component)f(manipulations)357 2942 y F4(I)23 b(shall)f(present)g
(tactics)g(as)h(quali\002ed)g(state)f(transitions.)28
b(The)23 b(v)n(alid-)357 3092 y(ity)h(of)i(the)f(\002nal)h(state)f
(must)f(follo)n(w)g(from)i(that)f(of)g(the)g(initial)f(state,)357
3241 y(gi)n(v)o(en)f(the)i(side-conditions.)357 3451
y(T)-8 b(able)26 b(2.7)f(sho)n(ws)g(some)h(basic)g(tactics)f(for)i
(manipulating)d(compo-)357 3600 y(nents)29 b(at)h(the)f(outer)h(le)n(v)
o(el)e(of)i(the)i(O)t F2(L)t(E)t(G)i F4(state.)45 b(These)30
b(tactics)f(are)357 3750 y(justi\002ed)21 b(by)h(monotonicity)-6
b(,)20 b(e)o(xcept)h(for)i F0(cut)g F4(and)f F0(abandon)h
F4(which)357 3899 y(are)i(standard)g(metatheoretic)f(properties.)p
2922 2833 866 4 v 2922 3510 4 677 v 3000 2982 308 4 v
3000 3120 4 139 v 3028 3075 a FU(befor)l(e)p 3304 3120
V 3000 3123 308 4 v 56 w F3(\))p 3462 2982 247 4 v 3462
3120 4 139 v 55 w FU(after)p 3706 3120 V 3462 3123 247
4 v 3000 3328 a(side-conditions)p 3784 3510 4 677 v 2922
3513 866 4 v 357 4101 a F4(W)-8 b(e)22 b(may)g(also)f(represent)h
(replacement)g(as)h(a)f(tactic,)357 4251 y(instantiating)33
b(it)j(to)f(acquire)i(tactics)e(which)h(w)o(ork)357 4400
y(at)41 b(an)o(y)f(position)f(in)i(the)f(de)n(v)o(elopment.)77
b(Conse-)357 4550 y(quently)-6 b(,)33 b(we)h(may)e(apply)h
F0(claim)p F4(,)h F0(abandon)p F4(,)i F0(try)p F4(,)357
4699 y F0(r)n(egr)n(et)p F4(,)42 b F0(solv)o(e)37 b F4(and)h
F0(cut)g F4(within)e(guesses.)69 b(Ho)n(w-)357 4849 y(e)n(v)o(er)l(,)28
b(we)h(are)g(not)f(free)h(to)f(create)h(and)f(destro)o(y)g
FY(\025)p F4(s,)357 4998 y(as)20 b(these)g(w)o(ould)f(not)g(preserv)o
(e)h(the)g(type)g(of)g(the)g(par)n(-)357 5148 y(tial)k(construction.)p
2344 3992 1444 4 v 2344 5062 4 1070 v 2422 4141 555 4
v 2422 4552 4 411 v 2450 4250 a FX(\001)2450 4370 y(?)p
FP(x)j F3(\031)h FP(P)p FX([)p FP(p)p FX(])11 b(:)g FP(S)2450
4491 y FX(\001)2531 4455 y FE(0)p 2973 4552 V 2422 4555
555 4 v 3004 4371 a F3(\))p 3131 4141 578 4 v 3131 4552
4 411 v 3159 4250 a FX(\001)3159 4370 y(?)p FP(x)28 b
F3(\031)g FP(P)p FX([)p FP(p)3526 4334 y FE(0)3549 4370
y FX(])11 b(:)g FP(S)3159 4491 y FX(\001)3240 4455 y
FE(0)p 3706 4552 V 3131 4555 578 4 v 2422 4760 a FX(\001;)2553
4734 y(\026)2547 4760 y FP(P)49 b FC(\015)h FP(p)g FX(:)g
FP(R)2422 4880 y FX(\001;)2553 4854 y(\026)2547 4880
y FP(P)f FC(\015)h FP(p)2829 4844 y FE(0)2902 4880 y
FX(:)g FP(R)p 3784 5062 4 1070 v 2344 5065 1444 4 v 357
5285 a F4(Of)26 b(course,)g(we)g(will)f(w)o(ant)h(to)f(operate)i(with)e
(a)h(little)f(more)h(sophistication)d(than)j(to)f(edit)h(partial)357
5434 y(constructions)c(directly)i(with)f F0(try)i F4(and)f
F0(r)n(egr)n(et)q F4(.)31 b(What)24 b(we)g(ha)n(v)o(e)g(established)f
(is)h(the)g(machinery)2022 5667 y(37)p eop
%%Page: 38 43
38 42 bop 516 1193 3113 4 v 514 1314 4 121 v 565 1277
a F0(assume)p 1529 1314 V 706 w(justify)p 2513 1314 V
713 w(claim)p 3627 1314 V 514 1434 V 1529 1434 V 2513
1434 V 3627 1434 V 514 1852 4 418 v 565 1497 162 4 v
565 1788 4 291 v 594 1607 a FX(\001)594 1727 y(\001)675
1691 y FE(0)p 723 1788 V 565 1791 162 4 v 754 1668 a
F3(\))p 881 1437 302 4 v 881 1848 4 411 v 910 1546 a
FX(\001)910 1667 y FY(\025)p FP(x)27 b FX(:)h FP(S)910
1787 y FX(\001)991 1751 y FE(0)p 1179 1848 V 881 1851
302 4 v 1529 1852 4 418 v 1581 1437 302 4 v 1581 1848
4 411 v 1609 1546 a FX(\001)1609 1667 y FY(\025)p FP(x)f
FX(:)h FP(S)1609 1787 y FX(\001)1690 1751 y FE(0)p 1878
1848 V 1581 1851 302 4 v 1909 1668 a F3(\))p 2037 1437
291 4 v 2037 1848 4 411 v 2065 1546 a FX(\001)2065 1667
y(?)p FP(x)f FX(:)h FP(S)2065 1787 y FX(\001)2146 1751
y FE(0)p 2323 1848 V 2037 1851 291 4 v 2513 1852 4 418
v 2565 1497 162 4 v 2565 1788 4 291 v 2593 1607 a FX(\001)2593
1727 y(\001)2674 1691 y FE(0)p 2723 1788 V 2565 1791
162 4 v 2754 1668 a F3(\))p 2881 1437 291 4 v 2881 1848
4 411 v 2909 1546 a FX(\001)2909 1667 y(?)p FP(x)g FX(:)f
FP(S)2909 1787 y FX(\001)2990 1751 y FE(0)p 3168 1848
V 2881 1851 291 4 v 3627 1852 4 418 v 514 1972 4 121
v 1529 1972 V 2513 1972 V 3627 1972 V 514 2092 V 565
2056 a FX(\001)50 b F3(`)g FP(S)g FX(:)g FI(Type)p 1529
2092 V 2513 2092 V 1408 w FX(\001)g F3(`)g FP(S)g FX(:)g
FI(Type)p 3627 2092 V 516 2096 3113 4 v 514 2216 4 121
v 565 2180 a F0(try)p 1529 2216 V 889 w(r)n(egr)n(et)p
2513 2216 V 729 w(solv)o(e)p 3627 2216 V 514 2336 V 1529
2336 V 2513 2336 V 3627 2336 V 514 2754 4 418 v 565 2340
291 4 v 565 2751 4 411 v 594 2449 a FX(\001)594 2569
y(?)p FP(x)27 b FX(:)h FP(S)594 2690 y FX(\001)675 2653
y FE(0)p 852 2751 V 565 2754 291 4 v 883 2570 a F3(\))p
1011 2340 440 4 v 1011 2751 4 411 v 1039 2449 a FX(\001)1039
2569 y(?)p FP(x)f F3(\031)h FP(p)11 b FX(:)g FP(S)1039
2690 y FX(\001)1120 2653 y FE(0)p 1447 2751 V 1011 2754
440 4 v 1529 2754 4 418 v 1581 2340 440 4 v 1581 2751
4 411 v 1609 2449 a FX(\001)1609 2569 y(?)p FP(x)27 b
F3(\031)h FP(p)11 b FX(:)g FP(S)1609 2690 y FX(\001)1690
2653 y FE(0)p 2017 2751 V 1581 2754 440 4 v 2048 2570
a F3(\))p 2175 2340 291 4 v 2175 2751 4 411 v 2203 2449
a FX(\001)2203 2569 y(?)p FP(x)28 b FX(:)g FP(S)2203
2690 y FX(\001)2284 2653 y FE(0)p 2462 2751 V 2175 2754
291 4 v 2513 2754 4 418 v 2565 2340 440 4 v 2565 2751
4 411 v 2593 2449 a FX(\001)2593 2569 y(?)p FP(x)g F3(\031)g
FP(p)11 b FX(:)g FP(S)2593 2690 y FX(\001)2674 2653 y
FE(0)p 3001 2751 V 2565 2754 440 4 v 3032 2570 a F3(\))p
3159 2340 420 4 v 3159 2751 4 411 v 3188 2449 a FX(\001)3188
2569 y(!)p FP(x)27 b FX(=)h FP(p)11 b FX(:)g FP(S)3188
2690 y FX(\001)3269 2653 y FE(0)p 3575 2751 V 3159 2754
420 4 v 3627 2754 4 418 v 514 2874 4 121 v 1529 2874
V 2513 2874 V 3627 2874 V 514 2995 V 565 2959 a FX(\001)50
b FC(\015)g FP(p)g FX(:)g FP(S)p 1529 2995 V 2513 2995
V 1515 w(p)25 b F4(pure)p 3627 2995 V 516 2998 3113 4
v 514 3118 4 121 v 565 3082 a F0(cut)p 1529 3118 V 884
w(abandon)p 2513 3118 V 614 w(postpone)p 3627 3118 V
514 3239 V 1529 3239 V 2513 3239 V 3627 3239 V 514 3656
4 418 v 565 3242 408 4 v 565 3653 4 411 v 594 3351 a
FX(\001)594 3472 y(!)p FP(x)i FX(=)h FP(s)11 b FX(:)g
FP(S)594 3592 y FX(\001)675 3556 y FE(0)p 970 3653 V
565 3656 408 4 v 1001 3473 a F3(\))p 1128 3302 353 4
v 1128 3593 4 291 v 1157 3412 a FX(\001)1157 3532 y([)p
FP(s)o FY(=)p FP(x)p FX(]\001)1429 3496 y FE(0)p 1478
3593 V 1128 3596 353 4 v 1529 3656 4 418 v 1581 3242
291 4 v 1581 3653 4 411 v 1609 3351 a FX(\001)1609 3472
y(?)p FP(x)27 b FX(:)h FP(S)1609 3592 y FX(\001)1690
3556 y FE(0)p 1867 3653 V 1581 3656 291 4 v 1898 3473
a F3(\))p 2026 3302 162 4 v 2026 3593 4 291 v 2054 3412
a FX(\001)2054 3532 y(\001)2135 3496 y FE(0)p 2183 3593
V 2026 3596 162 4 v 2513 3656 4 418 v 2565 3242 291 4
v 2565 3653 4 411 v 2593 3351 a FX(\001)2593 3472 y(?)p
FP(x)g FX(:)f FP(S)2593 3592 y FX(\001)2674 3556 y FE(0)p
2852 3653 V 2565 3656 291 4 v 2883 3473 a F3(\))p 3010
3242 302 4 v 3010 3653 4 411 v 3038 3351 a FX(\001)3038
3472 y FY(\025)p FP(x)h FX(:)f FP(S)3038 3592 y FX(\001)3119
3556 y FE(0)p 3308 3653 V 3010 3656 302 4 v 3627 3656
4 418 v 514 3777 4 121 v 1529 3777 V 2513 3777 V 3627
3777 V 514 3897 V 1529 3897 V 1581 3861 a FP(x)g F3(62)h
FX(\001)1833 3825 y FE(0)p 2513 3897 V 3627 3897 V 516
3901 3113 4 v 1228 4168 a F4(T)-8 b(able)24 b(2.7:)30
b(basic)25 b(component)f(manipulations)2022 5667 y(38)p
eop
%%Page: 39 44
39 43 bop 357 -94 3818 4 v 355 27 4 121 v 407 -9 a F0(attack)p
1640 27 V 1019 w(intr)n(o)p F4(-)p F3(8)p 2740 27 V 804
w F0(intr)n(o)p F4(-)p FX(!)p 4172 27 V 355 147 V 1640
147 V 2740 147 V 4172 147 V 355 748 4 601 v 407 271 300
4 v 407 624 4 353 v 7 setlinewidth np 490 351 25 135.00
315.00 arc st 7 setlinewidth np 525 333 18 180.00 360.00
arc st 7 setlinewidth np 579 333 35 180.00 360.00 arc
st 7 setlinewidth np 623 360 28 251.56 341.56 arc st
7 setlinewidth np 650 378 27 270.00 450.00 arc st 7 setlinewidth
np 615 405 35 360.00 540.00 arc st 7 setlinewidth np
561 405 18 360.00 540.00 arc st 7 setlinewidth np 516
405 27 360.00 540.00 arc st 7 setlinewidth np 481 387
19 63.43 243.43 arc st 435 563 a(?)p FP(x)27 b FX(:)h
FP(S)p 703 624 V 407 627 300 4 v 734 472 a F3(\))p 861
151 553 4 v 861 744 4 594 v 7 setlinewidth np 944 231
25 135.00 315.00 arc st 7 setlinewidth np 980 213 18
180.00 360.00 arc st 7 setlinewidth np 1034 213 35 180.00
360.00 arc st 7 setlinewidth np 1078 240 28 251.56 341.56
arc st 7 setlinewidth np 1105 257 27 270.00 450.00 arc
st 7 setlinewidth np 1069 284 35 360.00 540.00 arc st
7 setlinewidth np 1016 284 18 360.00 540.00 arc st 7
setlinewidth np 971 284 27 360.00 540.00 arc st 7 setlinewidth
np 935 266 19 63.43 243.43 arc st 889 443 a FX(?)q FP(x)o
F3(\031)23 b FX(?)p FP(x)p FX(:)f FP(S)1131 563 y(x)1011
683 y FX(:)47 b FP(S)p 1410 744 V 861 747 553 4 v 1640
748 4 601 v 1691 151 511 4 v 1691 744 4 594 v 7 setlinewidth
np 1775 231 25 135.00 315.00 arc st 7 setlinewidth np
1810 213 18 180.00 360.00 arc st 7 setlinewidth np 1864
213 35 180.00 360.00 arc st 7 setlinewidth np 1908 240
28 251.56 341.56 arc st 7 setlinewidth np 1935 257 27
270.00 450.00 arc st 7 setlinewidth np 1899 284 35 360.00
540.00 arc st 7 setlinewidth np 1846 284 18 360.00 540.00
arc st 7 setlinewidth np 1801 284 27 360.00 540.00 arc
st 7 setlinewidth np 1766 266 19 63.43 243.43 arc st
1720 443 a FX(?)p FP(x)p FX(:)22 b F3(8)p FP(y)p FX(:)g
FP(S)1920 563 y(T)1766 683 y(x)p 2199 744 V 1691 747
511 4 v 2230 472 a F3(\))p 2357 151 324 4 v 2357 744
4 594 v 7 setlinewidth np 2441 231 25 135.00 315.00 arc
st 7 setlinewidth np 2476 213 18 180.00 360.00 arc st
7 setlinewidth np 2530 213 35 180.00 360.00 arc st 7
setlinewidth np 2574 240 28 251.56 341.56 arc st 7 setlinewidth
np 2601 257 27 270.00 450.00 arc st 7 setlinewidth np
2565 284 35 360.00 540.00 arc st 7 setlinewidth np 2512
284 18 360.00 540.00 arc st 7 setlinewidth np 2467 284
27 360.00 540.00 arc st 7 setlinewidth np 2432 266 19
63.43 243.43 arc st 2386 443 a FY(\025)p FP(y)o FX(:)h
FP(S)2396 563 y FX(?)q FP(x)o FX(:)g FP(T)2443 683 y(x)p
2677 744 V 2357 747 324 4 v 2740 748 4 601 v 2791 151
653 4 v 2791 744 4 594 v 7 setlinewidth np 2874 231 25
135.00 315.00 arc st 7 setlinewidth np 2910 213 18 180.00
360.00 arc st 7 setlinewidth np 2963 213 35 180.00 360.00
arc st 7 setlinewidth np 3008 240 28 251.56 341.56 arc
st 7 setlinewidth np 3035 257 27 270.00 450.00 arc st
7 setlinewidth np 2999 284 35 360.00 540.00 arc st 7
setlinewidth np 2945 284 18 360.00 540.00 arc st 7 setlinewidth
np 2901 284 27 360.00 540.00 arc st 7 setlinewidth np
2865 266 19 63.43 243.43 arc st 2819 443 a FX(?)p FP(x)p
FX(:)f(!)p FP(y)p FX(=)g FP(s)28 b FX(:)f FP(S)2991 563
y(T)2865 683 y(x)p 3440 744 V 2791 747 653 4 v 3471 472
a F3(\))p 3599 151 477 4 v 3599 744 4 594 v 7 setlinewidth
np 3682 231 25 135.00 315.00 arc st 7 setlinewidth np
3717 213 18 180.00 360.00 arc st 7 setlinewidth np 3771
213 35 180.00 360.00 arc st 7 setlinewidth np 3816 240
28 251.56 341.56 arc st 7 setlinewidth np 3842 257 27
270.00 450.00 arc st 7 setlinewidth np 3807 284 35 360.00
540.00 arc st 7 setlinewidth np 3753 284 18 360.00 540.00
arc st 7 setlinewidth np 3709 284 27 360.00 540.00 arc
st 7 setlinewidth np 3673 266 19 63.43 243.43 arc st
3646 443 a FX(!)p FP(y)p FX(=)22 b FP(s)27 b FX(:)h FP(S)3627
563 y FX(?)p FP(x)c FX(:)47 b FP(T)3673 683 y(x)p 4072
744 V 3599 747 477 4 v 4172 748 4 601 v 355 868 4 121
v 1640 868 V 2740 868 V 4172 868 V 357 871 3818 4 v 355
992 4 121 v 407 956 a F0(r)n(etr)n(eat)p 1640 992 V 996
w(raise)p F4(-)p F3(8)p 2740 992 V 807 w F0(raise)p F4(-)p
FX(!)p 4172 992 V 355 1112 V 1640 1112 V 2740 1112 V
4172 1112 V 355 1833 4 721 v 407 1176 553 4 v 407 1769
4 594 v 7 setlinewidth np 490 1256 25 135.00 315.00 arc
st 7 setlinewidth np 525 1238 18 180.00 360.00 arc st
7 setlinewidth np 579 1238 35 180.00 360.00 arc st 7
setlinewidth np 623 1265 28 251.56 341.56 arc st 7 setlinewidth
np 650 1282 27 270.00 450.00 arc st 7 setlinewidth np
615 1309 35 360.00 540.00 arc st 7 setlinewidth np 561
1309 18 360.00 540.00 arc st 7 setlinewidth np 516 1309
27 360.00 540.00 arc st 7 setlinewidth np 481 1291 19
63.43 243.43 arc st 435 1468 a(?)p FP(y)p F3(\031)22
b FX(?)p FP(x)p FX(:)g FP(S)676 1588 y(t)556 1708 y FX(:)47
b FP(T)p 955 1769 V 407 1772 553 4 v 986 1497 a F3(\))p
1114 1236 479 4 v 1114 1709 4 474 v 7 setlinewidth np
1197 1316 25 135.00 315.00 arc st 7 setlinewidth np 1232
1298 18 180.00 360.00 arc st 7 setlinewidth np 1286 1298
35 180.00 360.00 arc st 7 setlinewidth np 1331 1325 28
251.56 341.56 arc st 7 setlinewidth np 1357 1343 27 270.00
450.00 arc st 7 setlinewidth np 1322 1369 35 360.00 540.00
arc st 7 setlinewidth np 1268 1369 18 360.00 540.00 arc
st 7 setlinewidth np 1223 1369 27 360.00 540.00 arc st
7 setlinewidth np 1188 1352 19 63.43 243.43 arc st 1142
1528 a FX(?)p FP(x)25 b FX(:)47 b FP(S)1142 1648 y FX(?)p
FP(y)p F3(\031)22 b FP(t)28 b FX(:)g FP(T)p 1589 1709
V 1114 1712 479 4 v 1640 1833 4 721 v 1691 1176 324 4
v 1691 1769 4 594 v 7 setlinewidth np 1775 1256 25 135.00
315.00 arc st 7 setlinewidth np 1810 1238 18 180.00 360.00
arc st 7 setlinewidth np 1864 1238 35 180.00 360.00 arc
st 7 setlinewidth np 1908 1265 28 251.56 341.56 arc st
7 setlinewidth np 1935 1282 27 270.00 450.00 arc st 7
setlinewidth np 1899 1309 35 360.00 540.00 arc st 7 setlinewidth
np 1846 1309 18 360.00 540.00 arc st 7 setlinewidth np
1801 1309 27 360.00 540.00 arc st 7 setlinewidth np 1766
1291 19 63.43 243.43 arc st 1720 1468 a FY(\025)p FP(y)o
FX(:)23 b FP(S)1731 1588 y FX(?)p FP(x)o FX(:)g FP(T)1777
1708 y(t)p 2011 1769 V 1691 1772 324 4 v 2042 1497 a
F3(\))p 2170 1115 522 4 v 2170 1830 4 715 v 7 setlinewidth
np 2253 1196 25 135.00 315.00 arc st 7 setlinewidth np
2288 1178 18 180.00 360.00 arc st 7 setlinewidth np 2342
1178 35 180.00 360.00 arc st 7 setlinewidth np 2386 1204
28 251.56 341.56 arc st 7 setlinewidth np 2413 1222 27
270.00 450.00 arc st 7 setlinewidth np 2378 1249 35 360.00
540.00 arc st 7 setlinewidth np 2324 1249 18 360.00 540.00
arc st 7 setlinewidth np 2279 1249 27 360.00 540.00 arc
st 7 setlinewidth np 2244 1231 19 63.43 243.43 arc st
2209 1407 a FX(?)p FP(x)o FX(:)g F3(8)p FP(y)p FX(:)f
FP(S)2409 1528 y(T)2198 1648 y FY(\025)p FP(y)o FX(:)h
FP(S)2255 1769 y FX([)p FP(x)f(y)p FY(=)p FP(x)o FX(])p
FP(t)p 2688 1830 V 2170 1833 522 4 v 2740 1833 4 721
v 2791 1176 477 4 v 2791 1769 4 594 v 7 setlinewidth
np 2874 1256 25 135.00 315.00 arc st 7 setlinewidth np
2910 1238 18 180.00 360.00 arc st 7 setlinewidth np 2963
1238 35 180.00 360.00 arc st 7 setlinewidth np 3008 1265
28 251.56 341.56 arc st 7 setlinewidth np 3035 1282 27
270.00 450.00 arc st 7 setlinewidth np 2999 1309 35 360.00
540.00 arc st 7 setlinewidth np 2945 1309 18 360.00 540.00
arc st 7 setlinewidth np 2901 1309 27 360.00 540.00 arc
st 7 setlinewidth np 2865 1291 19 63.43 243.43 arc st
2838 1468 a FX(!)p FP(y)p FX(=)g FP(s)28 b FX(:)f FP(S)2819
1588 y FX(?)p FP(x)d FX(:)47 b FP(T)2865 1708 y(t)p 3264
1769 V 2791 1772 477 4 v 3295 1497 a F3(\))p 3423 1115
702 4 v 3423 1830 4 715 v 7 setlinewidth np 3506 1196
25 135.00 315.00 arc st 7 setlinewidth np 3542 1178 18
180.00 360.00 arc st 7 setlinewidth np 3595 1178 35 180.00
360.00 arc st 7 setlinewidth np 3640 1204 28 251.56 341.56
arc st 7 setlinewidth np 3666 1222 27 270.00 450.00 arc
st 7 setlinewidth np 3631 1249 35 360.00 540.00 arc st
7 setlinewidth np 3577 1249 18 360.00 540.00 arc st 7
setlinewidth np 3533 1249 27 360.00 540.00 arc st 7 setlinewidth
np 3497 1231 19 63.43 243.43 arc st 3451 1407 a FX(?)p
FP(x)24 b FX(:)47 b(!)p FP(y)p FX(=)22 b FP(s)27 b FX(:)h
FP(S)3672 1528 y(T)3470 1648 y FX(!)p FP(y)p FX(=)22
b FP(s)27 b FX(:)h FP(S)3497 1769 y(t)p 4121 1830 V 3423
1833 702 4 v 4172 1833 4 721 v 355 1953 4 121 v 1640
1953 V 2740 1953 V 4172 1953 V 357 1957 3818 4 v 1201
2224 a F4(T)-8 b(able)24 b(2.8:)31 b(mo)o(ving)22 b(holes)j(through)e
(their)i(types)357 2511 y(for)33 b(making)f(holes)h(appear)h(and)f
(disappear)g(in)g(a)h(gi)n(v)o(en)d(place.)57 b(Just)32
b(lik)o(e)h(the)g(cinema,)i(if)e(we)357 2660 y(w)o(ork)24
b(this)g(machinery)h(f)o(ast)f(enough,)h(we)g(create)g(the)g(illusion)e
(of)i(mo)o(v)o(ement.)357 3060 y FT(2.6)142 b(mo)o(ving)34
b(holes)357 3373 y F4(T)m(raditionally)-6 b(,)25 b(we)j(may)f
(`introduce')g(a)h(term)f(of)h(functional)f(type)g(by)g(\002lling)g(a)g
(hole)h(with)e(a)i FY(\025)p F4(-)357 3522 y(binding)23
b(whose)h(body)g(is)g(a)h(ne)n(w)f(hole\227the)g(conte)o(xt)f(of)i(the)
f(ne)n(w)g(hole)h(contains)e(the)i(ar)n(gument)357 3671
y(of)33 b(the)f(function.)54 b(W)-8 b(e)34 b(may)e(`animate')h(this)f
(manoeuvre)h(by)f(pretending)g(that)h(the)g FX(?)p F4(-binding)357
3821 y(has)24 b(mo)o(v)o(ed)g(under)g(the)h(ar)n(gument)f(and)h
(shortened)f(its)g(type.)357 4030 y(Another)18 b(f)o(amiliar)h
(manoeuvre)f(undoes)h(the)f(ef)n(fect)i(of)f(introduction,)f
(generalising)g(a)h(hole)g(func-)357 4180 y(tionally)29
b(o)o(v)o(er)i(the)g(assumptions)e(from)i(which)f(it)h(w)o(as)g(to)g
(be)g(pro)o(v)o(en.)49 b(The)31 b FX(?)p F4(-binding)f(mo)o(v)o(es)357
4329 y(outw)o(ards)d(through)f(the)h(binding)f(of)i(the)f(assumption,)g
(and)g(its)g(type)g(gets)g(longer)-5 b(.)38 b(Miller)27
b(calls)357 4479 y(this)22 b(`raising')h([Mil91)o(].)31
b(W)-8 b(e)24 b(may)f(also)g(shuf)n(\003e)g(holes)g(in)g(and)h(out)f
(through)f FX(!)p F4(-bindings)h(appear)n(-)357 4628
y(ing)h(in)g(their)h(types.)357 4838 y(These)g(mo)o(v)o(es)e(are)i
(collected)g(in)f(table)h(2.8.)357 5047 y(Notice)e(that)h(the)f(tw)o(o)
h(introduction)e(tactics)i(only)f(replace)h(constructions)f(of)h(the)f
(form)h FX(?)p FP(x)11 b FX(:)g FP(S)q FY(:)18 b FP(x)p
F4(.)357 5196 y(If)24 b(the)f(body)g(w)o(as)h(some)f(arbitrary)h
FP(t)p F4(,)g(the)f(introductions)f(w)o(ould)h(af)n(fect)h(the)f
FP(x)p F4(')-5 b(s)23 b(in)h FP(t)p F4(,)g(rather)g(than)357
5346 y(the)33 b(whole)g(e)o(xpression.)54 b(F)o(ortunately)-6
b(,)34 b(an)o(y)f(hole)g(not)g(of)g(this)f(form)h(can)h(be)f(made)g
(ready)h(for)2022 5667 y(39)p eop
%%Page: 40 45
40 44 bop 357 -6 a F4(introduction)23 b(by)h(the)h F0(attack)g
F4(tactic.)357 204 y(The)d(raising)g(tactics,)h(ho)n(we)n(v)o(er)l(,)f
(ha)n(v)o(e)g(no)h(such)f(restriction.)29 b(The)o(y)22
b(allo)n(w)g(us)g(to)h(mo)o(v)o(e)e(holes)h(out)357 353
y(through)k(assumptions)g(and)h(de\002nitions,)g(becoming)g(more)h
(functional)e(as)i(the)o(y)f(go,)h(until)e(the)o(y)357
503 y(are)f(outermost)e(in)h(a)h(guess.)30 b(The)25 b
F0(r)n(etr)n(eat)h F4(tactic)e(may)h(then)f(be)h(used)f(to)g(e)o
(xtract)g(them)g(from)g(the)357 652 y(de)n(v)o(elopment.)j(A)c(partial)
f(construction)f(can)i(al)o(w)o(ays)g(be)g(made)f(pure)h(by)f(raising)g
(and)g(retreating)357 802 y(its)i(remaining)g FX(?)p
F4(-bindings.)357 1201 y FT(2.7)142 b(r)m(e\002nement)34
b(and)h(uni\002cation)357 1514 y F4(The)25 b F0(intr)n(os)p
F4(-)p F3(8)h F4(tactic)f(mak)o(es)g(progress)f(by)h(\002lling)f(a)i
(hole)f(with)f(a)h FY(\025)p F4(-term.)32 b(This)24 b(section)h(b)n
(uilds)357 1663 y(tactics)f(to)h(\002ll)f(holes)g(with)g(applications.)
357 1928 y(Let)i(us)g(be)o(gin)g(with)g(a)h(v)o(ery)f(simple)f(moti)n
(v)n(ating)f(e)o(xample,)i(say)-6 b(,)26 b(de-)357 2077
y(v)o(eloping)k(the)h FZ(double)h F4(function)f(for)h(natural)g
(numbers)f(in)g(terms)357 2227 y(of)25 b FZ(plus)p F4(.)p
2944 1756 843 4 v 2944 2230 4 474 v 7 setlinewidth np
3027 1837 25 135.00 315.00 arc st 7 setlinewidth np 3063
1819 18 180.00 360.00 arc st 7 setlinewidth np 3117 1819
35 180.00 360.00 arc st 7 setlinewidth np 3161 1845 28
251.56 341.56 arc st 7 setlinewidth np 3188 1863 27 270.00
450.00 arc st 7 setlinewidth np 3152 1890 35 360.00 540.00
arc st 7 setlinewidth np 3099 1890 18 360.00 540.00 arc
st 7 setlinewidth np 3054 1890 27 360.00 540.00 arc st
7 setlinewidth np 3018 1872 19 63.43 243.43 arc st 2972
2048 a FX(?)q FZ(double)o FX(:)d F3(8)q FP(n)p FX(:)g
FZ(N)-63 b(N)3470 2169 y(N)g(N)p 3784 2230 V 2944 2233
843 4 v 357 2489 a F4(W)-8 b(e)25 b(may)f(introduce)h(the)f(ar)n
(gument)h(by)f F0(attack)p F4(,)i(then)e F0(intr)n(os)p
F4(-)p FY(\025)p F4(.)p 2892 2317 895 4 v 2892 2911 4
594 v 7 setlinewidth np 2975 2397 25 135.00 315.00 arc
st 7 setlinewidth np 3011 2379 18 180.00 360.00 arc st
7 setlinewidth np 3065 2379 35 180.00 360.00 arc st 7
setlinewidth np 3109 2406 28 251.56 341.56 arc st 7 setlinewidth
np 3136 2424 27 270.00 450.00 arc st 7 setlinewidth np
3100 2451 35 360.00 540.00 arc st 7 setlinewidth np 3047
2451 18 360.00 540.00 arc st 7 setlinewidth np 3002 2451
27 360.00 540.00 arc st 7 setlinewidth np 2967 2433 19
63.43 243.43 arc st 2921 2609 a FX(?)p FZ(double)o F3(\031)f
FY(\025)p FP(n)p FX(:)f FZ(N)-63 b(N)3424 2729 y FX(?)p
FP(d)5 b FX(:)22 b FZ(N)-63 b(N)3470 2850 y FP(d)p 3784
2911 V 2892 2914 895 4 v 357 3157 a F4(At)32 b(this)f(point,)i(we)f
(might)f(decide)h(to)g(solv)o(e)f(for)h FN(d)g F4(by)g(adding)357
3307 y(tw)o(o)g(numbers)g(together)-5 b(.)54 b(W)-8 b(e)33
b(can)g(do)f(this,)i(e)n(v)o(en)e(if)h(we)g(ha)n(v)o(e)357
3456 y(not)j(yet)g(decided)g(which)g(tw)o(o)g(numbers,)j(by)d
(inserting)f(holes)357 3606 y(for)25 b(the)f(numbers.)30
b(That)25 b(is,)f(we)h(\002rst)g F0(claim)f FY(:)17 b(:)g(:)p
2779 2986 1008 4 v 2779 3700 4 715 v 7 setlinewidth np
2887 3066 25 135.00 315.00 arc st 7 setlinewidth np 2923
3048 18 180.00 360.00 arc st 7 setlinewidth np 2977 3048
35 180.00 360.00 arc st 7 setlinewidth np 3021 3075 28
251.56 341.56 arc st 7 setlinewidth np 3048 3093 27 270.00
450.00 arc st 7 setlinewidth np 3012 3119 35 360.00 540.00
arc st 7 setlinewidth np 2959 3119 18 360.00 540.00 arc
st 7 setlinewidth np 2914 3119 27 360.00 540.00 arc st
7 setlinewidth np 2879 3101 19 63.43 243.43 arc st 2833
3278 a FX(?)p FZ(double)o F3(\031)23 b FY(\025)p FP(n)88
b FX(:)22 b FZ(N)-63 b(N)3336 3398 y FX(?)p FP(x)p FY(;)17
b FP(y)o FX(:)22 b FZ(N)-63 b(N)3336 3518 y FX(?)p FP(d)93
b FX(:)22 b FZ(N)-63 b(N)3382 3639 y FP(d)p 3784 3700
V 2779 3703 1008 4 v 382 3946 a FY(:)17 b(:)g(:)41 b
F4(then)24 b F0(solv)o(e)g FP(d)h F4(with)f FZ(plus)d
FN(x)i(y)i F4(and)g F0(cut)p F4(.)357 4156 y(W)-8 b(e)27
b(ha)n(v)o(e)g(\002lled)g(one)f(old)h(hole,)g FP(d)p
F4(,)g(with)f FZ(plus)g F4(applied)h(to)f(tw)o(o)357
4305 y(ne)n(w)e(holes\227that)f(is,)i(we)g(ha)n(v)o(e)f(`re\002ned)i
FP(d)f F4(by)f FZ(plus)o F4('.)p 2751 3775 1037 4 v 2751
4369 4 594 v 7 setlinewidth np 2834 3855 25 135.00 315.00
arc st 7 setlinewidth np 2870 3837 18 180.00 360.00 arc
st 7 setlinewidth np 2923 3837 35 180.00 360.00 arc st
7 setlinewidth np 2968 3864 28 251.56 341.56 arc st 7
setlinewidth np 2995 3882 27 270.00 450.00 arc st 7 setlinewidth
np 2959 3908 35 360.00 540.00 arc st 7 setlinewidth np
2905 3908 18 360.00 540.00 arc st 7 setlinewidth np 2861
3908 27 360.00 540.00 arc st 7 setlinewidth np 2825 3891
19 63.43 243.43 arc st 2779 4067 a FX(?)p FZ(double)p
F3(\031)e FY(\025)p FP(n)89 b FX(:)22 b FZ(N)-63 b(N)3282
4187 y FX(?)p FP(x)p FY(;)17 b FP(y)p FX(:)22 b FZ(N)-63
b(N)3328 4308 y(plus)22 b FP(x)g(y)p 3784 4369 V 2751
4372 1037 4 v 357 4615 a F4(T)-8 b(o)26 b(complete)f(the)h(de)n(v)o
(elopment,)e(re\002ne)j(each)g(of)f FP(x)g F4(and)g FP(y)h
F4(by)357 4764 y FP(n)p F4(.)p 2730 4443 1058 4 v 2730
4917 4 474 v 7 setlinewidth np 2838 4524 25 135.00 315.00
arc st 7 setlinewidth np 2874 4506 18 180.00 360.00 arc
st 7 setlinewidth np 2927 4506 35 180.00 360.00 arc st
7 setlinewidth np 2972 4532 28 251.56 341.56 arc st 7
setlinewidth np 2999 4550 27 270.00 450.00 arc st 7 setlinewidth
np 2963 4577 35 360.00 540.00 arc st 7 setlinewidth np
2910 4577 18 360.00 540.00 arc st 7 setlinewidth np 2865
4577 27 360.00 540.00 arc st 7 setlinewidth np 2829 4559
19 63.43 243.43 arc st 2783 4735 a FX(!)p FZ(double)p
FX(=)22 b FY(\025)p FN(n)p FX(:)g FZ(N)-63 b(N)3312 4856
y(plus)21 b FN(n)h(n)p 3784 4917 V 2730 4920 1058 4 v
2022 5667 a F4(40)p eop
%%Page: 41 46
41 45 bop 357 7 a F4(The)23 b(tactic)h F0(na)877 6 y(\250)880
7 y(\021v)o(e-r)n(e\002ne)i F4(solv)o(es)c(one)i(hole)f(by)g(a)h(gi)n
(v)o(en)f(func-)357 157 y(tion)30 b(applied)h(to)f(unkno)n(wns)g
(represented)h(by)g(ne)n(w)g(holes.)49 b(It)357 306 y(is)24
b(a)h(combination)e(of)i F0(claim)p F4(,)f F0(try)h F4(and)g
F0(solv)o(e)p F4(.)357 516 y(Note)h(that)g(I)h(ha)n(v)o(e)f(not)g(e)o
(xplained)f(ho)n(w)h(the)h(length)e(of)i(the)f(ar)n(-)357
665 y(gument)32 b(sequence)1080 658 y FY(~)1087 665 y
FP(x)h F4(is)f(to)h(be)g(chosen.)55 b(W)-8 b(e)33 b(could)g(lea)n(v)o
(e)f(it)357 815 y(to)d(the)i(user)-5 b(.)46 b(Ho)n(we)n(v)o(er)l(,)30
b(since)g(con)l(v)o(ertability)e(is)i(decidable,)357
964 y(we)25 b(can)g(simply)e(try)i(the)f(successi)n(v)o(ely)f(longer)h
(sequences)h(af-)357 1113 y(forded)30 b(by)h(the)f F3(8)p
F4(s)h(in)f(the)g(type)g(of)h FP(f)f F4(until)f(either)i(one)f(w)o
(orks)357 1263 y(or)25 b(we)g(run)f(out)h(of)f(ar)n(guments.)p
2727 -102 1061 4 v 2727 1056 4 1158 v 2805 7 a F0(na)2907
6 y(\250)2910 7 y(\021v)o(e-r)n(e\002ne)p 2805 167 350
4 v 2805 520 4 353 v 7 setlinewidth np 2888 247 25 135.00
315.00 arc st 7 setlinewidth np 2924 229 18 180.00 360.00
arc st 7 setlinewidth np 2977 229 35 180.00 360.00 arc
st 7 setlinewidth np 3022 256 28 251.56 341.56 arc st
7 setlinewidth np 3049 274 27 270.00 450.00 arc st 7
setlinewidth np 3013 301 35 360.00 540.00 arc st 7 setlinewidth
np 2959 301 18 360.00 540.00 arc st 7 setlinewidth np
2915 301 27 360.00 540.00 arc st 7 setlinewidth np 2879
283 19 63.43 243.43 arc st 2833 459 a FX(?)p FP(y)p FX(:)e
FP(T)p 3151 520 V 2805 523 350 4 v 3182 339 a F3(\))p
3309 167 400 4 v 3309 774 4 607 v 7 setlinewidth np 3392
247 25 135.00 315.00 arc st 7 setlinewidth np 3428 229
18 180.00 360.00 arc st 7 setlinewidth np 3482 229 35
180.00 360.00 arc st 7 setlinewidth np 3526 256 28 251.56
341.56 arc st 7 setlinewidth np 3553 274 27 270.00 450.00
arc st 7 setlinewidth np 3517 301 35 360.00 540.00 arc
st 7 setlinewidth np 3464 301 18 360.00 540.00 arc st
7 setlinewidth np 3419 301 27 360.00 540.00 arc st 7
setlinewidth np 3384 283 19 63.43 243.43 arc st 3338
472 a FX(?)3377 465 y FY(~)3384 472 y FP(x)i FX(:)3527
446 y FY(~)3531 472 y FP(S)3357 592 y FX(!)p FP(y)o FX(=)e
FP(f)3574 585 y FY(~)3581 592 y FP(x)3458 713 y FX(:)46
b FP(T)p 3706 774 V 3309 777 400 4 v 2805 995 a(f)j FX(:)h
F3(8)3007 988 y FY(~)3014 995 y FP(x)11 b FX(:)3109 969
y FY(~)3113 995 y FP(S)q FY(:)22 b FP(T)p 3784 1056 4
1158 v 2727 1059 1061 4 v 357 1427 a F4(Hence,)27 b(in)g(the)f(abo)o(v)
o(e)g(e)o(xample,)g(we)i(ef)n(fecti)n(v)o(ely)d(solv)o(ed)g
FP(d)i F4(by)g F0(na)2747 1426 y(\250)2750 1427 y(\021v)o(e-r)n
(e\002ne)h F4(with)e FZ(plus)o F4(,)i(then)357 1577 y(each)d(of)g
FP(x)g F4(and)f FP(y)h F4(by)g F0(na)1217 1576 y(\250)1220
1577 y(\021v)o(e-r)n(e\002ne)h F4(with)f FP(n)p F4(.)357
1847 y(While)20 b F0(na)723 1846 y(\250)726 1847 y(\021v)o(e-r)n
(e\002ne)i F4(is)e(good)f(for)i(simple)e(types,)i(as)f(one)g(might)357
1997 y(e)o(xpect,)29 b(it)g(is)f(not)h(suf)n(\002ciently)f(po)n(werful)
g(to)h(be)g(of)g(real)g(use)g(in)357 2146 y(the)f(dependently)g(typed)g
(setting.)42 b(Consider)29 b(this)f(\(admittedly)357
2296 y(some)n(what)23 b(arti\002cial\))i(problem.)357
2505 y(W)-8 b(e)36 b(ha)n(v)o(e)f(to)g(\002nd)h(a)g FP(y)f
F4(such)g(that)g FP(m)30 b FZ(=)1783 2520 y FL(N)1881
2505 y FP(y)o F4(.)63 b(Careful)37 b(e)o(xami-)357 2654
y(nation)29 b(sho)n(ws)g(that)g FP(n)i F4(will)e(do,)i(with)e(a)h(deri)
n(v)n(ation)f(via)h FP(nsym)p F4(.)357 2804 y(Ho)n(we)n(v)o(er)l(,)23
b(we)h(cannot)g(simply)f(do)h F0(na)1713 2803 y(\250)1716
2804 y(\021v)o(e-r)n(e\002ne)i F4(on)e FP(mey)g F4(with)357
2953 y FP(nsym)p F4(,)g(because)h FP(nsym)g F4(pro)o(v)o(es)e
FP(x)f FZ(=)1634 2968 y FL(N)1724 2953 y FP(n)p F4(,)j(not)f
FP(m)e FZ(=)2141 2968 y FL(N)2231 2953 y FP(y)o F4(.)p
2778 1676 1010 4 v 2778 2871 4 1196 v 7 setlinewidth
np 2861 1756 25 135.00 315.00 arc st 7 setlinewidth np
2897 1738 18 180.00 360.00 arc st 7 setlinewidth np 2950
1738 35 180.00 360.00 arc st 7 setlinewidth np 2995 1765
28 251.56 341.56 arc st 7 setlinewidth np 3022 1783 27
270.00 450.00 arc st 7 setlinewidth np 2986 1809 35 360.00
540.00 arc st 7 setlinewidth np 2932 1809 18 360.00 540.00
arc st 7 setlinewidth np 2888 1809 27 360.00 540.00 arc
st 7 setlinewidth np 2852 1791 19 63.43 243.43 arc st
2806 1968 a FY(\025)p FP(n)166 b FX(:)23 b FZ(N)-63 b(N)2806
2088 y FY(\025)p FP(nsym)o FX(:)23 b F3(8)p FP(x)94 b
FX(:)22 b FZ(N)-63 b(N)3134 2208 y F3(8)p FP(nex)p FX(:)22
b FP(n)h FZ(=)3520 2223 y FL(N)3610 2208 y FP(x)3189
2329 y(x)f FZ(=)3321 2344 y FL(N)3411 2329 y FP(n)2806
2449 y FY(\025)p FP(m)143 b FX(:)23 b FZ(N)-63 b(N)2806
2570 y FY(\025)p FP(nem)49 b FX(:)23 b FP(n)f FZ(=)3272
2585 y FL(N)3361 2570 y FP(m)2817 2690 y FX(?)p FP(y)171
b FX(:)23 b FZ(N)-63 b(N)2817 2810 y FX(?)p FP(mey)54
b FX(:)23 b FP(m)e FZ(=)3294 2825 y FL(N)3383 2810 y
FP(y)p 3784 2871 V 2778 2874 1010 4 v 357 3224 a F4(W)-8
b(e)23 b(can,)h(ho)n(we)n(v)o(er)l(,)e(start)h(by)g(b)n(uilding)e(an)j
(application)e(of)h FP(nsym)g F4(in)357 3373 y(a)i FX(!)p
F4(-binding.)357 3583 y(If)32 b(we)f(could)g(solv)o(e)g
FP(x)g F4(and)g FP(y)h F4(so)f(that)g(the)g(types)g(of)g
FP(xen)h F4(and)f FP(mey)357 3732 y F4(became)24 b(con)l(v)o(ertible,)f
(we)h(could)f(complete)g(the)h(re\002nement.)31 b(That)357
3882 y(is,)k(we)g(need)f(to)f F0(unify)i F4(the)f(tw)o(o)f(types.)58
b(Note)33 b(that)h(it)f(is)h(uni\002ca-)357 4031 y(tion)23
b(we)i(need,)g(not)f(just)f(one-sided)h(matching\227we)f(need)i(to)f
(infer)357 4181 y(v)n(alues)g(for)h(holes)f(in)g(the)h(goal,)f(not)h
(just)e(unkno)n(wn)h(ar)n(guments.)p 2911 3052 876 4
v 2911 3887 4 835 v 7 setlinewidth np 2994 3133 25 135.00
315.00 arc st 7 setlinewidth np 3030 3115 18 180.00 360.00
arc st 7 setlinewidth np 3084 3115 35 180.00 360.00 arc
st 7 setlinewidth np 3128 3141 28 251.56 341.56 arc st
7 setlinewidth np 3155 3159 27 270.00 450.00 arc st 7
setlinewidth np 3119 3186 35 360.00 540.00 arc st 7 setlinewidth
np 3066 3186 18 360.00 540.00 arc st 7 setlinewidth np
3021 3186 27 360.00 540.00 arc st 7 setlinewidth np 2985
3168 19 63.43 243.43 arc st 2939 3344 a FX(?)q FP(x)140
b FX(:)47 b FZ(N)-63 b(N)2939 3465 y FX(?)q FP(nex)46
b FX(:)h FP(n)22 b FZ(=)3388 3480 y FL(N)3477 3465 y
FP(x)2958 3585 y FX(!)q FP(xen)g FX(=)g FP(nsym)f(x)h(nex)3176
3706 y FX(:)47 b FP(x)22 b FZ(=)3382 3721 y FL(N)3471
3706 y FP(n)2939 3826 y FX(?)q FP(mey)h FX(:)47 b FP(m)21
b FZ(=)3410 3841 y FL(N)3499 3826 y FP(y)p 3784 3887
V 2911 3890 876 4 v 357 4339 a F4(This)32 b(thesis)g(is)h(not)f(the)h
(place)h(for)f(a)g(discussion)f(of)h(uni\002cation)f(for)h(proof)g
(search\227there)h(is)357 4488 y(much)j(w)o(ork)h(on)g(this)f(in)h(the)
g(literature)g([Pym90)o(].)71 b(F)o(or)38 b(my)g(purposes,)i(something)
c(similar)357 4637 y(in)31 b(po)n(wer)g(to)h(\002rst-order)g
(uni\002cation)f(on)g(normalised)g(terms)g(will)g(pro)o(v)o(e)g
(adequate.)53 b(O)t F2(L)t(E)t(G)r F4(')-5 b(s)357 4787
y(e)o(xplicit)17 b(bindings)h(of)h(holes)g(and)g(assumptions,)f(and)h
(its)g(support)f(for)h(v)n(arious)f(operations)h(which)357
4936 y(permute)28 b(them,)g(suggest)f(that)h(Miller')-5
b(s)27 b(technology)g(for)i(uni\002cation)f(`under)g(a)h(mix)o(ed)e
(pre\002x')357 5086 y([Mil92)n(])f(could)e(be)h(imported)e(v)o(ery)i
(easily)-6 b(.)357 5295 y(Let)28 b(us)g(therefore)h(imagine)f(`b)n
(uying)f(in')i(a)f(pre-e)o(xisting)f(uni\002cation)h(tool)g(and)g(use)g
(it)g(to)g(dri)n(v)o(e)357 5445 y(the)c(tactic)h(sho)n(wn)f(belo)n(w)-6
b(.)2022 5667 y(41)p eop
%%Page: 42 47
42 46 bop 601 -21 a F0(unify)p 601 139 956 4 v 601 973
4 835 v 629 248 a FX(\001)629 490 y(?)p FP(y)p F3(\031)22
b FP(P)902 289 y Fz(2)902 469 y(4)987 369 y FX(!)p FP(x)1064
332 y FE(0)1087 369 y FX(=)g FP(s)28 b FX(:)g FP(S)968
489 y FX(?)p FP(x)48 b FX(:)e FP(T)1014 609 y(p)1412
289 y Fz(3)1412 469 y(5)p 7 setlinewidth np 684 821 25
135.00 315.00 arc st 7 setlinewidth np 719 803 18 180.00
360.00 arc st 7 setlinewidth np 773 803 35 180.00 360.00
arc st 7 setlinewidth np 818 830 28 251.56 341.56 arc
st 7 setlinewidth np 844 848 27 270.00 450.00 arc st
7 setlinewidth np 809 874 35 360.00 540.00 arc st 7 setlinewidth
np 755 874 18 360.00 540.00 arc st 7 setlinewidth np
710 874 27 360.00 540.00 arc st 7 setlinewidth np 675
857 19 63.43 243.43 arc st 1553 973 V 601 976 956 4 v
1584 581 a F3(\))p 1711 199 915 4 v 1711 913 4 715 v
1739 308 a FX(\001)1820 272 y FE(0)1739 490 y FX(?)q
FP(y)o F3(\031)23 b FP(P)1996 447 y FE(0)2036 349 y Fz(\024)2088
429 y FX(!)p FP(x)p FX(=)f FP(s)28 b FX(:)f FP(T)2115
549 y FX([)p FP(x)p FY(=)p FP(x)2291 513 y FE(0)2314
549 y FX(])p FP(p)2495 349 y Fz(\025)p 7 setlinewidth
np 1794 761 25 135.00 315.00 arc st 7 setlinewidth np
1830 743 18 180.00 360.00 arc st 7 setlinewidth np 1884
743 35 180.00 360.00 arc st 7 setlinewidth np 1928 770
28 251.56 341.56 arc st 7 setlinewidth np 1955 788 27
270.00 450.00 arc st 7 setlinewidth np 1919 814 35 360.00
540.00 arc st 7 setlinewidth np 1866 814 18 360.00 540.00
arc st 7 setlinewidth np 1821 814 27 360.00 540.00 arc
st 7 setlinewidth np 1785 796 19 63.43 243.43 arc st
2622 913 V 1711 916 915 4 v 601 1181 a FX(\001)50 b F3(v)g
FX(\001)940 1145 y FE(0)601 1302 y FX(\001)682 1266 y
FE(0)755 1302 y FC(\015)g FP(P)f F3(v)i FP(P)1176 1259
y FE(0)601 1431 y FX(\001)682 1395 y FE(0)705 1431 y
FX(;)755 1405 y(\026)749 1431 y FP(P)810 1375 y FE(0)883
1431 y F3(`)f FP(S)28 b F3(\026)g FP(T)357 1713 y F4(The)g(idea)g(is)f
(that)g F0(unify)i F4(solv)o(es)d(holes)i(until)e(enough)i(ne)n(w)f
FY(\016)t F4(-reductions)g(ha)n(v)o(e)h(been)g(added)g(to)357
1862 y(gi)n(v)o(e)23 b FP(S)28 b F3(\026)h FP(T)o F4(.)i(At)25
b(that)f(point,)g(the)h(desired)f FP(s)p F4(,)h(temporarily)f(stored)g
(in)g(a)i FX(!)p F4(-binding,)d(can)i(be)g(\002lled)357
2011 y(in)f(as)h(the)g(v)n(alue)f(for)h FP(x)p F4(.)357
2221 y(Note)e(that)f(there)h(is)g(nothing)f(to)g(stop)g
F0(unify)i F4(creating)f(ne)n(w)g(holes,)f(although)g(this)g(is)h
(unusual)f(for)357 2370 y(\002rst-order)29 b(algorithms.)42
b(Nor)29 b(do)g(I)h(require)f(the)g(uni\002cation)f(process)h(to)g
(terminate,)h(although)357 2520 y(this)24 b(sometimes)f(helps.)357
2729 y(W)-8 b(e)25 b(may)g(no)n(w)f(b)n(uild)g(a)h(tw)o(o-phase)g
(tactic)f(which)h(incorporates)f(uni\002cation)h(in)f(the)h
(re\002nement)357 2879 y(process.)601 3196 y F0(unify-r)n(e\002ne)692
3845 y F4(1.)p 815 3463 741 4 v 815 4177 4 715 v 843
3572 a FX(\001)843 3753 y(?)p FP(y)p F3(\031)e FP(P)1116
3613 y Fz(\024)1169 3692 y FX(?)p FP(x)p FX(:)f FP(T)1215
3813 y(p)1425 3613 y Fz(\025)p 7 setlinewidth np 898
4024 25 135.00 315.00 arc st 7 setlinewidth np 934 4006
18 180.00 360.00 arc st 7 setlinewidth np 988 4006 35
180.00 360.00 arc st 7 setlinewidth np 1032 4033 28 251.56
341.56 arc st 7 setlinewidth np 1059 4051 27 270.00 450.00
arc st 7 setlinewidth np 1023 4078 35 360.00 540.00 arc
st 7 setlinewidth np 970 4078 18 360.00 540.00 arc st
7 setlinewidth np 925 4078 27 360.00 540.00 arc st 7
setlinewidth np 889 4060 19 63.43 243.43 arc st 1552
4177 V 815 4180 741 4 v 1583 3845 a F3(\))p 1710 3336
1011 4 v 1710 4304 4 968 v 1739 3445 a FX(\001)1739 3753
y(?)p FP(y)o F3(\031)h FP(P)2012 3493 y Fz(2)2012 3669
y(6)2012 3728 y(6)2012 3792 y(4)2078 3578 y FX(?)2114
3571 y FY(~)2124 3578 y FP(z)54 b FX(:)2296 3552 y FY(~)2295
3578 y FP(R)2097 3699 y FX(!)p FP(x)2174 3663 y FE(0)2197
3699 y FX(=)22 b FP(f)2335 3692 y FY(~)2345 3699 y FP(z)28
b FX(:)g FP(S)2078 3819 y FX(?)p FP(x)48 b FX(:)e FP(T)2124
3939 y(p)2577 3493 y Fz(3)2577 3669 y(7)2577 3728 y(7)2577
3792 y(5)p 7 setlinewidth np 1793 4151 25 135.00 315.00
arc st 7 setlinewidth np 1829 4133 18 180.00 360.00 arc
st 7 setlinewidth np 1883 4133 35 180.00 360.00 arc st
7 setlinewidth np 1927 4160 28 251.56 341.56 arc st 7
setlinewidth np 1954 4178 27 270.00 450.00 arc st 7 setlinewidth
np 1918 4205 35 360.00 540.00 arc st 7 setlinewidth np
1865 4205 18 360.00 540.00 arc st 7 setlinewidth np 1820
4205 27 360.00 540.00 arc st 7 setlinewidth np 1785 4187
19 63.43 243.43 arc st 2718 4304 V 1710 4307 1011 4 v
815 4525 a FP(f)k FX(:)g F3(8)1015 4518 y FY(~)1025 4525
y FP(z)11 b FX(:)1119 4498 y FY(~)1118 4525 y FP(R)q
FY(:)22 b FP(S)692 4708 y F4(2.)48 b F0(unify)26 b FP(x)1111
4672 y FE(0)1160 4708 y F4(and)e FP(x)h F4(\(at)g(position)e
FP(P)p FX(;)17 b(?)2020 4701 y FY(~)2030 4708 y FP(z)28
b FX(:)2158 4681 y FY(~)2156 4708 y FP(R)q F4(\))357
5025 y(As)22 b(with)g F0(na)792 5024 y(\250)795 5025
y(\021v)o(e-r)n(e\002ne)p F4(,)j(it)e(is)f(not)g(necessary)i(to)e
(specify)h(ho)n(w)f(man)o(y)g(ar)n(guments)g FP(f)36
b F4(should)22 b(ha)n(v)o(e)357 5175 y(in)d(adv)n(ance.)29
b(Pro)o(vided)20 b(we)g(are)h(willing)d(to)i(w)o(ait)g(for)g(the)g
(uni\002cation)f(attempts,)h(we)g(may)g(simply)357 5324
y(start)j(with)h(none)g(and)g(k)o(eep)g(trying)f(successi)n(v)o(ely)f
(until)h(either)h(the)g(uni\002cation)g(succeeds)g(or)g(we)2022
5667 y(42)p eop
%%Page: 43 48
43 47 bop 357 -6 a F4(run)24 b(out)h(of)g F3(8)p F4(s.)30
b(This)24 b(is)h(e)o(xactly)f(the)h(beha)n(viour)f(of)j(L)t
F2(E)t(G)t(O)r F4(')-5 b(s)27 b(notorious)c(`)p FW(Refine)p
F4(')h(tactic.)3633 -42 y FS(5)357 204 y F4(An)33 b(alternati)n(v)o(e)g
(to)g(this)g(search)i(beha)n(viour)e(is)h(a)g(more)g(precise)g
(`drag-and-drop')g(technique.)357 353 y(W)-8 b(e)30 b(can)g(imagine)f
(a)h(mouse)f(action)g(picking)g(up)g(a)h(hypothesis)e(by)h(a)i(suf)n
(\002x)e(of)h(the)f(functional)357 503 y(part)e(of)h(its)f(type)g(and)g
(dropping)f(it)h(on)h(a)f(hole.)39 b(The)27 b(ar)n(guments)g(of)h(the)f
(hypothesis)e(before)j(the)357 652 y(point)23 b(we)j(selected)e(w)o
(ould)g(be)h(the)g(ones)f(made)h(holes)f(by)h F0(unify-r)n(e\002ne)p
F4(.)357 862 y(Perhaps)i(you)f(are)i(f)o(amiliar)e(with)g(the)h
(children')-5 b(s)26 b(to)o(y)g(which)g(consists)g(of)h(a)g(postbox)e
(with)h(v)n(ar)n(-)357 1011 y(ious)g(holes)g(of)h(dif)n(ferent)f
(shapes)g(in)h(the)f(top.)36 b(The)27 b(to)o(y)f(comes)h(with)f(a)h
(number)f(of)h(blocks,)f(and)357 1161 y(the)f(object)h(of)g(the)f(e)o
(x)o(ercise)h(is)f(to)g(post)g(each)i(block)e(through)g(the)g(correct)i
(hole.)33 b(In)26 b(order)g(to)g(do)357 1310 y(this,)h(the)g(child)g
(is)h(gi)n(v)o(en)e(a)i(re\002nement)g(tactic)f(which)g(tak)o(es)h(the)
f(form)h(of)f(a)h(blue)g(plastic)e(ham-)357 1459 y(mer)-5
b(.)29 b(There)24 b(is)e(an)h(initial)e(phase)i(where)g(the)g
(connection)f(between)h(the)g(shape)f(of)h(the)g(block)f(and)357
1609 y(the)31 b(shape)h(of)f(the)g(hole)h(has)f(not)g(yet)g(been)h
(made\227a)f(phase)h(characterised)g(by)f(violent)f(ham-)357
1758 y(mering)e(and)i(tantrums.)43 b(Ev)o(eryone)29 b(who)g(has)g(e)n
(v)o(er)g(learned)i(L)t F2(E)t(G)t(O)j F4(has)c(under)n(gone)f(a)g
(similar)357 1908 y(e)o(xperience.)357 2307 y FT(2.8)142
b(dischar)o(ge)34 b(and)h(other)f(permutations)357 2620
y F4(Let)39 b(me)f(complete)h(this)f(reconstruction)g(of)h(basic)f
(theorem-pro)o(ving)g(in)i(O)t F2(L)t(E)t(G)k F4(with)38
b(some)357 2769 y(more)29 b(technology)f(for)i(shuf)n(\003ing)f
(components)f(around.)44 b(It)30 b(is)f(f)o(airly)h(clear)g(that)f(we)h
(may)f(per)n(-)357 2919 y(mute)h(components)g(in)h(the)g(state)f(in)h
(an)o(y)g(w)o(ay)g(which)g(preserv)o(es)f(the)h(dependencies)g(between)
357 3068 y(them.)357 3278 y(Where)j(dependenc)o(y)e(does)h(arise,)j(we)
d(may)g(still)f(reorder)i(the)f(components,)h(b)n(ut)f(we)h(ha)n(v)o(e)
f(to)357 3427 y(account)19 b(for)i(it)e(by)g(introducing)g(appropriate)
g(functional)g(beha)n(viour)-5 b(.)28 b(In)20 b(particular)l(,)h(this)e
(allo)n(ws)357 3577 y(us)24 b(to)g F0(dischar)o(ge)h
F4(an)g(assumption)d(by)i(making)g(e)n(v)o(erything)e(which)i(follo)n
(ws)f(from)h(it)g(functional)357 3726 y(o)o(v)o(er)31
b(it.)54 b(L)t F2(E)t(G)t(O)37 b F4(implements)30 b(this)h
(transformation)g(by)h(its)f(`)p FW(Discharge)p F4(')g(tactic.)52
b(W)-8 b(e)33 b(may)357 3875 y(reconstruct)24 b(it)h(piece)n(wise)f(by)
g(the)h(four)g(manipulations)d(gi)n(v)o(en)i(in)g(table)h(2.9.)357
4085 y(Although)20 b(we)h(may)g(read)h(each)g(of)g(the)f(`four)h
(dischar)n(ges')f(as)g(pulling)f(the)i(binding)d(of)j
FP(x)f F4(through)357 4234 y(the)e(binding)f(of)h FP(y)p
F4(,)i(this)d(is)h(just)g(a)g(cinematic)g(illusion.)27
b(The)o(y)19 b(are,)i(of)e(course,)i(pro)o(v)o(en)d(by)h(creating)357
4384 y(an)27 b(earlier)h(binding)d(for)j FP(y)p F4(,)f(then)g(e)o
(xpressing)f(the)h(later)g(one)g(in)g(terms)g(of)g(it.)37
b(By)27 b(monotonicity)-6 b(,)357 4533 y(we)25 b(may)f(mak)o(e)h(the)g
(same)f(permutations)f(for)i FX(?)p F4(-components)f(as)h(we)g(can)g
(for)g FY(\025)p F4(-components.)357 4743 y(W)-8 b(e)38
b(may)g(also)g(mak)o(e)g(permutations)e(and)i(deletions)f(in)h(the)g
(ar)n(gument)g(types)f(of)h(functional)357 4892 y(holes,)22
b(so)h(long)f(as)h(we)h(do)e(not)h(break)g(an)o(y)g(dependencies.)29
b(See)24 b(table)f(2.10.)30 b(If)23 b(we)g(brack)o(et)h(such)357
5042 y(mo)o(v)o(es)h(with)h(raising)h(and)g(introduction,)e(we)j(can)f
(mak)o(e)g(similar)f(permutations)f(and)i(deletions)357
5191 y(in)d(ar)n(guments)g(which)h(ha)n(v)o(e)f(already)h(been)g
(introduced.)p 357 5281 1373 4 v 473 5342 a FR(5)508
5372 y FQ(L)t FS(E)t(G)t(O)e FQ(tries)f(quite)f(hard)f(to)h(k)o(eep)g
(going,)e(applying)h(weak)h(head-normalisation)c(at)22
b(each)f(step,)g(in)g(an)g(attempt)357 5472 y(to)f(re)n(v)o(eal)f(a)i
(fresh)f Fy(8)p FQ(-binding.)2022 5667 y F4(43)p eop
%%Page: 44 49
44 48 bop 698 282 2748 4 v 696 403 4 121 v 748 367 a
FY(\025)p F4(-)p F0(thr)n(ough)p F4(-)p FY(\025)p 2039
403 V 822 w(\025)p F4(-)p F0(thr)n(ough)p F4(-)p FX(!)p
3444 403 V 696 523 V 2039 523 V 3444 523 V 696 1182 4
659 v 748 587 307 4 v 748 1118 4 532 v 776 696 a(\001)776
816 y FY(\025)p FP(x)28 b FX(:)f FP(S)776 937 y FY(\025)p
FP(y)h FX(:)f FP(T)776 1057 y FX(\001)857 1021 y FE(0)p
1051 1118 V 748 1121 307 4 v 1082 877 a F3(\))p 1209
587 566 4 v 1209 1118 4 532 v 1238 696 a FX(\001)1238
816 y FY(\025)p FP(y)g FX(:)h F3(8)p FP(x)11 b FX(:)g
FP(S)q FY(:)22 b FP(T)1238 937 y FY(\025)p FP(x)27 b
FX(:)h FP(S)1238 1057 y FX([)p FP(y)22 b(x)p FY(=)p FP(y)o
FX(]\001)1593 1021 y FE(0)p 1772 1118 V 1209 1121 566
4 v 2039 1182 4 659 v 2090 587 408 4 v 2090 1118 4 532
v 2118 696 a FX(\001)2118 816 y FY(\025)p FP(x)28 b FX(:)g
FP(S)2118 937 y FX(!)p FP(y)g FX(=)f FP(t)12 b FX(:)f
FP(T)2118 1057 y FX(\001)2199 1021 y FE(0)p 2495 1118
V 2090 1121 408 4 v 2526 877 a F3(\))p 2653 527 631 4
v 2653 1178 4 652 v 2681 636 a FX(\001)2711 756 y(!)p
FP(y)p FX(=)22 b FY(\025)p FP(x)11 b FX(:)g FP(S)p FY(:)23
b FP(t)2812 876 y FX(:)47 b F3(8)p FP(x)11 b FX(:)g FP(S)q
FY(:)22 b FP(T)2681 997 y FY(\025)p FP(x)i FX(:)47 b
FP(S)2681 1117 y FX([)p FP(y)22 b(x)p FY(=)p FP(y)p FX(]\001)3037
1081 y FE(0)p 3281 1178 V 2653 1181 631 4 v 3444 1182
4 659 v 696 1302 4 121 v 2039 1302 V 3444 1302 V 698
1305 2748 4 v 696 1426 4 121 v 748 1390 a FX(!)p F4(-)p
F0(thr)n(ough)p F4(-)p FY(\025)p 2039 1426 V 852 w FX(!)p
F4(-)p F0(thr)n(ough)p F4(-)p FX(!)p 3444 1426 V 696
1546 V 2039 1546 V 3444 1546 V 696 2204 4 659 v 748 1610
408 4 v 748 2141 4 532 v 776 1719 a(\001)776 1839 y(!)p
FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)776 1959 y FY(\025)p
FP(y)28 b FX(:)f FP(T)776 2080 y FX(\001)857 2044 y FE(0)p
1153 2141 V 748 2144 408 4 v 1184 1900 a F3(\))p 1311
1610 680 4 v 1311 2141 4 532 v 1339 1719 a FX(\001)1339
1839 y FY(\025)p FP(y)h FX(:!)p FP(x)f FX(=)h FP(s)11
b FX(:)g FP(S)p FY(:)22 b FP(T)1339 1959 y FX(!)p FP(x)28
b FX(=)f FP(s)11 b FX(:)g FP(S)1339 2080 y FX(\001)1420
2044 y FE(0)p 1987 2141 V 1311 2144 680 4 v 2039 2204
4 659 v 2090 1610 408 4 v 2090 2141 4 532 v 2118 1719
a FX(\001)2118 1839 y(!)p FP(x)28 b FX(=)f FP(s)11 b
FX(:)g FP(S)2118 1959 y FX(!)p FP(y)28 b FX(=)f FP(t)12
b FX(:)f FP(T)2118 2080 y FX(\001)2199 2044 y FE(0)p
2495 2141 V 2090 2144 408 4 v 2526 1900 a F3(\))p 2653
1549 743 4 v 2653 2201 4 652 v 2681 1659 a FX(\001)2681
1779 y(!)p FP(y)p FX(=)22 b(!)p FP(x)28 b FX(=)f FP(s)11
b FX(:)g FP(S)q FY(:)22 b FP(t)2783 1899 y FX(:)46 b(!)p
FP(x)28 b FX(=)f FP(s)11 b FX(:)g FP(S)q FY(:)22 b FP(T)2681
2020 y FX(!)p FP(x)p FX(=)g FP(s)28 b FX(:)f FP(S)2681
2140 y FX(\001)2762 2104 y FE(0)p 3393 2201 V 2653 2204
743 4 v 3444 2204 4 659 v 696 2325 4 121 v 2039 2325
V 3444 2325 V 698 2328 2748 4 v 1480 2595 a F4(T)-8 b(able)25
b(2.9:)30 b(the)25 b(four)g(dischar)n(ges)p 520 3472
3105 4 v 518 3592 4 121 v 570 3556 a F0(swap-independent)p
2183 3592 V 893 w(delete-unused)p 3622 3592 V 518 3712
V 2183 3712 V 3622 3712 V 518 4567 4 855 v 570 3776 504
4 v 570 4503 4 728 v 7 setlinewidth np 653 3856 25 135.00
315.00 arc st 7 setlinewidth np 688 3839 18 180.00 360.00
arc st 7 setlinewidth np 742 3839 35 180.00 360.00 arc
st 7 setlinewidth np 787 3865 28 251.56 341.56 arc st
7 setlinewidth np 813 3883 27 270.00 450.00 arc st 7
setlinewidth np 778 3910 35 360.00 540.00 arc st 7 setlinewidth
np 724 3910 18 360.00 540.00 arc st 7 setlinewidth np
679 3910 27 360.00 540.00 arc st 7 setlinewidth np 644
3892 19 63.43 243.43 arc st 598 4081 a FX(?)p FJ(f)p
FX(:)d F3(8)773 4074 y FY(~)780 4081 y FP(x)p FX(:)874
4055 y FY(~)879 4081 y FP(S)724 4202 y F3(8)q FP(y)p
FX(:)g FP(Y)724 4322 y F3(8)q FP(z)6 b FX(:)22 b FP(Z)780
4442 y(T)p 1070 4503 V 570 4506 504 4 v 1101 4165 a F3(\))p
1228 3716 908 4 v 1228 4564 4 849 v 7 setlinewidth np
1311 3796 25 135.00 315.00 arc st 7 setlinewidth np 1347
3778 18 180.00 360.00 arc st 7 setlinewidth np 1400 3778
35 180.00 360.00 arc st 7 setlinewidth np 1445 3805 28
251.56 341.56 arc st 7 setlinewidth np 1472 3823 27 270.00
450.00 arc st 7 setlinewidth np 1436 3849 35 360.00 540.00
arc st 7 setlinewidth np 1383 3849 18 360.00 540.00 arc
st 7 setlinewidth np 1338 3849 27 360.00 540.00 arc st
7 setlinewidth np 1302 3832 19 63.43 243.43 arc st 1256
4021 a FX(?)p FJ(f)1334 3973 y FE(0)1381 4021 y FX(:)47
b F3(8)1503 4014 y FY(~)1510 4021 y FP(x)p FX(:)1605
3994 y FY(~)1609 4021 y FP(S)1455 4141 y F3(8)p FP(z)6
b FX(:)22 b FP(Z)1455 4261 y F3(8)p FP(y)p FX(:)g FP(Y)1510
4382 y(T)1275 4503 y FX(!)p FJ(f)i FX(=)e FY(\025)1505
4496 y(~)1512 4503 y FP(x)p FY(;)17 b FP(y)o FY(;)g FP(z)p
FY(:)22 b FJ(f)1824 4455 y FE(0)1862 4496 y FY(~)1869
4503 y FP(x)g(z)g(y)p 2132 4564 V 1228 4567 908 4 v 2183
4567 4 855 v 2235 3836 504 4 v 2235 4443 4 607 v 7 setlinewidth
np 2318 3917 25 135.00 315.00 arc st 7 setlinewidth np
2354 3899 18 180.00 360.00 arc st 7 setlinewidth np 2407
3899 35 180.00 360.00 arc st 7 setlinewidth np 2452 3925
28 251.56 341.56 arc st 7 setlinewidth np 2479 3943 27
270.00 450.00 arc st 7 setlinewidth np 2443 3970 35 360.00
540.00 arc st 7 setlinewidth np 2389 3970 18 360.00 540.00
arc st 7 setlinewidth np 2345 3970 27 360.00 540.00 arc
st 7 setlinewidth np 2309 3952 19 63.43 243.43 arc st
2263 4141 a FX(?)p FJ(f)p FX(:)h F3(8)2438 4134 y FY(~)2445
4141 y FP(x)p FX(:)2540 4115 y FY(~)2544 4141 y FP(S)2390
4262 y F3(8)p FP(y)p FX(:)f FP(Y)2445 4382 y(T)p 2735
4443 V 2235 4446 504 4 v 2766 4165 a F3(\))p 2893 3836
681 4 v 2893 4444 4 608 v 7 setlinewidth np 2976 3916
25 135.00 315.00 arc st 7 setlinewidth np 3012 3898 18
180.00 360.00 arc st 7 setlinewidth np 3066 3898 35 180.00
360.00 arc st 7 setlinewidth np 3110 3925 28 251.56 341.56
arc st 7 setlinewidth np 3137 3943 27 270.00 450.00 arc
st 7 setlinewidth np 3101 3970 35 360.00 540.00 arc st
7 setlinewidth np 3048 3970 18 360.00 540.00 arc st 7
setlinewidth np 3003 3970 27 360.00 540.00 arc st 7 setlinewidth
np 2968 3952 19 63.43 243.43 arc st 2922 4141 a FX(?)p
FJ(f)2999 4093 y FE(0)3047 4141 y FX(:)46 b F3(8)3168
4134 y FY(~)3176 4141 y FP(x)o FX(:)3270 4115 y FY(~)3275
4141 y FP(S)3176 4261 y(T)2941 4382 y FX(!)p FJ(f)23
b FX(=)f FY(\025)3170 4375 y(~)3177 4382 y FP(x)p FY(;)17
b FP(y)o FY(:)23 b FJ(f)3401 4334 y FE(0)3439 4375 y
FY(~)3446 4382 y FP(x)p 3571 4444 V 2893 4447 681 4 v
3622 4567 4 855 v 518 4688 4 121 v 2183 4688 V 3622 4688
V 518 4808 V 570 4772 a(y)k F3(62)h FP(Z)p 2183 4808
V 1428 w(y)f F3(62)h FP(T)p 3622 4808 V 520 4811 3105
4 v 1152 5078 a F4(T)-8 b(able)25 b(2.10:)30 b(permuting)24
b(and)g(deleting)g(ar)n(guments)2022 5667 y(44)p eop
%%Page: 45 50
45 49 bop 357 -6 a FT(2.9)142 b(systems)34 b(with)h(explicit)f
(substitution)357 307 y F4(No)n(w)39 b(seems)g(a)h(good)f(time)g(to)h
(compare)h(O)t F2(L)t(E)t(G)r F4(')-5 b(s)42 b(treatment)d(of)h(holes)f
(with)g(that)h(of)f(other)357 456 y(systems.)357 666
y(The)27 b(k)o(e)o(y)g(issue)g(is)g(ho)n(w)f(to)h(cope)h(with)f(holes)f
(leaking)h(out)g(of)h(the)f(scope)g(of)h(their)f(e)o(xplanation.)359
815 y(L)t F2(E)t(G)t(O)g F4(ignores)c(this)f(issue)h(and)g(reaps)g(the)
g(consequent)g(frightful)f(harv)o(est\227although)f(instanti-)357
965 y(ations)k(are)h(typecheck)o(ed,)g(the)o(y)f(may)h(in)l(v)n(olv)o
(e)e(out-of-scope)i(v)n(alues)f(which)g(are)i(only)e(detected)357
1114 y(once)34 b(the)g(completed)g(`proof)5 b(')35 b(is)f(being)g(v)o
(eri\002ed.)61 b(O)t F2(L)t(E)t(G)39 b F4(deals)34 b(with)g(the)g
(problem)g(by)g(for)n(-)357 1264 y(bidding)25 b(it\227a)h(hole)g(may)g
(not)g(escape)h(its)f(scope,)h(b)n(ut)f(its)f(scope)i(may)f(be)h
(widened)f(by)g(raising,)357 1413 y(k)o(eeping)e(the)h(dependenc)o(y)f
(information)f(e)o(xplicit)h(and)g(intact.)357 1623 y(The)37
b(real)h(comparison)e(lies)h(with)f(systems)g(which)h(treat)h(this)e
(problem)h(via)g(e)o(xplicit)f(substi-)357 1772 y(tution,)j(such)e(as)g
(T)-8 b(ypeLab)37 b([vHLS98])h(and)f(ALF)h([Mag94)o(].)69
b(Holes)37 b(appear)g(in)g(the)h(calculi)357 1921 y(underlying)30
b(both)i(systems)e(without)h(e)o(xplicit)f(binding.)51
b(Instead,)33 b(the)f(conte)o(xt)f(and)g(type)h(of)g(a)357
2071 y(hole)f(are)i(recorded)g(in)e(an)i(e)o(xternal)e(ledger)-5
b(.)52 b(By)32 b(good)g(design,)h(this)e(conte)o(xt)g(coincides)g(with)
357 2220 y(the)21 b(collection)g(of)h(bound)f(v)n(ariables)g(under)g
(which)h(the)f(hole)h(mak)o(es)f(its)g(initial)f(appearance,)k(b)n(ut)
357 2370 y(computation)i(may)h(destro)o(y)h(this)e(coincidence,)j(so)e
(e)o(xplicit)g(substitution)e(is)i(required)h(to)g(\002x)g(it)357
2519 y(up.)357 2729 y([vHLS98])f(illustrates)g(this)f(with)h(a)h
(simple)e(e)o(xample.)39 b(Suppose)27 b FX(?)h F4(is)f(de\002ned)h(to)f
(ha)n(v)o(e)g(type)g FY(T)357 2878 y F4(in)d(conte)o(xt)g
FY(x)k FX(:)g FY(T)14 b F4(.)30 b(That)25 b(is,)f(its)g(ledger)h(entry)
g(is)f FY(x)k FX(:)g FY(T)41 b F3(`)p FX(?)28 b(:)g FY(T)14
b F4(.)30 b(No)n(w)24 b(consider)h(the)f(term)601 3171
y FX(\()p FY(\025x)k FX(:)f FY(T)8 b(:)p FX(?\))23 b
FY(t)357 3463 y F4(W)-8 b(e)29 b(are)g(told)f(that)g(the)g
FY(\025)p F4(-abstracted)h FY(x)g F4(is)f(`the)g(same)h(object')f(as)h
(the)f FY(x)h F4(in)f(the)h(ledger)-5 b(.)41 b(On)28
b(the)357 3612 y(one)k(hand,)h(we)g(may)f(instantiate)f
FX(?)h F4(with)f FY(x)i F4(and)f FY(\014)6 b F4(-reduce)33
b(to)e(get)h FY(t)p F4(.)53 b(On)32 b(the)g(other)l(,)i(we)f(may)357
3762 y FY(\014)6 b F4(-reduce)29 b(to)g(get)f FX(?)i
F4(which)e(we)h(can)h(then)e(instantiate)g(with)g FY(x)p
F4(.)44 b(The)29 b(tw)o(o)f(do)h(not)f(commute,)h(as)357
3911 y(the)o(y)24 b(sho)n(w)f(in)i(this)f(diagram:)1402
4169 y F3(f)p FX(?)k(:=)f FY(x)p F3(g)601 4289 y FX(\()p
FY(\025x)h FX(:)f FY(T)8 b(:)p FX(?\))23 b FY(t)p 1192
4286 806 7 v 1915 4283 a Fx(-)2097 4289 y FX(\()p FY(\025x)28
b FX(:)f FY(T)8 b(:x)p FX(\))23 b FY(t)764 4602 y(\014)p
827 4828 7 504 v 831 4828 a Fx(?)p 2328 4828 V 1418 w(?)2344
4602 y FY(\014)907 4913 y FX(?)p 1073 4910 454 7 v 1444
4907 a Fx(-)1626 4913 y FY(x)636 b(t)1167 5033 y F3(f)p
FX(?)27 b(:=)h FY(x)p F3(g)357 5290 y F4(The)22 b(trouble)f(is)h(that)g
(performing)f(the)h FY(\014)6 b F4(-reduction)22 b(\002rst)g
(introduces)f(a)i(discrepanc)o(y\227the)e(term)357 5439
y(no)37 b(longer)g(contains)g(a)h(binding)e(occurrence)i(of)g
FY(x)g F4(corresponding)e(to)h(the)h FY(x)g F4(in)f(the)g(ledger)l(,)
2022 5667 y(45)p eop
%%Page: 46 51
46 50 bop 357 -6 a F4(hence)22 b(the)g(subsequent)e(instantiation)g(is)
h(a)h(touch)g(anachronistic.)29 b(In)21 b(f)o(act,)i(the)f
(substitution)d(im-)357 144 y(plicit)i(in)i(the)f FY(\014)6
b F4(-reduction)22 b(has)h(passed)f(through)g FX(?)h
F4(without)e(stopping)g(to)i(consider)f(the)h(f)o(act)g(that)357
293 y(some)i FY(x)p F4(')-5 b(s)26 b(might)f(appear)i(when)f(it)g(is)g
(instantiated,)f(hence)h(the)g(solution)f(is)g(to)h(delay)g(e)o
(xplicitly)357 443 y(the)33 b(application)e(of)i(the)g(substitution)d
(to)j FX(?)p F4(.)56 b(When)33 b FX(?)g F4(is)f(instantiated,)i(the)f
(substitution)d(may)357 592 y(proceed.)g(That)23 b(is,)g(we)g(repair)h
(the)f(leak)g(in)g(scope)g(by)f(attaching)h(an)g(e)o(xplicit)f
(substitution)e(to)i(the)357 742 y(hole:)1415 978 y F3(f)p
FX(?)27 b(:=)h FY(x)p F3(g)601 1099 y FX(\()p FY(\025x)g
FX(:)f FY(T)8 b(:)p FX(?\))23 b FY(t)p 1192 1096 806
7 v 1915 1093 a Fx(-)2122 1099 y FX(\()p FY(\025x)28
b FX(:)f FY(T)8 b(:x)p FX(\))23 b FY(t)764 1412 y(\014)p
827 1638 7 504 v 831 1638 a Fx(?)p 2353 1638 V 1443 w(?)2369
1412 y FY(\014)659 1723 y FX(?[)p FY(x)28 b FX(:=)g FY(t)p
FX(])p 1192 1720 806 7 v 1915 1717 a Fx(-)2342 1723 y
FY(t)1415 1843 y F3(f)p FX(?)f(:=)h FY(x)p F3(g)357 2105
y F4(The)34 b(e)o(xtra)g FX([)p FY(x)45 b FX(:=)g FY(t)p
FX(])35 b F4(is)e(really)h(a)h(kind)e(of)h(binding)f(which)h(maintains)
f(consistenc)o(y)f(with)h(the)357 2255 y(ledger)l(,)h(so)e(that)g
FX(?)h F4(remains)f(a)h(`function')f(of)g FY(x)p F4(.)55
b(That)32 b(is,)i(the)e(problem)g(remains)g(`think)f(of)i(a)357
2404 y FY(T)41 b F3(!)27 b FY(T)39 b F4(function',)24
b(and)h(the)f(v)n(alue)h(remains)f(`whate)n(v)o(er)n(-it-is)f(applied)i
(to)f FY(t)p F4('.)357 2614 y(The)35 b(O)t F2(L)t(E)t(G)k
F4(approach)33 b(to)h(this)e(problem)h(is)g(total)g(co)n(w)o
(ardice\227since)g(such)g(situations)f(cause)357 2763
y(trouble,)24 b(the)o(y)g(are)i(forbidden.)k(In)25 b(particular)l(,)g
(we)g(may)g(not)f(bind)g(holes)g(inside)g(an)i(application,)357
2912 y(so)e(there)h(is)g(no)f(relationship)f(with)h FY(\014)6
b F4(-reduction)24 b(to)h(untangle.)357 3122 y(W)-8 b(e)37
b(can,)k(of)c(course,)j(ha)n(v)o(e)d(the)g(state)g(sho)n(wn)f(on)g(the)
h(right.)67 b(Ho)n(we)n(v)o(er)l(,)357 3271 y(the)33
b(guess)g(for)g FJ(f)h F4(has)f(no)g(computational)f(force.)57
b(W)-8 b(e)34 b(cannot)f(reduce)h FJ(f)29 b FP(t)357
3421 y F4(unless)35 b(we)h(widen)g FJ(f)p F4(')-5 b(s)36
b(scope)g(by)g(raising)f(and)h(retreating,)j(undoing)c(the)357
3570 y(introduction)d(of)j(the)f FY(\025)h F4(and)f(lea)n(ving)g(us)g
(with)g(an)g(e)o(xplicitly)f(functional)357 3720 y(hole.)p
3175 3013 613 4 v 3175 3664 4 652 v 3228 3122 a FY(\025)p
FP(t)25 b FX(:)48 b FP(T)3239 3242 y FX(?)p FJ(f)r F3(\031)23
b FY(\025)p FP(x)o FX(:)g FP(T)3428 3363 y FX(?)q FP(y)o
FX(:)g FP(T)3475 3483 y(y)3285 3603 y FJ(f)f FP(t)p 3784
3664 V 3175 3667 613 4 v 357 3857 a F4(Is)27 b(this)e(an)i(unbearable)h
(restriction?)36 b(I)27 b(can)g(assure)g(you)f(that)h(it)f(will)g(gi)n
(v)o(e)g(us)g(no)h(trouble)f(in)g(the)357 4007 y(course)33
b(of)g(this)g(thesis.)54 b(The)34 b(point)e(is)g(that)j(O)t
F2(L)t(E)t(G)j F4(of)n(fers)33 b(a)h(genuine)e(compromise)g(between)357
4156 y(the)24 b(ingenuity)f(of)h(e)o(xplicit)f(substitution)f(and)i
(the)g(pain)g(of)g(representing)g(holes)g(as,)h(say)-6
b(,)23 b(sk)o(olem)357 4305 y(functions)f(o)o(v)o(er)h(the)h(entire)g
(conte)o(xt\227holes)d(need)j(only)f(be)h(k)o(ept)g(functional)e(as)i
(f)o(ar)h(as)f(the)o(y)f(are)357 4455 y(used)h(computationally)-6
b(.)357 4854 y FT(2.10)142 b(sequences,)34 b(telescopes,)f(families,)h
(triangles)357 5167 y F4(Finally)-6 b(,)30 b(for)g(this)f(chapter)l(,)j
(let)e(me)g(digress)f(for)h(a)h(moment)e(to)g(introduce)h(an)g
(important)e(nota-)357 5316 y(tional)h(con)l(v)o(enience)i(which)f
(will)g(serv)o(e)g(both)g(to)h(abbre)n(viate)f(and)h(clarify)f(what)h
(follo)n(ws.)47 b(W)-8 b(e)357 5466 y(will)32 b(frequently)g(encounter)
h(sequences)g(of)f(terms,)j(often)d(as)h(ar)n(guments)f(to)h(functions)
f(or)h(in-)2022 5667 y(46)p eop
%%Page: 47 52
47 51 bop 357 -6 a F4(dices)24 b(of)h(type)g(f)o(amilies.)k(I)d(wish)e
(to)g(a)n(v)n(oid)g(the)h(traditional)e FP(t)2497 9 y
FM(1)2553 -6 y FY(:)17 b(:)g(:)f FP(t)2717 9 y FL(n)2789
-6 y F4(for)25 b(a)g(number)f(of)h(reasons:)502 287 y
F3(\017)49 b F4(it')-5 b(s)23 b(too)i(wide)502 519 y
F3(\017)49 b F4(it)24 b(introduces)g(a)h(subscript)f(which)g(is)g
(frequently)h(irrele)n(v)n(ant)502 752 y F3(\017)49 b
F4(our)40 b(binding)e(syntax)i(in)l(v)n(olv)o(es)e(signi\002cant)i
(dots\227thro)n(wing)d(more)j(dots)g(around)g(\(in)601
901 y(threes,)24 b(no)h(less\))f(can)i(only)e(cause)h(confusion)357
1194 y(F)o(orswear)38 b(therefore)g(the)g(pointillist)c(sequence)k(in)g
(f)o(a)n(v)n(our)f(of)h(de)g(Bruijn')-5 b(s)37 b F0(telescope)h
F4(nota-)357 1343 y(tion)27 b([deB91].)40 b(A)28 b(sequence)1409
1322 y FY(~)1424 1343 y FP(t)q F4(,)g(indicates)f(a)i(\002nite,)f
(perhaps)g(empty)f(sequence)h(of)g(terms,)g(and,)357
1493 y(follo)n(wing)35 b(that)i(primiti)n(v)o(e)d(monoidal)i(ur)n(ge,)k
(we)e(ha)n(v)o(e)f(composition)d(operator)k FX(;)f F4(and)g(empty)357
1642 y(sequence)25 b FY(")p F4(.)357 1852 y(de)g(Bruijn)g(e)o(xplains)f
(ho)n(w)g(to)h(gi)n(v)o(e)f(such)h(a)g(sequence)h(a)f(`type'.)32
b(In)25 b(a)h(simply)d(typed)i(setting,)f(we)357 2001
y(could)j(just)h(write)1010 1975 y FY(~)1012 2001 y FP(T)p
F4(,)h(b)n(ut)f(things)e(are)k(a)e(little)f(more)h(complicated)g(for)g
(us:)37 b(in)28 b(our)g(dependently)357 2150 y(typed)20
b(w)o(orld,)h(the)f(v)n(alues)g(of)h(earlier)g(terms)f(in)g(a)h
(sequence)g(can)g(af)n(fect)g(the)f(types)g(of)h(later)g(terms.)357
2300 y(W)-8 b(e)20 b(cannot)f(af)n(ford)g(to)g(lose)g(this)g(dependenc)
o(y)g(information,)g(hence)h(we)f(must)g(incorporate)g(some)357
2449 y(kind)24 b(of)h(placeholder)f(into)g(the)h(type)f(sequence)h
(notation.)359 2659 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(telescope)601 2951 y F4(If)23 b FI(V)f F4(is)g(a)h(set)g
(of)g(v)n(ariables)f(not)g(containing)f FP(x)2195 2966
y FM(1)2251 2951 y FY(:)c(:)g(:)f FP(x)2432 2966 y FL(n)2479
2951 y F4(,)23 b(and)g FP(T)2755 2966 y FL(i)2810 2951
y F3(2)28 b FI(T)2954 2988 y(V)p FE([f)p FK(x)3134 2997
y Fw(1)3168 2988 y FL(:::)o FK(x)3260 2998 y Fv(i)p FA(\000)p
Fw(1)3365 2988 y FE(g)3427 2951 y F4(for)601 3110 y FX(1)j
F3(\024)h FY(i)f F3(\024)h FY(n)p F4(,)c(then)1270 3084
y FY(~)1272 3110 y FP(T)f F4(is)f(an)1567 3107 y FY(~)1574
3110 y Fu(x)p F0(-telescope)i F4(\(where)2362 3103 y
FY(~)2369 3110 y FP(x)f F4(abbre)n(viates)f FP(x)2974
3125 y FM(1)3013 3110 y FX(;)17 b FY(:)g(:)g(:)f FP(x)3238
3125 y FL(n)3312 3110 y F4(and)3481 3084 y FY(~)3482
3110 y FP(T)601 3260 y F4(abbre)n(viates)24 b FP(T)1138
3275 y FM(1)1177 3260 y FX(;)17 b FY(:)g(:)g(:)f FP(T)1413
3275 y FL(n)1460 3260 y F4(\).)601 3451 y(That)26 b(is,)g(we)g
(de\002ne)h(a)g(sequence)f(of)h(types)e(relati)n(v)o(e)g(to)h(a)h
(sequence)f(of)h(identi\002ers)601 3600 y(which)j(become)h(bound)e(in)i
(turn)f(and)h(stand)f(as)h(placeholders)f(for)h(earlier)g(v)n(alues)601
3750 y(in)24 b(later)h(types.)357 4042 y(F)o(or)f(e)o(xample,)g(the)
1044 4035 y FY(~)1051 4042 y FP(x)p F4(-telescope)670
4299 y FP(x)720 4314 y FM(1)1037 4299 y FP(x)1087 4314
y FM(2)1517 4299 y FP(x)1566 4314 y FM(3)601 4376 y Fz(z}|{)607
4466 y FI(Type)j FX(;)851 4380 y Fz(z)p 896 4380 117
12 v 117 w(}|)p 1103 4380 V 117 w({)851 4466 y FP(x)901
4481 y FM(1)968 4466 y F3(!)g FI(Prop)22 b FX(;)1334
4372 y Fz(z)p 1379 4372 138 12 v 138 w(}|)p 1607 4372
V 138 w({)1334 4466 y F3(8)p FP(y)11 b FX(:)g FP(x)1538
4481 y FM(1)1578 4466 y FY(:)22 b FP(x)1677 4481 y FM(2)1739
4466 y FP(y)357 4722 y F4(represents)i(a)g(triple)f(of,)h(respecti)n(v)
o(ely)-6 b(,)22 b(a)j(type)e FP(x)2053 4737 y FM(1)2092
4722 y F4(,)h(a)h(predicate)f FP(x)2649 4737 y FM(2)2712
4722 y F4(o)o(v)o(er)f FP(x)2960 4737 y FM(1)2999 4722
y F4(,)i(and)e(a)i(proof)f FP(x)3574 4737 y FM(3)3638
4722 y F4(that)357 4871 y(all)g(elements)g(of)h FP(x)1018
4886 y FM(1)1082 4871 y F4(satisfy)f FP(x)1417 4886 y
FM(2)1457 4871 y F4(.)357 5081 y(W)-8 b(e)29 b(may)g(no)n(w)g(e)o
(xploit)f(telescopes)g(in)h(all)g(sorts)g(of)g(circumstances.)44
b(F)o(or)29 b(e)o(xample,)h(if)3505 5054 y FY(~)3507
5081 y FP(T)f F4(is)g(an)350 5223 y FY(~)357 5230 y FP(x)p
F4(-telescope,)24 b(the)h(judgment)e FX(\000)50 b F3(`)1614
5208 y FY(~)1630 5230 y FP(t)g FX(:)1788 5204 y FY(~)1789
5230 y FP(T)25 b F4(abbre)n(viates)f(the)h(conjunction)e(of)i(the)g
(judgments)2022 5667 y(47)p eop
%%Page: 48 53
48 52 bop 601 -6 a FX(\000)49 b F3(`)h FP(t)855 9 y FM(1)944
-6 y FX(:)g FP(T)1085 9 y FM(1)601 144 y FX(\000)f F3(`)h
FP(t)855 159 y FM(2)944 144 y FX(:)g([)p FP(t)1082 159
y FM(1)1121 144 y FY(=)p FP(x)1220 159 y FM(1)1259 144
y FX(])p FP(T)1349 159 y FM(2)601 237 y F4(.)601 270
y(.)601 303 y(.)601 453 y FX(\000)f F3(`)h FP(t)855 468
y FL(n)952 453 y FX(:)g([)p FP(t)1089 468 y FL(n)p FE(\000)p
FM(1)1226 453 y FY(=)p FP(x)1325 468 y FL(n)p FE(\000)p
FM(1)1462 453 y FX(])17 b FY(:)g(:)g(:)f FX([)p FP(t)1697
468 y FM(1)1737 453 y FY(=)p FP(x)1835 468 y FM(1)1875
453 y FX(])p FP(T)1965 468 y FL(n)357 743 y F4(Further)l(,)24
b(the)f(binding)f FY(\025)1218 736 y(~)1225 743 y FP(y)27
b FX(:)1355 717 y FY(~)1357 743 y FP(T)c F4(abbre)n(viates)f(the)i
(sequence)f(of)g FY(n)h(\025)p F4(-bindings)e(gi)n(ving)f
FP(y)3419 774 y FL(i)3471 743 y F4(the)i(type)357 892
y FP(T)420 907 y FL(i)473 892 y F4(with)h FP(y)p F4(')-5
b(s)23 b(for)i(the)g FP(x)p F4(')-5 b(s,)24 b(while)g
FX(!)1535 885 y FY(~)1542 892 y FP(y)j FX(=)1707 871
y FY(~)1723 892 y FP(t)11 b FX(:)1803 866 y FY(~)1805
892 y FP(T)25 b F4(abbre)n(viates)e(the)i(corresponding)e
FY(n)i FX(!)p F4(-bindings,)e(and)357 1042 y(similarly)g(for)i(the)g
(other)f(binding)g(operators.)357 1251 y(W)-8 b(e)39
b(may)f(thus)g(speak)h(of)g(a)g(sequence)g(of)f(bound)g(v)n(ariables)g
(as)h(ha)n(ving)f(a)h(telescope)g(where)357 1400 y(we)e(w)o(ould)g
(speak)h(of)f(a)h(single)f(bound)f(v)n(ariable)h(as)h(ha)n(ving)f(a)h
(type.)68 b(I)38 b(shall)f(glibly)f(omit)g(a)357 1550
y(telescope')-5 b(s)19 b(placeholding)g(v)n(ariables,)i(unless)e(the)o
(y)g(are)i(necessary)g(to)f(a)n(v)n(oid)f(ambiguity)-6
b(.)27 b(When)357 1699 y(essential)h(for)h(clarity)-6
b(,)29 b(I)g(shall)f(attach)h(the)f(placeholder)h(v)n(ariables)f(to)h
(the)f(types)h(in)f(situ,)h(rather)357 1849 y(than)24
b(naming)g(them)g(beforehand,)h(making)f(the)g(abo)o(v)o(e)g(e)o
(xample)601 2139 y FP(x)650 2154 y FM(1)717 2139 y FX(:)k
FI(Type)p FX(;)17 b FP(x)1033 2154 y FM(2)1100 2139 y
FX(:)28 b FP(x)1205 2154 y FM(1)1272 2139 y F3(!)f FI(Type)p
FX(;)17 b FP(x)1660 2154 y FM(3)1727 2139 y FX(:)28 b
F3(8)p FP(y)11 b FX(:)g FP(x)1986 2154 y FM(1)2026 2139
y FY(:)22 b FP(x)2125 2154 y FM(2)2186 2139 y FP(y)357
2428 y F4(The)35 b(term)g(`telescope')g(comes)g(from)g(its)f
(notation-shrinking)f(po)n(wer)l(,)k(inspired)d(by)h(the)g(kind)357
2578 y(of)30 b(collapsible)e(telescope)i(that)g(Horatio)f(Nelson)g
(once)h(f)o(amously)f(put)g(to)h(his)f(blind)g(e)o(ye.)46
b(It)30 b(is)357 2727 y(a)k(more)g(appropriate)f(metaphor)g(for)h
(abbre)n(viating)f(a)h(dependent)f(type)h(sequence)g(than)f(other)357
2877 y(collapsible)26 b(structures)h(such)g(as)h(accordions)f(or)h
(opera)g(hats)f(because)h(each)g(of)g(the)f(concentric)357
3026 y(c)o(ylinders)c(which)h(mak)o(es)h(up)f(the)h(telescope)f(has)h
(a)g(lip)f(which)g(constrains)g(the)g(ne)o(xt)g(\(and)h(hence)357
3176 y(all)f(the)h(follo)n(wing)e(c)o(ylinders\).)357
3385 y(The)32 b(optical)g(beha)n(viour)f(of)i(telescopes)e(is)h
(helpful)g(also.)53 b(Broadly)32 b(speaking,)h(the)f(longer)g(an)357
3535 y(optical)25 b(telescope,)h(the)f(smaller)g(the)h(\002eld)g(of)g
(vie)n(w)f(and)h(the)g(greater)g(the)g(magni\002cation.)32
b(Sim-)357 3684 y(ilarly)-6 b(,)31 b(as)g(you)g(e)o(xtend)f(a)h(type)g
(telescope,)h(each)g(ne)n(w)f(type)f(acts)h(as)g(a)h(ne)n(w)e
(constraint,)i(so)e(the)357 3833 y(collection)23 b(of)i(inhabiting)d
(sequences)j(`visible)e(through)g(the)i(telescope')f(becomes)g(smaller)
g(b)n(ut)357 3983 y(more)g(informati)n(v)o(e.)1074 3947
y FS(6)357 4192 y F4(There)30 b(is)e(another)i(sense)f(in)g(which)g
(type)g(telescopes)g(are)h(collapsible\227if)e(we)h(instantiate)f(the)
357 4342 y(\002rst)d(placeholder)l(,)f(we)h(acquire)g(a)h(more)e
(speci\002c)h(telescope)g(shorter)g(by)f(one.)359 4551
y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35 b F0(telescope)26
b(application)601 4841 y F4(If)690 4815 y FY(~)692 4841
y FP(T)f F4(is)f(the)h FP(x)1065 4856 y FM(1)p FL(:::n)1206
4841 y F4(-telescope)g FP(T)1699 4856 y FM(1)1738 4841
y FX(;)17 b FP(T)1845 4856 y FM(2)1884 4841 y FX(;)g
FY(:)g(:)g(:)f FP(T)2122 4856 y FL(n)2194 4841 y F4(and)25
b FP(t)j FX(:)g FP(T)2542 4856 y FM(1)2581 4841 y F4(,)d(then)g(the)f
F0(application)814 5046 y FY(~)815 5073 y FP(T)e(t)601
5304 y F4(is)i(the)h FP(x)888 5319 y FM(2)p FL(:::)o(n)1029
5304 y F4(-telescope)p 357 5393 1373 4 v 473 5454 a FR(6)506
5484 y FQ(de)20 b(Bruijn)g(talks)h(of)f(sequences)f(`\002tting)h(into')
f(telescopes,)h(b)n(ut)g(I)h(prefer)e(to)h(a)n(v)n(oid)g(the)g(mix)o
(ed)f(metaphor)-5 b(.)2022 5667 y F4(48)p eop
%%Page: 49 54
49 53 bop 815 -6 a FX([)p FP(t)p FY(=)p FP(x)974 9 y
FM(1)1013 -6 y FX(])p FP(T)1104 9 y FM(2)1143 -6 y FX(;)17
b FY(:)g(:)g(:)f FX([)p FP(t)p FY(=)p FP(x)1477 9 y FM(1)1516
-6 y FX(])p FP(T)1607 9 y FL(n)601 227 y F4(Observ)o(e)24
b(that)g(if)h FP(t)p FX(;)1277 205 y FY(~)1293 227 y
FP(t)j FX(:)1407 201 y FY(~)1409 227 y FP(T)c F4(then)1675
205 y FY(~)1691 227 y FP(t)k FX(:)1805 201 y FY(~)1806
227 y FP(T)22 b(t)q F4(.)601 418 y(This)30 b(notion)g(of)i(application)
e(for)i(telescopes)f(may)g(be)g(iterated)h(o)o(v)o(er)e(a)i(term)f(se-)
601 567 y(quence)25 b(in)f(the)h(same)f(w)o(ay)h(as)g(function)f
(application,)f(shortening)h(a)h(telescope)g(by)601 717
y(instantiating)18 b(an)o(y)h(pre\002x.)30 b(That)20
b(is,)g(if)1955 691 y FY(~)1960 717 y FP(S)g F4(is)g(an)2229
710 y FY(~)2237 717 y FP(x)o F4(-telescope)h(and)2863
710 y FY(~)2875 717 y FP(s)27 b FX(:)2992 691 y FY(~)2996
717 y FP(S)21 b F4(then)f FX(\()3298 691 y FY(~)3302
717 y FP(S)p FX(;)3399 691 y FY(~)3401 717 y FP(T)o FX(\))3492
710 y FY(~)3504 717 y FP(s)601 866 y F4(is)k(just)g FX([)875
859 y FY(~)888 866 y FP(s)p FY(=)969 859 y(~)976 866
y FP(x)o FX(])1050 840 y FY(~)1052 866 y FP(T)p F4(.)357
1159 y(Note)29 b(that)g(the)g(use)h(semicolon)e(for)i(sequential)e
(composition)g(lea)n(v)o(es)h(the)g(comma)g(free)h(for)g(its)357
1308 y(usual)22 b(role,)g(indicating)g(multiple)e(inhabitation)h(of)h
(the)h(same)f(type)g(or)h(telescope.)30 b(That)22 b(is,)3583
1301 y FY(~)3589 1308 y FP(x)p FY(;)3675 1301 y(~)3683
1308 y FP(y)27 b FX(:)355 1431 y FY(~)357 1458 y FP(T)h
F4(means)h(that)f(each)h(of)1224 1451 y FY(~)1231 1458
y FP(x)f F4(and)1475 1451 y FY(~)1482 1458 y FP(y)g F4(inhabits)1903
1431 y FY(~)1905 1458 y FP(T)p F4(,)h(where)2285 1451
y FY(~)2292 1458 y FP(x)p FX(;)2378 1451 y FY(~)2386
1458 y FP(y)34 b FX(:)2531 1431 y FY(~)2532 1458 y FP(T)29
b F4(means)f(that)g(the)h(concatenation)357 1607 y(of)457
1600 y FY(~)465 1607 y FP(x)24 b F4(and)701 1600 y FY(~)708
1607 y FP(y)h F4(inhabits)1122 1581 y FY(~)1123 1607
y FP(T)p F4(.)357 1816 y(Let)f(us)h(also)f(introduce)g(a)i(notation)d
(for)i(making)f(multiple)f(copies)h(of)h(a)g(telescope.)359
2026 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35
b F0(iterated)26 b(sequence)h(or)e(telescope)601 2318
y F4(If)676 2297 y FY(~)692 2318 y FP(t)g F4(is)f(a)h(sequence)g(of)g
(terms)g(or)f(a)i(telescope,)e(then)815 2440 y Fz(n)866
2529 y FY(~)882 2551 y FP(t)915 2440 y Fz(o)981 2463
y FL(n)601 2804 y F4(is)g(the)h(sequential)e(composition)g(of)i
FY(n)g F4(copies)f(of)2347 2782 y FY(~)2363 2804 y FP(t)q
F4(.)601 2995 y(If)676 2973 y FY(~)692 2995 y FP(t)725
3010 y FL(i)778 2995 y F4(is)g(a)i(sequence)f(of)g(terms)f(or)h
(telescope)f(containing)g(a)h(free)h(subscript)d FY(i)p
F4(,)i(then)815 3116 y Fz(n)866 3205 y FY(~)882 3227
y FP(t)915 3242 y FL(i)943 3116 y Fz(o)1009 3139 y FL(n)1009
3296 y(i)601 3460 y F4(is)f(the)h(sequential)e(composition)800
3670 y FY(~)815 3692 y FP(t)848 3707 y FM(1)888 3692
y FX(;)17 b FY(:)g(:)g(:)1047 3670 y(~)1063 3692 y FP(t)1096
3707 y FL(n)601 3924 y F4(The)24 b(empty)g(sequence)h(or)g(telescope)g
(is)f(thus)g F3(fg)2330 3876 y FM(0)2369 3924 y F4(.)357
4217 y(Hence)k(we)g(may)f(say)h(that)f FZ(plus)g F4(has)h(type)f
F3(f)p FZ(N)-63 b(N)p F3(g)2080 4168 y FM(2)2152 4217
y F3(!)33 b FZ(N)-63 b(N)27 b F4(and)h(still)e(intend)h(the)h(curried)g
(form)f(of)357 4366 y(the)d(function.)357 4576 y(Observ)o(e)g(that)g
(if)956 4554 y FY(~)972 4576 y FP(t)1005 4591 y FM(1)1045
4576 y FY(;)17 b(:)g(:)g(:)1204 4554 y(~)1220 4576 y
FP(t)1253 4591 y FL(n)1327 4576 y FX(:)1381 4550 y FY(~)1382
4576 y FP(T)25 b F4(then)1664 4465 y Fz(n)1715 4554 y
FY(~)1731 4576 y FP(t)1764 4591 y FL(i)1792 4465 y Fz(o)1859
4487 y FL(n)1859 4645 y(i)1933 4576 y FX(:)1988 4465
y Fz(n)2053 4550 y FY(~)2054 4576 y FP(T)2115 4465 y
Fz(o)2182 4487 y FL(n)2229 4576 y F4(.)357 4830 y(Similarly)753
4719 y Fz(n)819 4830 y FP(f)853 4808 y FY(~)869 4830
y FP(t)902 4845 y FL(i)930 4719 y Fz(o)997 4742 y FL(n)997
4899 y(i)1068 4830 y F4(abbre)n(viates)g FX(\()p FP(f)1617
4808 y FY(~)1632 4830 y FP(t)1665 4845 y FM(1)1705 4830
y FX(\);)17 b FY(:)g(:)g(:)f FX(\()p FP(f)1990 4808 y
FY(~)2005 4830 y FP(t)2039 4845 y FL(n)2086 4830 y FX(\))p
F4(.)357 5039 y(No)n(w)k(that)h(we)g(ha)n(v)o(e)g(the)g(telescope)g
(notation)f(for)h(e)o(xpressing)f(types)g(of)h(indices,)h(we)f(may)g
(de\002ne)357 5189 y(the)j(notion)g(of)h(an)g(inde)o(x)o(ed)e(f)o
(amily)-6 b(.)359 5398 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(indexed)27 b(family)2022 5667 y F4(49)p
eop
%%Page: 50 55
50 54 bop 601 -6 a F4(If)685 -32 y FY(~)689 -6 y FP(S)23
b F4(is)f(a)h(telescope)f(and)h FP(T)f F4(is)g(a)h(type,)f(then)h(an)
2248 -33 y FY(~)2252 -6 y Fu(S)q F0(-indexed)g Fu(T)p
F0(-family)f F4(is)g(an)h(inhab-)601 144 y(itant)h(of)h
F3(8)959 137 y FY(~)966 144 y FP(x)11 b FX(:)1061 118
y FY(~)1065 144 y FP(S)p FY(:)23 b FP(T)o F4(.)357 420
y(F)o(or)d(e)o(xample,)f(if)h(for)g(all)g FP(n)28 b FX(:)g
FZ(N)-63 b(N)20 b F4(we)g(de\002ne)g FZ(\002n)t FP(n)g
F4(to)f(be)h(the)g(\002nite)g(datatype)g(with)f FP(n)h
F4(elements,)g(we)357 570 y(may)g(say)h(that)g FZ(\002n)f
F4(is)g FZ(N)-63 b(N)p F4(-inde)o(x)o(ed)20 b FI(Type)o
F4(-f)o(amily)-6 b(.)28 b(Or)l(,)22 b(perhaps)f(perv)o(ersely)-6
b(,)21 b(we)g(may)g(describe)f(the)357 719 y(function)k(which)g
(decides)h(equality)f(on)g(the)h(natural)f(numbers)g(as)h(a)g
F3(f)p FZ(N)-63 b(N)p F3(g)2954 671 y FM(2)2993 719 y
F4(-inde)o(x)o(ed)24 b FZ(2)-44 b(2)p F4(-f)o(amily)-6
b(.)357 928 y(F)o(or)21 b(an)o(y)h FI(Type)o F4(-f)o(amily)f
(\(henceforth)h(`type)g(f)o(amily'\),)g(we)g(may)f(de\002ne)h(the)g
(follo)n(wing)e(telescope:)359 1138 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t
(O)t(N)r F4(:)35 b F0(fr)n(ee)26 b(telescope)g(f)n(or)f(a)f(type)i
(family)601 1414 y F4(If)696 1388 y FY(~)697 1414 y FP(T)31
b F4(is)e(an)1003 1407 y FY(~)1010 1414 y FP(x)p F4(-telescope)h(and)g
FP(A)h F4(is)e(a)1940 1388 y FY(~)1942 1414 y FP(T)p
F4(-inde)o(x)o(ed)g(type)h(f)o(amily)f(then,)p 3099 1333
72 4 v 32 w FP(A)o F4(,)j(the)e F0(fr)n(ee)601 1563 y(telescope)25
b F4(for)g FP(A)p F4(,)g(is)814 1764 y FY(~)815 1791
y FP(T)p FX(;)17 b(\()p FP(A)1045 1784 y FY(~)1052 1791
y FP(x)p FX(\))357 2067 y F4(F)o(or)24 b(e)o(xample,)p
904 1980 110 4 v 24 w FZ(\002n)h F4(is)f(just)g FP(n)k
FX(:)g FZ(N)-63 b(N)o FX(;)17 b FP(x)28 b FX(:)f FZ(\002n)22
b FP(n)p F4(.)357 2276 y(What)g(is)g(visible)f(through)h(this)f
(telescope?)31 b(Ev)o(ery)22 b(member)g(of)g(the)h(f)o(amily)e
FP(A)p F4(,)i(of)f(course!)31 b(That)357 2426 y(is,)24
b(if)h FP(a)j FX(:)f FP(A)764 2404 y FY(~)779 2426 y
FP(t)q F4(,)d(then)1043 2404 y FY(~)1059 2426 y FP(t)p
FX(;)17 b FP(a)28 b FX(:)p 1262 2345 72 4 v 27 w FP(A)p
F4(.)j(Note)25 b(also)f(that)p 1969 2345 V 25 w FP(A)2047
2404 y FY(~)2063 2426 y FP(t)h F4(is)f(the)h(same)f(as)h(one)g(element)
f(telescope)h FP(A)3680 2404 y FY(~)3695 2426 y FP(t)p
F4(!)357 2635 y(Finally)-6 b(,)23 b(let)i(us)f(consider)h(ho)n(w)f(to)g
(abstract)h(o)o(v)o(er)f(arbitrary)h(telescopes.)30 b(Simply)24
b(taking)601 2911 y F3(8)654 2885 y FY(~)656 2911 y FP(T)11
b FX(:)766 2831 y Fz(\010)824 2911 y FI(Type)992 2831
y Fz(\011)1050 2853 y FL(n)1097 2911 y FY(:)38 b(:)17
b(:)g(:)357 3187 y F4(does)i(not)f(capture)i(the)f(potential)f(for)i
(type)f(dependenc)o(y)f(within)g(the)h(telescope:)28
b FP(T)3250 3202 y FM(2)3309 3187 y F4(may)18 b(depend)357
3337 y(on)25 b(a)i(v)n(alue)e(of)h(type)g FP(T)1159 3352
y FM(1)1225 3337 y F4(and)g(so)f(on.)34 b(W)-8 b(e)27
b(may)e(represent)h(this)f(by)h(taking)f FP(T)3045 3352
y FM(2)3114 3337 y FX(:)30 b FP(T)3232 3352 y FM(1)3301
3337 y F3(!)f FI(Type)p F4(.)34 b(W)-8 b(e)357 3486 y(then)24
b(ha)n(v)o(e)h(not)f(a)h(telescope)g(of)g(types,)f(b)n(ut)g(a)h
(telescope)g(of)g(type)f(f)o(amilies:)601 3762 y FP(T)661
3777 y FM(1)729 3762 y FX(:)j FI(Type)p FX(;)601 3912
y FP(T)661 3927 y FM(2)729 3912 y FX(:)g FP(T)844 3927
y FM(1)911 3912 y F3(!)h FI(Type)o FX(;)601 4061 y FP(T)661
4076 y FM(3)729 4061 y FX(:)f F3(8)p FP(t)872 4076 y
FM(1)922 4061 y FX(:)11 b FP(T)1021 4076 y FM(1)1061
4061 y FY(:)22 b FX(\()p FP(T)1209 4076 y FM(2)1270 4061
y FP(t)1304 4076 y FM(1)1343 4061 y FX(\))28 b F3(!)f
FI(Type)o FX(;)601 4160 y F4(.)601 4193 y(.)601 4226
y(.)601 4376 y FP(T)661 4391 y FL(n)736 4376 y FX(:)h
F3(8)831 4354 y FY(~)846 4376 y FP(t)11 b FX(:)928 4265
y Fz(n)995 4376 y FP(T)1056 4391 y FL(i)1106 4376 y F3(f)p
FP(t)1189 4391 y FL(j)1226 4376 y F3(g)1276 4327 y FL(i)1276
4408 y(j)1312 4265 y Fz(o)1378 4288 y FL(n)p FE(\000)p
FM(1)1378 4445 y FL(i)1516 4376 y FY(:)22 b FI(Type)357
4677 y F4(This)32 b(is)h(a)h(v)o(ery)f(special)1263 4651
y FY(~)1264 4677 y FP(T)p F4(-telescope)h(which)f(I)h(call)f
F3(4)2373 4641 y FL(n)2419 4677 y FI(Type)p F4(,)i(and)f(an)o(y)f
(sequence)g(which)h(in-)357 4827 y(habits)27 b(it)g(is)h(a)g
F0(triangle)g F4(of)g(length)f FY(n)p F4(.)40 b(That)28
b(is,)g(a)g(triangle)g(is)f(a)h(sequence)h(which)e(represents)h(a)357
4976 y(telescope.)357 5185 y(It)20 b(is)h(not)f(hard)h(to)f(con)l(v)o
(ert)h(an)1393 5178 y FY(~)1400 5185 y FP(x)o F4(-telescope)1873
5159 y FY(~)1874 5185 y FP(T)g F4(into)f(a)h(triangle:)28
b(we)21 b(simply)e(turn)i(the)f(abstractions)357 5335
y(implicit)25 b(in)h(the)h(telescope)g(notation)f(into)g
FY(\025)p F4(-bindings)f(which)i(capture)g(the)g(earlier)g
FP(x)p F4(')-5 b(s)27 b(in)f(later)357 5484 y FP(T)r
F4(')-5 b(s.)30 b(The)25 b(resulting)f(triangle)g(is)2022
5667 y(50)p eop
%%Page: 51 56
51 55 bop 601 -6 a FP(T)661 9 y FM(1)701 -6 y FX(;)601
144 y FY(\025)p FP(x)707 159 y FM(1)758 144 y FX(:)11
b FP(T)857 159 y FM(1)896 144 y FY(:)23 b FP(T)1006 159
y FM(2)1046 144 y FX(;)601 293 y FY(\025)p FP(x)707 308
y FM(1)758 293 y FX(:)11 b FP(T)857 308 y FM(1)896 293
y FY(:)23 b(\025)p FP(x)1052 308 y FM(2)1103 293 y FX(:)11
b FP(T)1202 308 y FM(2)1241 293 y FY(:)22 b FP(T)1351
308 y FM(3)1391 293 y FX(;)601 376 y F4(.)601 410 y(.)601
443 y(.)601 592 y FY(\025)651 585 y(~)658 592 y FP(x)10
b FX(:)h F3(f)p FP(T)867 607 y FL(i)895 592 y F3(g)945
544 y FL(n)p FE(\000)p FM(1)945 621 y FL(i)1082 592 y
FY(:)23 b FP(T)1192 607 y FL(n)357 885 y F4(Correspondingly)-6
b(,)23 b(if)1151 859 y FY(~)1155 885 y FP(S)j F4(is)e(a)h(triangle,)f
(the)1890 878 y FY(~)1897 885 y FP(x)p F4(-telescope)h(it)f(represents)
h(is)601 1177 y FP(x)650 1192 y FM(1)717 1177 y FX(:)j
FP(S)828 1192 y FM(1)867 1177 y FX(;)601 1327 y FP(x)650
1342 y FM(2)717 1327 y FX(:)g FP(S)828 1342 y FM(2)889
1327 y FP(x)939 1342 y FM(1)978 1327 y FX(;)601 1476
y FP(x)650 1491 y FM(3)717 1476 y FX(:)g FP(S)828 1491
y FM(3)889 1476 y FP(x)939 1491 y FM(1)1001 1476 y FP(x)1050
1491 y FM(2)1090 1476 y FX(;)601 1559 y F4(.)601 1592
y(.)601 1626 y(.)601 1775 y FP(x)650 1790 y FL(n)725
1775 y FX(:)g FP(S)835 1790 y FL(n)904 1775 y F3(f)p
FP(x)1004 1790 y FL(i)1032 1775 y F3(g)1082 1727 y FL(n)p
FE(\000)p FM(1)1082 1804 y FL(i)357 2067 y F4(There)33
b(is)g(no)f(ambiguity)f(between)i(triangles)g(and)f(the)h(telescopes)g
(the)o(y)f(represent.)55 b(Y)-11 b(ou)33 b(can)357 2217
y(easily)22 b(spot)f(which)h(is)g(which)h(by)f(which)g(side)g(of)g(the)
h(colon)f(the)o(y)f(appear)-5 b(.)30 b(I)23 b(shall)f(happily)f(write)
601 2487 y F3(8)654 2461 y FY(~)656 2487 y FP(T)11 b
FX(:)g F3(4)855 2451 y FL(n)902 2487 y FI(Type)o FY(:)202
b F4(here)1493 2461 y FY(~)1495 2487 y FP(T)24 b F4(is)h(a)g(triangle)
601 2620 y F3(8)641 2599 y FY(~)656 2620 y FP(t)11 b
FX(:)736 2594 y FY(~)738 2620 y FP(T)p FY(:)472 b F4(here)1493
2594 y FY(~)1495 2620 y FP(T)24 b F4(is)h(the)f(represented)h
(telescope)357 2905 y(What)e(could)840 2879 y FY(~)842
2905 y FP(T)h F4(mean)g(as)g(a)g(triangle)f(in)h(a)g(type)f(position?)
29 b(Its)24 b(elements)f(are)i(type)e(f)o(amilies)g(and,)357
3054 y(apart)i(from)f(the)h(\002rst)g(uninde)o(x)o(ed)e(one,)i(these)f
(type)h(f)o(amilies)f(are)h(not)f(types.)357 3264 y(Observ)o(e)k(that)f
(if)i FP(T)p FX(;)1083 3238 y FY(~)1088 3264 y FP(S)f
F4(is)g(the)g FY(n)d FX(+)g(1)j F4(length)f(triangle)h(representing)g
(telescope)g FP(T)p FX(;)3310 3238 y FY(~)3312 3264 y
FP(T)g F4(and)g FP(t)34 b FX(:)g FP(T)p F4(,)357 3413
y(then)c(the)g(triangle)g(representing)g FX(\()p FP(T)p
FX(;)1710 3387 y FY(~)1712 3413 y FP(T)o FX(\))c FP(t)31
b F4(is)f F3(f)p FP(S)2102 3428 y FL(i)2153 3413 y FP(t)p
F3(g)2236 3365 y FL(n)2236 3442 y(i)2283 3413 y F4(.)47
b(T)-7 b(elescope)31 b(application)e(is)h(thus)f(repre-)357
3563 y(sented)24 b(in)h(the)f(triangle)g(coding)h(by)f(function)g
(applications.)357 3772 y(These)e(notational)f(forms)g(gi)n(v)o(e)g(us)
h(the)g(syntactic)f(po)n(wer)h(to)g(manipulate)f(dependent)h(type)f(f)o
(ami-)357 3922 y(lies)g(and)h(their)g(inhabitants)f(cleanly)g(and)i
(with)e(hardly)h(an)o(y)f(more)h(ef)n(fort)g(than)g(for)g(simple)f
(types.)357 4071 y(Since)27 b(dependent)f(type)g(f)o(amilies)g(feature)
h(strongly)f(in)g(this)g(thesis,)g(we)h(are)g(sure)g(to)f(be)h(glad)f
(of)357 4220 y(the)e(con)l(v)o(enience.)2022 5667 y(51)p
eop
%%Page: 52 57
52 56 bop 357 719 a F1(Chapter)51 b(3)357 1194 y(Elimination)i(Rules)f
(f)-5 b(or)51 b(Re\002nement)357 1443 y(Pr)l(oof)357
1984 y F4(Introduction)30 b(rules)g(tell)h(us)g(ho)n(w)f(to)h
(establish)f(ne)n(w)h(information.)48 b(Elimination)29
b(rules)i(tell)g(us)357 2134 y(ho)n(w)k(to)h(e)o(xploit)f(what)h(we)g
(kno)n(w)-6 b(.)64 b(This)36 b(chapter)g(identi\002es)g(a)h
(particularly)e(useful)h(class)g(of)357 2283 y(elimination)22
b(rule)j(and)g(de)n(v)o(elops)e(a)i(tactic)g(to)f(deplo)o(y)h(them)f
(in)g(re\002nement)h(proof.)357 2493 y(My)i(\002rst)i(encounter)f(with)
f(things)g(described)h(as)g(`elimination)e(rules')i(w)o(as)g(when)g(I)h
(w)o(as)f(being)357 2642 y(taught)j(natural)h(deduction)f(as)h(an)g
(under)n(graduate)g(mathematician.)51 b(In)32 b(particular)l(,)i(I)e
(learned)357 2792 y(elimination)22 b(rules)j(for)g(the)g(propositional)
e(connecti)n(v)o(es)g F3(^)i F4(and)g F3(_)p F4(:)611
3406 y FN(P)d F3(^)g FN(Q)p 611 3431 250 4 v 705 3506
a(P)1029 3406 y(P)g F3(^)h FN(Q)p 1029 3431 V 1115 3506
a(Q)1448 3386 y(P)f F3(_)g FN(Q)1817 3104 y FX([)p FN(P)p
FX(])1862 3200 y F4(.)1862 3233 y(.)1862 3266 y(.)1839
3386 y FX(\010)2051 3104 y([)p FN(Q)q FX(])2105 3200
y F4(.)2105 3233 y(.)2105 3266 y(.)2082 3386 y FX(\010)p
1448 3431 737 4 v 1780 3506 a(\010)357 3796 y F4(I)f(recall)h(thinking)
d(the)i(tw)o(o)g F3(^)p F4(-elim)g(rules)g(uncontro)o(v)o(ersial,)f
(whilst)g(being)h(some)n(what)f(confused)357 3946 y(by)h(the)g(con)l(v)
n(oluted)f(beha)n(viour)g(of)i F3(_)p F4(-elim.)29 b(It)21
b(w)o(as)g(only)g(when)g(I)g(caught)g(my)g(supervisor)f(b)n(uild-)357
4095 y(ing)29 b(a)i(proof)f(from)g(the)h(bottom)d(of)j(the)f
(blackboard)g(upw)o(ards)g(that)g(I)g(be)o(gan)g(to)g(see)g(the)g
(point.)357 4245 y F3(_)p F4(-elim)j(tells)f(us)h(ho)n(w)f(to)h(e)o
(xploit)e(a)i(disjuncti)n(v)o(e)e(hypothesis)g(to)h(gain)h(le)n(v)o
(erage)f(on)h(whate)n(v)o(er)357 4394 y FX(\010)g F4(it)g(is)f(we)h
(are)h(trying)e(to)g(pro)o(v)o(e.)55 b(The)32 b F3(^)p
F4(-elim)h(rules)g(seem)g(some)n(what)e(undermoti)n(v)n(ated)g(by)357
4544 y(comparison\227the)o(y)21 b(project)j(out)f(one)h(or)g(other)f
(conjunct,)g(so)h(we)g(ha)n(v)o(e)f(to)h(arrange)g(to)g(w)o(ant)f(the)
357 4693 y(conjuncts.)357 4902 y(W)-8 b(e)25 b(can)g(reformulate)g(the)
f F3(^)p F4(-elim)h(rules)g(as)g(a)g(single)f(rule)g(in)h(the)f(style)h
(of)f F3(_)p F4(-elim:)2022 5667 y(52)p eop
%%Page: 53 58
53 57 bop 611 412 a FN(P)22 b F3(^)g FN(Q)989 9 y FX([)p
FN(P)p FX(])980 130 y([)p FN(Q)p FX(])1034 226 y F4(.)1034
259 y(.)1034 292 y(.)1011 412 y FX(\010)p 611 456 502
4 v 826 532 a(\010)357 795 y F4(This)30 b(rule)g(\(often)h(called)g
(`uncurrying'\))f(mak)o(es)h(e)o(xplicit)e(the)h(`see)i(if)e(you)h(can)
g(pro)o(v)o(e)e(it)i(from)357 945 y(the)25 b(conjuncts')g(technique)f
(which)h(the)h(original)e(pair)i(of)f(rules)g(tacitly)g(require)g(the)h
(reasoner)g(to)357 1094 y(apply)-6 b(.)53 b(And)32 b(that)g(is)g(the)g
(k)o(e)o(y)g(point.)53 b(Elimination)30 b(rules)j(should)e(supply)h(a)g
(proof)h(technique)357 1244 y(which)d(analyses)f(the)i(hypothesis)d(in)
i(question)f(to)h(gi)n(v)o(e)e(le)n(v)o(erage)i(on)g(whate)n(v)o(er)g
(the)g(objecti)n(v)o(e)357 1393 y(may)25 b(be.)34 b(The)26
b(`projecti)n(v)o(e')f(rules)g(only)g(manage)h(to)g(be)g(both)f
(applicable)g(and)h(moti)n(v)n(ated)d(if)j(we)357 1542
y(are)f(luck)o(y)f(enough)g(to)h(be)g(trying)f(to)g(pro)o(v)o(e)g(one)g
(or)h(other)g(of)g(the)g(projections.)359 1752 y(M)t
F2(A)t(N)t(T)t(R)t(A)r F4(:)601 2036 y(The)f(end)h(moti)n(v)n(ates)e
(the)h(means.)357 2321 y(It)34 b(is)g(only)g(because)h
F3(^)g F4(is)g(a)g(pretty)f(boring)g(connecti)n(v)o(e\227there)f(is)h
(no)g(choice)h(about)f(ho)n(w)g(to)357 2470 y(pro)o(v)o(e)c
FN(P)d F3(^)h FN(Q)p F4(\227that)j(we)g(can)h(get)f(a)o(w)o(ay)g(with)g
(projecti)n(v)o(e)f(elimination)f(rules.)51 b(A)31 b(disjuncti)n(v)o(e)
357 2620 y(hypothesis)23 b(yields)i(no)h(de\002nite)f(conclusion,)g(so)
g(forw)o(ard)i(synthesis)d(is)h(block)o(ed\227we)g(ha)n(v)o(e)h(to)357
2769 y(w)o(ork)e(analytically)-6 b(,)24 b(reasoning)g(by)g(cases.)357
2979 y F3(_)p F4(-elim)30 b(helps)h(us)f(pro)o(v)o(e)g
FX(\010)i F4(from)e FN(P)d F3(_)g FN(Q)k F4(by)g(splitting)e(the)h
(task)h(into)f(tw)o(o)g(subtasks,)h(decom-)357 3128 y(posing)c(the)h
(hypothesis.)39 b(Ho)n(we)n(v)o(er)l(,)28 b(this)f(is)h(not)f(the)i
(only)e(w)o(ay)h(a)h(well-designed)e(elimination)357
3277 y(rule)33 b(can)h(mak)o(e)f(analytical)g(progress.)56
b(W)-8 b(e)34 b(can)g(also)f(decompose)f(the)i(objecti)n(v)o(e)d(\(or)j
(`goal'\))357 3427 y(into)d(more)h(speci\002c)h(cases,)h(our)e(f)o(a)n
(v)n(ourite)g(e)o(xample)g(being)f(the)h(`principle)g(of)g
(mathematical)357 3576 y(induction':)611 4140 y FX(\010)22
b FZ(0)878 3857 y FX([\010)h FP(n)p FX(])967 3953 y F4(.)967
3987 y(.)967 4020 y(.)886 4140 y FX(\010)g FZ(s)o FP(n)p
611 4184 470 4 v 625 4263 a F3(8)p FP(n)11 b FX(:)g FZ(N)-63
b(N)p FY(:)23 b FX(\010)f FP(n)357 4528 y F4(This)g(rule)i(e)o(xplains)
e(ho)n(w)g(to)h(pro)o(v)o(e)f(an)i(arbitrary)f(goal)g
FX(\010)h F4(inde)o(x)o(ed)e(by)h(a)h(natural)f(number)g
FP(n)p F4(:)30 b(we)357 4677 y(must)22 b(sho)n(w)h(that)g(proofs)h(of)g
FX(\010)g F4(are)h(made)e(the)h(same)g(w)o(ay)g(that)f(numbers)g(are.)
31 b(The)24 b(subgoals)f(in-)357 4827 y(stantiate)h(the)h(inde)o(x)e
(with)i(more)f(speci\002c)i(natural)f(numbers.)30 b(This)24
b(instantiation)f(may)h(pro)o(vide)357 4976 y(us)h(with)f(the)h
(concrete)h(data)f(we)g(need)h(to)f(perform)g(some)f(computation)g(or)h
(simpli\002cation,)e(and)357 5125 y(this)h(is,)g(by)g(and)h(lar)n(ge,)g
(ho)n(w)f(inducti)n(v)o(e)f(proofs)h(w)o(ork.)357 5335
y(Henceforth,)34 b(I)f(shall)e(intend)h(by)g(`elimination)e(rule')i
(only)g(this)f(kind)h(of)g(rule)h(whose)e(conclu-)357
5484 y(sion)23 b(is)h(an)g(arbitrary)g(goal,)g(possibly)e(abstracted)j
(o)o(v)o(er)e(indices.)30 b(This)23 b(characterisation)h(is)g(v)o(ery)
2022 5667 y(53)p eop
%%Page: 54 59
54 58 bop 357 -6 a F4(broad,)33 b(including)d(rules)h(where)h(there)g
(is)f(nothing)f(being)h(eliminated.)50 b(This)30 b(may)i(seem)f(odd,)
357 144 y(b)n(ut)25 b(it)h(is)f(sometimes)g(useful)g(to)h(characterise)
h(what)f(progress)f(we)i(can)f(mak)o(e)g(to)n(w)o(ards)f(an)h(arbi-)357
293 y(trary)g(goal)f(without)g(e)o(xploiting)e(an)o(y)j
FU(further)h F4(information.)32 b(Good)25 b(e)o(xamples)g(to)g(bear)i
(in)e(mind)357 443 y(are)h(the)f(impredicati)n(v)o(e)e(encodings)i(of)g
(the)g(true)g(proposition)f(and)h(the)g(absurd)g(proposition,)f(re-)357
592 y(specti)n(v)o(ely)j F3(8)p FX(\010)19 b(:)f FI(Prop)p
FY(:)25 b FX(\010)36 b F3(!)e FX(\010)c F4(and)e F3(8)p
FX(\010)20 b(:)e FI(Prop)p FY(:)25 b FX(\010)p F4(.)43
b(The)29 b(former)g(e)o(xploits)e(no)h(information)g(in)357
742 y(the)d(cause)h(of)f(pro)o(ving)f(its)g(arbitrary)i
FX(\010)p F4(,)g(and)f(consequently)f(e)o(x)o(erts)h(no)g(le)n(v)o
(erage,)g(lea)n(ving)f FX(\010)i F4(as)357 891 y(a)d(subgoal.)30
b(The)23 b(latter)g(is)g(only)g(deri)n(v)n(able)f(in)h(the)h(conte)o
(xt)e(of)i(a)f(contradiction,)g(and)g(it)g(indicates)357
1041 y(that)h(we)h(already)g(ha)n(v)o(e)g(all)f(we)h(need)g(to)g
(establish)e(whate)n(v)o(er)h FX(\010)i F4(we)f(w)o(ant.)357
1250 y(In)31 b(order)h(to)g(e)o(xploit)e(elimination)f(rules)j(whose)f
(conclusion)g(is)g(abstracted)h(o)o(v)o(er)e(indices,)j(we)357
1399 y(need)d(to)f(mak)o(e)g(the)h(corresponding)f(abstractions)f(from)
i(the)f(goal)h(we)g(are)g(trying)f(to)g(pro)o(v)o(e.)44
b(It)357 1549 y(is,)36 b(of)e(course,)j(ob)o(vious)32
b(ho)n(w)h(to)h(do)g(this)f(when)h(the)g(goal)g(already)h(looks)e(lik)o
(e)h F3(8)p FP(n)29 b FX(:)f FZ(N)-63 b(N)p FY(:)29 b
FX(\010)h FP(n)p F4(.)357 1698 y(This)e(chapter)h(is)f(lar)n(gely)h(de)
n(v)n(oted)f(to)g(e)o(xplaining)f(ho)n(w)h(to)h(mak)o(e)g(the)f
(abstractions)g(under)h(less)357 1848 y(ob)o(vious)23
b(circumstances.)357 2247 y FT(3.1)142 b(pr)m(opositional)34
b(equality)g(\(de\002nition)g(deferr)m(ed\))357 2560
y F4(One)h(of)h(the)g(tools)e(we)i(shall)f(shortly)f(require)i(is)f(a)h
FU(pr)l(opositional)d F4(notion)h(of)i(equality)-6 b(.)61
b(The)357 2709 y(con)l(v)o(entional)25 b(formulations)g(become)i(a)o
(wkw)o(ard)g(once)g(type)g(dependenc)o(y)g(enters)g(the)g(picture.)357
2859 y(The)19 b(trouble)f(is)h(that)f(tw)o(o)h(instances)f(of)h(a)g
(type)g(f)o(amily)f(with)g(indices)h(which)f(are)i(not)f(con)l(v)o
(ertible,)357 3008 y(just)26 b(propositionally)f(equal,)j(are)g(not)f
(the)h(same)f(type.)38 b(The)28 b(f)o(amiliar)f(de\002nitions)f(permit)
h(only)357 3158 y(equations)h(within)g(one)h(type\227the)o(y)f(forbid)h
(us)g(e)n(v)o(en)g(from)g(stating)f(the)h(equality)g(of)g(elements)357
3307 y(dra)o(wn)24 b(from)h(the)f(tw)o(o)h(instances)f(of)h(the)f(f)o
(amily)-6 b(.)357 3517 y(Huet)30 b(and)h(Sa)m(\250)-30
b(\021bi)31 b(encounter)g(a)g(similar)f(problem)g(in)g(their)h
(formalisation)e(of)i(cate)o(gory)g(theory)357 3666 y([SH95]\227the)o
(y)24 b(need)h(to)g(state)g(the)g(equality)f(of)h(arro)n(ws)g(whose)g
(domains)e(are)j(not)f(necesssarily)357 3815 y(computationally)e
(equal.)33 b(Their)26 b(solution)e(is)h(to)g(relax)h(the)g(formulation)
e(rule)i(for)g(equations)f(on)357 3965 y(arro)n(ws)31
b(whilst)f(still)h(supplying)f(only)g(the)i(re\003e)o(xi)n(v)o(e)f
(constructor)-5 b(.)50 b(W)l(ith)31 b(care,)j(this)d(approach)357
4114 y(may)21 b(be)g(e)o(xtended)g(to)g(the)h(commonplace)e
(propositional)g(equality)-6 b(,)20 b(and)i(that)f(is)g(what)g(I)h
(propose)357 4264 y(to)i(do.)357 4473 y(Rather)37 b(than)e(presenting)h
(my)f(de\002nition)h(at)g(this)f(stage,)k(with)c(slender)h(moti)n(v)n
(ation)e(and)i(less)357 4623 y(conte)o(xt,)19 b(I)i(shall)e(defer)h
(the)g(treatment)f(until)g(we)h(ha)n(v)o(e)g(more)f(idea)h(of)g(what)g
(its)f(properties)h(should)357 4772 y(be,)25 b(and)f(more)h(language)g
(with)f(which)g(to)g(describe)h(them.)357 4982 y(Since)20
b(I)g(do)g(not)f(use)h(a)g(f)o(amiliar)f(equality)-6
b(,)20 b(I)g(shall)f(not)g(presume)h(to)f(use)h(the)g(f)o(amiliar)f(`)p
FZ(=)q F4(')h(symbol.)357 5131 y(Instead)j(I)g(shall)f(write)h(`)p
F3(')q F4('.)30 b(Experienced)23 b(readers)h(who)e(dislik)o(e)g
(suspense)h(will)f(\002nd)h(its)f(de\002ni-)357 5280
y(tion)k(in)h(chapter)h(5.)37 b(Otherwise,)28 b(read)g(on)f
(here\227let)g(us)g(look)f(out)h(for)g(the)g(required)h(beha)n(viour)
357 5430 y(of)d F3(')g F4(as)g(we)g(go.)2022 5667 y(54)p
eop
%%Page: 55 60
55 59 bop 357 -6 a FT(3.2)142 b(anatomy)34 b(of)i(an)f(elimination)e
(rule)357 307 y F4(Let)k(us)g(\002rst)g(establish)f(notation)g(for)h
(elimination)e(rules)i(and)g(gi)n(v)o(e)f(names)h(to)g(their)g(compo-)
357 456 y(nents.)52 b(Presenting)32 b(elimination)e(rules)h(as)i(ra)o
(w)f(types,)h(or)f(e)n(v)o(en)f(in)h(the)g(con)l(v)o(entional)f
(natural)357 606 y(deduction)d(style)h(is)g(relati)n(v)o(ely)f
(uninformati)n(v)o(e,)g(as)h(I)h(ha)n(v)o(e)f(found)g(in)g(the)g(past)g
(to)g(my)g(cost.)44 b(In)357 755 y(this)21 b(section,)h(I)g(shall)g
(moti)n(v)n(ate)e(what)h(I)i(hope)f(is)f(a)i(clearer)g(presentation)e
(\(arising)h(from)g(a)g(black-)357 905 y(board)e(con)l(v)o(ersation)g
(with)g(Rod)g(Burstall\).)30 b(It)20 b(is)g(important)g(that)g(we)h
(come)f(to)h(some)f(systematic)357 1054 y(understanding)j(of)i(these)g
(rules,)f(for)h(we)g(shall)f(need)h(to)g(teach)g(machines)f(to)g(use)h
(them.)357 1264 y(In)g(order)g(to)f(mak)o(e)h(sense)g(of)f(an)o(y)h
(elimination)d(rule,)j(we)g(need)g(to)g(kno)n(w)502 1473
y F3(\017)49 b F4(what)24 b(it)g(eliminates\227its)f
F0(tar)o(get)502 1706 y F3(\017)49 b F4(what)24 b(f)o(amily)g(of)h
(arbitrary)g(goals)f(it)h(pro)o(v)o(es\227its)d F0(scheme)357
2023 y F4(F)o(or)28 b(e)o(xample,)f(mathematical)g(induction)f
(\(right\))i(eliminates)e(a)i(nat-)357 2172 y(ural)g(number)l(,)g
FP(n)p F4(,)h(and)f(pro)o(v)o(es)f(goals)g(of)h(the)g(form)g
FX(\010)d FP(n)p F4(,)k(where)f FX(\010)h F4(is)357 2322
y(a)c(f)o(amily)f(of)h(propositions)d(\(ie,)j(a)g(predicate\))h(o)o(v)o
(er)e FZ(N)-63 b(N)o F4(.)p 2977 1364 810 4 v 2977 2521
4 1157 v 3005 1473 a FZ(N)g(NInduction)3005 1714 y FX(\010)29
b(:)e F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22
b FI(Prop)3140 2255 y FX(\010)h FZ(0)3467 2015 y FX(\010)g
FP(n)3418 2114 y FY(:)17 b(:)f(:)h(:)g(:)f(:)3448 2273
y FX(\010)22 b FZ(s)p FP(n)p 3140 2330 535 4 v 3141 2436
a F3(8)p 3196 2337 280 4 v 3196 2462 4 126 v 29 w FP(n)28
b FX(:)g FZ(N)-63 b(N)p 3472 2462 V 3196 2465 280 4 v
28 w FY(:)22 b FX(\010)h FP(n)p 3784 2521 4 1157 v 2977
2524 810 4 v 357 2660 a F4(I)j(mark)f(the)g(tar)n(get)h(with)f(a)h
(box.)32 b(W)-8 b(e)26 b(can)g(tell)f FX(\010)h F4(is)f(the)h(scheme)f
(because)h(it)f(stands)g(at)h(the)f(head)357 2810 y(of)g(the)f(rule')-5
b(s)25 b(return)f(type.)357 3019 y(If)32 b(we)g(w)o(ant)f(to)h(apply)f
(this)g(rule,)i(the)f(tar)n(get)g(mark)o(er)g(tells)f(us)g(that)g(we)h
(must)f(select)g(a)i(natural)357 3169 y(number)24 b(to)h(eliminate,)g
(which)f(will)h(stand)g(in)g(the)g(place)g(of)h FP(n)p
F4(.)32 b(Ha)n(ving)25 b(done)g(so,)g(we)h(will)e(need)357
3318 y(to)d(abstract)i(it)e(from)h(the)g(goal)g(to)g(mak)o(e)g(an)g
(appropriate)g(scheme)g(for)h FX(\010)p F4(.)30 b(It)22
b(is)g(important)f(to)h(type)357 3467 y(the)28 b(scheme)h(prominently)
-6 b(.)39 b(The)29 b(inde)o(x)e(types)h(are)i(not)e(al)o(w)o(ays)g(so)g
(ob)o(vious)f(as)h(here.)43 b(Further)l(,)357 3617 y(we)25
b(may)g(need)g(to)g(be)g(precise)g(about)g(which)g(type)f(uni)n(v)o
(erse)g(the)h(goal)g(must)f(inhabit:)30 b(the)24 b(`)p
FI(Prop)p F4(')357 3766 y(in)33 b(the)g(abo)o(v)o(e)f(rule)i(mak)o(es)f
(it)f(suitable)h(only)f(for)i(propositional)d(goals\227this)h(rule)h
(cannot)g(be)357 3916 y(used)24 b(for)h(programming.)357
4125 y(Schemes)33 b(al)o(w)o(ays)g(ha)n(v)o(e)g(types)g(of)g(form)g
F3(8)1894 4118 y FY(~)1912 4125 y FP(\021)27 b FX(:)2005
4099 y FY(~)2021 4125 y FP(I)p FY(:)i FI(U)o F4(.)57
b(I)33 b(call)g(the)2645 4118 y FY(~)2664 4125 y FP(\021)g
F4(the)g(rule')-5 b(s)32 b F0(indices)p F4(,)k(and)d(the)357
4275 y(inde)o(x)o(ed)28 b(telescope)1084 4248 y FY(~)1100
4275 y FP(I)i F4(the)f(rule')-5 b(s)29 b F0(apertur)n(e)p
F4(.)94 b(Later)30 b(we)g(shall)f(see)h(elimination)e(rules)h(for)h
(the)357 4424 y(same)c(thing,)f(b)n(ut)h(with)g(dif)n(ferent)g
(apertures.)35 b(W)-8 b(e)27 b(shall)f(also)g(see)h(ho)n(w)e(to)h
(change)h(the)f(aperture)357 4574 y(of)d(a)g(rule.)31
b(In)23 b(con)l(v)o(entional)e(proofs)i(by)g(mathematical)f(induction,)
g(the)h(scheme)g(is)f(often)h(called)357 4723 y(the)38
b(`induction)g(predicate'.)74 b(Ho)n(we)n(v)o(er)l(,)41
b(we)e(shall)f(ha)n(v)o(e)h(need)g(of)g(schemes)g(which)f(are)i(not)357
4872 y(predicates)24 b(and)h(rules)g(which)f(are)i(not)e(inducti)n(v)o
(e.)357 5082 y(Where)n(v)o(er)j FX(\010)h F4(is)e(applied,)h(its)g(ar)n
(guments)f(are)i(called)g F0(patter)o(ns)p F4(.)76 b(The)28
b(uni)n(v)o(ersally)d(quanti\002ed)357 5231 y(v)n(ariables)c(appearing)
i(in)f(patterns)g(are)h F0(patter)o(n)g(v)o(ariables)p
F4(.)30 b(T)-8 b(ar)n(get)23 b(selection)e(must)h(instantiate)357
5381 y(all)35 b(the)g(pattern)h(v)n(ariables)f(in)g(the)g(conclusion)g
(of)g(the)h(goal\227otherwise)e(we)i(will)e(not)h(kno)n(w)2022
5667 y(55)p eop
%%Page: 56 61
56 60 bop 357 -6 a F4(what)36 b(to)g(abstract)h(to)f(b)n(uild)g(the)g
(scheme.)66 b(F)o(or)37 b(mathematical)e(induction,)j(the)f(only)f
(pattern)357 144 y(v)n(ariable)24 b(in)l(v)n(olv)o(ed)f(is)h(the)h(tar)
n(get)g(itself,)f(so)h(this)e(requirement)i(is)f(clearly)h
(ful\002lled.)357 353 y(Abo)o(v)o(e)e(the)i(solid)e(line)i(are)g(the)g
(rule')-5 b(s)24 b F0(cases)p F4(,)g(each)i(of)f(which)f(pro)o(v)o(es)f
FX(\010)j F4(applied)e(to)g(some)g F0(case)357 503 y(patter)o(ns)k
F4(\(such)f(as)g FZ(0)g F4(and)h FZ(s)o FP(n)g F4(abo)o(v)o(e\).)37
b(An)o(y)26 b(subgoal-speci\002c)h(assumptions)e(appear)j(abo)o(v)o(e)e
(a)357 652 y(dotted)g(line,)h(the)g(horizontal)f(cousin)h(of)g(natural)
g(deduction')-5 b(s)25 b(v)o(ertical)i(ellipsis.)36 b(Those)27
b(which)357 802 y(do)20 b(not)h(in)l(v)n(olv)o(e)e FX(\010)i
F4(are)h F0(case)f(data)p F4(.)30 b(Those)20 b(which)h(do)f(are)i
(described)f(as)g F0(inducti)o(v)o(e)h(h)o(ypotheses)357
951 y F4(or)j F0(r)n(ecursi)o(v)o(e)h(calls)p F4(.)357
1161 y(The)c(visual)g(aspect)g(of)h(this)e(presentation)h(is)g
(intended)f(to)h(con)l(v)o(e)o(y)g(the)g(idea)h(that)f(the)g(cases)h
(of)f(an)357 1310 y(elimination)k(rule)j(are)g(the)g(ghosts)e(of)i(the)
g(corresponding)e(introduction)g(rules.)42 b(Pra)o(witz')-5
b(s)28 b(`in-)357 1459 y(v)o(ersion)g(principle')h(captures)h(this)e
(relationship)g(between)i(the)f(introduction)f(and)h(elimination)357
1609 y(rules)f(of)h(natural)f(deduction)g([Pra65]\227he)h(attrib)n
(utes)f(the)g(idea)h(to)f(Gentzen)h(who)f(in)g([Gen35])357
1758 y(e)o(xpresses)c(the)h(property)f(as)h(follo)n(ws:)601
2051 y(In)38 b(eliminating)e(a)i(symbol,)i(we)e(may)f(use)h(the)g
(formula)f(with)h(whose)f(terminal)601 2200 y(symbol)22
b(we)i(are)h(dealing)e(only)g(`in)g(the)h(sense)g(af)n(forded)g(it)f
(by)h(the)f(introduction)f(of)601 2350 y(that)i(symbol'.)357
2642 y(In)h(essence,)h(elimination)d(rules)i(sho)n(w)g(us)g(ho)n(w)f
(to)h(mimic)f(the)h(structure)g(of)h(the)f(hypotheses)f(on)357
2792 y(which)h(the)o(y)f(act.)33 b(Mathematical)24 b(induction)g(sho)n
(ws)g(us)h(to)g(ho)n(w)f(to)h(mak)o(e)g FX(\010)e FP(n)j
F4(imitate)e FP(n)29 b FX(:)g FZ(N)-63 b(N)p F4(.)32
b(I)357 2941 y(will)23 b(freely)j(suppress)d(implicit)g(assumptions)g
(\(such)h(as)h(the)f FP(n)k FX(:)g FZ(N)-63 b(N)25 b
F4(in)f(the)g(`successor')h(subgoal)357 3090 y(abo)o(v)o(e\))f(in)g
(order)h(to)g(strengthen)f(this)f(resemblance.)359 3300
y(M)t F2(A)t(N)t(T)t(R)t(A)r F4(:)601 3592 y(Decomposition)f(is)j(the)f
(e)o(xposition)f(of)i(construction.)357 3885 y(Before)30
b(I)f(describe)g(ho)n(w)f(to)h(w)o(ork)g(with)f(elimination)f(rules)i
(in)f(more)h(detail,)h(let)e(me)h(place)g(the)357 4034
y(discussion)23 b(in)h(conte)o(xt)g(by)g(e)o(xhibiting)f(a)i(number)f
(of)h(v)n(ariations)f(on)g(the)h(theme.)2022 5667 y(56)p
eop
%%Page: 57 62
57 61 bop 357 -6 a FT(3.3)142 b(examples)34 b(of)i(elimination)d(rules)
357 307 y F4(P)o(arameterised)c(data)g(structures)g(lik)o(e)f(lists)g
(ha)n(v)o(e)h(pa-)357 456 y(rameterised)24 b(elimination)f(rules.)357
666 y(In)36 b(particular)l(,)k(we)c(say)h(that)f(an)h(elimination)d
(rule')-5 b(s)357 815 y F0(parameters)32 b F4(are)f(those)g(hypotheses)
e(on)i(which)g(the)357 965 y(scheme')-5 b(s)35 b(and)h(cases')g(types)f
(depend.)64 b(The)o(y)35 b(may)-6 b(,)357 1114 y(where)20
b(interesting,)f(be)h(listed)f(at)g(the)h(top)f(of)h(the)f(rule.)p
2419 198 1368 4 v 2419 1495 4 1298 v 2448 307 a FZ(listElim)2448
548 y FP(A)31 b FX(:)d FI(Type)2448 668 y FX(\010)g(:)g(\()p
FZ(list)21 b FP(A)t FX(\))28 b F3(!)f FI(Type)2582 1210
y FX(\010)c(\()p FZ(nil)e FP(A)5 b FX(\))3145 969 y FP(h)27
b FX(:)h FP(A)124 b FX(\010)23 b FP(t)3096 1068 y FY(:)17
b(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)3109
1228 y FX(\010)23 b(\()p FZ(cons)f FP(h)g(t)p FX(\))p
2582 1291 1093 4 v 2827 1397 a F3(8)p 2882 1298 378 4
v 2882 1437 4 140 v 29 w FP(l)27 b FX(:)h FZ(list)21
b FP(A)p 3256 1437 V 2882 1440 378 4 v 33 w FY(:)h FX(\010)h
FP(l)p 3784 1495 4 1298 v 2419 1498 1368 4 v 357 1639
a F4(Note)k(that)f(I)i(supply)e(the)h(case)h(datum)e
FP(h)32 b FX(:)g FP(A)g F4(e)o(xplicitly)-6 b(,)25 b(despite)h(its)h
(appearance)h(in)f(the)g FZ(cons)357 1788 y F4(case)e(pattern,)g(in)f
(order)h(to)f(emphasise)g(the)h(imitation)e(of)i(the)f(constructor)-5
b(.)357 1998 y(A)24 b(class)g(of)g(elimination)e(rule)i(which)g(we)g
(will)g(construct)f(and)h(use)g(o)o(v)o(er)g(and)g(o)o(v)o(er)f(again)g
(in)h(this)357 2147 y(thesis)e(is)h(the)g F0(case)h(analysis)e
F4(or)i F0(in)l(v)o(ersion)f F4(principle.)30 b(F)o(or)23
b(an)o(y)g(notion)f(gi)n(v)o(en)g(by)h(introduction)357
2297 y(rules,)39 b(the)e(corresponding)f(in)l(v)o(ersion)f(principle)h
(asserts)h(that)g(those)f(introduction)f(rules)i(are)357
2446 y FU(e)n(xhaustive)p F4(.)59 b(There)35 b(is)f(one)g(case)h(for)g
(each)g(introduction)d(rule,)37 b(and)d(there)h(are)g(no)f(inducti)n(v)
o(e)357 2596 y(hypotheses.)826 2559 y FS(1)357 2851 y
F4(Consider)l(,)23 b(by)h(w)o(ay)f(of)h(e)o(xample,)f
F3(\024)h F4(for)g FZ(N)-63 b(N)p F4(,)24 b(presented)f(here)h(in)f
(its)357 3001 y(`suf)n(\002x')h(v)n(ariant.)p 2886 2689
902 4 v 2886 2972 4 284 v 3073 2828 233 4 v 3073 2904
a FP(m)p F3(\024)p FP(m)3494 2807 y(m)p F3(\024)p FP(n)p
3475 2828 250 4 v 3475 2904 a(m)p F3(\024)p FZ(s)p FP(n)p
3784 2972 4 284 v 2886 2975 902 4 v 357 3138 a F4(The)19
b(traditional)f(`Clark)i(completion')d([Cla78)q(])i(presentation)f
(represents)h(the)g(choice)h(of)f(deri)n(v)n(a-)357 3288
y(tions)k(as)i(a)g(disjunction)e(of)i(e)o(xistentially)e(quanti\002ed)h
(equations.)601 3545 y F3(8)p FP(m)o FY(;)17 b FP(n)q
FY(:)44 b FP(m)o F3(\024)q FP(n)28 b F3(!)799 3652 y
Fz(W)954 3665 y F3(9)p FP(m)1087 3629 y FE(0)1110 3665
y FY(:)144 b FP(m)p F3(')p FP(m)1514 3629 y FE(0)1559
3665 y F3(^)31 b FP(n)q F3(')p FP(m)1867 3629 y FE(0)954
3786 y F3(9)p FP(m)1087 3750 y FE(0)1110 3786 y FY(;)17
b FP(n)1209 3750 y FE(0)1232 3786 y FY(:)22 b FP(m)p
F3(')p FP(m)1514 3750 y FE(0)1559 3786 y F3(^)h FP(n)p
F3(')q FZ(s)p FP(n)1875 3750 y FE(0)1920 3786 y F3(^)g
FP(m)2086 3750 y FE(0)2110 3786 y F3(\024)p FP(n)2243
3750 y FE(0)357 4041 y F4(There)29 b(is)g(one)f(disjunct)g(for)h(each)h
(introduction)d(rule\227the)h(schematic)g(v)n(ariables)h(become)f(e)o
(x-)357 4190 y(istentially)21 b(quanti\002ed)i(o)o(v)o(er)f(equations)g
(demanding)g(that)h(the)g(conclusion)e(pro)o(v)o(es)h(the)h(in)l(v)o
(erted)357 4340 y(hypothesis)k(and)i(that)g(the)g(premises)g(hold.)43
b(This)29 b(construction)f(is)h(some)n(what)f(mechanical,)i(in)357
4489 y(that)i(it)h(e)o(xplicitly)e(constrains)i(each)h(ar)n(gument)e
(of)i(the)f(hypothesis)e(e)n(v)o(en)h(if)h(the)h(constraint)e(is)357
4639 y(redundant,)24 b(lik)o(e)g(the)h F3(9)p FP(m)1258
4603 y FE(0)1298 4639 y FY(:)17 b(:)g(:)f FP(m)o F3(')q
FP(m)1661 4603 y FE(0)1709 4639 y F4(in)25 b(each)g(case.)357
4848 y(In)j([McB96],)h(I)g(ga)n(v)o(e)e(a)i(standardised)e
(`elimination)g(rule')h(presentation)f(of)i(in)l(v)o(ersion,)e(essen-)
357 4998 y(tially)18 b(currying)h(the)h(Clark)g(completion.)27
b(F)o(or)20 b(e)o(xample,)f(the)h(generic)g(class)f(of)g(hypothesis)f
FP(m)o F3(\024)q FP(n)357 5147 y F4(w)o(ould)24 b(be)h(in)l(v)o(erted)f
(thus:)p 357 5216 1373 4 v 473 5278 a FR(1)506 5308 y
FQ(In)c(f)o(act,)g(it)h(is)g(good)e(to)h(think)g(of)g(induction)e(as)j
(in)m(v)o(ersion)d(augmented)g(with)j(recursi)n(v)o(e)d(information.)
2022 5667 y F4(57)p eop
%%Page: 58 63
58 62 bop 601 -102 2193 4 v 601 1056 4 1158 v 654 7 a
F3(\024)p FZ(Clar)r(kIn)n(v)654 248 y FX(\010)28 b(:)g
FI(Prop)828 549 y FP(m)p F3(')p FP(m)1061 513 y FE(0)1204
549 y FP(n)p F3(')q FP(m)1414 513 y FE(0)813 648 y FY(:)17
b(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)1098
808 y FX(\010)1638 549 y FP(m)o F3(')q FP(m)1870 513
y FE(0)2013 549 y FP(n)q F3(')p FZ(s)p FP(n)2240 513
y FE(0)2384 549 y FP(m)2461 513 y FE(0)2484 549 y F3(\024)q
FP(n)2617 513 y FE(0)1623 648 y FY(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h
(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)2104
808 y FX(\010)p 788 864 1893 4 v 1488 871 267 4 v 1488
998 4 127 v 1516 959 a FP(m)p F3(\024)p FP(n)p 1752 998
V 1488 1001 267 4 v 57 w F3(!)27 b FX(\010)p 2790 1056
4 1158 v 601 1059 2193 4 v 357 1303 a FP(m)e F4(and)i
FP(n)f F4(are)h(parametric)f(to)g(the)g(whole)g(rule.)35
b(Once)26 b(the)o(y)g(ha)n(v)o(e)g(been)g(instantiated,)f(the)h(equa-)
357 1453 y(tions)37 b(in)h(the)g(subgoals)e(may)i(be)h(simpli\002ed)d
(automatically)-6 b(.)69 b(This)38 b(approach)g(is)g(some)n(what)357
1602 y(clumsy)-6 b(,)26 b(b)n(ut)h(it)h(is)f(v)o(ery)g(easy)h(to)f
(apply)-6 b(,)27 b(as)h(the)f(scheme)h FX(\010)g F4(may)f(be)h(an)o(y)f
(proposition\227no)e(ab-)357 1752 y(straction)34 b(is)g(necessary)-6
b(.)61 b(W)-8 b(e)35 b(shall)f(shortly)g(de)n(v)o(elop)f(the)i
(abstraction)f(technology)f(required)357 1901 y(to)27
b(e)o(xploit)f(a)h(more)h(streamlined)e(v)o(ersion,)h(with)f(an)i(inde)
o(x)o(ed)e(scheme)h(remo)o(ving)f(the)h(need)h(for)357
2051 y(equational)c(constraints)f(on)i(the)f(parameters:)357
2260 y(This)29 b(in)l(v)o(ersion)f(principle)h(dif)n(fers)g(from)g(the)
h(Clark)g(rule)357 2410 y(only)25 b(in)h(its)f(aperture.)35
b(The)o(y)25 b(are,)i(of)g(course,)f(interderi)n(v-)357
2559 y(able,)46 b(suggesting)40 b(that)h(there)h(might)e(be)i(a)g
(systematic)357 2708 y(w)o(ay)34 b(to)f(change)h(the)f(aperture)i(of)e
(an)h(elimination)e(rule.)357 2858 y(In)d(f)o(act,)j(that)d(is)g(the)g
(essence)h(of)g(the)g(tactic)f(this)g(chapter)357 3007
y(de)n(v)o(elops.)p 2561 2151 1227 4 v 2561 3309 4 1158
v 2589 2260 a F3(\024)q FZ(In)n(v)2589 2501 y FX(\010)f(:)g
F3(8)p FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63 b(N)p
FY(:)22 b FI(Prop)2821 3042 y FX(\010)h FP(m)e(m)3289
2802 y(m)o F3(\024)q FP(n)3227 2901 y FY(:)c(:)f(:)h(:)g(:)g(:)f(:)h(:)
3251 3060 y FX(\010)22 b FP(m)g FZ(s)p FP(n)p 2724 3117
951 4 v 2724 3212 a F3(8)p FP(m)p FY(;)17 b FP(n)p FY(:)p
3005 3124 267 4 v 3005 3251 4 127 v 50 w FP(m)p F3(\024)p
FP(n)p 3268 3251 V 3005 3254 267 4 v 56 w F3(!)28 b FX(\010)22
b FP(m)g(n)p 3784 3309 4 1158 v 2561 3312 1227 4 v 357
3448 a F4(The)27 b(process)g(which)f(simpli\002es)g(the)h(constraints)f
(arising)g(from)h(in)l(v)o(ersion)f(mak)o(es)h(critical)f(use)357
3598 y(of)21 b(the)h(f)o(act)g(that)f(constructors)g(are)h(injecti)n(v)
o(e)e(and)i(disjoint)e(\(the)h(`no)h(confusion')f(property\).)29
b(F)o(or)357 3747 y(natural)24 b(numbers,)g(we)h(might)f(plausibly)f
(choose)h(to)h(deri)n(v)o(e)f(tw)o(o)g(of)h(Peano')-5
b(s)25 b(postulates:)502 4040 y F3(\017)49 b(8)p FP(m)o
FY(;)17 b FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FZ(s)p
FP(m)o F3(')q FZ(s)o FP(n)28 b F3(!)g FP(m)o F3(')q FP(n)502
4272 y F3(\017)49 b(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p
FY(:)23 b FZ(0)28 b F3(6)-11 b(')p FZ(s)p FP(n)357 4565
y F4(The)33 b(abo)o(v)o(e)g(formulation)f(of)h(injecti)n(vity)e(is)i
(essentially)g(projecti)n(v)o(e)f(after)i(the)f(f)o(ashion)g(of)g(the)
357 4714 y(a)o(wkw)o(ard)d F3(^)p F4(-elim)g(rules\227directly)f
(useful)g(only)h(if)g(it)g(is)f FP(m)p F3(')p FP(n)i
F4(we)f(are)h(trying)f(to)g(pro)o(v)o(e.)45 b(F)o(or)357
4863 y(non-unary)31 b(constructors,)i FZ(cons)f F4(for)g(e)o(xample,)h
(the)f(problem)f(gets)h(w)o(orse\227we)g(either)g(ha)n(v)o(e)357
5013 y(separate)h(head)f(and)h(tail)f(injecti)n(vity)e(theorems,)k(or)e
(a)h(single)f(result)g(which)g(yields)f(a)i(tuple)f(of)357
5162 y(equations)23 b(which)i(we)g(then)f(eliminate.)2022
5667 y(58)p eop
%%Page: 59 64
59 63 bop 357 7 a F4(Consequently)-6 b(,)26 b(I)i(present)f(injecti)n
(vity)e(as)i(an)h(in)l(v)o(ersion)e(rule)h(for)357 157
y(an)36 b(equation)f(of)i(successors.)64 b(This)36 b(is)f(really)h
(just)g(the)g(`tuple')357 306 y(v)o(ersion)f(in)g(curried)h
(form\227the)f(`predecessor')i(equations)e(are)357 456
y(the)24 b(hypotheses)f(of)i(the)g(rule')-5 b(s)24 b(only)g(case.)357
665 y(T)l(urning)h(to)i(the)f(`constructors)h(disjoint')e(result,)h(if)
h(we)h(think)d(of)357 815 y(`not')19 b(as)h(`implies)e(f)o(alse')i(and)
g(`f)o(alse')g(as)g(the)f(absurd)g(proposition)357 964
y(`an)o(ything)26 b(is)i(true',)h(we)f(disco)o(v)o(er)f(that)h(we)g
(had)g(an)g(elimination)357 1113 y(rule)d(all)f(along,)g(with)g(a)h
(fortunate)g(number)f(of)h(cases.)357 1323 y(I)g(shall)f(sho)n(w)g(ho)n
(w)g(to)g(pro)o(v)o(e)g(rules)g(lik)o(e)h(these)f(in)h(chapter)g(5.)p
2829 -102 884 4 v 2829 1035 4 1138 v 2882 7 a FZ(sInjectiv)n(e)2882
248 y FX(\010)k(:)e FI(Prop)3197 549 y FN(m)p F3(')p
FN(n)3185 648 y FY(:)17 b(:)g(:)f(:)h(:)g(:)3273 808
y FX(\010)p 3017 864 583 4 v 3017 871 358 4 v 3017 977
4 107 v 3045 951 a FZ(s)p FN(m)p F3(')p FZ(s)p FN(n)p
3371 977 V 3017 980 358 4 v 56 w F3(!)27 b FX(\010)p
3709 1035 4 1138 v 2829 1038 884 4 v 2829 1162 812 4
v 2829 1921 4 759 v 2882 1272 a FZ(0)p 2944 1272 30 4
v 37 w(not)p 3139 1272 V 35 w(s)2882 1512 y FX(\010)i(:)e
FI(Prop)p 3017 1730 512 4 v 3017 1737 286 4 v 3017 1863
4 126 v 3045 1837 a FZ(0)p F3(')q FZ(s)p FN(n)p 3299
1863 V 3017 1866 286 4 v 55 w F3(!)h FX(\010)p 3638 1921
4 759 v 2829 1924 812 4 v 357 2060 a F4(W)-8 b(e)22 b(should)f(not)g
(think)g(of)h(elimination)e(rules)i(as)g(solely)f(belonging)f(to)i
(datatypes)f(and)h(relations.)357 2210 y(The)o(y)29 b(also)h(pro)o
(vide)f(neat)h(tools)f(for)i(reasoning)e(about)h(functions.)45
b(After)31 b(all,)g(what)f(is)g(the)f(e)o(x-)357 2359
y(tension)f(of)i(a)g(function,)f(b)n(ut)g(a)h(relation)f(on)g(which)g
(a)h(total)f(and)g(deterministic)f(computational)357
2509 y(mode)c(has)h(been)g(imposed.)357 2718 y(An)37
b(equational)f(presentation)g(of)h(a)g(function)f(corresponds)h(to)f(a)
i(set)e(of)h(introduction)f(rules,)357 2868 y(with)28
b(recursi)n(v)o(e)g(calls)g(becoming)g(inducti)n(v)o(e)f(premises.)41
b(It)29 b(mak)o(es)f(sense)h(to)f(reason)h(about)f(the)357
3017 y(beha)n(viour)c(of)h(the)g(function)f(by)g(the)h(corresponding)f
(elimination)e(rule.)357 3227 y(Consider)30 b FZ(N)-63
b(NEq)p F4(\227the)29 b(function)g(which)h(decides)g(the)g(equal-)357
3376 y(ity)39 b(of)h(tw)o(o)f(natural)h(numbers.)75 b(Later)l(,)44
b(we)c(shall)f(see)h(ho)n(w)357 3525 y(to)32 b(de\002ne)i(it)e(by)g
(recursi)n(v)o(e)g(pattern)h(matching)f(equations)f(as)357
3675 y(sho)n(wn.)p 2719 3117 1068 4 v 2719 3649 4 532
v 2748 3227 a FZ(N)-63 b(NEq)53 b(0)72 b(0)42 b FX(=)22
b FZ(tr)r(ue)2748 3347 y(N)-63 b(NEq)22 b(s)p FP(m)41
b FZ(0)h FX(=)22 b FZ(f)l(alse)2748 3467 y(N)-63 b(NEq)53
b(0)f(s)p FP(n)23 b FX(=)f FZ(f)l(alse)2748 3588 y(N)-63
b(NEq)22 b(s)p FP(m)f FZ(s)p FP(n)i FX(=)f FZ(N)-63 b(NEq)22
b FP(m)g(m)p 3784 3649 V 2719 3652 1068 4 v 357 3812
a F4(The)28 b(corresponding)g(elimination)f(rule)i(allo)n(ws)e(us)h(to)
h(do)f(what)h(John)f(McCarthy)g(calls)g F0(r)n(ecur)l(-)357
3962 y(sion)23 b(induction)j F4([McC67],)e(ef)n(fecti)n(v)o(ely)e
(packaging)i(up)f(the)h(recursi)n(v)o(e)f(structure)h(of)g
FZ(N)-63 b(NEq)24 b F4(as)g(a)357 4111 y(single)g(induction)f
(principle.)p 601 4312 2604 4 v 601 5502 4 1190 v 654
4422 a FZ(N)-63 b(NEqRecI)654 4678 y FX(\010)28 b(:)g
F3(8)p FP(m)o FY(;)17 b FP(n)12 b FX(:)f FZ(N)-63 b(N)p
FY(:)22 b F3(8)p 1277 4581 103 4 v 1277 4704 4 124 v
28 w FP(b)p 1377 4704 V 1277 4707 103 4 v 40 w FX(:)11
b FZ(2)-44 b(2)p FY(:)23 b FI(Prop)788 5220 y FX(\010)g
FZ(0)f(0)g(tr)r(ue)120 b FX(\010)22 b FZ(0)g(s)p FP(n)h
FZ(f)l(alse)119 b FX(\010)23 b FZ(s)p FP(m)e FZ(0)i(f)l(alse)2697
4979 y FX(\010)f FP(m)g(n)h(b)2644 5078 y FY(:)17 b(:)g(:)f(:)h(:)g(:)f
(:)h(:)g(:)g(:)2658 5238 y FX(\010)23 b FZ(s)o FP(m)f
FZ(s)p FP(n)g(b)p 788 5294 2304 4 v 1444 5400 a F3(8)p
FP(m)p FY(;)17 b FP(n)p FY(:)23 b FX(\010)f FP(m)g(n)p
1995 5301 440 4 v 1995 5444 4 143 v 51 w FZ(N)-63 b(NEq)22
b FP(m)g(n)p 2432 5444 V 1995 5447 440 4 v 3201 5502
4 1190 v 601 5505 2604 4 v 2022 5667 a F4(59)p eop
%%Page: 60 65
60 64 bop 357 -6 a F4(Man)o(y)25 b(proofs)i(about)f(functions)f
(operate)i(by)g(choosing)e(the)i(right)e(combination)g(of)i(inductions)
357 144 y(and)33 b(case)i(analyses)e(on)h(the)g(ar)n(guments)f(to)g
(mak)o(e)h(the)g(computation)e(unfold.)57 b(Recursion)34
b(in-)357 293 y(duction)25 b(on)h(functions)g(does)g(a)o(w)o(ay)g(with)
g(the)g(apparent)h(cunning)e(of)i(this)e(choice)i(by)f(wrapping)357
443 y(up)g(`the)h(right)f(combination')f(in)h(a)h(deri)n(v)o(ed)f(rule)
h(which)f(tar)n(gets)g FU(applications)f F4(of)i(the)f(function)357
592 y(directly)-6 b(.)48 b(The)31 b(proof)g(of)h(a)f(recursion)g
(induction)f(principle)g(follo)n(ws)g(the)h(construction)e(of)i(the)357
742 y(function)24 b(it)g(describes,)g(step)h(by)f(step.)357
951 y(In)k(order)h(to)f(mak)o(e)h(proper)g(use)f(of)h(such)f(a)h
(recursion)f(induction)f(principle,)i(or)g(an)o(y)f(other)g(rule)357
1101 y(eliminating)18 b(a)i(function)g(application,)f(we)i(must)e
(choose)h(a)g(scheme)g FX(\010)h F4(which)f(abstracts)f(that)h(ap-)357
1250 y(plication)25 b(from)h(the)h(goal.)35 b(Each)27
b(subgoal)e(thus)h(replaces)h(the)g(application)e(by)h(the)h
(appropriate)357 1399 y(v)n(alue.)357 1609 y(Such)40
b(abstractions)f(are)i(usually)e(unnecessary)h(when)g(eliminating)e
(datatypes)i(or)g(relations.)357 1758 y(Ho)n(we)n(v)o(er)l(,)23
b(e)o(xactly)g(when)h(and)g(where)h(this)e(abstraction)g(beha)n(viour)h
(is)f(required)h(seems)g(to)g(v)n(ary)357 1908 y(from)36
b(rule)g(to)f(rule,)k(and)d(e)n(v)o(en)g(from)f(problem)h(to)f
(problem\227I)g(cannot)h(see)h(ho)n(w)e(to)h(infer)g(it)357
2057 y(reliably)24 b(from)h(the)f(structure)h(of)g(the)f(rule)h(or)g
(its)f(tar)n(get.)357 2267 y(The)32 b(user)g(must)f(be)h(free)h(to)f
(indicate)g(which)f(ar)n(guments)h(are)h(to)e(be)h(abstracted)h(in)e
(an)o(y)h(gi)n(v)o(en)357 2416 y(case\227I)h(put)f(a)i(box)e(in)h(the)f
(type)h(of)g(the)g(scheme)f(around)h(an)o(y)f(inde)o(x)g(for)i(which)e
(abstraction)357 2566 y(is)e(to)g(be)h(attempted.)48
b(When)30 b FP(b)h F4(is)f(box)o(ed)g(in)h FZ(N)-63 b(N)o(EqRecI)q
F4(,)32 b(it)e(indicates)g(that)h(we)g(w)o(ould)e(lik)o(e)i(to)357
2715 y(abstract)24 b(occurrences)i(of)f FX(\()p FZ(N)-63
b(NEq)22 b FP(m)g(n)p FX(\))j F4(as)g FP(b)p F4(.)357
2924 y(F)o(or)k(man)o(y)g(functions,)g(typically)f(of)i(a)g
(`searching')f(or)h(`testing')f(character)l(,)i(recursion)f(induc-)357
3074 y(tion)22 b(is)h(still)f(too)h(close)g(to)g(the)h(implementation)c
(to)j(be)h(really)f(useful.)30 b(F)o(or)24 b(e)o(xample,)e(re)o
(gardless)357 3223 y(of)32 b(ho)n(w)g(the)h(test)f(w)o(orks,)i(we)f
(should)e(lik)o(e)h(to)g(kno)n(w)g(that)g FZ(N)-63 b(NEq)33
b F4(returns)f FZ(tr)r(ue)g F4(for)h(equal)f(and)357
3373 y FZ(f)l(alse)j F4(for)g(unequal)g(ar)n(guments.)62
b(W)-8 b(e)36 b(can)g(represent)f(these)g(requirements)g(as)h(`e)o
(xtensional')357 3522 y(introduction)23 b(rules,)h(via)h(the)f
(propositional)f(equality:)357 3732 y(These)46 b(equations)f(may)h(not)
g(be)g(computational,)k(b)n(ut)c(we)h(can)357 3881 y(still)24
b(use)i(them)f(for)i(conditional)d(re)n(writing,)h(should)g(we)h(be)g
(luck)o(y)357 4031 y(enough)32 b(to)g(encounter)g(applications)f(of)i
FZ(N)-63 b(NEq)33 b F4(which)f(look)f(lik)o(e)357 4180
y(the)24 b(left)h(hand)g(sides.)p 2871 3622 917 4 v 2871
4131 4 509 v 3047 3709 663 4 v 3047 3787 a FZ(N)-63 b(NEq)23
b FP(x)f(x)g F3(')g FZ(tr)r(ue)3260 3935 y FP(x)49 b
F3(6)-11 b(')23 b FP(y)p 3034 3970 691 4 v 3034 4049
a FZ(N)-63 b(NEq)22 b FP(x)g(y)g F3(')g FZ(f)l(alse)p
3784 4131 4 509 v 2871 4134 917 4 v 357 4317 a F4(W)-8
b(e)25 b(are)g(often)g(less)f(luck)o(y)-6 b(.)30 b(Imagine)24
b(we)h(are)h(trying)e(to)g(pro)o(v)o(e)g(a)h(property)f(of)h(a)g
(program)601 4602 y F3(8)p FP(x)p FY(;)17 b FP(y)o FY(:)22
b FP(P)g FX(\()p F4(if)p 1055 4503 407 4 v 1055 4654
4 152 v 53 w FZ(N)-63 b(NEq)23 b FP(x)f(y)p 1458 4654
V 1055 4657 407 4 v 53 w F4(then)i FP(S)h F4(else)g FP(T)p
FX(\))357 4887 y F4(The)42 b(computation)f(is)h(block)o(ed)g(at)g(the)g
(box,)47 b(because)42 b(the)h(`if)5 b(')43 b(will)e(only)h(reduce)h(gi)
n(v)o(en)e(a)357 5036 y(boolean)30 b(v)n(alue,)h(and)f(inside)g(the)g
(box)h(because)f FP(x)h F4(and)f FP(y)h F4(are)g(not)f(numerals.)47
b(Neither)31 b(re)n(write)357 5185 y(rule)22 b(applies,)g(because)h(we)
g(do)f(not)f(kno)n(w)h(whether)g(or)g(not)g FP(x)h F4(and)f
FP(y)g F4(are)h(equal.)30 b(W)-8 b(e)23 b(can)f(remo)o(v)o(e)357
5335 y(the)34 b(blockage)g(if)h(we)g(split)e(the)h(problem)g(into)g
(the)g(tw)o(o)g(cases)h(where)g(the)f FZ(N)-63 b(NEq)35
b F4(call)g(returns)357 5484 y FZ(tr)r(ue)24 b F4(and)g
FZ(f)l(alse)h F4(respecti)n(v)o(ely)-6 b(.)2022 5667
y(60)p eop
%%Page: 61 66
61 65 bop 357 7 a F4(This)36 b(is)g(e)o(xactly)h(the)g(beha)n(viour)f
(of)h(the)g(in)l(v)o(ersion)357 157 y(principle)24 b(corresponding)g
(to)g(the)h(re)n(write)f(rules.)357 366 y(In)l(v)o(erting)45
b(a)i FZ(N)-63 b(NEq)47 b F4(call)g(yields)f(tw)o(o)g(cases:)75
b(one)357 516 y(where)34 b(the)h(ar)n(guments)e(are)i(the)f(same)h(and)
f(the)g(re-)357 665 y(sult)24 b(is)h FZ(tr)r(ue)o F4(,)g(the)g(other)g
(where)h(the)f(ar)n(guments)g(dif-)357 815 y(fer)g(and)g
FZ(f)l(alse)g F4(is)f(returned.)p 2384 -102 1403 4 v
2384 1088 4 1190 v 2413 7 a FZ(N)-63 b(NEqIn)n(v)2413
264 y FX(\010)28 b(:)g F3(8)p FP(m)o FY(;)17 b FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p 3036 167 103
4 v 3036 290 4 124 v 28 w FP(b)p 3135 290 V 3036 293
103 4 v 40 w FX(:)11 b FZ(2)-44 b(2)p FY(:)23 b FI(Prop)2547
806 y FX(\010)g FP(n)f(n)h FZ(tr)r(ue)3277 565 y FP(m)k
F3(6)-11 b(')p FP(n)3114 664 y FY(:)17 b(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)
f(:)h(:)g(:)f(:)3146 824 y FX(\010)22 b FP(m)g(n)h FZ(f)l(alse)p
2547 880 1128 4 v 2615 986 a F3(8)p FP(m)p FY(;)17 b
FP(n)p FY(:)23 b FX(\010)f FP(m)g(n)p 3166 887 440 4
v 3166 1030 4 143 v 51 w FZ(N)-63 b(NEq)22 b FP(m)g(n)p
3603 1030 V 3166 1033 440 4 v 3784 1088 4 1190 v 2384
1091 1403 4 v 357 1260 a F4(Again,)f(boxing)p 944 1163
103 4 v 944 1286 4 124 v 48 w FP(b)p 1044 1286 V 944
1289 103 4 v 49 w F4(indicates)g(that)f FX(\()p FZ(N)-63
b(NEq)9 b FP(m)f(n)p FX(\))21 b F4(is)g(to)g(be)g(abstracted)g(from)g
(the)g(scheme.)29 b(Conse-)357 1409 y(quently)-6 b(,)24
b(it)h(is)g(replaced)h(in)g(one)f(subgoal)g(by)g FZ(tr)r(ue)g
F4(and)h(in)f(the)h(other)f(by)g FZ(f)l(alse)p F4(.)33
b(In)26 b(both)f(cases,)357 1559 y(the)f(`if)5 b(')26
b(reduces\227further)l(,)f(in)f(the)h FZ(tr)r(ue)f F4(case,)h
FP(x)g F4(and)g FP(y)f F4(are)i(coalesced:)502 1861 y
F3(\017)49 b(8)p FP(x)p FY(:)22 b FX([)p FP(x)p FY(=)p
FP(y)o FX(]\()p FP(P)h(S)p FX(\))502 2090 y F3(\017)49
b(8)p FP(x)p FY(;)17 b FP(y)o FY(:)22 b FP(x)28 b F3(6)-11
b(')p FP(y)50 b F3(!)f FP(P)22 b(T)357 2393 y F4(In)l(v)o(ersion)g
(requires)i(much)g(less)f(ef)n(fort)h(than)f(e)o(xtracting)g(the)h
(same)g(information)e(from)i(`charac-)357 2542 y(terisation)f
(theorems')i(lik)o(e)f(the)h(follo)n(wing)e(\(from)h(the)j(L)t
F2(E)t(G)t(O)i F4(library\):)601 2824 y F3(8)p FP(m)o
FY(;)17 b FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FP(m)o
F3(')q FP(n)28 b F3($)f FZ(N)-63 b(NEq)23 b FP(m)e(n)q
F3(')p FZ(tr)r(ue)357 3105 y F4(T)-8 b(o)23 b(achie)n(v)o(e)g(the)h(ef)
n(fect)g(of)f(the)h(in)l(v)o(ersion,)e(you)h(need)h(to)f(combine)g
(this)f(lemma)h(with)g(projection)357 3255 y(from)h(the)h(`)p
F3($)p F4(',)g(boolean)f(case)h(analysis)f(and)h(a)g(re)n(writing)f
(mechanism.)359 3464 y(M)t F2(A)t(N)t(T)t(R)t(A)r F4(:)601
3745 y(In)l(v)o(ert)g(the)h(blocking)e(computation.)357
4027 y(The)33 b(point)f(is)g(simple.)55 b(Introduction)32
b(rules)g(construct)h(information.)54 b(Elimination)31
b(rules)h(e)o(x-)357 4176 y(ploit)27 b(information.)41
b(It)29 b(is)f(a)h(serious)f(weakness)h(to)f(confuse)h(these)f
(purposes.)42 b(In)29 b(my)f(vie)n(w)-6 b(,)28 b(an)357
4326 y(equational)c(speci\002cation)h(is)g(the)g(wrong)g(tool)f(to)h(e)
o(xploit)f(the)h(properties)g(of)g(one)g(program)g(in)g(a)357
4475 y(proof)i(about)g(another)-5 b(.)39 b(By)28 b(construction,)e
(elimination)g(rules,)i(especially)f(those)g(which)g(in)l(v)o(ert)357
4625 y(block)o(ed)g(computations,)g(are)i(much)e(better)h(tools)f(for)h
(that)g(purpose.)39 b(Ov)o(er)28 b(the)g(course)g(of)g(this)357
4774 y(thesis,)23 b(you)i(will)f(see)h(this)f(point)f(reinforced)j(in)e
(e)o(xample)g(after)h(e)o(xample.)357 5172 y FT(3.4)142
b(legitimate)34 b(tar)o(gets)357 5484 y F4(In)25 b(order)g(to)f
(re\002ne)i(a)f(goal)f(by)h(an)g(elimination)e(rule,)h(we)i(must)d(do)i
(tw)o(o)f(things:)2022 5667 y(61)p eop
%%Page: 62 67
62 66 bop 502 -6 a F3(\017)49 b F4(select)24 b(a)h(tar)n(get)g(of)g
(the)g(kind)f(the)h(rule)f(eliminates)502 226 y F3(\017)49
b F4(construct)24 b(a)h(suitable)f(scheme)g(from)h(the)g(goal)357
516 y(I)k(shall)f(discuss)g(the)h(latter)g(in)g(the)f(ne)o(xt)h
(section,)g(b)n(ut)f(the)h(\002rst)g(issue)g(requires)g(comment)f(no)n
(w)-6 b(,)357 665 y(because)25 b(it)f(impacts)g(on)h(ho)n(w)f(we)h
(should)e(present)i(elimination)e(rules)h(in)h(the)f(\002rst)h(place.)
357 875 y(The)34 b(point)f(is)h(that,)i(in)e(order)h(to)e(be)i(able)f
(to)g(select)g(a)h(tar)n(get,)i(we)d(must)f(kno)n(w)h(what)g(kind)f(of)
357 1024 y(tar)n(get)28 b(the)g(rule)g(eliminates.)39
b(W)-8 b(e)29 b(must)e(de\002ne)i(what)f(it)f(means)h(to)g(be)g(a)g
(`le)o(gitimate)f(tar)n(get')h(of)357 1174 y(a)e(rule,)h(so)f(that)g
(when)g(we)h(tell)f(the)g(machine)g(which)g(rule)h(we)f(w)o(ant)g(to)g
(use,)h(it)f(can)h(tell)e(us)i(what)357 1323 y(we)e(may)f(use)h(it)f
(on.)357 1533 y(As)30 b(we)h(ha)n(v)o(e)g(just)f(seen,)i(there)f(are)h
(man)o(y)e(dif)n(ferent)g(kinds)g(of)h(elimination)e(rule,)j
(eliminating)357 1682 y(man)o(y)f(dif)n(ferent)i(kinds)e(of)i(tar)n
(get.)54 b(The)33 b(elimination)e(rule)h(for)h(a)g(datatype)g
(eliminates)e(an)i(ar)n(-)357 1832 y(bitrary)j(element)h(of)g(that)f
(type,)k(abstracted)c(in)h(the)g(rule)g(and)f(appearing)h(in)g(the)f
(concluding)357 1981 y(pattern:)601 2271 y F3(8)p 656
2172 280 4 v 656 2297 4 126 v 28 w FP(n)28 b FX(:)g FZ(N)-63
b(N)p 932 2297 V 656 2300 280 4 v 28 w FY(:)22 b FX(\010)h
FP(n)357 2561 y F4(In)l(v)o(erting)k(an)i(inducti)n(v)o(ely)d
(de\002ned)j(relation)f(lik)o(e)g F3(\024)h F4(eliminates)f
(hypothetical)e(inhabitants)h(of)357 2710 y(the)e(relation,)h(b)n(ut)f
(the)h(pattern)f(\()p FX(\010)f FP(m)e(n)p F4(\))k(only)f(in)l(v)n(olv)
o(es)g(the)g(relation')-5 b(s)25 b(indices)g(\()p FP(m)h
F4(and)f FP(n)q F4(\),)h(not)357 2860 y(the)e(tar)n(get)h(\(the)g
(proof)g(of)g FP(m)o F3(\024)q FP(n)p F4(\))g(itself:)601
3150 y F3(8)p FP(m)o FY(;)17 b FP(n)q FY(:)p 882 3061
267 4 v 882 3188 4 127 v 50 w FP(m)o F3(\024)q FP(n)p
1145 3188 V 882 3191 267 4 v 78 w F3(!)50 b FX(\010)22
b FP(m)g(n)357 3439 y F4(An)i(elimination)f(rule)i(for)g(a)g(function)f
(speci\002cally)g(eliminates)g(applications)f(of)i(that)f(function,)357
3589 y(rather)29 b(than)g(arbitrary)g(elements)f(of)h(the)f(result)h
(type,)g(so)g(the)g(tar)n(get)g(appears)g(only)f(in)h(the)f(pat-)357
3738 y(terns.)601 4028 y F3(8)p FP(m)o FY(;)17 b FP(n)q
FY(:)22 b FX(\010)g FP(m)g(n)p 1152 3929 440 4 v 1152
4072 4 143 v 51 w FZ(N)-63 b(NEq)22 b FP(m)g(n)p 1588
4072 V 1152 4075 440 4 v 357 4318 a F4(More)f(di)n(v)o(erse)g(v)n
(ariations)f(include)h(`double)g(induction',)g(where)h(we)g(must)f(pro)
o(vide)f(tw)o(o)h(tar)n(gets)357 4468 y(for)37 b(a)g(nested)g
(analysis.)67 b(There)37 b(is)g(no)f(w)o(ay)i(we)f(can)g(e)o(xpect)g(a)
g(machine)g(to)g(cope)g(with)f(this)357 4617 y(di)n(v)o(ersity)-6
b(,)22 b(looking)h(only)h(at)h(a)g(type)g(and)f(trying)g(to)h
(second-guess)f(the)g(intention)g(behind)g(it.)357 4827
y(Let)49 b(us)g(place)h(the)g(b)n(urden)f(of)h(specifying)e(what)i(an)f
(elimination)f(rule)h(tar)n(gets)h(where)g(it)357 4976
y(belongs\227with)30 b(the)j(manuf)o(acturer)g(of)f(the)h(rule.)54
b(In)33 b(the)g(Northern)f(Irish)g(tradition,)i(a)f(le)o(giti-)357
5125 y(mate)24 b(tar)n(get)h(is)g(whate)n(v)o(er)f(we)h(say)f(it)h(is.)
357 5335 y(Consequently)-6 b(,)34 b(the)g(box)o(es)f(around)h(tar)n
(gets)g(become)g(more)g(than)f(a)i(notational)d(courtesy)i(be-)357
5484 y(tween)25 b(you)g(and)h(me\227the)o(y)d(are)k(annotations)d
(which)h(the)g(machine)g(can)h(also)f(see.)33 b(One)25
b(w)o(ay)h(to)2022 5667 y(62)p eop
%%Page: 63 68
63 67 bop 357 -6 a F4(represent)32 b(such)f(annotations)f(is)h(to)h
(store)f(the)h(box)o(ed)f(term)g(and)h(type)f(in)g(a)h(f)o(atuous)f
FX(!)p F4(-binding)357 144 y(with)24 b(a)h(special)f(identi\002er)l(,)h
(`)p FD(2)p F4(',)h(belo)n(w:)502 460 y F3(\017)49 b(8)p
FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(!)p FD(2)28
b FX(=)f FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FX(\010)h
FP(n)502 693 y F3(\017)49 b(8)p FP(m)o FY(;)17 b FP(n)q
FY(:)22 b F3(8)p FP(H)11 b FX(:)g FP(m)o F3(\024)q FP(n)p
FY(:)22 b FX(!)p FD(2)29 b FX(=)e FP(H)11 b FX(:)g FP(m)o
F3(\024)q FP(n)p FY(:)23 b FX(\010)f FP(m)g(n)502 925
y F3(\017)49 b(8)p FP(m)o FY(;)17 b FP(n)q FY(:)22 b
FX(!)p FD(2)28 b FX(=)g FZ(N)-63 b(NEq)22 b FP(m)g(n)11
b FX(:)g FZ(2)-44 b(2)p FY(:)23 b FX(\010)f FP(m)g(n)h
FX(\()p FZ(N)-63 b(NEq)22 b FP(m)f(n)q FX(\))357 1241
y F4(Gi)n(v)o(en)d(the)i(`manuf)o(acturer')-5 b(s)20
b(instructions',)f(the)h(machine)g(can)g(ask)g(us)g(for)h(le)o
(gitimate)d(tar)n(gets)i(in)357 1391 y(the)h(order)g(that)f(the)h
(annotations)f(appear)h(in)g(the)g(type.)29 b(When)21
b(we)g(indicate)g(what)g(to)f(eliminate,)h(a)357 1540
y(process)h(kno)n(wn)f(in)h(the)g(b)n(usiness)f(as)h
F0(\002ngering)p F4(,)i(the)e(machine)g(can)g(match)g(it)g(against)f
(the)h(tar)n(get)357 1690 y(annotation,)h(inferring)i(the)f(uni)n(v)o
(ersally)f(quanti\002ed)h(v)n(ariables)g(therein.)357
1899 y(This)38 b(opens)g(the)h(interesting)f(possibility)e(that)j(the)g
(type)f(of)h(an)h(elimination)d(rule)i(might)e(be)357
2049 y(computed)26 b(from)i(its)e(tar)n(gets.)39 b(After)28
b(all,)g(we)g(cannot)f(compute)g(the)g(elimination)f(scheme)h(until)357
2198 y(we)i(kno)n(w)f(what)h(it)g(is)g(we)h(intend)e(to)h(eliminate.)43
b(W)-8 b(e)29 b(will)g(see)g(an)h(e)o(xample)e(of)i(this)e(technique)
357 2347 y(later)n(\227the)23 b(`injecti)n(vity')e(and)j(`con\003ict')g
(rules)f(for)h(a)f(gi)n(v)o(en)f(datatype)i(will)e(be)i(combined)e
(into)h(a)357 2497 y(single)i(rule)h(which)f(computes)g(the)h(in)l(v)o
(ersion)f(appropriate)g(to)h(the)g(equation)f(being)h(eliminated)357
2646 y(once)g(tar)n(getting)e(has)i(instantiated)e(the)h(tw)o(o)h
(sides)e(with)h(constructor)g(e)o(xpressions.)32 b(This)25
b(is)g(not)357 2796 y(a)k(caprice)h(on)e(my)h(part\227it)f(really)g(is)
h(the)g(easy)g(w)o(ay)g(to)f(pro)o(v)o(e)g(the)h(Peano-style)g
(properties)f(of)357 2945 y(dependent)c(datatypes.)357
3345 y FT(3.5)142 b(scheming)34 b(with)h(constraints)601
3627 y FV(`Y)-11 b(ou)24 b(can)h(ha)n(v)o(e)g(an)o(y)f(color)h(you)f
(lik)o(e,)g(as)h(long)f(as)h(it')-5 b(s)24 b(black.)-7
b(')223 b F4(\(Henry)25 b(F)o(ord\))357 3944 y(Under)n(graduates)d
(should)e(count)i(themselv)o(es)e(fortunate)i(that)f(the)h(e)o(x)o
(ercises)f(in)h(inducti)n(v)o(e)d(proof)357 4093 y(with)24
b(which)g(the)o(y)g(are)i(traditionally)d(presented)h(in)l(v)n(olv)o(e)
g(goals)g(of)h(form:)601 4410 y(`F)o(or)g(all)f FY(n)k
F3(2)g FZ(N)-63 b(N)p F4(,)25 b(rhubarb)f(rhubarb)h FY(n)p
F4(.)-7 b(')357 4726 y(The)30 b(formulation)f(of)h(the)g(`base')h(and)g
(`step')f(cases)g(then)g(in)l(v)n(olv)o(es)f(mindless)g(cop)o(ying)g
(of)h(the)357 4876 y(`rhubarb')24 b(bit,)f(with)g(appropriate)h(v)n
(alues)f(substituted)e(for)j(the)g(`)p FY(n)p F4('.)31
b(Ev)o(en)23 b(if)h(the)o(y)f(cannot)g(com-)357 5025
y(plete)h(the)g(question,)f(the)o(y)h(can)g(still)f(manuf)o(acture)i
(the)f(proof)g(template)g(\(once)g(an)o(y)g(tendenc)o(y)g(to)357
5174 y(write)h(`suppose)h FY(n)k FX(=)f FY(k)s F4(,)e(sho)n(w)e
FY(n)30 b FX(=)f FY(k)d FX(+)d(1)p F4(')j(has)g(been)g(beaten)g(out)g
(of)g(them,)f(that)h(is\))f(and)h(thus)357 5324 y(collect)e(some)g
(credit.)1134 5288 y FS(2)p 357 5393 1373 4 v 473 5454
a FR(2)506 5484 y FQ(F)o(or)c(such)g(purposes)f(`rhubarb)e(rhubarb')h
(mak)o(es)i(as)h(w)o(orthy)e(a)h(predicate)f(as)i(an)o(y)-5
b(.)2022 5667 y F4(63)p eop
%%Page: 64 69
64 68 bop 357 -6 a F4(When)29 b(reasoning)g(about)g(e)n(v)o(en)g
(modestly)f(comple)o(x)h(notions,)g(such)g(as)h F3(\024)g
F4(for)g FZ(N)-63 b(N)p F4(,)31 b(we)e(are)i(less)357
144 y(lik)o(ely)g(to)i(be)g(f)o(a)n(v)n(oured)g(by)f(goals)g(bearing)h
(so)f(close)h(a)g(resemblence)f(to)h(an)g(elimination)d(rule)357
293 y(conclusion,)23 b(such)i(as)g(that)f(of)h F3(\024)p
FZ(In)n(v)p F4(:)601 553 y F3(\024)p FZ(In)n(v)i FX(:)h
FY(:)17 b(:)g(:)f F3(8)p FP(m)p FY(;)h FP(n)p FY(:)p
1309 465 267 4 v 1309 591 4 127 v 51 w FP(m)o F3(\024)p
FP(n)p 1573 591 V 1309 594 267 4 v 79 w F3(!)49 b FX(\010)23
b FP(m)f(n)357 812 y F3(\024)p FZ(In)n(v)p F4(')-5 b(s)34
b(scheme)g(abstracts)h(o)o(v)o(er)f(arbitrary)g(pairs)h(of)g(natural)f
(numbers,)i(b)n(ut)e(ho)n(w)g(are)i(we)f(to)357 962 y(deal)e(with)f
(less)h(arbitrary)h(pairs?)56 b(Ho)n(w)32 b(can)i(we)f(cope)h(with)e
(particular)h(restrictions)f(of)i(rela-)357 1111 y(tions,)25
b(datatypes)g(and)g(so)h(forth?)34 b(Ho)n(w)25 b(might)f(we)i(apply)g
(a)g(generic)g(rule)g(lik)o(e)f F3(\024)q FZ(In)n(v)g
F4(to)g(a)h(more)357 1261 y(restricted)e(instance)h(of)g
F3(\024)p F4(?)31 b(Consider)25 b(the)f(box)o(ed)g(hypothesis)f(in)601
1520 y FX(?)p FZ(0)p FP(least)k FX(:)h F3(8)p FP(x)p
FY(:)p 1121 1421 239 4 v 1121 1559 4 138 v 51 w FP(x)o
F3(\024)q FZ(0)p 1357 1559 V 1121 1562 239 4 v 78 w F3(!)49
b FP(x)p F3(')q FZ(0)357 1780 y F4(W)-8 b(e)24 b(need)g(to)g(construct)
f(a)h(scheme)g(which)g(is)f(constrained)h(according)g(to)f(the)h
(problem)f(in)h(hand,)357 1929 y(b)n(ut)j(still)g(abstracted)h(o)o(v)o
(er)f(the)h(entire)g(aperture)g(of)g(the)g(rule.)40 b(The)28
b(constraint)f(we)i(need)f(can)g(be)357 2079 y(e)o(xpressed)c(by)g
(means)h(of)g(propositional)e(equality)-6 b(,)23 b(taking)601
2338 y FX(\010)50 b(=)g FY(\025)p FP(x)o FY(;)17 b FP(n)p
FY(:)23 b FP(n)p F3(')p FZ(0)50 b F3(!)g FP(x)p F3(')p
FZ(0)357 2598 y F4(As)24 b(it)h(were,)g(`you)f(can)i(ha)n(v)o(e)e(an)o
(y)g FP(n)29 b FX(:)e FZ(N)-63 b(N)25 b F4(you)f(lik)o(e,)h(as)g(long)f
(as)h(it')-5 b(s)23 b FZ(0)p F4('.)357 2807 y(Plugging)g(in)i(this)f
(scheme,)g(the)h(conclusion)f(of)g F3(\024)q FZ(In)n(v)g
F4(becomes)601 3066 y F3(8)p FP(m)o FY(;)17 b FP(n)q
FY(:)p 882 2978 267 4 v 882 3105 4 127 v 50 w FP(m)o
F3(\024)q FP(n)p 1145 3105 V 882 3108 267 4 v 78 w F3(!)50
b FP(n)p F3(')q FZ(0)g F3(!)f FP(m)p F3(')p FZ(0)357
3326 y F4(No)n(w)-6 b(,)23 b(if)i(we)g(\002ll)g(in)f(the)h(details)f
(of)h(our)f(selected)h(tar)n(get,)g FP(x)p F3(\024)p
FZ(0)q F4(,)f(this)g(is)h(further)g(instantiated)e(to)601
3585 y FZ(0)p F3(')p FZ(0)50 b F3(!)g FP(x)p F3(')p FZ(0)357
3845 y F4(and)24 b(we)i(can)f(surely)f(pro)o(v)o(e)g
FZ(0)p F3(')q FZ(0)p F4(\227let)g(us)g(presume)h(there)g(is)f(some)601
4104 y FZ(re\003)j FX(:)h F3(8)p FP(A)15 b FX(:)c FI(Type)p
FY(:)22 b F3(8)p FP(a)12 b FX(:)f FP(A)t FY(:)22 b FP(a)p
F3(')q FP(a)357 4364 y F4(More)36 b(generally)-6 b(,)39
b(suppose)d(we)g(ha)n(v)o(e)h(an)g(elimination)d(rule)j(pro)o(v-)357
4513 y(ing)32 b(some)h(scheme)g FX(\010)h F4(for)g(patterns)1689
4506 y FY(~)1696 4513 y FP(p)p FX([)1766 4506 y FY(~)1773
4513 y FP(y)p FX(])p F4(,)h(as)f(sho)n(wn)e(to)h(the)g(right.)357
4663 y(The)24 b(notation)879 4656 y FY(~)886 4663 y FP(p)p
FX([)956 4656 y FY(~)963 4663 y FP(y)p FX(])g F4(represents)g(the)g
(sequence)g(of)g(patterns)g(with)f(the)357 4812 y(pattern)31
b(v)n(ariables)f(abstracted:)44 b(more)31 b(generally)-6
b(,)2180 4805 y FY(~)2187 4812 y FP(p)p FX([)2249 4791
y FY(~)2264 4812 y FP(t)q FX(])31 b F4(means)g(`the)357
4962 y(patterns)24 b(with)g FP(t)p F4(')-5 b(s)25 b(substituted)d(for)j
(the)g FP(y)p F4(')-5 b(s'.)p 2947 4255 841 4 v 2947
4811 4 557 v 3000 4364 a FX(\010)28 b(:)g F3(8)3190 4357
y FY(~)3208 4364 y FP(\021)p FY(:)22 b FI(U)3135 4619
y FU(rule)i(subgoals)p 3135 4647 540 4 v 3204 4729 a
F3(8)3252 4722 y FY(~)3259 4729 y FP(y)p FY(:)e FX(\010)3444
4722 y FY(~)3451 4729 y FP(p)p FX([)3521 4722 y FY(~)3528
4729 y FP(y)p FX(])p 3784 4811 4 557 v 2947 4814 841
4 v 357 5125 a F4(W)-8 b(e)23 b(may)h(apply)e(this)h(rule)g(to)g(a)h
(more)f(speci\002c)h(goal\227let)e(us)h(presume)g(that)g(tar)n(getting)
g(has)g(pro-)357 5275 y(duced)d(a)g(matching)f FY(\033)24
b F4(gi)n(ving)18 b(the)i(rule')-5 b(s)19 b(pattern)h(v)n(ariables)f
(in)h(terms)f(of)h(the)g(goal')-5 b(s)19 b(hypotheses.)357
5484 y(That)24 b(is,)g(consider)h(a)g(goal)g(which)f(looks)g(lik)o(e)
2022 5667 y(64)p eop
%%Page: 65 70
65 69 bop 601 -6 a F3(8)649 -13 y FY(~)656 -6 y FP(x)p
FY(:)22 b FX(\011[)851 -13 y FY(~)858 -6 y FP(p)p FX([)p
FY(\033)986 -13 y(~)994 -6 y FP(y)p FX(]])357 309 y F4(W)-8
b(e)25 b(may)f(choose)h(a)g(scheme)g FX(\010)g F4(with)f(e)o(xplicit)f
(equational)h(constraints:)601 624 y FY(\025)640 617
y(~)658 624 y FP(\021)o FY(:)e F3(8)782 617 y FY(~)789
624 y FP(x)q FY(:)871 617 y(~)889 624 y FP(\021)o F3(')987
617 y FY(~)994 624 y FP(p)p FX([)p FY(\033)1122 617 y(~)1130
624 y FP(y)p FX(])27 b F3(!)h FX(\011[)1458 617 y FY(~)1465
624 y FP(p)p FX([)p FY(\033)1593 617 y(~)1601 624 y FP(y)p
FX(]])357 939 y F4(What)i(is)683 932 y FY(~)701 939 y
FP(\021)o F3(')799 932 y FY(~)806 939 y FP(p)p FX([)p
FY(\033)934 932 y(~)942 939 y FP(y)p FX(])p F4(?)49 b(It)31
b(is)f(a)h F0(telescopic)g(equation)p F4(:)44 b(in)30
b(general,)j(if)2796 932 y FY(~)2808 939 y FP(s)e F4(and)3037
918 y FY(~)3053 939 y FP(t)g F4(are)g(sequences)g(of)357
1089 y(length)24 b FY(n)p F4(,)h(then)f(the)h(telescopic)f(equation)
1861 1082 y FY(~)1873 1089 y FP(s)p F3(')1974 1067 y
FY(~)1989 1089 y FP(t)h F4(abbre)n(viates)g(the)f(telescope)h(of)g
(equations:)601 1404 y F3(f)o FP(s)689 1419 y FL(j)726
1404 y F3(')p FP(t)836 1419 y FL(j)873 1404 y F3(g)923
1355 y FL(n)923 1436 y(j)357 1719 y F4(Observ)o(e,)d(though,)f(that)h
(we)g(must)f(be)h(able)g(to)g(e)o(xpress)f(these)h(constraints)f(e)n(v)
o(en)g(in)h(the)g(presence)357 1868 y(of)j(type)f(dependenc)o(y)-6
b(.)30 b(F)o(or)24 b(e)o(xample,)g(if)h(we)g(were)h(b)n(uilding)d
(constraints)g(on)i(an)g(aperture)601 2159 y FP(n)j FX(:)f
FZ(N)-63 b(N)p FX(;)17 b FP(v)27 b FX(:)h FZ(v)n(ect)23
b FP(n)357 2449 y F4(we)i(might)e(need)i(something)e(lik)o(e)601
2740 y FP(n)656 2755 y FM(1)695 2740 y F3(')q FP(n)828
2755 y FM(2)868 2740 y FX(;)17 b FP(v)961 2755 y FM(1)1001
2740 y F3(')p FP(v)1128 2755 y FM(2)357 3031 y F4(e)n(v)o(en)j(though)h
FP(v)911 3046 y FM(1)978 3031 y FX(:)28 b FZ(v)n(ect)10
b FP(n)1314 3046 y FM(1)1375 3031 y F4(and)22 b FP(v)1591
3046 y FM(2)1658 3031 y FX(:)28 b FZ(v)n(ect)10 b FP(n)1994
3046 y FM(2)2034 3031 y F4(.)30 b(That)21 b(is,)h(we)f(need)h(a)g
(notion)e(of)i(equality)f(which)357 3180 y(scales)k(to)f
(telescopes\227e)o(xactly)f(what)i F3(')g F4(will)f(pro)o(vide.)357
3389 y(Let)30 b(us)g(instantiate)f(the)i(rule')-5 b(s)30
b(conclusion,)g(\002lling)g(in)g(the)h(pattern)f(v)n(ariables)g
(according)g(to)g FY(\033)357 3539 y F4(and)24 b FX(\010)i
F4(with)e(the)h(scheme)f(we)h(ha)n(v)o(e)g(constructed:)601
3854 y F3(8)649 3847 y FY(~)656 3854 y FP(x)p FY(:)748
3847 y(~)755 3854 y FP(p)p FX([)p FY(\033)883 3847 y(~)891
3854 y FP(y)p FX(])p F3(')1038 3847 y FY(~)1045 3854
y FP(p)p FX([)p FY(\033)1173 3847 y(~)1181 3854 y FP(y)p
FX(])j F3(!)f FX(\011[)1509 3847 y FY(~)1516 3854 y FP(p)p
FX([)p FY(\033)1644 3847 y(~)1652 3854 y FP(y)p FX(]])357
4169 y F4(If)33 b(we)h(can)g(solv)o(e)e(the)h(equations,)h(we)g(will)e
(reco)o(v)o(er)h(the)g(tar)n(get)h(goal.)55 b(F)o(ortunately)-6
b(,)34 b(the)o(y)f(are)357 4318 y(re\003e)o(xi)n(v)o(e.)357
4528 y(The)g(point)f(is)h(this:)47 b(in)33 b(much)g(the)g(same)g(w)o
(ay)h(that)e(Henry)i(F)o(ord')-5 b(s)33 b(customers)f(could)h(ask)g
(for)357 4677 y(an)o(y)25 b(colour)g(of)g(Model)g(T)-7
b(,)25 b(b)n(ut)g(w)o(ould)g(only)f(recei)n(v)o(e)i(satisf)o(action)e
(if)h(the)o(y)g(happened)g(to)h(choose)357 4827 y(black,)i(the)f(abo)o
(v)o(e)g(scheme)g(is)h(indeed)f(abstracted)h(o)o(v)o(er)e(the)i(entire)
g(aperture,)g(b)n(ut)f(the)h(patterns)357 4976 y(to)c(which)g(it)g
(applies)f(are)i(subject)f(to)g(equational)g(constraints)f(which)h
(reco)o(v)o(er)g(their)g(speci\002city)-6 b(.)357 5185
y(Notice)31 b(that)h(the)g(formulation)f(of)h(this)f(scheme)h(requires)
g(no)g(abstraction.)51 b(The)33 b FX(\011)o([)3397 5178
y FY(~)3404 5185 y FP(p)p FX([)p FY(\033)3532 5178 y(~)3540
5185 y FP(y)p FX(]])g F4(re-)357 5335 y(mains)24 b(untouched.)31
b(It)26 b(is)e(tar)n(getting)h(which)g(identi\002es)f(the)2475
5328 y FY(~)2482 5335 y FP(p)p FX([)p FY(\033)2610 5328
y(~)2618 5335 y FP(y)p FX(])p F4(\227the)o(y)g(need)i(not)e(e)n(v)o(en)
h(occur)357 5484 y(in)f(the)h(goal,)f(although)g(the)g(e)o(x)o(ercise)h
(is)f(perhaps)h(a)g(little)f(pointless)f(if)h(the)o(y)g(do)h(not.)2022
5667 y(65)p eop
%%Page: 66 71
66 70 bop 357 -6 a F4(W)-8 b(e)36 b(ha)n(v)o(e)f(established)f(the)h
(basic)g(technique)g(for)h(constructing)e(schemes)h(when)g(our)h(goal)f
(is)357 144 y(more)26 b(speci\002c)h(than)e(the)i(conclusion)e(of)h
(the)g(elimination)e(rule.)36 b(It)26 b(is)g(broadly)f(ef)n(fecti)n(v)o
(e,)h(b)n(ut)g(it)357 293 y(sometimes)c(generates)h(redundant)g
(information.)29 b(F)o(or)24 b(e)o(xample,)f(constraints)f(are)i
(unnecessary)357 443 y(where)n(v)o(er)h(the)h(goal)f(really)h(is)f(as)h
(general)g(as)g(the)f(rule\227there)h(is)f(no)h(point)e(in)i(saying)e
(`you)i(can)357 592 y(ha)n(v)o(e)21 b(an)o(y)g(color)g(you)h(lik)o(e,)f
(as)h(long)f(as)g(it')-5 b(s)21 b(a)h(color'.)29 b(W)-8
b(e)22 b(should)f(try)g(to)g(a)n(v)n(oid)g(equations)g(where)357
742 y(abstraction)j(will)g(do.)357 951 y(The)i(ne)o(xt)f(three)i
(subsections)d(describe)j(techniques)e(to)h(mak)o(e)g(the)g(basic)g
(scheme)g(less)g(clumsy)-6 b(,)357 1101 y(in)24 b(accordance)i(with)e
(the)h(follo)n(wing)e(three)i(observ)n(ations:)502 1393
y F3(\017)49 b F4(where)n(v)o(er)29 b(a)h(fresh)g(v)n(ariable)f(is)g
(constrained)g(to)g(equal)g(an)h(inde)o(x,)g(we)f(can)h(coalesce)g(the)
601 1542 y(tw)o(o)24 b(and)h(remo)o(v)o(e)e(the)i(constraint)502
1775 y F3(\017)49 b F4(we)25 b(can)g(a)n(v)n(oid)f(abstracting)g(the)h
(scheme)g(o)o(v)o(er)e(redundant)i(information)502 2007
y F3(\017)49 b F4(if)37 b(an)g(inde)o(x)f(is)h(constrained)g(to)f
(equal)i(a)f(comple)o(x)f(pattern)h(\(for)h(e)o(xample,)h(when)e(we)601
2157 y(apply)24 b(an)h(elimination)d(rule)j(characterising)g(a)g
(function\))f(we)h(may)f(sometimes)f(simplify)601 2306
y(the)h(scheme)h(by)f(replacing)h(copies)f(of)h(the)g(pattern)g(with)f
(the)g(inde)o(x)357 2661 y FB(3.5.1)118 b(simpli\002cation)31
b(by)f(coalescence)357 2938 y F4(The)22 b(simpler)g(the)g(e)o(xample,)h
(the)f(more)h(unnecessary)f(constraints)g(there)h(are)g(lik)o(ely)f(to)
g(be:)29 b(if)23 b(we)357 3088 y(w)o(anted)h(to)h(pro)o(v)o(e)601
3380 y F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)48
b F4(rhubarb)24 b(rhubarb)h FP(n)357 3672 y F4(the)f(generic)h
(constrained)g(scheme)f(w)o(ould)g(be)601 3965 y FY(\025)p
FP(m)10 b FX(:)h FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FP(m)p F3(')p FP(n)51
b F3(!)24 b F4(rhubarb)h(rhubarb)g FP(n)357 4257 y F4(This)31
b(is)h(not)f(the)h(scheme)g(which)f(I)i(w)o(ant)e(my)h(students)f(to)g
(write)h(do)n(wn,)h(so)e(it)h(had)g(better)g(not)357
4407 y(be)23 b(the)g(scheme)g(which)g(the)g(machine)g(computes.)29
b(Where)n(v)o(er)23 b(a)h(scheme)f(constrains)f(a)i FY(\025)p
F4(-bound)357 4556 y(inde)o(x)31 b(to)h(a)h(equal)g(fresh)g
F3(8)p F4(-bound)f(v)n(ariable)g(of)g(the)h(same)f(type,)i(we)f(may)f
(coalesce)h(the)g(tw)o(o.)357 4706 y(Our)25 b(e)o(xample)e(becomes)601
4998 y FY(\025)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)47
b F4(rhubarb)25 b(rhubarb)g FP(n)357 5291 y F4(as)g(we)g(might)e(hope)i
(for)-5 b(.)2022 5667 y(66)p eop
%%Page: 67 72
67 71 bop 357 -6 a F4(When)23 b(we)g(coalesce)h(tw)o(o)e(v)n(ariables,)
h(we)g(ha)n(v)o(e)g(a)h(choice)f(of)g(which)g(name)g(to)f(k)o
(eep\227it)h(is)f(polite)357 144 y(to)33 b(preserv)o(e)i(the)f(name)g
(from)f(the)h(goal.)59 b(Note)33 b(that)h(if)g(the)g(same)g
F3(8)p F4(-bound)g(v)n(ariable)g(is)f(con-)357 293 y(strained)f(to)g
(equal)g(more)h(than)f(one)g(inde)o(x,)i(that)e(ef)n(fecti)n(v)o(ely)f
(forces)i(those)f(indices)g(to)g(be)g(the)357 443 y(same\227we)24
b(may)h(only)f(mak)o(e)g(one)h(coalescence,)h(otherwise)e(we)h(lose)f
(this)g(`diagonalisation'.)357 795 y FB(3.5.2)118 b(what)31
b(to)e(\002x,)h(what)g(to)g(abstract)357 1072 y F4(Which)24
b(of)g(the)h(goal')-5 b(s)23 b(premises)h(do)g(we)h(really)f(w)o(ant)g
(the)g(scheme)h(to)f(abstract?)30 b(Which)25 b(should)357
1221 y(remain)36 b(\002x)o(ed)g(o)o(v)o(er)g(the)h(whole)f(scope)g(of)h
(the)f(elimination?)65 b(Unfortunately)-6 b(,)38 b(these)e(can)h(be)357
1370 y(quite)28 b(subtle)g(questions.)41 b(Imagine,)29
b(for)g(e)o(xample,)g(that)f(we)i(are)f(b)n(uilding)e(the)i
FZ(m)n(a)r(p)g F4(function)357 1520 y(for)c(polymorphic)e(lists:)601
1795 y FZ(m)n(a)r(p)50 b FX(:)g F3(8)p FP(S)p FY(;)17
b FP(T)11 b FX(:)g FI(Type)p FY(:)22 b F3(8)p FP(f)11
b FX(:)g FP(S)28 b F3(!)g FP(T)o FY(:)23 b F3(8)p FP(x)11
b FX(:)g FZ(list)21 b FP(S)q FY(:)h FZ(list)f FP(T)357
2070 y F4(In)28 b(order)g(to)f(do)h(recursion)g(on)f
FP(x)h F4(we)g(must)f(certainly)h(\002x)g FP(S)p F4(\227the)g(element)f
(type)h(is)f(parametric)357 2219 y(to)d(the)h(elimination)e(rule)h(for)
h FZ(list)p F4(.)31 b(W)-8 b(e)25 b(may)f(\002x)h FP(T)g
F4(and)g FJ(f)g F4(or)g(not)f(as)h(we)g(please.)357 2429
y(On)d(the)g(other)h(hand,)f(when)g(we)h(are)g(constructing)e
(functions)h(which)g(require)h(nested)f(recursion,)357
2578 y(we)h(may)g(not)f(be)i(so)e(free)i(to)f(\002x)h(ar)n(guments.)29
b(Consider)l(,)23 b(for)h(e)o(xample,)e(Ack)o(ermann')-5
b(s)22 b(function:)601 2872 y FZ(ac)o(k)27 b FX(:)h FZ(N)-63
b(N)28 b F3(!)f FZ(N)-63 b(N)27 b F3(!)h FZ(N)-63 b(N)601
3022 y(ac)o(k)22 b(0)g FP(n)50 b FX(=)g FZ(s)p FP(n)601
3171 y FZ(ac)o(k)22 b(s)o FP(m)g FZ(0)50 b FX(=)g FZ(ac)o(k)22
b FP(m)g FZ(s)o(0)601 3321 y(ac)o(k)g(s)o FP(m)g FZ(s)p
FP(n)50 b FX(=)g FZ(ac)o(k)22 b FP(m)f FX(\()p FZ(ac)o(k)h(s)p
FP(m)g(n)p FX(\))357 3615 y F4(When)29 b(we)g(apply)g(the)g(outer)g
(recursion)g(on)g(the)g(\002rst)h(ar)n(gument,)g(we)f(must)f(not)h
(\002x)g(the)h(second)357 3764 y(ar)n(gument\227as)24
b(you)h(can)h(see,)g(the)f(recursi)n(v)o(e)g(calls)g(which)g(decrease)h
(the)g(former)f(also)g(v)n(ary)g(the)357 3914 y(latter)-5
b(.)357 4123 y(Abstracting)25 b(where)n(v)o(er)g(we)h(are)h(not)e
(forced)i(to)e(\002x)h(sounds)f(lik)o(e)h(a)g(promising)e(polic)o
(y\227it)g(does)357 4273 y(not)g(hurt)g(us)h(to)f(ha)n(v)o(e)h(too)f
(much)g(\003e)o(xibility)-6 b(,)23 b(only)h(too)g(little.)357
4482 y(Ho)n(we)n(v)o(er)l(,)49 b(sometimes)44 b(abstraction)g(is)h
(de\002nitely)g(re-)357 4632 y(dundant.)29 b(Recall)d(our)f(earlier)g
(e)o(xample,)f(pro)o(ving)601 4949 y F3(8)p FP(x)p FY(:)p
755 4850 239 4 v 755 4987 4 138 v 50 w FP(x)p F3(\024)p
FZ(0)p 991 4987 V 755 4990 239 4 v 57 w F3(!)j FP(x)p
F3(')p FZ(0)357 5266 y F4(perhaps)d(by)h F3(\024)p FZ(In)n(v)g
F4(\(sho)n(wn)f(to)g(the)h(right\).)p 2536 4373 1252
4 v 2536 5531 4 1158 v 2589 4482 a F3(\024)q FZ(In)n(v)2589
4723 y FX(\010)j(:)g F3(8)p FP(m)p FY(;)17 b FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FI(Prop)2821 5264 y
FX(\010)h FP(m)e(m)3289 5024 y(m)o F3(\024)q FP(n)3227
5123 y FY(:)c(:)f(:)h(:)g(:)g(:)f(:)h(:)3251 5282 y FX(\010)22
b FP(m)g FZ(s)p FP(n)p 2724 5339 951 4 v 2724 5434 a
F3(8)p FP(m)p FY(;)17 b FP(n)p FY(:)p 3005 5346 267 4
v 3005 5473 4 127 v 50 w FP(m)p F3(\024)p FP(n)p 3268
5473 V 3005 5476 267 4 v 56 w F3(!)28 b FX(\010)22 b
FP(m)g(n)p 3784 5531 4 1158 v 2536 5534 1252 4 v 2022
5667 a F4(67)p eop
%%Page: 68 73
68 72 bop 357 -6 a F4(As)24 b(things)g(stand,)g(the)h(basic)f(scheme)h
(abstracts)f(all)h(the)g(premises)601 279 y FX(\010)50
b(=)g FY(\025)p FP(m)o FY(;)17 b FP(n)p FY(:)22 b F3(8)p
FP(x)p FY(:)h FP(x)o F3(\024)q FZ(0)50 b F3(!)f FP(m)p
F3(')p FP(x)h F3(!)f FP(n)q F3(')p FZ(0)h F3(!)g FP(x)p
F3(')p FZ(0)357 564 y F4(Coalescence)26 b(remo)o(v)o(es)d
F3(8)p FP(x)i F4(\(and)g(renames)g FP(m)o F4(\):)601
848 y FX(\010)50 b(=)g FY(\025)p FP(x)o FY(;)17 b FP(n)p
FY(:)23 b FP(x)o F3(\024)q FZ(0)50 b F3(!)f FP(n)q F3(')p
FZ(0)h F3(!)g FP(x)o F3(')q FZ(0)357 1133 y F4(Plugging)23
b(this)h(into)g(the)h(conclusion)e(of)i(the)g(rule,)g(we)g(\002nd)g(we)
g(ha)n(v)o(e)f(a)h(proof)g(that)601 1418 y F3(8)p FP(x)p
FY(;)17 b FP(n)p FY(:)22 b FP(x)p F3(\024)p FP(n)51 b
F3(!)e FP(x)p F3(\024)p FZ(0)h F3(!)g FP(n)p F3(')q FZ(0)g
F3(!)f FP(x)p F3(')p FZ(0)357 1702 y F4(The)26 b(e)o(xtra)g(inequality)
-6 b(,)25 b FP(x)p F3(\024)p FZ(0)q F4(,)h(is)g(redundant.)36
b(It)26 b(is)g(present)g(because)h(we)g(ha)n(v)o(e)f(abstracted)g(o)o
(v)o(er)357 1852 y(what)31 b(we)i(were)f(eliminating,)g(b)n(ut)g(it)f
(is)h(not)f(in)h(an)o(y)f(w)o(ay)h(useful)g(because)h(the)e(scheme)h
(is)g(not)357 2001 y(inde)o(x)o(ed)23 b(o)o(v)o(er)h(the)h(proof)f(of)h
(the)g(inequality)-6 b(.)357 2211 y(T)e(ypically)i(,)29
b(once)g(tar)n(getting)g(has)g(\002lled)h(in)f(what)g(is)g(being)g
(eliminated,)g(the)g(application)g(of)g(an)357 2360 y(elimination)22
b(rule)j(looks)f(lik)o(e)601 2645 y FP(rule)d FX(\010)873
2618 y FY(~)876 2645 y(\036)h(\033)1007 2638 y(~)1015
2645 y FP(y)49 b FX(:)h(\010)1277 2638 y FY(~)1284 2645
y FP(p)p FX([)p FY(\033)1412 2638 y(~)1420 2645 y FP(y)p
FX(])357 2929 y F4(The)34 b(premises)f(occurring)h(in)g(the)g(inferred)
g(ar)n(guments)g FY(\033)2466 2922 y(~)2474 2929 y FP(y)g
F4(are)g(the)g(ones)g(being)g(eliminated.)357 3079 y(Ho)n(we)n(v)o(er)l
(,)28 b(some)g FP(y)p F4(')-5 b(s)28 b(may)g(not)g(appear)h(in)g(the)f
(patterns,)h(so)f(some)g(eliminated)g(premises)g(may)357
3228 y(not)19 b(appear)i(in)e(the)h(instantiated)f(patterns)1838
3221 y FY(~)1844 3228 y FP(p)p FX([)p FY(\033)1972 3221
y(~)1980 3228 y FP(y)p FX(])p F4(.)29 b(The)20 b(elimination)e(thus)h
(tells)h(us)f(nothing)g(about)357 3378 y(them,)24 b(so)g(we)h(may)g
(omit)e(them)i(from)f(the)h(scheme)f(pro)o(vided)g(type)g(dependenc)o
(y)h(permits.)357 3587 y(That)f(is,)g(we)i(may)e(omit)g(a)h(premise)f
FP(x)h F4(on)f(grounds)g(of)h(redundanc)o(y)f(pro)o(vided)502
3872 y F3(\017)49 b FP(x)24 b F4(occurs)h(in)g(the)f(ar)n(guments)g(of)
h(the)g(elimination)e(rule)i(inferred)g(by)f(tar)n(getting)502
4102 y F3(\017)49 b FP(x)24 b F4(does)h(not)f(occur)h(in)g(the)f
(instantiated)g(patterns)2348 4095 y FY(~)2355 4102 y
FP(p)p FX([)p FY(\033)2483 4095 y(~)2491 4102 y FP(y)p
FX(])502 4331 y F3(\017)49 b F4(the)24 b(remainder)h(of)g(the)g(goal)f
(does)h(not)f(depend)g(on)h FP(x)357 4616 y F4(Inducti)n(v)o(e)d
(relations)i(lik)o(e)g F3(\024)h F4(are)g(usually)e(formulated)g(in)h
(e)o(xactly)g(this)f(`proof)h(irrele)n(v)n(ant')g(w)o(ay)-6
b(.)357 4766 y(In)25 b(our)h(e)o(xample,)e(the)h(eliminated)g
(hypothesis)e FP(x)p F3(\024)p FZ(0)j F4(satis\002es)f(the)g(three)h
(conditions.)31 b(W)-8 b(e)25 b(omit)357 4915 y(it,)f(lea)n(ving)601
5200 y FX(\010)50 b(=)g FY(\025)p FP(x)o FY(;)17 b FP(n)p
FY(:)23 b FP(n)p F3(')p FZ(0)50 b F3(!)g FP(x)p F3(')p
FZ(0)357 5484 y F4(This)24 b(is)g(the)h(scheme)f(we)h(w)o(ant.)2022
5667 y(68)p eop
%%Page: 69 74
69 73 bop 357 -6 a FB(3.5.3)118 b(abstracting)30 b(patter)n(ns)g(fr)n
(om)f(the)h(goal)357 271 y F4(Rules)63 b(with)f(indices)g(mark)o(ed)h
(for)g(abstraction)357 421 y(oblige)47 b(us)g(to)g(carry)i(out)e
(further)h(simpli\002cation)357 570 y(on)31 b(the)g(scheme,)h(in)f
(order)h(that)e(the)o(y)h(ha)n(v)o(e)g(the)g(in-)357
720 y(tended)24 b(`re)n(writing')g(ef)n(fect.)357 929
y(Recall)42 b FZ(N)-63 b(N)o(EqIn)n(v)42 b F4(from)f(section)f
(3.3\227we)h(might)357 1078 y(use)29 b(this)g(rule)h(to)f(re)n(write)g
(an)h(application)f(of)g FZ(N)-63 b(NEq)357 1228 y F4(in)24
b(a)h(goal)g(lik)o(e)f(the)h(follo)n(wing:)p 2360 162
1428 4 v 2360 1352 4 1190 v 2413 271 a FZ(N)-63 b(NEqIn)n(v)2413
528 y FX(\010)28 b(:)g F3(8)p FP(m)o FY(;)17 b FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p 3036 431 103
4 v 3036 554 4 124 v 28 w FP(b)p 3135 554 V 3036 557
103 4 v 40 w FX(:)11 b FZ(2)-44 b(2)p FY(:)23 b FI(Prop)2547
1069 y FX(\010)g FP(n)f(n)h FZ(tr)r(ue)3277 829 y FP(m)k
F3(6)-11 b(')p FP(n)3114 928 y FY(:)17 b(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)
f(:)h(:)g(:)f(:)3146 1087 y FX(\010)22 b FP(m)g(n)h FZ(f)l(alse)p
2547 1144 1128 4 v 2615 1250 a F3(8)p FP(m)p FY(;)17
b FP(n)p FY(:)23 b FX(\010)f FP(m)g(n)p 3166 1151 440
4 v 3166 1293 4 143 v 51 w FZ(N)-63 b(NEq)22 b FP(m)g(n)p
3603 1293 V 3166 1296 440 4 v 3784 1352 4 1190 v 2360
1355 1428 4 v 601 1634 a F3(8)p FP(x)p FY(;)17 b FP(y)o
FY(:)22 b FX(\011[)p F4(if)p 1034 1535 407 4 v 1034 1686
4 152 v 51 w FZ(N)-63 b(NEq)22 b FP(x)g(y)p 1438 1686
V 1034 1689 407 4 v 50 w F4(then)g FP(s)g F4(else)g FP(t)p
FX(])357 1951 y F4(T)-8 b(ar)n(getting)24 b(infers)h
FX([)p FP(x)p FY(=)p FP(m)o FX(][)p FP(y)p FY(=)p FP(n)p
FX(])p F4(.)31 b(The)25 b(coalesced)g(scheme)g(is)f(thus)601
2244 y FX(\010)50 b(=)g FY(\025)p FP(x)o FY(;)17 b FP(y)p
FY(;)p 1091 2147 103 4 v 1091 2270 4 124 v 45 w FP(b)p
1190 2270 V 1091 2273 103 4 v 28 w FY(:)22 b FP(b)h F3(')f
FZ(N)-63 b(NEq)23 b FP(x)e(y)50 b F3(!)g FX(\011[)p F4(if)p
2146 2144 407 4 v 2146 2296 4 152 v 50 w FZ(N)-63 b(NEq)22
b FP(x)g(y)p 2549 2296 V 2146 2299 407 4 v 50 w F4(then)g
FP(s)g F4(else)g FP(t)p FX(])357 2551 y F4(The)i(box)o(ed)p
801 2454 103 4 v 801 2577 4 124 v 51 w FP(b)p 901 2577
V 801 2580 103 4 v 52 w F4(tells)f(us)g(that)h(we)g(should)e(abstract)i
(a)o(w)o(ay)g(occurrences)g(of)g FX(\()p FZ(N)-63 b(NEq)19
b FP(x)f(y)p FX(\))24 b F4(from)f(the)357 2700 y(goal.)30
b(Once)25 b(we)g(ha)n(v)o(e)g(done)f(this,)g(we)h(can)g(thro)n(w)f(the)
h(constraint)f(a)o(w)o(ay)-6 b(.)601 3018 y FX(\010)50
b(=)g FY(\025)p FP(x)o FY(;)17 b FP(y)p FY(;)g FP(b)p
FY(:)22 b FX(\011[)p F4(if)g FP(b)g F4(then)g FP(s)g
F4(else)g FP(t)p FX(])357 3335 y F4(Abstracting)31 b(arbitrary)i(terms)
f(in)g(dependent)g(type)h(theory)f(is)g(a)h(sensiti)n(v)o(e)d(b)n
(usiness\227we)i(are)357 3485 y(not)25 b(al)o(w)o(ays)h(free)h(to)f
(replace)h(a)g(gi)n(v)o(en)d(subterm)h(by)h(a)h(v)n(ariable)f(of)g(the)
g(same)g(type,)g(because)g(the)357 3634 y(typing)32 b(of)i(the)g(whole)
g(term)f(may)h(depend)g(on)f(the)h(particular)g(intensional)e
(properties)h(of)h(the)357 3783 y(subterm)23 b(being)h(replaced.)32
b(Ho)n(we)n(v)o(er)l(,)23 b(it)h(is)g(w)o(orth)g(a)h(try\227if)f
(unsuccessful,)g(we)h(may)f(lea)n(v)o(e)g(the)357 3933
y(constraint)g(as)g(it)h(is)f(and)h(continue.)357 4142
y(This)34 b(re)n(writing)f(technique)h(is)g(v)o(ery)g(po)n(werful.)60
b(The)34 b(trouble)g(caused)h(by)f(the)h(intensionality)357
4292 y(of)29 b(the)g(type)g(theory)f(is)h(a)g(real)h(pity)-6
b(.)42 b(Perhaps)30 b(a)f(part)g(of)g(the)g(problem)g(could)f(be)h(a)n
(v)n(oided)g(with)357 4441 y(appropriate)i(f)o(acilities)g(for)h
(reconstructing)e(brok)o(en)i(typings)e(from)h(propositional)e
(equalities,)357 4591 y(as)c(proposed)f(by)g(Hofmann)g([Hof95].)2022
5667 y(69)p eop
%%Page: 70 75
70 74 bop 357 -6 a FB(3.5.4)118 b(constraints)30 b(in)g(inducti)o(v)o
(e)h(pr)n(oofs)357 271 y F4(Let)21 b(us)g(see)g(ho)n(w)f(constrained)h
(schemes)g(af)n(fect)g(inducti)n(v)o(e)357 421 y(proofs.)30
b(W)-8 b(e)24 b(will)g(acquire)g(constraints)f(on)h(the)g(inducti)n(v)o
(e)357 570 y(hypotheses,)33 b(as)f(well)h(as)g(those)f(on)g(the)h
(conclusions)e(of)357 720 y(the)24 b(subgoals.)357 929
y(Consider)d(applying)f(the)i(weak)g(induction)e(principle)2237
893 y FS(3)2295 929 y F4(for)357 1078 y F3(\024)25 b
F4(\(see)g(right\))g(in)f(a)h(proof)g(of)p 2561 162 1227
4 v 2561 1079 4 918 v 2589 271 a FX(\010)j(:)g F3(8)p
FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22
b FI(Prop)2821 813 y FX(\010)h FP(m)e(m)3270 572 y FX(\010)i
FP(m)e(n)3227 671 y FY(:)c(:)f(:)h(:)g(:)g(:)f(:)h(:)3251
831 y FX(\010)22 b FP(m)g FZ(s)p FP(n)p 2724 887 951
4 v 2724 982 a F3(8)p FP(m)p FY(;)17 b FP(n)p FY(:)p
3005 894 267 4 v 3005 1021 4 127 v 50 w FP(m)p F3(\024)p
FP(n)p 3268 1021 V 3005 1024 267 4 v 56 w F3(!)28 b FX(\010)22
b FP(m)g(n)p 3784 1079 4 918 v 2561 1082 1227 4 v 601
1401 a FX(?)p FP(strict)o FX(:)g F3(8)p FP(x)p FY(;)17
b FP(y)p FY(:)p 1156 1312 273 4 v 1156 1453 4 141 v 50
w FZ(s)p FP(x)p F3(\024)p FP(y)p 1425 1453 V 1156 1456
273 4 v 56 w F3(!)27 b FP(x)p FY(<)p FP(y)357 1693 y
F4(T)-8 b(ar)n(getting)24 b(gi)n(v)o(es)f FY(\033)54
b FX(=)c([)p FZ(s)o FP(x)p FY(=)p FP(m)o FX(][)p FP(y)p
FY(=)p FP(n)q FX(])p F4(,)25 b(so)f(we)h(infer)g(the)g(scheme)f
(\(coalescing)h FP(y)g F4(and)g FP(n)p F4(\):)601 1986
y FX(\010)50 b(=)g FY(\025)p FP(m)o FY(;)17 b FP(y)o
FY(:)23 b F3(8)p FP(x)p FY(:)f FP(m)p F3(')p FZ(s)p FP(x)27
b F3(!)h FP(x)o FY(<)p FP(y)357 2278 y F4(The)23 b(corresponding)e
(subgoals)h(are)i(sho)n(wn)d(to)h(the)h(right.)357 2428
y(The)30 b(constraints)e(which)i(appear)h(as)f FU(hypotheses)f
F4(in)g(the)357 2577 y(subgoals,)22 b FP(e)793 2592 y
FL(b)850 2577 y F4(and)h FP(e)1056 2592 y FL(s)1093 2577
y F4(,)g(are)h(`friendly'\227the)o(y)e(restrict)g(the)357
2726 y FP(m)o F4(')-5 b(s)33 b(and)h FP(x)p F4(')-5 b(s)33
b(we)h(ha)n(v)o(e)f(to)h(deal)f(with.)57 b(The)33 b(constraint)357
2876 y(in)g(the)g(inducti)n(v)o(e)e(hypothesis,)j FP(e)1548
2891 y FL(s)1585 2876 y F4(,)i(is)d(`unfriendly'\227it)357
3025 y(restricts)24 b(our)h(choice)g(of)g FP(x)1297 2989
y FE(0)1321 3025 y F4(.)357 3235 y(A)h(closer)g(e)o(xamination)e(of)i
(these)g(constraints)f(re)n(v)o(eals)g(a)357 3384 y(more)f(subtle)g(b)n
(ut)g(crucial)h(distinction.)p 2532 2169 1255 4 v 2532
3423 4 1254 v 2585 2278 a FX(?)p FP(base)p FX(:)e F3(8)p
FP(m)o FY(;)17 b FP(x)p FX(:)22 b FZ(N)-63 b(N)2849 2399
y F3(8)p FP(e)2943 2414 y FL(b)3075 2399 y FX(:)22 b
FP(m)p F3(')p FZ(s)p FP(x)2904 2519 y(x)p FY(<)p FP(m)2585
2639 y FX(?)p FP(step)7 b FX(:)23 b F3(8)p FP(m)o FY(;)17
b FP(n)p FX(:)23 b FZ(N)-63 b(N)2849 2760 y F3(8)p FP(hyp)26
b FX(:)d F3(8)p FP(x)3235 2723 y FE(0)3269 2760 y FX(:)f
FZ(N)-63 b(N)3130 2880 y F3(8)p FP(e)3224 2895 y FL(h)3269
2880 y FX(:)22 b FP(m)o F3(')q FZ(s)p FP(x)3561 2844
y FE(0)3185 3000 y FP(x)3235 2964 y FE(0)3258 3000 y
FY(<)p FP(n)2849 3121 y F3(8)p FP(x)126 b FX(:)23 b FZ(N)-63
b(N)2849 3241 y F3(8)p FP(e)2943 3256 y FL(s)3080 3241
y FX(:)23 b FP(m)o F3(')q FZ(s)o FP(x)2904 3362 y(x)p
FY(<)p FZ(s)o FP(n)p 3784 3423 V 2532 3426 1255 4 v 357
3562 a F4(The)i(v)n(ariables)f(appearing)g(in)h(these)f(constraints)g
(come)h(from)f(tw)o(o)h(sources:)502 3855 y F3(\017)49
b F4(the)23 b(pattern)g(v)n(ariables)g(for)h(each)g(case)g(of)f(the)g
(elimination)f(rule,)i FP(m)f F4(and)g FP(n)h F4(abo)o(v)o(e\227these)
601 4004 y(become)f(premises)g(of)g(the)g(subgoals,)g(and)g(appear)h
(on)f(the)h FU(left)r F4(-hand)e(side)h(of)h(constraints)502
4386 y F3(\017)49 b F4(the)20 b(v)n(ariables)g(uni)n(v)o(ersally)f
(quanti\002ed)i(in)f(the)h(scheme,)g FP(x)g F4(and)g
FP(x)2873 4350 y FE(0)2917 4386 y F4(abo)o(v)o(e\227these)e(become)601
4535 y(premises)29 b(of)h(the)g(subgoals)f(and)h(also)f(parameters)h
(of)h(the)e(inducti)n(v)o(e)f(hypothesis:)39 b(the)o(y)601
4685 y(appear)25 b(on)g(the)f FU(right)r F4(-hand)f(side)i(of)g
(constraints)357 4977 y(The)33 b(`friendly')g(constraints)f(tell)h(us)g
(useful)g(information)f(about)g(the)i(v)n(ariables)e(which)h(occur)357
5127 y(as)d(subgoal)g(premises,)h(whether)f(the)o(y)g(come)g(from)h
(the)f(scheme)g(or)h(the)f(patterns.)47 b(In)31 b(chapter)p
357 5216 1373 4 v 473 5278 a FR(3)506 5308 y FQ(An)23
b(inducti)n(v)o(ely)e(de\002ned)h(relation)g(lik)o(e)i
Fy(\024)f FQ(also)g(has)g(a)h(strong)e(induction)f(principle\227the)g
(distinction)h(is)i(e)o(x-)357 5407 y(plained)19 b(in)h(section)g
(4.1.5.)2022 5667 y F4(70)p eop
%%Page: 71 76
71 75 bop 357 -6 a F4(5,)29 b(we)f(will)g(see)h(ho)n(w)e(to)h(simplify)
f(them,)h(solving)f(for)i(v)n(ariables)e(appearing)i(on)f
FU(either)i F4(side\227)357 144 y(`friendly')24 b(constraints)g
(constitute)f FU(uni\002cation)g F4(problems.)357 353
y(In)g(our)h(e)o(xample,)f(let)g(us)g(imagine)g(we)h(can)g(perform)f
(this)357 503 y(simpli\002cation)i(on)i FP(e)1097 518
y FL(b)1159 503 y F4(and)g FP(e)1369 518 y FL(s)1405
503 y F4(,)h(instantiating)d(the)i FP(m)o F4(')-5 b(s)27
b(to)357 652 y(lea)n(v)o(e)d(the)h(subgoals)f(sho)n(wn.)p
2525 244 1263 4 v 2525 1137 4 893 v 2578 353 a FX(?)p
FP(base)2792 308 y FE(0)2816 353 y FX(:)e F3(8)p FP(x)p
FX(:)g FZ(N)-63 b(N)2920 474 y FP(x)p FY(<)p FZ(s)o FP(x)2578
594 y FX(?)p FP(step)2785 556 y FE(0)2816 594 y FX(:)22
b F3(8)p FP(x)p FY(;)17 b FP(n)q FX(:)22 b FZ(N)-63 b(N)2865
715 y F3(8)p FP(hyp)p FX(:)22 b F3(8)p FP(x)3224 678
y FE(0)3258 715 y FX(:)g FZ(N)-63 b(N)3119 835 y F3(8)p
FP(e)3213 850 y FL(h)3258 835 y FX(:)22 b FZ(s)p FP(x)o
F3(')q FZ(s)p FP(x)3561 799 y FE(0)3174 955 y FP(x)3224
919 y FE(0)3247 955 y FY(<)p FP(n)2920 1076 y(x)p FY(<)p
FZ(s)o FP(n)p 3784 1137 V 2525 1140 1263 4 v 357 1276
a F4(The)h(`unfriendly')h(constraints)e(cannot)i(tell)f(us)g(an)o
(ything)f(about)h(the)h(v)n(ariables)f(which)g(occur)h(as)357
1426 y(subgoal)f(premises\227)p FP(e)1183 1441 y FL(h)1252
1426 y F4(does)g(not)h(allo)n(w)e(us)i(to)f(infer)h FP(x)p
F4(.)30 b(Rather)l(,)25 b(the)o(y)e(narro)n(w)h(our)f(choices)h(for)357
1575 y(the)k(copies)h(of)g(the)g(scheme)g(v)n(ariables)f(\(lik)o(e)g
FP(x)2028 1539 y FE(0)2052 1575 y F4(\))h(which)f(parameterise)h
(inducti)n(v)o(e)e(hypotheses.)357 1725 y(That)i(is,)i(`unfriendly')e
(constraints)g(can)h(only)f(determine)h(v)n(ariables)f(appearing)h(on)g
(the)f FU(right)o F4(-)357 1874 y(hand)24 b(side\227the)o(y)f(are)j
FU(matc)o(hing)d F4(problems.)357 2083 y(Look)e(back)h(before)g(we)g
(simpli\002ed)f(the)h(`friendly')f(constraints:)357 2233
y(we)52 b(cannot)g(\002nd)g(an)g FP(x)1246 2197 y FE(0)1321
2233 y F4(to)g(solv)o(e)f(the)h(matching)f(problem)357
2382 y FP(m)o F3(')q FZ(s)o FP(x)600 2346 y FE(0)623
2382 y F4(.)38 b(Ho)n(we)n(v)o(er)l(,)26 b(no)n(w)g(that)g(we)i(ha)n(v)
o(e)e(done)h(the)g(uni\002cation,)357 2532 y(a)d(solution)e(has)i
(become)g(a)n(v)n(ailable.)30 b(Inferring)24 b FP(x)g
F4(for)h FP(x)2315 2496 y FE(0)2362 2532 y F4(we)g(can)357
2681 y(obtain)f(the)g(subgoals)g(sho)n(wn)f(on)i(the)g(right.)p
2791 1974 997 4 v 2791 2626 4 652 v 2844 2083 a FX(?)p
FP(base)3058 2038 y FE(00)3100 2083 y FX(:)e F3(8)p FP(x)p
FX(:)f FZ(N)-63 b(N)3205 2204 y FP(x)p FY(<)p FZ(s)o
FP(x)2844 2324 y FX(?)p FP(step)3050 2286 y FE(0)q(0)3100
2324 y FX(:)23 b F3(8)p FP(x)p FY(;)17 b FP(n)p FX(:)23
b FZ(N)-63 b(N)3150 2445 y F3(8)p FP(hyp)o FX(:)23 b
FP(x)o FY(<)p FP(n)3205 2565 y(x)p FY(<)p FZ(s)o FP(n)p
3784 2626 V 2791 2629 997 4 v 357 2839 a F4(Something)35
b(interesting)g(has)h(happened,)j(and)d(we)g(will)g(see)g(what)g(it)g
(is)g(if)g(we)g(present)g(these)357 2988 y(subgoals)23
b(in)i(natural)f(deduction)g(style:)601 3250 y FP(base)768
3205 y FE(0)q(0)p 945 3227 215 4 v 945 3303 a FP(x)p
FY(<)p FZ(s)p FP(x)1529 3250 y(step)1690 3212 y FE(00)1911
3211 y FP(x)p FY(<)p FP(n)p 1892 3227 220 4 v 1892 3303
a(x)p FY(<)o FZ(s)p FP(n)357 3524 y F4(This)32 b(looks)f(lik)o(e)i(a)g
(plausible)e(recursi)n(v)o(e)h(speci\002cation)h(of)g
FY(<)p F4(!)55 b(In)32 b(f)o(act,)k(what)c(we)h(ha)n(v)o(e)g(done)357
3674 y(is)26 b(apply)f(the)i(standard)f(unfold/fold)e(technique)i(for)h
(logic)f(programs)f([TS83,)i(GS91])f(to)g(trans-)357
3823 y(form)g(our)h(goal,)g(vie)n(wed)g(as)g(a)g(speci\002cation)f(of)h
FY(<)g F4(in)g(terms)f(of)h F3(\024)q F4(,)g(into)f(subgoals)g(which)h
(gi)n(v)o(e)357 3972 y FY(<)34 b F4(recursi)n(v)o(ely)-6
b(.)57 b(The)34 b(uni\002cation)f(problems)g(in)h(the)g(conclusions)e
(are)j(those)f(which)f(arise)i(in)357 4122 y(unfolding;)j(the)d
(matching)f(problems)g(in)h(the)g(inducti)n(v)o(e)e(hypotheses)h(are)i
(those)e(in)l(v)n(olv)o(ed)g(in)357 4271 y(folding.)357
4663 y FT(3.6)142 b(an)36 b(elimination)d(tactic)357
4976 y F4(In)23 b(this)g(section,)g(I)h(shall)f(present)h(a)g(tactic,)f
F0(eliminate)p F4(,)h(which)g(re\002nes)g(a)g(gi)n(v)o(en)e(goal)h(by)h
(a)g(gi)n(v)o(en)357 5125 y(elimination)d(rule\227the)i(user)h(is)f
(required)h(to)f(\002nger)h(the)g(tar)n(gets,)f(then)h(the)f(tactic)g
(constructs)g(an)357 5275 y(appropriate)h(scheme)h(and)g(solv)o(es)e
(the)i(goal,)f(generating)h(a)g(subgoal)f(for)h(each)g(case.)357
5484 y F0(eliminate)g F4(operates)f(in)h(\002)n(v)o(e)f(stages:)2022
5667 y(71)p eop
%%Page: 72 77
72 76 bop 502 -6 a F3(\017)49 b F4(preparing)33 b(a)g(proforma)g
(application)f(of)h(the)g(elimination)f(rule)h(to)g(ar)n(guments)f
(initially)601 144 y(unkno)n(wn)502 376 y F3(\017)49
b F4(\002ngering)24 b(the)h(tar)n(gets)g(and)f(inferring)h(the)f
(pattern)h(v)n(ariables)502 609 y F3(\017)49 b F4(constructing)23
b(a)i(constrained)f(scheme)502 841 y F3(\017)49 b F4(pro)o(ving)23
b(the)i(goal)502 1074 y F3(\017)49 b F4(tidying)23 b(up)357
1391 y(I)i(ha)n(v)o(e)g(implemented)f(a)h(prototype)g(of)g(this)f
(tactic)h(with)g(much)f(of)i(the)f(functionality)e(described)357
1541 y(here)33 b(as)f(a)h(k)o(e)o(y)f(component)f(in)h(my)f(e)o
(xtension)g(of)k(L)t F2(E)t(G)t(O)r F4(.)55 b(Of)33 b(course,)h(if)f(I)
f(had)h(kno)n(wn)e(then)357 1690 y(what)d(I)g(kno)n(w)f(no)n(w)-6
b(,)28 b(it)f(w)o(ould)h(ha)n(v)o(e)f(all)h(the)g(functionality)-6
b(.)39 b(This)27 b(section)g(is)h(the)g(blueprint)f(for)357
1839 y(the)d(re)n(vised)g(v)o(ersion.)357 2049 y(I)c(shall)g(present)h
(each)g(stage)f(as)h(a)g(little)e(tactic.)29 b(The)20
b F3(\024)357 2198 y F4(induction)j(we)h(ha)n(v)o(e)g(just)g(seen)g(in)
g(the)g(pre)n(vious)g(sec-)357 2348 y(tion)c(mak)o(es)h(a)g(useful)g
(running)f(e)o(xample.)28 b(The)21 b(tactic)357 2497
y(should)36 b(reproduce)i(e)o(xactly)g(the)f(ef)n(fect)h(we)g(manu-)357
2647 y(f)o(actured)25 b(by)g(hand.)357 2856 y(The)45
b(rule)g(we)g(shall)f(use)h(and)g(the)g(goal)g(we)g(shall)357
3006 y(pro)o(v)o(e)24 b(are)j(sho)n(wn)d(in)j(O)t F2(L)t(E)t(G)k
F4(notation)24 b(on)h(the)h(right.)357 3155 y(The)k(box)o(ed)f(premise)
g(in)h(the)g(rule)g(is)g(the)f(inequality)357 3304 y(it)24
b(eliminates:)29 b(the)24 b(box)o(ed)f(inequality)g(in)h(the)g(goal)h
(is)357 3454 y(the)f(one)h(we)g(shall)f(tar)n(get.)p
2401 1940 1387 4 v 2401 3737 4 1798 v 2429 2049 a FY(\025)p
F3(\024)p FZ(Elim)q FX(:)f F3(8)p FX(\010)106 b(:)23
b F3(8)p FP(m)p FY(;)17 b FP(n)p FX(:)22 b FZ(N)-63 b(N)3136
2169 y FI(Prop)2800 2290 y F3(8)p FY(\036)2913 2305 y
FM(m)3031 2290 y FX(:)23 b F3(8)p FP(m)p FX(:)f FZ(N)-63
b(N)3136 2410 y FX(\010)23 b FP(m)e(m)2800 2530 y F3(8)p
FY(\036)2913 2545 y FM(s)3031 2530 y FX(:)i F3(8)p FP(m)p
FY(;)17 b FP(n)p FX(:)22 b FZ(N)-63 b(N)3081 2651 y F3(8)p
FY(\036)3194 2666 y FM(mn)3313 2651 y FX(:)22 b(\010)g
FP(m)g(n)3136 2771 y FX(\010)h FP(m)e FZ(s)p FP(n)2800
2892 y F3(8)p FP(m)o FY(;)c FP(n)p FX(:)23 b FZ(N)-63
b(N)p 2855 2931 855 4 v 2800 3012 a F3(8)p 2853 3048
4 121 v 50 w FP(L)71 b FX(:)i FP(m)21 b F3(\024)i FP(n)p
3708 3048 V 2855 3051 855 4 v 2855 3132 a FX(\010)f FP(m)g(n)p
7 setlinewidth np 2484 3224 25 135.00 315.00 arc st 7
setlinewidth np 2520 3206 18 180.00 360.00 arc st 7 setlinewidth
np 2573 3206 35 180.00 360.00 arc st 7 setlinewidth np
2618 3233 28 251.56 341.56 arc st 7 setlinewidth np 2645
3250 27 270.00 450.00 arc st 7 setlinewidth np 2609 3277
35 360.00 540.00 arc st 7 setlinewidth np 2555 3277 18
360.00 540.00 arc st 7 setlinewidth np 2511 3277 27 360.00
540.00 arc st 7 setlinewidth np 2475 3259 19 63.43 243.43
arc st 2440 3436 a FX(?)p FP(leGoal)9 b FX(:)23 b F3(8)p
FP(x)p FY(;)17 b FP(y)33 b FX(:)22 b FZ(N)-63 b(N)p 2855
3475 587 4 v 2800 3556 a F3(8)p 2853 3592 4 121 v 50
w FP(H)49 b FX(:)72 b FZ(s)p FP(x)22 b F3(\024)g FP(y)p
3439 3592 V 2855 3595 587 4 v 2855 3676 a(x)g FY(<)g
FP(y)p 3784 3737 4 1798 v 2401 3740 1387 4 v 357 4037
a FB(3.6.1)118 b(pr)n(eparing)32 b(the)e(application)357
4314 y F4(The)f(preparation)g(step)g(could)f(be)i(carried)f(out)g(for)g
(an)o(y)g(goal)g(to)g(be)g(solv)o(ed)f(by)h(an)o(y)f(lemma.)43
b(It)357 4463 y(is)30 b(just)h(an)g(administrati)n(v)o(e)d(manoeuvre,)
33 b(getting)d(e)n(v)o(erything)f(in)i(the)g(right)g(place)g(for)h(the)
f(real)357 4613 y(w)o(ork)24 b(which)h(follo)n(ws.)359
4822 y(T)l F2(A)q(C)t(T)t(I)t(C)r F4(:)34 b F0(eliminate-pr)n(epar)n(e)
2022 5667 y F4(72)p eop
%%Page: 73 78
73 77 bop 601 -102 781 4 v 601 518 4 620 v 675 20 a FP(elim)o
FX(:)22 b F3(8)938 13 y FY(~)951 20 y FP(s)11 b FX(:)1035
-6 y FY(~)1039 20 y FP(S)p FY(:)23 b FP(R)p FX([)1224
13 y FY(~)1237 20 y FP(s)p FX(])p 7 setlinewidth np 684
112 25 135.00 315.00 arc st 7 setlinewidth np 719 94
18 180.00 360.00 arc st 7 setlinewidth np 773 94 35 180.00
360.00 arc st 7 setlinewidth np 818 121 28 251.56 341.56
arc st 7 setlinewidth np 844 138 27 270.00 450.00 arc
st 7 setlinewidth np 809 165 35 360.00 540.00 arc st
7 setlinewidth np 755 165 18 360.00 540.00 arc st 7 setlinewidth
np 710 165 27 360.00 540.00 arc st 7 setlinewidth np
675 147 19 63.43 243.43 arc st 629 336 a(?)p FP(goal)6
b FX(:)22 b F3(8)944 329 y FY(~)951 336 y FP(x)p FX(:)1054
310 y FY(~)1050 336 y FP(X)951 457 y(Y)q FX([)1038 450
y FY(~)1045 457 y FP(x)o FX(])p 1378 518 V 601 521 781
4 v 1409 20 a F3(\))p 1536 -102 1042 4 v 1536 1012 4
1115 v 101 w FP(elim)i FX(:)48 b F3(8)1924 13 y FY(~)1937
20 y FP(s)11 b FX(:)2021 -6 y FY(~)2025 20 y FP(S)p FY(:)23
b FP(R)p FX([)2210 13 y FY(~)2223 20 y FP(s)p FX(])p
7 setlinewidth np 1619 112 25 135.00 315.00 arc st 7
setlinewidth np 1655 94 18 180.00 360.00 arc st 7 setlinewidth
np 1708 94 35 180.00 360.00 arc st 7 setlinewidth np
1753 121 28 251.56 341.56 arc st 7 setlinewidth np 1780
138 27 270.00 450.00 arc st 7 setlinewidth np 1744 165
35 360.00 540.00 arc st 7 setlinewidth np 1691 165 18
360.00 540.00 arc st 7 setlinewidth np 1646 165 27 360.00
540.00 arc st 7 setlinewidth np 1610 147 19 63.43 243.43
arc st 1564 336 a(?)p FP(goal)6 b F3(\031)23 b FY(\025)1931
329 y(~)1939 336 y FP(x)155 b FX(:)2221 310 y FY(~)2217
336 y FP(X)1893 470 y FX(?)1926 463 y FY(~)1939 470 y
FP(s)166 b FX(:)2213 444 y FY(~)2217 470 y FP(S)1912
590 y FX(!)p FP(app)36 b FX(=)22 b FP(elim)2398 583 y
FY(~)2411 590 y FP(s)2144 710 y FX(:)46 b FP(R)q FX([)2298
703 y FY(~)2311 710 y FP(s)p FX(])1893 831 y(?)p FP(conc)24
b FX(:)46 b FP(Y)q FX([)2304 824 y FY(~)2311 831 y FP(x)p
FX(])1939 951 y FP(conc)p 2574 1012 V 1536 1015 1042
4 v 357 1279 a F4(The)56 b(goal')-5 b(s)55 b(hypotheses)f(are)j
(introduced;)71 b(the)357 1429 y(lemma')-5 b(s)18 b(hypotheses)f(are)j
(inserted)f(as)g(unkno)n(wns.)357 1578 y(A)k(`proforma')g(application)f
(of)i(the)f(lemma)f(is)h(then)357 1728 y(manuf)o(actured)29
b(and)g(stored)f(as)h(a)h FX(!)p F4(-binding.)42 b(Ulti-)357
1877 y(mately)-6 b(,)34 b(this)e(application)g(will)g(be)h(used)g(to)g
(solv)o(e)357 2027 y FP(conc)o F4(.)e(W)-8 b(e)25 b(must)f(\002rst)h
(\002ll)g(in)f(some)g(of)h(the)1862 2020 y FY(~)1875
2027 y FP(s)p F4(.)357 2236 y(The)38 b(prepared)h(application)e(for)i
(our)f(e)o(xample)g(is)357 2386 y(sho)n(wn)23 b(on)i(the)f(right.)p
2335 1170 1452 4 v 2335 2544 4 1375 v 2364 1279 a FX(?)p
FP(leGoal)o F3(\031)f FY(\025)p FP(x)p FY(;)17 b FP(y)61
b FX(:)46 b FZ(N)-63 b(N)p 2821 1319 889 4 v 2764 1400
a FY(\025)p 2819 1436 4 121 v 50 w FP(H)77 b FX(:)96
b FZ(s)p FP(x)22 b F3(\024)h FP(y)p 3708 1436 V 2821
1439 889 4 v 2775 1520 a FX(?\010)135 b(:)71 b FY(:)17
b(:)g(:)2775 1641 y FX(?)p FY(\036)2879 1656 y FM(m)3026
1641 y FX(:)71 b FY(:)17 b(:)g(:)2775 1761 y FX(?)p FY(\036)2879
1776 y FM(s)3026 1761 y FX(:)71 b FY(:)17 b(:)g(:)2775
1881 y FX(?)p FP(m)o FY(;)g FP(n)29 b FX(:)46 b FZ(N)-63
b(N)p 2821 1921 V 2775 2002 a FX(?)p 2819 2038 4 121
v 50 w FP(L)100 b FX(:)c FP(m)22 b F3(\024)47 b FP(n)p
3708 2038 V 2821 2041 889 4 v 2794 2122 a FX(!)p FP(app)36
b FX(=)22 b F3(\024)p FZ(Elim)i FX(\010)17 b FY(:)g(:)g(:)f
FP(L)3026 2242 y FX(:)46 b(\010)23 b FP(m)f(n)2775 2363
y FX(?)p FP(conc)i FX(:)46 b FP(x)22 b FY(<)g FP(y)2821
2483 y(conc)p 3784 2544 4 1375 v 2335 2547 1452 4 v 357
2844 a FB(3.6.2)118 b(\002ngering)32 b(tar)o(gets)357
3121 y F4(Ha)n(ving)i(installed)h(an)g(application)f(of)i(the)f(rule)g
(in)g(the)h(proof)f(of)g(the)g(goal,)j(the)d(ne)o(xt)g(step)g(is)357
3270 y(to)j(infer)h(some)f(of)h(its)f(ar)n(guments)g(by)h(tar)n
(getting.)72 b(W)-8 b(e)39 b(may)f(presume)h(that)f(the)g(rule)h(has)g
(a)357 3420 y(sequence)26 b(of)h(tar)n(gets)f(mark)o(ed)g(by)g(its)f
(manuf)o(acturer)-5 b(.)35 b(The)27 b(user)f(must)f(no)n(w)h(\002nger)g
(a)h(sequence)357 3569 y(of)e(matching)e(e)o(xpressions)h(to)g(be)h
(eliminated.)357 3778 y(W)-8 b(e)24 b(may)g(mak)o(e)g(use)f(of)i(the)e
F0(unify)i F4(tactic)f(to)f(do)h(our)g(matching,)f(although)g(this)g
(may)g(be)h(a)h(slight)357 3928 y(o)o(v)o(erkill.)j(Something)c(lik)o
(e)g(the)h(follo)n(wing)e(happens:)p 601 4164 1217 4
v 601 5323 4 1160 v 629 4286 a FX(?)p FP(goal)p F3(\031)f
FY(\025)990 4279 y(~)997 4286 y FP(x)175 b FX(:)1299
4260 y FY(~)1295 4286 y FP(X)951 4420 y FX(?)985 4413
y FY(~)997 4420 y FP(s)1036 4435 y FM(1)1076 4420 y FX(;)1107
4413 y FY(~)1120 4420 y FP(s)1158 4435 y FM(2)1222 4420
y FX(:)1291 4394 y FY(~)1295 4420 y FP(S)1351 4435 y
FM(1)1390 4420 y FX(;)1429 4394 y FY(~)1434 4420 y FP(S)1489
4435 y FM(2)970 4540 y FX(!)p FP(app)56 b FX(=)22 b FP(elim)1477
4533 y FY(~)1489 4540 y FP(s)1528 4555 y FM(1)1567 4540
y FX(;)1598 4533 y FY(~)1611 4540 y FP(s)1650 4555 y
FM(2)1222 4660 y FX(:)46 b FP(R)q FX([)1376 4653 y FY(~)1389
4660 y FP(s)1428 4675 y FM(1)1467 4660 y FX(;)1498 4653
y FY(~)1511 4660 y FP(s)1550 4675 y FM(2)1589 4660 y
FX(])951 4781 y(?)p FP(conc)e FX(:)i FP(Y)q FX([)1382
4774 y FY(~)1389 4781 y FP(x)p FX(])997 4901 y FP(conc)629
5142 y(t)p FX([)676 5135 y FY(~)689 5142 y FP(s)728 5157
y FM(2)767 5142 y FX(])28 b(:)g FP(T)p FX([)952 5135
y FY(~)965 5142 y FP(s)1004 5157 y FM(2)1043 5142 y FX(])d
F4(tar)n(get)629 5262 y FP(e)p FX([)688 5255 y FY(~)695
5262 y FP(x)o FX(])j(:)g FP(E)p FX([)935 5255 y FY(~)942
5262 y FP(x)p FX(])d F4(to)f(be)h(eliminated)p 1814 5323
V 601 5326 1217 4 v 1845 4769 a F3(\))p 1972 4104 1262
4 v 1972 5384 4 1280 v 2000 4226 a FX(?)p FP(goal)p F3(\031)e
FY(\025)2362 4219 y(~)2369 4226 y FP(x)155 b FX(:)2652
4200 y FY(~)2648 4226 y FP(X)2323 4360 y FX(?)2356 4353
y FY(~)2369 4360 y FP(s)2408 4375 y FM(1)2574 4360 y
FX(:)2643 4333 y FY(~)2648 4360 y FP(S)2703 4375 y FM(1)2342
4480 y FX(!)2356 4473 y FY(~)2369 4480 y FP(s)2408 4495
y FM(2)2550 4480 y FX(=)2635 4473 y FY(~)2648 4480 y
FP(r)o FX([)2706 4473 y FY(~)2713 4480 y FP(x)p FX(])2342
4600 y(!)p FP(app)37 b FX(=)22 b FP(elim)2829 4593 y
FY(~)2841 4600 y FP(s)2880 4615 y FM(1)2920 4600 y FX(;)2951
4593 y FY(~)2964 4600 y FP(r)o FX([)3022 4593 y FY(~)3029
4600 y FP(x)p FX(])2574 4721 y(:)47 b FP(R)p FX([)2728
4714 y FY(~)2741 4721 y FP(s)2780 4736 y FM(1)2819 4721
y FX(;)2850 4714 y FY(~)2863 4721 y FP(r)p FX([)2922
4714 y FY(~)2929 4721 y FP(x)p FX(]])2323 4841 y(?)p
FP(conc)24 b FX(:)47 b FP(Y)p FX([)2734 4834 y FY(~)2741
4841 y FP(x)p FX(])2369 4961 y FP(conc)2000 5202 y(T)p
FX([)2075 5195 y FY(~)2088 5202 y FP(r)p FX([)2147 5195
y FY(~)2154 5202 y FP(x)p FX(]])2308 5175 y F3(\030)2309
5206 y FX(=)2435 5202 y FP(E)p FX([)2516 5195 y FY(~)2523
5202 y FP(x)p FX(])2000 5323 y FP(t)q FX([)2048 5316
y FY(~)2061 5323 y FP(r)o FX([)2119 5316 y FY(~)2126
5323 y FP(x)p FX(]])2280 5295 y F3(\030)2281 5327 y FX(=)2408
5323 y FP(e)o FX([)2466 5316 y FY(~)2473 5323 y FP(x)p
FX(])p 3231 5384 V 1972 5387 1262 4 v 2022 5667 a F4(73)p
eop
%%Page: 74 79
74 78 bop 357 -6 a F4(That)36 b(is,)j(tar)n(getting)c(tries)h(to)g
(match)g(terms)g(and)h(types.)65 b(If)36 b(successful,)j(some)d(of)h
(the)f(rule')-5 b(s)357 144 y(ar)n(guments)782 137 y
FY(~)794 144 y FP(s)833 159 y FM(2)896 144 y F4(will)23
b(be)g(inferred)i(as)1626 137 y FY(~)1638 144 y FP(r)p
FX([)1697 137 y FY(~)1704 144 y FP(x)p FX(])p F4(.)31
b(Others,)2139 137 y FY(~)2151 144 y FP(s)2190 159 y
FM(1)2229 144 y F4(,)24 b(will)f(not)g(be)h(inferred.)31
b(The)24 b(tw)o(o)f(kinds)g(do)357 293 y(not)h(ha)n(v)o(e)g(to)h(be)g
(bound)f(in)g(separate)h(clumps\227it)e(is)i(just)e(easier)j(to)e
(write)h(do)n(wn)e(that)i(w)o(ay)-6 b(.)357 558 y(If)31
b(a)h(rule)f(has)h(more)f(than)g(one)g(tar)n(get,)i(we)e(will)g(ha)n(v)
o(e)g(to)g(repeat)357 708 y(this)24 b(step)g(for)h(each.)357
917 y(In)k(our)h(e)o(xample,)f(we)h(successfully)f(match)g
FP(H)g F4(to)g FP(L)p F4(.)45 b(Matching)357 1066 y(the)24
b(types)h(also)f(infers)h FP(m)f F4(and)h FP(n)p F4(.)p
2830 387 958 4 v 2830 1221 4 835 v 7 setlinewidth np
2913 467 25 135.00 315.00 arc st 7 setlinewidth np 2949
449 18 180.00 360.00 arc st 7 setlinewidth np 3002 449
35 180.00 360.00 arc st 7 setlinewidth np 3047 476 28
251.56 341.56 arc st 7 setlinewidth np 3074 493 27 270.00
450.00 arc st 7 setlinewidth np 3038 520 35 360.00 540.00
arc st 7 setlinewidth np 2984 520 18 360.00 540.00 arc
st 7 setlinewidth np 2940 520 27 360.00 540.00 arc st
7 setlinewidth np 2904 502 19 63.43 243.43 arc st 2858
679 a FX(!)p FP(m)66 b FX(=)22 b FZ(s)p FP(x)2858 799
y FX(!)p FP(n)89 b FX(=)22 b FP(y)2858 919 y FX(!)p FP(L)89
b FX(=)22 b FP(H)2858 1040 y FX(!)p FP(app)p FX(=)g F3(\024)p
FZ(Elim)h FX(\010)18 b FY(:)f(:)g(:)f FP(H)3054 1160
y FX(:)46 b(\010)23 b FZ(s)o FP(x)f(y)p 3784 1221 V 2830
1224 958 4 v 357 1361 a F4(No)n(w)-6 b(,)24 b(if)h(an)g(elimination)f
(rule)h(is)g(particularly)f(complicated,)g(its)h(later)g(structure)g
(may)g(be)g(com-)357 1510 y(puted)i(from)g(earlier)h(ar)n(guments)f
(inferred)h(by)f(tar)n(getting.)39 b(The)27 b(instantiated)f(type)h(of)
h FP(app)g F4(may)357 1660 y(reduce,)23 b(re)n(v)o(ealing)e(more)h
(premises)f(to)h(be)g(inferred.)30 b(The)23 b(tactic)f(should)f(create)
i(holes)e(for)h(these)357 1809 y(and)27 b(add)g(them)f(to)h(the)g
(application.)37 b(Computation)25 b(may)i(also)g(re)n(v)o(eal)g(more)g
(tar)n(gets.)37 b(Incorpo-)357 1958 y(rating)24 b(this)g(possibility)-6
b(,)21 b(the)k(real)g(beha)n(viour)g(of)g(the)f(tar)n(getting)g(step)h
(is)f(as)h(follo)n(ws)359 2168 y(T)l F2(A)q(C)t(T)t(I)t(C)r
F4(:)34 b F0(eliminate-tar)o(get)p 601 2536 1217 4 v
601 3695 4 1160 v 629 2658 a FX(?)p FP(goal)p F3(\031)22
b FY(\025)990 2651 y(~)997 2658 y FP(x)175 b FX(:)1299
2632 y FY(~)1295 2658 y FP(X)951 2792 y FX(?)985 2785
y FY(~)997 2792 y FP(s)1036 2807 y FM(1)1076 2792 y FX(;)1107
2785 y FY(~)1120 2792 y FP(s)1158 2807 y FM(2)1222 2792
y FX(:)1291 2766 y FY(~)1295 2792 y FP(S)1351 2807 y
FM(1)1390 2792 y FX(;)1429 2766 y FY(~)1434 2792 y FP(S)1489
2807 y FM(2)970 2912 y FX(!)p FP(app)56 b FX(=)22 b FP(elim)1477
2905 y FY(~)1489 2912 y FP(s)1528 2927 y FM(1)1567 2912
y FX(;)1598 2905 y FY(~)1611 2912 y FP(s)1650 2927 y
FM(2)1222 3032 y FX(:)46 b FP(R)q FX([)1376 3025 y FY(~)1389
3032 y FP(s)1428 3047 y FM(1)1467 3032 y FX(;)1498 3025
y FY(~)1511 3032 y FP(s)1550 3047 y FM(2)1589 3032 y
FX(])951 3153 y(?)p FP(conc)e FX(:)i FP(Y)q FX([)1382
3146 y FY(~)1389 3153 y FP(x)p FX(])997 3273 y FP(conc)629
3514 y(t)p FX([)676 3507 y FY(~)689 3514 y FP(s)728 3529
y FM(2)767 3514 y FX(])28 b(:)g FP(T)p FX([)952 3507
y FY(~)965 3514 y FP(s)1004 3529 y FM(2)1043 3514 y FX(])d
F4(tar)n(get)629 3634 y FP(e)p FX([)688 3627 y FY(~)695
3634 y FP(x)o FX(])j(:)g FP(E)p FX([)935 3627 y FY(~)942
3634 y FP(x)p FX(])d F4(to)f(be)h(eliminated)p 1814 3695
V 601 3698 1217 4 v 1845 3141 a F3(\))p 1972 2343 1384
4 v 1972 3889 4 1547 v 2000 2465 a FX(?)p FP(goal)p F3(\031)e
FY(\025)2362 2458 y(~)2369 2465 y FP(x)155 b FX(:)2652
2439 y FY(~)2648 2465 y FP(X)2323 2598 y FX(?)2356 2591
y FY(~)2369 2598 y FP(s)2408 2613 y FM(1)2574 2598 y
FX(:)2643 2572 y FY(~)2648 2598 y FP(S)2703 2613 y FM(1)2342
2719 y FX(!)2356 2712 y FY(~)2369 2719 y FP(s)2408 2734
y FM(2)2550 2719 y FX(=)2635 2712 y FY(~)2648 2719 y
FP(r)o FX([)2706 2712 y FY(~)2713 2719 y FP(x)p FX(])2323
2852 y(?)2356 2845 y FY(~)2369 2852 y FP(s)2408 2867
y FM(3)2574 2852 y FX(:)2643 2826 y FY(~)2648 2852 y
FP(S)2703 2867 y FM(3)2342 2972 y FX(!)p FP(app)2513
2936 y FE(0)2550 2972 y FX(=)22 b FP(elim)2829 2965 y
FY(~)2841 2972 y FP(s)2880 2987 y FM(1)2920 2972 y FX(;)2951
2965 y FY(~)2964 2972 y FP(r)o FX([)3022 2965 y FY(~)3029
2972 y FP(x)p FX(];)3137 2965 y FY(~)3150 2972 y FP(s)3189
2987 y FM(3)2574 3093 y FX(:)47 b FP(R)2714 3050 y FE(0)2737
3093 y FX([)2757 3086 y FY(~)2764 3093 y FP(x)p FX(;)2845
3086 y FY(~)2858 3093 y FP(s)2897 3108 y FM(1)2936 3093
y FX(;)2967 3086 y FY(~)2980 3093 y FP(s)3019 3108 y
FM(3)3058 3093 y FX(])2323 3213 y(?)p FP(conc)24 b FX(:)47
b FP(Y)p FX([)2734 3206 y FY(~)2741 3213 y FP(x)p FX(])2369
3333 y FP(conc)2000 3574 y(T)p FX([)2075 3567 y FY(~)2088
3574 y FP(r)p FX([)2147 3567 y FY(~)2154 3574 y FP(x)p
FX(]])2308 3547 y F3(\030)2309 3578 y FX(=)2435 3574
y FP(E)p FX([)2516 3567 y FY(~)2523 3574 y FP(x)p FX(])2000
3695 y FP(t)q FX([)2048 3688 y FY(~)2061 3695 y FP(r)o
FX([)2119 3688 y FY(~)2126 3695 y FP(x)p FX(]])2280 3667
y F3(\030)2281 3699 y FX(=)2408 3695 y FP(e)o FX([)2466
3688 y FY(~)2473 3695 y FP(x)p FX(])2000 3828 y FP(R)q
FX([)2081 3821 y FY(~)2094 3828 y FP(s)2133 3843 y FM(1)2172
3828 y FX(;)2203 3821 y FY(~)2216 3828 y FP(r)p FX([)2275
3821 y FY(~)2282 3828 y FP(x)o FX(]])e FY(.)f F3(8)2565
3821 y FY(~)2578 3828 y FP(s)2617 3843 y FM(3)2668 3828
y FX(:)2702 3802 y FY(~)2706 3828 y FP(S)2761 3843 y
FM(3)2801 3828 y FY(:)22 b FP(R)2916 3785 y FE(0)2940
3828 y FX([)2960 3821 y FY(~)2967 3828 y FP(x)p FX(;)3048
3821 y FY(~)3061 3828 y FP(s)3099 3843 y FM(1)3138 3828
y FX(;)3169 3821 y FY(~)3182 3828 y FP(s)3221 3843 y
FM(3)3260 3828 y FX(])p 3353 3889 V 1972 3892 1384 4
v 357 4121 a F4(Observ)o(e)31 b(that)f(not)h(only)g(ha)n(v)o(e)f(the)
1623 4114 y FY(~)1636 4121 y FP(s)1674 4136 y FM(2)1745
4121 y F4(been)i(inferred)f(and)h(turned)e(into)h FX(!)p
F4(-bindings,)g(b)n(ut)g(some)344 4264 y FY(~)357 4271
y FP(s)395 4286 y FM(3)471 4271 y F4(ha)n(v)o(e)36 b(appeared)g(as)g(a)
g(result)g(of)g(computation.)62 b(The)36 b(proforma)g(application)f(is)
g(e)o(xtended)357 4420 y(accordingly)-6 b(.)2022 5667
y(74)p eop
%%Page: 75 80
75 79 bop 357 -6 a FB(3.6.3)118 b(constructing)31 b(the)f(scheme)357
280 y F4(If)48 b(the)g(tar)n(getting)f(phase)h(has)g(left)g(the)g
(state)f(as)i(sho)n(wn,)357 429 y(the)c(tactic)h(may)f(proceed)h(to)g
(construct)f(the)g(elimination)357 579 y(scheme.)c(The)28
b(scheme)h(v)n(ariable,)f FX(\010)q F4(,)h(has)g(been)f(unco)o(v)o
(ered)357 728 y(and)h(the)g(patterns,)1045 721 y FY(~)1053
728 y FP(p)o FX([)1122 721 y FY(~)1129 728 y FP(x)p FX(])p
F4(,)i(ha)n(v)o(e)e(been)h(inferred.)45 b(The)30 b(task)f(is)357
878 y(no)n(w)20 b(to)g(compute)h FX(\010)p F4(.)29 b(W)-8
b(e)22 b(must)e(put)g(the)h(analysis)f(of)h(section)357
1027 y(3.5)j(into)g(practice.)357 1236 y(Recall)37 b(that)f(the)h
(basic)f(scheme)h(is)f(manuf)o(actured)h(by)f(ab-)357
1386 y(stracting)28 b(all)h(the)g(premises)f(and)h(constraining)f(the)h
(indices)357 1535 y(to)24 b(equal)h(the)f(instantiated)g(patterns.)p
2670 158 1118 4 v 2670 1392 4 1235 v 2698 280 a FX(?)p
FP(goal)p F3(\031)f FY(\025)3057 273 y(~)3067 280 y FP(a)161
b FX(:)3350 254 y FY(~)3346 280 y FP(A)3010 413 y FY(\025)3060
406 y(~)3067 413 y FP(x)155 b FX(:)3350 387 y FY(~)3346
413 y FP(X)3021 546 y FX(?\010)135 b(:)47 b F3(8)3383
539 y FY(~)3401 546 y FP(\021)p FX(:)3462 520 y FY(~)3478
546 y FP(I)p FX([)3528 539 y FY(~)3538 546 y FP(a)p FX(])3401
667 y FI(U)p 7 setlinewidth np 3065 758 25 135.00 315.00
arc st 7 setlinewidth np 3101 740 18 180.00 360.00 arc
st 7 setlinewidth np 3154 740 35 180.00 360.00 arc st
7 setlinewidth np 3199 767 28 251.56 341.56 arc st 7
setlinewidth np 3225 785 27 270.00 450.00 arc st 7 setlinewidth
np 3190 812 35 360.00 540.00 arc st 7 setlinewidth np
3136 812 18 360.00 540.00 arc st 7 setlinewidth np 3092
812 27 360.00 540.00 arc st 7 setlinewidth np 3056 794
19 63.43 243.43 arc st 3040 970 a FX(!)p FP(app)37 b
FX(=)22 b FP(elim)3527 963 y FY(~)3539 970 y FP(r)3272
1090 y FX(:)47 b(\010)3431 1083 y FY(~)3438 1090 y FP(p)p
FX([)3508 1083 y FY(~)3515 1090 y FP(x)p FX(])3021 1211
y(?)p FP(conc)24 b FX(:)47 b FP(Y)p FX([)3432 1204 y
FY(~)3439 1211 y FP(x)p FX(])3067 1331 y FP(conc)p 3784
1392 V 2670 1395 1118 4 v 357 1800 a F4(Correspondingly)-6
b(,)64 b(the)58 b(tactic)g(be)o(gins)e(by)i(b)n(uilding)e(a)j(basic)357
1950 y(scheme,)43 b(cop)o(ying)c(the)h(non-parametric)g(premises)2282
1943 y FY(~)2289 1950 y FP(x)g F4(from)g(the)357 2099
y(goal)33 b(and)h(constraining)f(all)h(the)g(indices.)58
b(A)34 b(premise)f FP(a)i F4(is)e(con-)357 2248 y(sidered)c(parametric)
h(e)o(xactly)f(when)g(it)g(occurs)h(in)f(the)h(type)f(of)h
FX(\010)p F4(.)357 2398 y(The)e(tactic)h(may)f(f)o(ail)g(at)h(this)e
(point)h(if)g(the)g(goal)g(being)g(addressed)357 2547
y(is)c(too)g(`big')h(for)g(the)g(uni)n(v)o(erse)e(o)o(v)o(er)h(which)g
(the)h(rule)g(eliminates.)p 2884 1629 903 4 v 2884 2377
4 749 v 7 setlinewidth np 2992 1709 25 135.00 315.00
arc st 7 setlinewidth np 3028 1691 18 180.00 360.00 arc
st 7 setlinewidth np 3081 1691 35 180.00 360.00 arc st
7 setlinewidth np 3126 1718 28 251.56 341.56 arc st 7
setlinewidth np 3153 1735 27 270.00 450.00 arc st 7 setlinewidth
np 3117 1762 35 360.00 540.00 arc st 7 setlinewidth np
3064 1762 18 360.00 540.00 arc st 7 setlinewidth np 3019
1762 27 360.00 540.00 arc st 7 setlinewidth np 2983 1744
19 63.43 243.43 arc st 2937 1933 a FX(?\010)q F3(\031)e
FY(\025)3192 1926 y(~)3210 1933 y FP(\021)46 b FX(:)3317
1907 y FY(~)3333 1933 y FP(I)p FX([)3383 1926 y FY(~)3393
1933 y FP(a)p FX(])3155 2067 y F3(8)3203 2060 y FY(~)3210
2067 y FP(x)3260 2015 y FE(0)3284 2067 y FX(:)3337 2041
y FY(~)3333 2067 y FP(X)3155 2191 y F3(8)3198 2184 y
FY(~)3210 2191 y FP(e)35 b FX(:)3315 2184 y FY(~)3333
2191 y FP(\021)22 b F3(')3475 2184 y FY(~)3482 2191 y
FP(p)p FX([)3552 2184 y FY(~)3559 2191 y FP(x)3609 2140
y FE(0)3632 2191 y FX(])3210 2316 y FP(Y)q FX([)3297
2309 y FY(~)3304 2316 y FP(x)3354 2264 y FE(0)3377 2316
y FX(])p 3784 2377 V 2884 2380 903 4 v 357 2705 a F4(The)27
b(remainder)h(of)g(this)e(phase)i(prunes)f(the)g(basic)h(scheme)f(do)n
(wn)g(to)g(something)f(less)h(clumsy)-6 b(,)357 2855
y(where)n(v)o(er)31 b(this)f(is)h(possible.)50 b(Of)31
b(course,)j(in)d(a)g(real)h(implementation,)f(we)h(w)o(ould)e(try)i(to)
f(sa)n(v)o(e)357 3004 y(w)o(ork)25 b(by)g(approaching)g(the)h(desired)f
(scheme)g(more)h(directly)-6 b(,)24 b(b)n(ut)h(I)h(suspect)f(that)g
(`pruning)f(the)357 3153 y(basic)g(scheme')h(gi)n(v)o(es)e(a)j(clearer)
f(e)o(xposition.)k(There)c(are)h(tw)o(o)e(passes:)502
3471 y F3(\017)49 b F4(F)o(or)24 b(decreasing)1188 3435
y FS(4)1251 3471 y FY(j)6 b F4(,)24 b(remo)o(v)o(e)g
F3(8)p FP(x)1772 3435 y FE(0)1772 3495 y FL(j)1834 3471
y F4(from)g(the)h(scheme)g(if)f(it)h(is)f(redundant,)g(ie)733
3642 y(if)100 b FP(x)944 3657 y FL(j)1008 3642 y F3(2)1089
3635 y FY(~)1102 3642 y FP(r)347 b F4(\()p FP(x)1571
3657 y FL(j)1632 3642 y F4(has)25 b(been)g(tar)n(getted)g
FY(:)17 b(:)g(:)41 b F4(\))650 3763 y(and)100 b FP(x)944
3778 y FL(j)1008 3763 y F3(62)1095 3756 y FY(~)1102 3763
y FP(p)p FX([)1172 3756 y FY(~)1179 3763 y FP(x)p FX(])232
b F4(\()25 b FY(:)17 b(:)g(:)41 b F4(b)n(ut)24 b(is)g(not)h(being)f
(`inspected')g(in)h(the)f(patterns)h FY(:)17 b(:)g(:)41
b F4(\))650 3896 y(and)100 b FP(x)944 3911 y FL(j)1008
3896 y F3(62)1106 3870 y FY(~)1102 3896 y FP(X)p FY(;)17
b FP(Y)p FX([)1304 3889 y FY(~)1311 3896 y FP(x)p FX(])100
b F4(\()25 b FY(:)17 b(:)g(:)41 b F4(or)25 b(depended)f(on)h(by)f(the)h
(rest)g(of)g(the)f(goal\))502 4105 y F3(\017)49 b F4(F)o(or)24
b(increasing)1172 4069 y FS(5)1234 4105 y FY(k)s F4(,)h(try)g(to)f
(simplify)f(constraint)h F3(8)p FP(e)2445 4120 y FL(k)2515
4105 y FX(:)k FP(i)2598 4120 y FL(k)2663 4105 y F3(')22
b FP(p)2812 4137 y FL(k)2855 4105 y FX([)2875 4098 y
FY(~)2882 4105 y FP(x)p FX(])601 4296 y F4(There)j(are)g(tw)o(o)g
(simpli\002cations)d(to)j(check)g(for:)31 b(in)24 b(order)l(,)717
4553 y F0(\226)48 b(coalescence)976 4668 y F4(if)99 b
FP(p)1186 4700 y FL(k)1254 4668 y F4(is)24 b(some)g FP(x)1630
4632 y FE(0)1630 4693 y FL(j)1766 4668 y F4(\(inde)o(x)g(constrained)g
(to)h(equal)f(fresh)h(v)n(ariable)g FY(:)17 b(:)g(:)41
b F4(\))893 4790 y(and)99 b FP(I)1169 4805 y FL(k)1240
4762 y F3(\030)1240 4794 y FX(=)1345 4790 y FP(X)1417
4805 y FL(j)1766 4790 y F4(\()25 b FY(:)17 b(:)g(:)41
b F4(of)25 b(same)g(type\))865 4910 y(then)99 b(replace)26
b FP(x)1499 4874 y FE(0)1499 4935 y FL(j)1560 4910 y
F4(by)e FP(i)1712 4925 y FL(k)1755 4910 y F4(,)h(remo)o(v)o(e)e
F3(8)p FP(x)2230 4874 y FE(0)2230 4935 y FL(j)2292 4910
y F4(from)i(scheme)815 5050 y(Strictly)-6 b(,)30 b(we)g(should)f(then)g
(rename)h FP(i)2152 5065 y FL(k)2224 5050 y F4(to)g FP(x)2382
5014 y FE(0)2382 5075 y FL(j)2418 5050 y F4(,)h(k)o(eeping)e(the)h
(name)g(from)f(the)h(goal,)815 5200 y(b)n(ut)24 b(that)h(w)o(ould)f
(mak)o(e)g(this)g(presentation)g(more)h(comple)o(x)e(than)i(it)f
(already)h(is.)p 357 5289 1373 4 v 473 5350 a FR(4)506
5380 y FQ(Later)20 b(redundant)e(premises)i(must)g(not)g(be)g(used)g
(as)h(e)o(xcuses)e(to)i(retain)f(earlier)f(redundant)f(premises.)473
5450 y FR(5)506 5480 y FQ(Simplifying)h(earlier)g(constraints)h(may)g
(unify)f(the)h(types)g(of)g(later)g(constraints.)2022
5667 y F4(75)p eop
%%Page: 76 81
76 80 bop 717 -6 a F0(\226)48 b(abstraction)26 b(f)n(or)e(r)n(ewriting)
815 160 y F4(When)i FP(i)1106 175 y FL(k)1174 160 y F4(is)f(mark)o(ed)g
(for)h(abstraction)f(with)f F3(8)p 2451 63 127 4 v 2451
200 4 137 v 29 w FP(i)2508 175 y FL(k)p 2575 200 V 2451
203 127 4 v 2604 160 a F4(in)h(the)g(type)g(of)g FX(\010)q
F4(,)g(try)g(replacing)815 309 y(all)d(occurrences)g(of)g
FP(p)1589 341 y FL(k)1653 309 y F4(in)f(the)h(scheme)g(by)f
FP(i)2366 324 y FL(k)2408 309 y F4(.)30 b(If)22 b(the)g(result)f(is)g
(well-typed,)g(discard)815 459 y FP(e)854 474 y FL(k)897
459 y F4(,)j(otherwise)h(lea)n(v)o(e)f(the)h(scheme)g(alone.)357
737 y(Once)33 b(simpli\002cation)e(is)i(complete,)h(the)f(pruned)g
(scheme)g(is)g(made)g(accessible)g(by)g(changing)357
886 y(the)24 b FX(?\010)i F4(to)e FX(!\010)q F4(.)31
b(The)24 b(type)h(of)g FP(app)f F4(can)i(then)e(reduce.)357
1157 y(In)32 b(our)g(e)o(xample,)g(the)g(basic)g(scheme)g(is)f(more)h
(comple)o(x)e(than)357 1307 y(it)e(needs)h(to)g(be.)43
b(Re\003ecting)29 b(the)g(`proof)g(irrele)n(v)n(ant')f(nature)h(of)357
1456 y(inducti)n(v)o(e)23 b(relations,)j(the)f FP(H)1369
1413 y FE(0)1418 1456 y F4(is)g(redundant.)34 b(Furthermore,)26
b(we)357 1606 y(may)e(remo)o(v)o(e)g FP(e)913 1621 y
FL(n)984 1606 y F4(by)h(coalescence.)p 2783 986 1005
4 v 2783 1940 4 955 v 7 setlinewidth np 2891 1066 25
135.00 315.00 arc st 7 setlinewidth np 2927 1048 18 180.00
360.00 arc st 7 setlinewidth np 2980 1048 35 180.00 360.00
arc st 7 setlinewidth np 3025 1075 28 251.56 341.56 arc
st 7 setlinewidth np 3052 1092 27 270.00 450.00 arc st
7 setlinewidth np 3016 1119 35 360.00 540.00 arc st 7
setlinewidth np 2962 1119 18 360.00 540.00 arc st 7 setlinewidth
np 2918 1119 27 360.00 540.00 arc st 7 setlinewidth np
2882 1101 19 63.43 243.43 arc st 2836 1278 a FX(?\010)q
F3(\031)d FY(\025)p FP(m)p FY(;)17 b FP(n)c FX(:)22 b
FZ(N)-63 b(N)3054 1398 y F3(8)p FP(x)3159 1362 y FE(0)3182
1398 y FY(;)17 b FP(y)3276 1362 y FE(0)3299 1398 y FX(:)22
b FZ(N)-63 b(N)3054 1518 y F3(8)p FP(H)3187 1476 y FE(0)3299
1518 y FX(:)22 b FZ(s)p FP(x)3437 1482 y FE(0)3482 1518
y F3(\024)h FP(y)3632 1482 y FE(0)3054 1639 y F3(8)p
FP(e)3148 1654 y FL(m)3299 1639 y FX(:)f FP(m)g F3(')h
FZ(s)o FP(x)3636 1603 y FE(0)3054 1759 y F3(8)p FP(e)3148
1774 y FL(n)3299 1759 y FX(:)f FP(n)h F3(')f FP(y)3575
1723 y FE(0)3109 1879 y FP(x)3159 1843 y FE(0)3204 1879
y FY(<)g FP(y)3352 1843 y FE(0)p 3784 1940 V 2783 1943
1005 4 v 357 2187 a F4(The)k(pruned)h(scheme)f(is)g(e)o(xactly)g(the)h
(one)f(we)h(came)g(up)g(with)357 2336 y(when)37 b(we)h(did)f(this)g(e)o
(xample)f(by)i(hand.)68 b(The)38 b(type)f(of)h FP(app)357
2486 y F4(reduces)25 b(accordingly)-6 b(.)p 2726 2015
1062 4 v 2726 3394 4 1379 v 7 setlinewidth np 2834 2096
25 135.00 315.00 arc st 7 setlinewidth np 2869 2078 18
180.00 360.00 arc st 7 setlinewidth np 2923 2078 35 180.00
360.00 arc st 7 setlinewidth np 2968 2104 28 251.56 341.56
arc st 7 setlinewidth np 2994 2122 27 270.00 450.00 arc
st 7 setlinewidth np 2959 2149 35 360.00 540.00 arc st
7 setlinewidth np 2905 2149 18 360.00 540.00 arc st 7
setlinewidth np 2861 2149 27 360.00 540.00 arc st 7 setlinewidth
np 2825 2131 19 63.43 243.43 arc st 2779 2307 a FX(!\010)74
b(=)22 b FY(\025)p FP(m)o FY(;)17 b FP(y)3276 2271 y
FE(0)3299 2307 y FX(:)22 b FZ(N)-63 b(N)3049 2428 y F3(8)q
FP(x)3155 2392 y FE(0)3299 2428 y FX(:)22 b FZ(N)-63
b(N)3049 2548 y F3(8)q FP(e)3144 2563 y FL(m)3299 2548
y FX(:)22 b FP(m)g F3(')h FZ(s)o FP(x)3636 2512 y FE(0)3105
2669 y FP(x)3155 2632 y FE(0)3200 2669 y FY(<)f FP(y)3348
2632 y FE(0)p 7 setlinewidth np 2834 2760 25 135.00 315.00
arc st 7 setlinewidth np 2869 2742 18 180.00 360.00 arc
st 7 setlinewidth np 2923 2742 35 180.00 360.00 arc st
7 setlinewidth np 2968 2769 28 251.56 341.56 arc st 7
setlinewidth np 2994 2787 27 270.00 450.00 arc st 7 setlinewidth
np 2959 2813 35 360.00 540.00 arc st 7 setlinewidth np
2905 2813 18 360.00 540.00 arc st 7 setlinewidth np 2861
2813 27 360.00 540.00 arc st 7 setlinewidth np 2825 2796
19 63.43 243.43 arc st 2779 2972 a FX(!)p FP(app)p FX(=)g
F3(\024)p FZ(Elim)h FX(\010)17 b FY(:)g(:)g(:)f FP(H)2974
3092 y FX(:)47 b F3(8)p FP(x)3153 3056 y FE(0)3209 3092
y FX(:)22 b FZ(N)-63 b(N)3048 3212 y F3(8)p FP(e)3142
3227 y FL(m)3209 3212 y FX(:)22 b FZ(s)o FP(x)g F3(')h
FZ(s)p FP(x)3556 3176 y FE(0)3103 3333 y FP(x)3153 3297
y FE(0)3198 3333 y FY(<)f FP(y)p 3784 3394 V 2726 3397
1062 4 v 357 3533 a F4(I)j(summarise)e(the)i(beha)n(viour)f(of)h(this)f
(phase)h(as)g(a)g(tactic)g(step:)359 3743 y(T)l F2(A)q(C)t(T)t(I)t(C)r
F4(:)34 b F0(eliminate-scheme)p 601 3870 736 4 v 601
4780 4 910 v 7 setlinewidth np 684 3950 25 135.00 315.00
arc st 7 setlinewidth np 719 3932 18 180.00 360.00 arc
st 7 setlinewidth np 773 3932 35 180.00 360.00 arc st
7 setlinewidth np 818 3959 28 251.56 341.56 arc st 7
setlinewidth np 844 3977 27 270.00 450.00 arc st 7 setlinewidth
np 809 4003 35 360.00 540.00 arc st 7 setlinewidth np
755 4003 18 360.00 540.00 arc st 7 setlinewidth np 710
4003 27 360.00 540.00 arc st 7 setlinewidth np 675 3986
19 63.43 243.43 arc st 629 4175 a FX(?\010)98 b(:)47
b F3(8)954 4168 y FY(~)972 4175 y FP(\021)p FX(:)1034
4149 y FY(~)1049 4175 y FP(I)p FX([)1099 4168 y FY(~)1109
4175 y FP(a)q FX(])972 4295 y FI(U)p 7 setlinewidth np
684 4386 25 135.00 315.00 arc st 7 setlinewidth np 719
4369 18 180.00 360.00 arc st 7 setlinewidth np 773 4369
35 180.00 360.00 arc st 7 setlinewidth np 818 4395 28
251.56 341.56 arc st 7 setlinewidth np 844 4413 27 270.00
450.00 arc st 7 setlinewidth np 809 4440 35 360.00 540.00
arc st 7 setlinewidth np 755 4440 18 360.00 540.00 arc
st 7 setlinewidth np 710 4440 27 360.00 540.00 arc st
7 setlinewidth np 675 4422 19 63.43 243.43 arc st 648
4598 a FX(!)p FP(app)p FX(=)22 b FP(elim)37 b FY(:)17
b(:)g(:)843 4719 y FX(:)47 b(\010)1002 4712 y FY(~)1009
4719 y FP(p)p FX([)1079 4712 y FY(~)1086 4719 y FP(x)p
FX(])p 1333 4780 V 601 4783 736 4 v 1364 4041 a F3(\))p
1491 3870 1208 4 v 1491 5348 4 1478 v 7 setlinewidth
np 1574 3950 25 135.00 315.00 arc st 7 setlinewidth np
1610 3932 18 180.00 360.00 arc st 7 setlinewidth np 1664
3932 35 180.00 360.00 arc st 7 setlinewidth np 1708 3959
28 251.56 341.56 arc st 7 setlinewidth np 1735 3977 27
270.00 450.00 arc st 7 setlinewidth np 1699 4003 35 360.00
540.00 arc st 7 setlinewidth np 1646 4003 18 360.00 540.00
arc st 7 setlinewidth np 1601 4003 27 360.00 540.00 arc
st 7 setlinewidth np 1565 3986 19 63.43 243.43 arc st
1519 4175 a FX(!)q(\010)73 b(=)22 b FY(\025)1827 4168
y(~)1845 4175 y FP(\021)62 b FX(:)1969 4149 y FY(~)1984
4175 y FP(I)p FX([)2034 4168 y FY(~)2044 4175 y FP(a)q
FX(])1790 4319 y F3(8)1838 4312 y FY(~)1845 4319 y FP(x)1895
4267 y FE(0)1895 4343 y FL(p)1935 4319 y FX(:)1988 4292
y FY(~)1984 4319 y FP(X)2056 4248 y FE(0)2056 4343 y
FL(p)1790 4445 y F3(8)1833 4438 y FY(~)1845 4445 y FP(e)1884
4460 y FL(p)1935 4445 y FX(:)1966 4438 y FY(~)1984 4445
y FP(\021)2012 4460 y FL(p)2074 4445 y F3(')2166 4438
y FY(~)2173 4445 y FP(p)2223 4476 y FL(p)2263 4445 y
FX([)2283 4438 y FY(~)2290 4445 y FP(x)2340 4393 y FE(0)2340
4469 y FL(p)2379 4445 y FX(])1845 4578 y FP(Y)1912 4535
y FE(0)1935 4578 y FX([)1944 4571 y FY(~)1962 4578 y
FP(\021)p FX(;)2026 4571 y FY(~)2034 4578 y FP(x)2083
4526 y FE(0)2083 4602 y FL(p)2123 4578 y FX(])p 7 setlinewidth
np 1574 4670 25 135.00 315.00 arc st 7 setlinewidth np
1610 4653 18 180.00 360.00 arc st 7 setlinewidth np 1664
4653 35 180.00 360.00 arc st 7 setlinewidth np 1708 4679
28 251.56 341.56 arc st 7 setlinewidth np 1735 4697 27
270.00 450.00 arc st 7 setlinewidth np 1699 4724 35 360.00
540.00 arc st 7 setlinewidth np 1646 4724 18 360.00 540.00
arc st 7 setlinewidth np 1601 4724 27 360.00 540.00 arc
st 7 setlinewidth np 1565 4706 19 63.43 243.43 arc st
1519 4882 a(!)q FP(app)o FX(=)22 b FP(elim)38 b FY(:)17
b(:)g(:)1715 5026 y FX(:)46 b F3(8)1837 5019 y FY(~)1844
5026 y FP(x)1894 4975 y FE(0)1894 5051 y FL(p)1933 5026
y FX(:)1986 5000 y FY(~)1983 5026 y FP(X)2054 4955 y
FE(0)2054 5051 y FL(p)1788 5152 y F3(8)1831 5145 y FY(~)1844
5152 y FP(e)1883 5167 y FL(p)1933 5152 y FX(:)1975 5145
y FY(~)1983 5152 y FP(p)2032 5184 y FL(p)2072 5152 y
FX([)2092 5145 y FY(~)2099 5152 y FP(x)2149 5167 y FL(p)2189
5152 y FX(])22 b F3(')2330 5145 y FY(~)2337 5152 y FP(p)2387
5184 y FL(p)2427 5152 y FX([)2447 5145 y FY(~)2454 5152
y FP(x)2504 5101 y FE(0)2504 5177 y FL(p)2544 5152 y
FX(])1844 5285 y FP(Y)1910 5242 y FE(0)1934 5285 y FX([)1954
5278 y FY(~)1961 5285 y FP(p)o FX([)2030 5278 y FY(~)2037
5285 y FP(x)p FX(];)2150 5278 y FY(~)2158 5285 y FP(x)2208
5234 y FE(0)2208 5310 y FL(p)2248 5285 y FX(])p 2695
5348 V 1491 5351 1208 4 v 601 5484 a F4(The)781 5477
y FY(~)788 5484 y FP(x)838 5433 y FE(0)838 5509 y FL(p)910
5484 y F4(are)33 b(what)f(remain)g(of)g(the)1861 5477
y FY(~)1868 5484 y FP(x)1918 5433 y FE(0)1974 5484 y
F4(after)h(pruning\227)2593 5477 y FY(~)2600 5484 y FP(x)2648
5499 y FL(p)2720 5484 y F4(is)f(the)g(corresponding)2022
5667 y(76)p eop
%%Page: 77 82
77 81 bop 601 -6 a F4(selection)24 b(from)1191 -13 y
FY(~)1198 -6 y FP(x)p F4(.)601 144 y(The)769 137 y FY(~)781
144 y FP(e)819 159 y FL(p)884 144 y F4(are)i(what)f(remain)g(of)g(the)
1795 137 y FY(~)1807 144 y FP(e)g F4(after)h(pruning,)e(equating)g(a)h
(pruned)g(sequence)601 293 y(of)f(indices)998 286 y FY(~)1016
293 y FP(\021)1043 308 y FL(p)1108 293 y F4(to)g(a)h(pruned)g(sequence)
g(of)g(patterns)2412 286 y FY(~)2419 293 y FP(p)2469
325 y FL(p)2509 293 y FX([)2529 286 y FY(~)2536 293 y
FP(x)2586 242 y FE(0)2586 318 y FL(p)2625 293 y FX(])p
F4(.)601 443 y(Recall)i(that)f(the)g(conclusion)f(we)i(are)g(trying)f
(to)g(pro)o(v)o(e)f(is)h FP(Y)q FX([)2754 436 y FY(~)2761
443 y FP(x)p FX(])p F4(:)34 b(by)26 b(construction,)601
592 y FP(Y)667 549 y FE(0)690 592 y FX([)710 585 y FY(~)717
592 y FP(p)p FX([)787 585 y FY(~)794 592 y FP(x)p FX(];)907
585 y FY(~)915 592 y FP(x)965 607 y FL(p)1004 592 y FX(])50
b F3(\021)h FP(Y)p FX([)1295 585 y FY(~)1302 592 y FP(x)p
FX(])357 939 y FB(3.6.4)118 b(pr)n(o)o(ving)30 b(the)h(goal)359
1216 y F4(T)l F2(A)q(C)t(T)t(I)t(C)r F4(:)j F0(eliminate-goal)p
601 1344 1264 4 v 601 2221 4 878 v 7 setlinewidth np
684 1424 25 135.00 315.00 arc st 7 setlinewidth np 719
1406 18 180.00 360.00 arc st 7 setlinewidth np 773 1406
35 180.00 360.00 arc st 7 setlinewidth np 818 1433 28
251.56 341.56 arc st 7 setlinewidth np 844 1451 27 270.00
450.00 arc st 7 setlinewidth np 809 1477 35 360.00 540.00
arc st 7 setlinewidth np 755 1477 18 360.00 540.00 arc
st 7 setlinewidth np 710 1477 27 360.00 540.00 arc st
7 setlinewidth np 675 1460 19 63.43 243.43 arc st 648
1636 a FX(!)p FP(app)j FX(=)22 b FP(elim)1135 1629 y
FY(~)1147 1636 y FP(r)880 1780 y FX(:)47 b F3(8)1002
1773 y FY(~)1009 1780 y FP(x)1059 1728 y FE(0)1059 1804
y FL(p)1098 1780 y FX(:)1152 1753 y FY(~)1148 1780 y
FP(X)1220 1709 y FE(0)1220 1804 y FL(p)954 1906 y F3(8)996
1899 y FY(~)1009 1906 y FP(e)1048 1921 y FL(p)1098 1906
y FX(:)1141 1899 y FY(~)1148 1906 y FP(p)1197 1937 y
FL(p)1237 1906 y FX([)1257 1899 y FY(~)1264 1906 y FP(x)1314
1921 y FL(p)1354 1906 y FX(])22 b F3(')1495 1899 y FY(~)1503
1906 y FP(p)1552 1937 y FL(p)1592 1906 y FX([)1612 1899
y FY(~)1619 1906 y FP(x)1669 1854 y FE(0)1669 1930 y
FL(p)1709 1906 y FX(])1009 2039 y FP(Y)1075 1996 y FE(0)1099
2039 y FX([)1119 2032 y FY(~)1126 2039 y FP(p)p FX([)1196
2032 y FY(~)1203 2039 y FP(x)p FX(];)1316 2032 y FY(~)1324
2039 y FP(x)1373 1987 y FE(0)1373 2063 y FL(p)1413 2039
y FX(])629 2160 y(?)p FP(conc)i FX(:)47 b FP(Y)p FX([)1040
2153 y FY(~)1047 2160 y FP(x)p FX(])p 1860 2221 V 601
2224 1264 4 v 1891 1515 a F3(\))p 2019 1344 1164 4 v
2019 1826 4 482 v 7 setlinewidth np 2102 1424 25 135.00
315.00 arc st 7 setlinewidth np 2137 1406 18 180.00 360.00
arc st 7 setlinewidth np 2191 1406 35 180.00 360.00 arc
st 7 setlinewidth np 2236 1433 28 251.56 341.56 arc st
7 setlinewidth np 2262 1451 27 270.00 450.00 arc st 7
setlinewidth np 2227 1477 35 360.00 540.00 arc st 7 setlinewidth
np 2173 1477 18 360.00 540.00 arc st 7 setlinewidth np
2128 1477 27 360.00 540.00 arc st 7 setlinewidth np 2093
1460 19 63.43 243.43 arc st 2047 1636 a FX(!)p FP(conc)p
FX(=)22 b FP(app)2512 1629 y FY(~)2519 1636 y FP(x)2568
1651 y FL(p)2630 1636 y FX(\()p FZ(re\003)2826 1629 y
FY(~)2833 1636 y FP(p)2883 1667 y FL(p)2923 1636 y FX([)2943
1629 y FY(~)2950 1636 y FP(x)2999 1651 y FL(p)3039 1636
y FX(]\))2279 1765 y(:)47 b FP(Y)p FX([)2439 1758 y FY(~)2446
1765 y FP(x)p FX(])p 3179 1826 V 2019 1829 1164 4 v 357
2504 a F4(This)g(phase)i(pro)o(v)o(es)e FP(conc)h F4(from)g
FP(app)g F4(by)g(instantiating)e(the)357 2654 y(premises)32
b(abstracted)h(in)f(the)h(scheme)g(with)f(their)g(`originals',)357
2803 y(making)j(the)i(constraints)e(re\003e)o(xi)n(v)o(e)h(and)h(the)f
(return)h(type)f(the)357 2953 y(desired)24 b FP(Y)q FX([)756
2946 y FY(~)763 2953 y FP(x)p FX(])p F4(.)357 3162 y(The)h(ef)n(fect)g
(on)f(our)h(e)o(xample)f(is)g(sho)n(wn)g(on)g(the)h(right.)p
2793 2333 995 4 v 2793 3288 4 955 v 7 setlinewidth np
2876 2413 25 135.00 315.00 arc st 7 setlinewidth np 2912
2395 18 180.00 360.00 arc st 7 setlinewidth np 2965 2395
35 180.00 360.00 arc st 7 setlinewidth np 3010 2422 28
251.56 341.56 arc st 7 setlinewidth np 3037 2440 27 270.00
450.00 arc st 7 setlinewidth np 3001 2466 35 360.00 540.00
arc st 7 setlinewidth np 2948 2466 18 360.00 540.00 arc
st 7 setlinewidth np 2903 2466 27 360.00 540.00 arc st
7 setlinewidth np 2867 2448 19 63.43 243.43 arc st 2821
2625 a FX(!)p FP(app)37 b FX(=)22 b F3(\024)p FZ(Elim)h
FX(\010)18 b FY(:)f(:)g(:)f FP(H)3054 2745 y FX(:)46
b F3(8)q FP(x)3232 2709 y FE(0)3288 2745 y FX(:)22 b
FZ(N)-63 b(N)3127 2865 y F3(8)q FP(e)3221 2880 y FL(m)3288
2865 y FX(:)22 b FZ(s)p FP(x)g F3(')g FZ(s)p FP(x)3636
2829 y FE(0)3183 2986 y FP(x)3232 2950 y FE(0)3278 2986
y FY(<)g FP(y)2821 3106 y FX(!)p FP(conc)p FX(=)g FP(app)g(x)g
FX(\()p FZ(re\003)g(s)p FP(x)o FX(\))3054 3227 y(:)46
b FP(x)22 b FY(<)g FP(y)p 3784 3288 V 2793 3291 995 4
v 357 3579 a FB(3.6.5)118 b(tidying)31 b(up)359 3856
y F4(T)l F2(A)q(C)t(T)t(I)t(C)r F4(:)j F0(eliminate-tidy)p
601 3979 1555 4 v 601 4925 4 946 v 629 4101 a FX(?)p
FP(goal)p F3(\031)22 b FY(\025)990 4094 y(~)997 4101
y FP(x)155 b FX(:)1280 4075 y FY(~)1276 4101 y FP(X)970
4222 y FX(!\010)111 b(=)22 b FY(:)17 b(:)g(:)951 4358
y FX(?)1035 4329 y FY(~)997 4358 y FP(sub)65 b FX(:)1272
4332 y FY(~)1276 4358 y FP(S)970 4478 y FX(!)985 4471
y FY(~)997 4478 y FP(s)142 b FX(=)1263 4471 y FY(~)1276
4478 y FP(r)p FX([)1335 4471 y FY(~)1342 4478 y FP(x)p
FX(])970 4614 y(!)p FP(app)37 b FX(=)22 b FP(elim)f FX(\010)1601
4585 y FY(~)1562 4614 y FP(sub)1712 4607 y FY(~)1725
4614 y FP(r)p FX([)1784 4607 y FY(~)1791 4614 y FP(x)p
FX(])970 4735 y(!)p FP(conc)p FX(=)h FP(app)1435 4728
y FY(~)1442 4735 y FP(x)1492 4750 y FL(p)1554 4735 y
FX(\()p FZ(re\003)1749 4728 y FY(~)1756 4735 y FP(p)1806
4766 y FL(p)1846 4735 y FX([)1866 4728 y FY(~)1873 4735
y FP(x)1923 4750 y FL(p)1963 4735 y FX(]\))997 4864 y
FP(conc)p 2152 4925 V 601 4928 1555 4 v 781 5006 a F3(\))p
601 5054 1342 4 v 601 5531 4 477 v 629 5190 a FX(?)725
5150 y FY(~)675 5190 y FP(sub)815 5144 y FE(0)865 5190
y FX(:)47 b F3(8)987 5183 y FY(~)994 5190 y FP(x)1044
5205 y FL(d)1096 5190 y FX(:)1138 5163 y FY(~)1134 5190
y FP(X)1206 5205 y FL(d)1246 5190 y FY(:)1291 5163 y(~)1295
5190 y FP(S)648 5323 y FX(!)p FP(goal)p FX(=)22 b FY(\025)989
5316 y(~)996 5323 y FP(x)p FX(:)1099 5297 y FY(~)1095
5323 y FP(X)996 5470 y(elim)15 b FY(:)i(:)g(:)f FX(\()1391
5441 y FY(~)1353 5470 y FP(sub)1493 5396 y FE(0)1532
5463 y FY(~)1539 5470 y FP(x)1589 5485 y FL(d)1629 5470
y FX(\))h FY(:)g(:)g(:)p 1939 5531 V 601 5534 1342 4
v 2022 5667 a F4(77)p eop
%%Page: 78 83
78 82 bop 601 -6 a F4(Each)25 b FP(sub)965 9 y FL(i)993
-51 y FE(0)1041 -6 y F4(pro)o(v)o(es)f FP(S)1384 9 y
FL(i)1437 -6 y F4(generalised)h(o)o(v)o(er)f(the)2254
-13 y FY(~)2261 -6 y FP(x)2311 9 y FL(d)2377 -6 y F4(it)g(depends)g
(on.)357 279 y(Firstly)35 b(this)g(phase)g F0(cut)p F4(s)i(the)e
FX(!)p F4(-bindings)f(for)i(inferred)h(ar)n(guments)2839
272 y FY(~)2852 279 y FP(s)o F4(,)i(and)c(also)h FX(\010)p
F4(,)j FP(app)c F4(and)357 429 y FP(conc)o F4(.)357 638
y(The)19 b(task)f(is)h(then)g(to)f(shuf)n(\003e)h(the)g
(subgoals\227the)e(rule)i(ar)n(guments)g(not)f(inferred)i(by)f(tar)n
(getting\227)357 788 y(outside)i(the)i(proof)f(of)h FP(goal)p
F4(.)30 b(This)22 b(is)g(done)h(by)f(dischar)n(ging)g(the)g
FY(\025)p F4(s)h(through)e(them,)i(so)f(that)g(the)o(y)357
937 y(are)36 b(generalised)g(o)o(v)o(er)f(only)g(what)g(their)h(types)f
(depend)g(on)h(\(as)g(opposed)f(to)g(raising)g(the)g
FX(?)p F4(s,)357 1086 y(which)23 b(w)o(ould)g(generalise)h(o)o(v)o(er)f
(e)n(v)o(erything)f(re)o(gardless\).)29 b(T)-8 b(ypically)i(,)22
b(this)h(will)g(re-abstract)h(the)357 1236 y(\002x)o(ed)g(parameters.)
357 1445 y(Once)32 b(the)g FX(?)p F4(s)f(are)i(outside)e(the)h
FY(\025)p F4(s,)h(the)f F0(r)n(etr)n(eat)h F4(tactic)f(mo)o(v)o(es)e
(them)h(outside)g(the)h(binding)e(of)357 1595 y FP(goal)p
F4(.)47 b(At)30 b(this)f(point,)i(smart)e(implementations)f(try)i(to)g
FY(\021)t F4(-reduce)h(the)f(proof)g(of)g FP(goal)p F4(.)47
b(Finally)-6 b(,)357 1744 y FP(goal)25 b F4(is)f F0(solv)o(e)p
F4(d,)g(becoming)g(a)h FX(!)p F4(-binding.)357 1954 y(In)19
b(our)h(e)o(xample,)f(the)h(subgoals)e(do)h(not)g(depend)g(on)g(an)o(y)
g(of)h(the)f(premises,)h(so)f(no)g(generalisation)357
2103 y(is)24 b(necessary)-6 b(.)31 b(The)24 b(\002nal)h(subgoals)f(and)
h(proof)g(term)f(are)i(as)e(follo)n(ws:)601 2388 y FX(?)p
FP(sub)787 2403 y FM(1)926 2388 y FX(:)46 b F3(8)q FP(m)o
FY(;)17 b FP(x)1226 2352 y FE(0)1249 2388 y FX(:)22 b
FZ(N)-63 b(N)999 2508 y F3(8)q FP(e)155 b FX(:)22 b FP(m)g
F3(')g FZ(s)p FP(x)1586 2472 y FE(0)1055 2629 y FP(x)1104
2592 y FE(0)1150 2629 y FY(<)g FP(m)601 2749 y FX(?)p
FP(sub)787 2764 y FM(2)926 2749 y FX(:)46 b F3(8)q FP(m)o
FY(;)17 b FP(n)p FX(:)22 b FZ(N)-63 b(N)999 2869 y F3(8)q
FP(hyp)26 b FX(:)c F3(8)q FP(x)1386 2833 y FE(0)1409
2869 y FX(:)g FZ(N)-63 b(N)1280 2990 y F3(8)q FP(e)34
b FX(:)22 b FP(m)g F3(')g FZ(s)p FP(x)1746 2954 y FE(0)1336
3110 y FP(x)1386 3074 y FE(0)1431 3110 y FY(<)g FP(n)999
3230 y F3(8)q FP(x)1104 3194 y FE(0)1231 3230 y FX(:)g
FZ(N)-63 b(N)999 3351 y F3(8)q FP(e)137 b FX(:)22 b FP(m)g
F3(')h FZ(s)o FP(x)1568 3315 y FE(0)1055 3471 y FP(x)1104
3435 y FE(0)1150 3471 y FY(<)f FZ(s)o FP(n)620 3592 y
FX(!)p FP(leGoal)o FX(=)g FY(\025)p FP(x)p FY(;)17 b
FP(y)o FX(:)23 b FZ(N)-63 b(N)999 3712 y FY(\025)p FP(H)65
b FX(:)23 b FZ(s)o FP(x)f F3(\024)h FP(y)1056 3832 y
F3(\024)p FZ(Elim)g FX(\()p FY(\025)p FP(m)p FY(;)17
b FP(y)1608 3796 y FE(0)1632 3832 y FY(:)22 b F3(8)p
FP(x)1786 3796 y FE(0)1809 3832 y FY(:)g FP(m)p F3(')p
FZ(s)p FP(x)2102 3796 y FE(0)2153 3832 y F3(!)27 b FP(x)2330
3796 y FE(0)2353 3832 y FY(<)p FP(y)2479 3796 y FE(0)2502
3832 y FX(\))1176 3953 y FP(sub)1316 3968 y FM(1)1378
3953 y FP(sub)1518 3968 y FM(2)1580 3953 y FZ(s)o FP(x)22
b(y)g(H)1176 4073 y(x)g FX(\()p FZ(re\003)g(s)o FP(x)p
FX(\))926 4194 y(:)46 b F3(8)q FP(x)o FY(;)17 b FP(y)p
FX(:)22 b FZ(N)-63 b(N)999 4314 y F3(8)q FP(H)65 b FX(:)22
b FZ(s)p FP(x)g F3(\024)g FP(y)1055 4434 y(x)f FY(<)h
FP(y)357 4873 y FT(3.7)142 b(an)36 b(example\227)p Ft(N)-91
b(NEq)357 5185 y F4(W)-8 b(e)21 b(ha)n(v)o(e)g(b)n(uilt)g(our)g(hammer)
n(\227let)f(us)h(bang)g(in)g(a)g(fe)n(w)h(nails.)29 b(I)21
b(propose)g(to)g(synthesise)f(the)h FZ(N)-63 b(NEq)357
5335 y F4(function)28 b(described)h(earlier)h(in)f(the)g(chapter)l(,)i
(and)e(to)g(pro)o(v)o(e)f(some)h(useful)g(theorems)f(about)h(it.)357
5484 y(W)-8 b(e)25 b(will)f(mak)o(e)h(use)f(of)h(the)g
F0(eliminate)g F4(tactic)f(for)h(both)f(programming)g(and)g(proof.)2022
5667 y(78)p eop
%%Page: 79 84
79 83 bop 357 7 a FZ(N)-63 b(NEq)38 b F4(is)f(a)h(recursi)n(v)o(e)g
(function)f(on)g FZ(N)-63 b(N)p F4(,)41 b(so)d(the)f(starting)g(point)g
(for)357 157 y(the)32 b(de)n(v)o(elopment)e(will)i(be)g
FZ(N)-63 b(N)p F4(')-5 b(s)32 b(elimination)f(rule,)j
FZ(N)-63 b(NElim)p F4(,)35 b(which)357 306 y(doubles)26
b(as)h(the)g(traditional)e(induction)h(principle)g(and)h(its)f(primiti)
n(v)o(e)357 456 y(recursion)e(operator)-5 b(.)p 2977
-102 810 4 v 2977 1055 4 1157 v 3005 7 a FZ(N)-63 b(NElim)3005
248 y FX(\010)29 b(:)e F3(8)p FP(n)12 b FX(:)f FZ(N)-63
b(N)p FY(:)22 b FI(Type)3140 790 y FX(\010)h FZ(0)3467
549 y FX(\010)g FP(n)3418 648 y FY(:)17 b(:)f(:)h(:)g(:)f(:)3448
808 y FX(\010)22 b FZ(s)p FP(n)p 3140 864 535 4 v 3141
970 a F3(8)p 3196 871 280 4 v 3196 997 4 126 v 29 w FP(n)28
b FX(:)g FZ(N)-63 b(N)p 3472 997 V 3196 1000 280 4 v
28 w FY(:)22 b FX(\010)h FP(n)p 3784 1055 4 1157 v 2977
1058 810 4 v 357 1194 a F4(The)i(sequence)g(of)f(w)o(ork)h(is)f(then)h
(as)g(follo)n(ws:)502 1512 y F3(\017)49 b F4(Use)g FZ(N)-63
b(NElim)50 b F4(to)f(b)n(uild)g(an)h(implementation)d(of)601
1661 y FZ(N)-63 b(NEq)23 b F4(corresponding)e(to)i(the)f(ob)o(vious)f
(functional)601 1811 y(program.)p 2558 1403 1043 4 v
2558 1934 4 532 v 2586 1512 a FZ(N)-63 b(NEq)53 b(0)72
b(0)42 b FX(=)22 b FZ(tr)r(ue)2586 1632 y(N)-63 b(NEq)22
b(s)p FP(m)41 b FZ(0)h FX(=)22 b FZ(f)l(alse)2586 1753
y(N)-63 b(NEq)53 b(0)g(s)o FP(n)23 b FX(=)f FZ(f)l(alse)2586
1873 y(N)-63 b(NEq)22 b(s)p FP(m)g FZ(s)o FP(n)h FX(=)f
FZ(N)-63 b(NEq)22 b FP(m)g(m)p 3597 1934 V 2558 1937
1043 4 v 502 2103 a F3(\017)49 b F4(Use)24 b FZ(N)-63
b(NElim)26 b F4(again)e(to)g(pro)o(v)o(e)g FZ(N)-63 b(NEq)p
F4(')-5 b(s)25 b(recursion)f(induction)g(principle:)p
601 2178 2604 4 v 601 3367 4 1190 v 654 2287 a FZ(N)-63
b(NEqRecI)654 2544 y FX(\010)28 b(:)g F3(8)p FP(m)o FY(;)17
b FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p 1277
2447 103 4 v 1277 2570 4 124 v 28 w FP(b)p 1377 2570
V 1277 2573 103 4 v 40 w FX(:)11 b FZ(2)-44 b(2)p FY(:)23
b FI(Prop)788 3085 y FX(\010)g FZ(0)f(0)g(tr)r(ue)120
b FX(\010)22 b FZ(0)g(s)p FP(n)h FZ(f)l(alse)119 b FX(\010)23
b FZ(s)p FP(m)e FZ(0)i(f)l(alse)2697 2844 y FX(\010)f
FP(m)g(n)h(b)2644 2943 y FY(:)17 b(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)
2658 3103 y FX(\010)23 b FZ(s)o FP(m)f FZ(s)p FP(n)g(b)p
788 3159 2304 4 v 1444 3266 a F3(8)p FP(m)p FY(;)17 b
FP(n)p FY(:)23 b FX(\010)f FP(m)g(n)p 1995 3166 440 4
v 1995 3309 4 143 v 51 w FZ(N)-63 b(NEq)22 b FP(m)g(n)p
2432 3309 V 1995 3312 440 4 v 3201 3367 4 1190 v 601
3370 2604 4 v 502 3574 a F3(\017)49 b F4(Use)20 b FZ(N)-63
b(NEqRecI)20 b F4(to)g(pro)o(v)o(e)f(a)i(more)f(con-)601
3724 y(v)o(enient)j(elimination)g(rule)i(for)g FZ(N)-63
b(NEq)p F4(\227)601 3873 y(the)62 b(in)l(v)o(ersion)f(principle)h
(suggested)601 4023 y(earlier)25 b(in)f(the)h(chapter)-5
b(.)p 2173 3465 1428 4 v 2173 4655 4 1190 v 2226 3574
a FZ(N)-63 b(NEqIn)n(v)2226 3831 y FX(\010)28 b(:)g F3(8)p
FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22
b F3(8)p 2849 3734 103 4 v 2849 3857 4 124 v 29 w FP(b)p
2949 3857 V 2849 3860 103 4 v 39 w FX(:)11 b FZ(2)-44
b(2)q FY(:)22 b FI(Prop)2361 4373 y FX(\010)g FP(n)h(n)f
FZ(tr)r(ue)3090 4132 y FP(m)27 b F3(6)-11 b(')q FP(n)2927
4231 y FY(:)17 b(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)2959
4391 y FX(\010)23 b FP(m)e(n)i FZ(f)l(alse)p 2361 4447
1128 4 v 2429 4553 a F3(8)p FP(m)p FY(;)17 b FP(n)p FY(:)22
b FX(\010)g FP(m)g(n)p 2980 4454 440 4 v 2980 4597 4
143 v 51 w FZ(N)-63 b(NEq)22 b FP(m)g(n)p 3416 4597 V
2980 4600 440 4 v 3597 4655 4 1190 v 2173 4658 1428 4
v 502 4862 a F3(\017)49 b F4(Use)20 b FZ(N)-63 b(NEqIn)n(v)20
b F4(to)g(sho)n(w)g(that)g FZ(N)-63 b(NEq)20 b F4(satis\002es)g(its)g
(equa-)601 5012 y(tional)35 b(speci\002cation,)k(gi)n(v)o(en)c(here)i
(as)g(`introduction)601 5161 y(rules'.)p 2684 4753 917
4 v 2684 5261 4 509 v 2861 4839 663 4 v 2861 4918 a FZ(N)-63
b(NEq)22 b FP(x)g(x)g F3(')h FZ(tr)r(ue)3073 5065 y FP(x)50
b F3(6)-11 b(')22 b FP(y)p 2847 5101 691 4 v 2847 5179
a FZ(N)-63 b(NEq)22 b FP(x)g(y)g F3(')h FZ(f)l(alse)p
3597 5261 4 509 v 2684 5264 917 4 v 2022 5667 a F4(79)p
eop
%%Page: 80 85
80 84 bop 357 -6 a FB(3.7.1)118 b(constructing)31 b Fs(N)-76
b(NEq)357 271 y F4(Let)19 b(us)g(implement)f FZ(N)-63
b(NEq)19 b F4(by)g(a)h(nested)f(recursion,)h(on)f(the)h(\002rst)f(ar)n
(gument)g(and)g(then)g(the)h(second.)359 481 y(P)t F2(R)q(O)t(G)t(R)t
(A)t(M)r F4(:)36 b Fr(N)-63 b(NEq)620 760 y FX(!)p FZ(N)g(NEQ)p
FX(=)22 b FY(\025)p FP(m)o FY(;)17 b FP(n)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)23 b FZ(2)-44 b(2)601 880 y FX(?)p
FZ(N)-63 b(NEq)43 b FX(:)k F3(8)p FP(m)p FY(;)17 b FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FZ(N)-63 b(NEQ)p 1632
806 134 4 v 1632 907 4 101 v 50 w FP(m)p 1763 907 V 1632
910 134 4 v 50 w(n)601 1032 y F4(satisfying)601 1221
y FZ(N)g(NEq)52 b(0)73 b(0)41 b FX(=)22 b FZ(tr)r(ue)601
1341 y(N)-63 b(NEq)22 b(s)p FP(m)41 b FZ(0)g FX(=)22
b FZ(f)l(alse)601 1462 y(N)-63 b(NEq)52 b(0)h(s)p FP(n)22
b FX(=)g FZ(f)l(alse)601 1582 y(N)-63 b(NEq)22 b(s)p
FP(m)f FZ(s)p FP(n)h FX(=)g FZ(N)-63 b(NEq)23 b FP(m)e(m)359
1823 y F4(D)t F2(E)t(V)t(E)t(L)t(O)t(P)t(M)t(E)t(N)5
b(T)357 2032 y F4(The)28 b(abo)o(v)o(e)f(goal)h(is)f(sho)n(wn)g(with)h
(a)g(box)g(around)g(our)g(\002rst)g(tar)n(get.)41 b(Note)28
b(the)g FX(!)p F4(-binding)f(which)357 2181 y(replaces)e(the)g(return)f
(type)h(of)g FZ(N)-63 b(NEq)25 b F4(with)f(a)h(more)g(informati)n(v)o
(e)e(alias.)357 2391 y(See)f(ho)n(w)f(the)g(return)h(type)f(of)g
FZ(N)-63 b(NEq)22 b F4(looks)f(a)g(bit)g(lik)o(e)g(the)g(left-hand)h
(side)f(of)g(a)h(pattern)f(matching)357 2540 y(de\002nition?)30
b(W)-8 b(e)25 b(can)g(\002nd)g(our)g(tar)n(get)g FP(m)f
F4(there.)31 b F0(eliminate)25 b F4(it)f(with)g FZ(N)-63
b(NElim)q F4(!)357 2750 y(W)-8 b(e)27 b(no)n(w)g(ha)n(v)o(e)g(a)h(base)
f(case)h(and)g(a)f(step)g(case.)357 2899 y(Note)d(the)g(w)o(ay)g(the)g
(return)g(types)f(ha)n(v)o(e)h(pick)o(ed)357 3049 y(up)31
b(the)h(patterns)f(corresponding)g(to)h(the)f(case)357
3198 y(analysis.)357 3408 y(In)38 b(the)g(base)h(case,)j(we)d(are)g
(ready)f(to)g F0(elimi-)357 3557 y(nate)d F4(the)g(second)g(ar)n
(gument,)i FP(n)q F4(,)g(again)e(with)357 3706 y FZ(N)-63
b(NElim)p F4(.)p 2176 2641 1612 4 v 2176 3774 4 1134
v 2204 2750 a FX(?)p FZ(N)g(NEq)2456 2772 y FM(0)2520
2750 y FX(:)47 b F3(8)p FP(n)p FX(:)23 b FZ(N)-63 b(N)2649
2870 y(N)g(NEQ)22 b(0)p 2974 2796 112 4 v 2974 2896 4
101 v 51 w FP(n)p 3082 2896 V 2974 2899 112 4 v 2204
2991 a FX(?)p FZ(N)-63 b(NEq)2456 3013 y FL(s)2520 2991
y FX(:)47 b F3(8)p FP(m)38 b FX(:)23 b FZ(N)-63 b(N)2594
3111 y F3(8)p FP(r)n(ec)o FX(:)23 b F3(8)p FP(n)p FX(:)g
FZ(N)-63 b(N)2870 3231 y(N)g(NEQ)22 b FP(m)g(n)2594 3352
y F3(8)p FP(n)61 b FX(:)23 b FZ(N)-63 b(N)2649 3472 y(N)g(NEQ)22
b(s)p FP(m)g(n)2223 3592 y FX(!)p FZ(N)-63 b(NEq)40 b
FX(=)22 b FZ(N)-63 b(NElim)22 b FX(\()p FY(\025)p FP(m)p
FY(:)g F3(8)p FP(n)q FY(:)g FZ(N)-63 b(NEQ)22 b FP(m)g(n)p
FX(\))2714 3713 y FZ(N)-63 b(NEq)2920 3736 y FM(0)2982
3713 y FZ(N)g(NEq)3188 3736 y FL(s)p 3784 3774 4 1134
v 2176 3777 1612 4 v 357 3960 a F4(W)-8 b(e)22 b(can)h(no)n(w)e
(`\002ll)h(in)g(the)g(right-hand)f(sides')g(by)h(in-)357
4110 y(troducing)29 b(the)h(premises,)h(then)f(re\002ning)g(by)g
FZ(tr)r(ue)357 4259 y F4(for)25 b FZ(N)-63 b(NEq)704
4282 y FM(00)804 4259 y F4(and)24 b FZ(f)l(alse)h F4(for)g
FZ(N)-63 b(NEq)1563 4282 y FM(0)p FL(s)1635 4259 y F4(.)p
2345 3789 1443 4 v 2345 4744 4 955 v 7 setlinewidth np
2428 3869 25 135.00 315.00 arc st 7 setlinewidth np 2464
3851 18 180.00 360.00 arc st 7 setlinewidth np 2517 3851
35 180.00 360.00 arc st 7 setlinewidth np 2562 3878 28
251.56 341.56 arc st 7 setlinewidth np 2589 3896 27 270.00
450.00 arc st 7 setlinewidth np 2553 3922 35 360.00 540.00
arc st 7 setlinewidth np 2499 3922 18 360.00 540.00 arc
st 7 setlinewidth np 2455 3922 27 360.00 540.00 arc st
7 setlinewidth np 2419 3905 19 63.43 243.43 arc st 2373
4081 a FX(?)p FZ(N)g(NEq)2625 4103 y FM(00)2725 4081
y FX(:)46 b FZ(N)-63 b(NEQ)22 b(0)h(0)2373 4201 y FX(?)p
FZ(N)-63 b(NEq)2625 4224 y FM(0)p FL(s)2725 4201 y FX(:)46
b F3(8)p FP(n)62 b FX(:)22 b FZ(N)-63 b(N)2798 4322 y
F3(8)p FP(r)n(ec)p FX(:)22 b FZ(N)-63 b(NEQ)22 b(0)h
FP(n)2853 4442 y FZ(N)-63 b(NEQ)23 b(0)f(s)p FP(n)2392
4562 y FX(!)p FZ(N)-63 b(NEq)2625 4585 y FM(0)2700 4562
y FX(=)22 b FZ(N)-63 b(NElim)23 b FX(\()p FY(\025)p FP(n)p
FY(:)f FZ(N)-63 b(NEQ)23 b(0)f FP(n)p FX(\))2918 4683
y FZ(N)-63 b(NEq)3124 4705 y FM(00)3221 4683 y FZ(N)g(NEq)3427
4705 y FM(0)p FL(s)p 3784 4744 V 2345 4747 1443 4 v 357
4868 a F4(The)32 b(step)g(case)g(is)g(k)o(ept)g(neat)g(by)g
(introducing)e FP(m)357 5017 y F4(and)d(its)g(associated)h(recursi)n(v)
o(e)f(call)g(before)h(elim-)357 5167 y(inating)41 b FP(n)j
F4(with)e FZ(N)-63 b(NElim)p F4(.)85 b(Note)42 b(that)h(the)f(type)357
5316 y(of)29 b(the)f(recursi)n(v)o(e)g(call)h(tells)f(us)g(which)g(ar)n
(gument)357 5466 y(patterns)c(it)g(is)h(good)f(for)-5
b(.)p 2291 4759 1497 4 v 2291 5531 4 773 v 2319 4868
a FX(?)p FZ(N)-63 b(NEq)2571 4890 y FL(s)2608 4868 y
F3(\031)23 b FY(\025)p FP(m)165 b FX(:)22 b FZ(N)-63
b(N)2708 4988 y FY(\025)p FP(r)n(ec)126 b FX(:)22 b F3(8)p
FP(n)q FX(:)g FZ(N)-63 b(N)3112 5109 y(N)g(NEQ)22 b FP(m)g(n)2719
5229 y FX(?)p FZ(N)-63 b(NEq)2971 5252 y FL(s)3008 5229
y FX(:)22 b F3(8)p FP(n)q FX(:)g FZ(N)-63 b(N)3112 5349
y(N)g(NEQ)22 b(s)p FP(m)p 3498 5275 112 4 v 3498 5376
4 101 v 50 w(n)p 3606 5376 V 3498 5379 112 4 v 2765 5470
a FZ(N)-63 b(NEq)2971 5492 y FL(s)p 3784 5531 4 773 v
2291 5534 1497 4 v 2022 5667 a F4(80)p eop
%%Page: 81 86
81 85 bop 357 70 a F4(W)-8 b(e)26 b(solv)o(e)e FZ(N)-63
b(NEq)954 92 y FL(s)p FM(0)1051 70 y F4(with)25 b FZ(f)l(alse)p
F4(.)33 b(F)o(or)26 b FZ(N)-63 b(NEq)1900 92 y FL(ss)1970
70 y F4(,)25 b(we)357 219 y(introduce)31 b(the)h(premises)f(and)h
(re\002ne)h(by)f(the)g(re-)357 369 y(cursi)n(v)o(e)23
b(call)i FP(r)n(ec)c(n)q F4(.)p 2287 -102 1501 4 v 2287
853 4 955 v 7 setlinewidth np 2370 -22 25 135.00 315.00
arc st 7 setlinewidth np 2405 -40 18 180.00 360.00 arc
st 7 setlinewidth np 2459 -40 35 180.00 360.00 arc st
7 setlinewidth np 2504 -13 28 251.56 341.56 arc st 7
setlinewidth np 2530 5 27 270.00 450.00 arc st 7 setlinewidth
np 2495 32 35 360.00 540.00 arc st 7 setlinewidth np
2441 32 18 360.00 540.00 arc st 7 setlinewidth np 2396
32 27 360.00 540.00 arc st 7 setlinewidth np 2361 14
19 63.43 243.43 arc st 2315 190 a FX(?)p FZ(N)-63 b(NEq)2567
213 y FL(s)p FM(0)2664 190 y FX(:)46 b FZ(N)-63 b(NEQ)22
b(s)p FP(m)g FZ(0)2315 311 y FX(?)p FZ(N)-63 b(NEq)2567
333 y FL(ss)2664 311 y FX(:)46 b F3(8)q FP(n)84 b FX(:)22
b FZ(N)-63 b(N)2737 431 y F3(8)q FP(r)n(ec)2909 395 y
FE(0)2932 431 y FX(:)22 b FZ(N)-63 b(NEQ)22 b(s)p FP(m)g(n)2793
551 y FZ(N)-63 b(N)o(EQ)23 b(s)o FP(m)f FZ(s)p FP(n)2334
672 y FX(!)p FZ(N)-63 b(NEq)2567 694 y FL(s)2639 672
y FX(=)22 b FZ(N)-63 b(NElim)23 b FX(\()p FY(\025)p FP(n)p
FY(:)f FZ(N)-63 b(NEQ)23 b(s)o FP(m)f(n)p FX(\))2857
792 y FZ(N)-63 b(NEq)3063 815 y FL(s)p FM(0)3158 792
y FZ(N)g(NEq)3364 815 y FL(ss)p 3784 853 V 2287 856 1501
4 v 3710 932 a FC(\003)357 1291 y F4(W)-8 b(e)25 b(ha)n(v)o(e)f(b)n
(uilt)g(our)h(\002rst)g(function)f(with)g F0(eliminate)p
F4(!)357 1646 y FB(3.7.2)118 b(pr)n(o)o(ving)30 b Fs(N)-76
b(N)r(EqRecI)357 1923 y F4(There)27 b(is)e(a)i(standard)f(technique)g
(for)h(pro)o(ving)e(the)h(recursion)g(induction)f(principle)h(for)g(a)h
(func-)357 2072 y(tion.)h(W)-8 b(e)21 b(\002x)h(an)f(arbitrary)f
(scheme)h FX(\010)h F4(inde)o(x)o(ed)d(by)h(the)h(function')-5
b(s)20 b(ar)n(guments)g(and)g(result)h(type.)357 2222
y(W)-8 b(e)27 b(also)g(assume)g(that)g FX(\010)h F4(is)f(preserv)o(ed)g
(by)g(each)h(`introduction)e(rule',)i(ie)g(recursi)n(v)o(e)e(equation.)
357 2371 y(W)-8 b(e)22 b(then)f(pro)o(v)o(e)f(that)h
FX(\010)h F4(holds)f(for)h(an)o(y)f(ar)n(guments)f(and)i(the)f
(corresponding)g(result\227this)e(proof)357 2520 y(has)32
b(e)o(xactly)g(the)g(same)g(recursi)n(v)o(e)f(structure)h(as)h(the)f
(function)f(itself.)53 b(Dischar)n(ging)31 b(the)h(\002x)o(ed)357
2670 y(assumptions)22 b(will)i(gi)n(v)o(e)g(us)g(the)h(general)g(rule.)
359 2879 y(T)t F2(H)t(E)t(O)t(R)t(E)t(M)r F4(:)35 b Fr(N)-63
b(NEqRecI)601 3172 y FY(\025)o FX(\010)349 b(:)22 b F3(8)p
FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22
b F3(8)p FP(b)12 b FX(:)f FZ(2)-44 b(2)p FY(:)23 b FI(Type)601
3292 y FY(\025)o(\036)715 3307 y Fq(00)1076 3292 y FX(:)f(\010)h
FZ(0)f(0)g(tr)r(ue)601 3413 y FY(\025)o(\036)715 3428
y Fq(0s)1076 3413 y FX(:)g F3(8)p FP(n)12 b FX(:)f FZ(N)-63
b(N)p FY(:)22 b FX(\010)h FZ(0)f(s)p FP(n)g FZ(f)l(alse)601
3533 y FY(\025)o(\036)715 3548 y Fq(s0)1076 3533 y FX(:)g
F3(8)p FP(m)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FX(\010)h
FZ(s)p FP(m)k FZ(0)22 b(f)l(alse)601 3653 y FY(\025)o(\036)715
3668 y Fq(ss)1076 3653 y FX(:)g F3(8)p FP(m)p FY(;)17
b FP(n)p FX(:)22 b FZ(N)-63 b(N)1125 3774 y F3(8)p FP(b)131
b FX(:)22 b FZ(2)-44 b(2)1125 3894 y F3(8)p FP(hyp)27
b FX(:)22 b(\010)h FP(m)f(n)g(b)1180 4014 y FX(\010)h
FZ(s)p FP(m)e FZ(s)p FP(n)i(b)611 4135 y FX(?)p FZ(N)-63
b(NEqRecI)q FX(:)22 b F3(8)p FP(m)p FY(;)17 b FP(n)p
FX(:)22 b FZ(N)-63 b(N)1180 4255 y FX(\010)23 b FP(m)f(n)g
FX(\()p FZ(N)-63 b(NEq)p 1717 4181 134 4 v 1717 4281
4 101 v 51 w FP(m)p 1847 4281 V 1717 4284 134 4 v 50
w(n)p FX(\))2022 5667 y F4(81)p eop
%%Page: 82 87
82 86 bop 359 -6 a F4(P)t F2(R)q(O)t(O)t(F)357 204 y
F4(F)o(or)24 b(our)g FZ(N)-63 b(NEq)24 b F4(e)o(xample,)f(we)i(\002x)f
FX(\010)g F4(and)g(assume)357 353 y(it)f(is)g(preserv)o(ed)h(by)g(each)
g(of)g(the)g(four)g(equations.)357 563 y(W)-8 b(e)36
b(are)h(left)e(pro)o(ving)g FX(\010)30 b FP(m)g(n)h FX(\()p
FZ(N)-63 b(NEq)30 b FP(m)g(n)q FX(\))36 b F4(for)357
712 y(an)o(y)42 b FP(m)h F4(and)g FP(n)q F4(,)48 b(where)43
b(before)h(we)g(computed)357 862 y FZ(N)-63 b(NEQ)24
b FP(m)f(n)q F4(.)38 b(W)-8 b(e)27 b(eliminate)g(with)f
FZ(N)-63 b(NElim)28 b F4(in)f(e)o(x-)357 1011 y(actly)d(the)h(same)g
(places.)p 2266 95 1522 4 v 2266 1348 4 1254 v 2294 204
a FY(\025)p FX(\010)348 b(:)23 b F3(8)p FP(m)o FY(;)17
b FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(b)11
b FX(:)g FZ(2)-44 b(2)q FY(:)22 b FI(Type)2294 324 y
FY(\025\036)2409 339 y Fq(00)2769 324 y FX(:)h(\010)f
FZ(0)g(0)h(tr)r(ue)2294 445 y FY(\025\036)2409 460 y
Fq(0s)2769 445 y FX(:)g F3(8)p FP(n)11 b FX(:)g FZ(N)-63
b(N)p FY(:)23 b FX(\010)f FZ(0)h(s)o FP(n)g FZ(f)l(alse)2294
565 y FY(\025\036)2409 580 y Fq(s0)2769 565 y FX(:)g
F3(8)p FP(m)10 b FX(:)h FZ(N)-63 b(N)p FY(:)23 b FX(\010)f
FZ(s)p FP(m)27 b FZ(0)22 b(f)l(alse)2294 685 y FY(\025\036)2409
700 y Fq(ss)2769 685 y FX(:)h F3(8)p FP(m)o FY(;)17 b
FP(n)p FX(:)23 b FZ(N)-63 b(N)2819 806 y F3(8)p FP(b)130
b FX(:)23 b FZ(2)-44 b(2)2819 926 y F3(8)p FP(hyp)26
b FX(:)d(\010)f FP(m)g(n)g(b)2874 1047 y FX(\010)g FZ(s)p
FP(m)g FZ(s)o FP(n)h(b)2305 1167 y FX(?)p FZ(N)-63 b(NEqRecI)p
FX(:)23 b F3(8)p FP(m)o FY(;)17 b FP(n)p FX(:)23 b FZ(N)-63
b(N)2874 1287 y FX(\010)22 b FP(m)g(n)h FX(\()p FZ(N)-63
b(NEq)p 3410 1213 134 4 v 3410 1314 4 101 v 50 w FP(m)p
3541 1314 V 3410 1317 134 4 v 50 w(n)p FX(\))p 3784 1348
4 1254 v 2266 1351 1522 4 v 357 1488 a F4(I)25 b(will)f(sho)n(w)f(one)i
(base)g(case)g(and)g(the)g(step)f(case.)357 1697 y(Once)e(elimination)e
(has)i(instantiated)e(the)i(ar)n(guments)357 1847 y(of)38
b FZ(N)-63 b(NEq)39 b F4(appropriately)-6 b(,)40 b(it)e(reduces)g(in)g
(each)h(sub-)357 1996 y(goal,)45 b(making)c(them)g(vulnerable)g(to)h
(the)f(assump-)357 2146 y(tions)21 b(constructed)g(with)g(e)o(xactly)h
(that)f(purpose.)30 b(The)357 2295 y(base)25 b(cases)g(follo)n(w)e
(directly)-6 b(.)p 2408 1588 1379 4 v 2408 1879 4 291
v 2437 1697 a FX(?)p FZ(N)-63 b(NEqRecI)2901 1720 y FM(00)2976
1697 y FX(:)22 b(\010)h FZ(0)f(0)g FX(\()p FZ(N)-63 b(NEq)23
b(0)f(0)p FX(\))3145 1818 y FY(.)g FX(\010)h FZ(0)f(0)g(tr)r(ue)p
3784 1879 V 2408 1882 1379 4 v 357 2560 a F4(Similarly)-6
b(,)34 b(the)g(conclusion)f(of)g(the)h(step)357 2709
y(case)28 b(reduces)h(to)e(the)h(conclusion)f(of)h(the)357
2859 y(rele)n(v)n(ant)d(assumption,)g FY(\036)1263 2874
y Fq(ss)1331 2859 y F4(,)i(with)f FP(b)h F4(suit-)357
3008 y(ably)d(instantiated.)357 3218 y FP(r)n(ec)47 b(n)61
b F4(computed)e(the)h(recursi)n(v)o(e)f(call)357 3367
y(in)44 b(the)i(construction)d(of)j(the)f(function.)357
3517 y(Here,)28 b FP(r)n(ec)c(n)k F4(\002lls)f(in)g(the)g(premise)g(of)
g FY(\036)1769 3532 y Fq(ss)357 3666 y F4(to)d(complete)g(the)h(proof.)
p 1987 2388 1801 4 v 1987 3343 4 955 v 7 setlinewidth
np 2070 2468 25 135.00 315.00 arc st 7 setlinewidth np
2105 2451 18 180.00 360.00 arc st 7 setlinewidth np 2159
2451 35 180.00 360.00 arc st 7 setlinewidth np 2204 2477
28 251.56 341.56 arc st 7 setlinewidth np 2230 2495 27
270.00 450.00 arc st 7 setlinewidth np 2195 2522 35 360.00
540.00 arc st 7 setlinewidth np 2141 2522 18 360.00 540.00
arc st 7 setlinewidth np 2097 2522 27 360.00 540.00 arc
st 7 setlinewidth np 2061 2504 19 63.43 243.43 arc st
2015 2680 a FY(\025)p FP(r)n(ec)371 b FX(:)22 b F3(8)p
FP(n)q FX(:)g FZ(N)-63 b(N)2664 2801 y FX(\010)23 b FP(m)e(n)i
FX(\()p FZ(N)-63 b(NEq)22 b FP(m)g(n)p FX(\))2026 2921
y(?)p FZ(N)-63 b(NEqRecI)2490 2944 y FL(ss)2560 2921
y FX(:)22 b F3(8)p FP(n)85 b FX(:)22 b FZ(N)-63 b(N)2609
3041 y F3(8)p FP(r)n(ec)2780 3005 y FE(0)2804 3041 y
FX(:)22 b(\010)h FZ(s)o FP(m)f(n)g FX(\()p FZ(N)-63 b(NEq)23
b(s)o FP(m)f(n)p FX(\))2664 3162 y(\010)h FZ(s)o FP(m)f
FZ(s)p FP(n)g FX(\()p FZ(N)-63 b(NEq)23 b(s)o FP(m)f
FZ(s)p FP(n)p FX(\))2729 3282 y FY(.)g FX(\010)g FZ(s)p
FP(m)g FZ(s)o FP(n)h FX(\()p FZ(N)-63 b(NEq)22 b FP(m)g(n)p
FX(\))p 3784 3343 V 1987 3346 1801 4 v 357 3824 a F4(Dischar)n(ging)i
(the)g(subgoals)g(pro)o(v)o(es)g(the)g(general)h(rule)g(we)g(w)o(ant.)
1032 b FC(\003)357 4183 y F4(Let)24 b(us)h(mark)g FZ(N)-63
b(N)o(EqRecI)26 b F4(as)f(tar)n(getting)f FX(\()p FZ(N)-63
b(NEq)22 b FP(m)g(n)p FX(\))p F4(,)j(and)g(by)f(def)o(ault)h
(abstracting)f(it.)357 4392 y(This)i(proof)i(method)e(gi)n(v)o(es)g(a)i
(recursion)g(induction)e(principle)g(for)i(man)o(y)f(of)g(the)h
(functions)e(we)357 4542 y(can)h(b)n(uild)e(in)j(O)t
F2(L)t(E)t(G)r F4(\227it)h(mimics)c(e)o(xactly)h(their)g(construction.)
34 b(In)27 b(ef)n(fect,)g(it)f(packages)h(up)f(the)357
4691 y(sequence)36 b(of)h(eliminations)d(which)i(made)g(the)g
(function,)i(so)e(that)g(the)o(y)g(can)g(be)h(used)f(at)g(one)357
4840 y(strok)o(e)24 b(in)h(proofs)f(of)h(its)f(properties.)2022
5667 y(82)p eop
%%Page: 83 88
83 87 bop 357 -6 a FB(3.7.3)118 b(pr)n(o)o(ving)30 b
Fs(N)-76 b(N)r(EqIn)l(v)357 271 y F4(The)29 b(proof)f(of)h
FZ(N)-63 b(NEqIn)n(v)29 b F4(by)f FZ(N)-63 b(NEqRecI)30
b F4(is)e(a)h(good)f(e)o(xample)g(of)h(deri)n(ving)e(an)i(in)l(v)o
(ersion)f(prin-)357 421 y(ciple)h(from)g(a)g(recursion)g(induction)f
(principle.)43 b(It)29 b(illustrates)f(a)h(technique)g(which)g(I)g
(shall)f(use)357 570 y(relentlessly)23 b(in)i(similar)e(circumstances)i
(for)g(the)f(rest)h(of)g(this)f(thesis.)357 780 y(The)f(proof)h(of)g
(recursion)f(induction)f(principles)h(is)g(relati)n(v)o(ely)f(simple.)
29 b(The)o(y)23 b(directly)g(describe)357 929 y(the)g(computational)f
(beha)n(viour)h(of)h(the)f(function)g(in)g(question,)g(so)g(we)h
(should)e(not)h(be)h(surprised)357 1078 y(to)j(\002nd)g(that)h(the)f
(computational)f(mechanism)g(of)i(the)f(underlying)f(calculus)h(does)h
(all)f(the)g(hard)357 1228 y(w)o(ork.)60 b(Recall)35
b(that)f(in)g(each)h(subgoal)f(of)g(the)h(inducti)n(v)o(e)d(proof,)37
b(the)e(conclusion)e FU(r)l(educes)i F4(to)357 1377 y(e)o(xactly)24
b(what)g(is)h(pro)o(v)o(en)e(by)i(the)g(corresponding)e(premise.)357
1587 y(Contrarily)-6 b(,)27 b(in)l(v)o(ersion)f(principles)g(often)i
(cut)f(against)g(the)g(computational)f(grain,)i(characteris-)357
1736 y(ing)h(the)g(e)o(xtensional)g(properties)g(of)h(functions,)g
(rather)g(than)f(the)h(mechanism)e(by)i(which)f(the)o(y)357
1886 y(operate.)36 b(The)26 b(k)o(e)o(y)g(to)g(pro)o(ving)f(them)h(is)g
(not)g(to)g(\002x)h(their)f(schemes)h(as)f FY(\025)p
F4(-bindings)f(outside)g(the)357 2035 y(induction,)19
b(b)n(ut)g(rather)i(to)e(let)h(them)f(v)n(ary)g FU(inside)g
F4(the)h(induction.)28 b(This)19 b(means)g(that)h(the)f(inducti)n(v)o
(e)357 2184 y(hypotheses)h(are)j(themselv)o(es)d(in)l(v)o(ersion)h
(principles\227we)g(use)h(in)l(v)o(ersion,)e(not)i(computation,)f(to)
357 2334 y(simplify)i(the)h(inducti)n(v)o(e)f(steps.)359
2496 y(T)t F2(H)t(E)t(O)t(R)t(E)t(M)r F4(:)35 b Fr(N)-63
b(NEqIn)m(v)601 2699 y FX(?)p FZ(N)g(NEqIn)n(v)o FX(:)23
b F3(8)p FX(\010)107 b(:)22 b F3(8)p FP(m)p FY(;)17 b
FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(b)12
b FX(:)f FZ(2)-44 b(2)p FY(:)22 b FI(Type)1039 2819 y
F3(8)p FY(\036)1152 2834 y Fq(t)1271 2819 y FX(:)g F3(8)p
FP(m)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FX(\010)h FP(m)e(m)h
FZ(tr)r(ue)1039 2940 y F3(8)p FY(\036)1152 2955 y Fq(f)1271
2940 y FX(:)g F3(8)p FP(m)p FY(;)17 b FP(n)i FX(:)j FZ(N)-63
b(N)1320 3060 y F3(8)p FP(uneq)q FX(:)22 b FP(m)27 b
F3(6)-11 b(')q FP(n)1375 3180 y FX(\010)23 b FP(m)e(n)i
FZ(f)l(alse)1039 3301 y F3(8)p FP(m)o FY(;)17 b FP(n)q
FX(:)22 b FZ(N)-63 b(N)1094 3440 y FX(\010)23 b FP(m)e(n)p
1364 3340 440 4 v 1364 3483 4 143 v 51 w FZ(N)-63 b(NEq)22
b FP(m)g(n)p 1800 3483 V 1364 3486 440 4 v 359 3704 a
F4(P)t F2(R)q(O)t(O)t(F)357 3913 y F4(W)-8 b(e)25 b(\002x)g(nothing)e
(in)i(the)f(conte)o(xt)g(and)h(eliminate)f(by)g FZ(N)-63
b(NEqRecI)q F4(,)24 b(abstracting)g FX(\()p FZ(N)-63
b(NEq)23 b FP(m)e(n)q FX(\))p F4(.)357 4123 y(The)31
b(scheme)g(generated)h(by)f F0(eliminate)h F4(is)f(abstracted)357
4272 y(o)o(v)o(er)22 b(the)i(scheme)f(of)h(the)f(rule)h(we)g(are)g
(trying)f(to)g(pro)o(v)o(e.)357 4482 y(Observ)o(e)32
b(that)h(the)g(original)f FX(\()p FZ(N)-63 b(NEq)29 b
FP(m)f(n)p FX(\))34 b F4(in)e(the)h(con-)357 4631 y(clusion)23
b(has)i(been)g(replaced)g(by)g FP(b)p F4(.)p 2499 4014
1288 4 v 2499 5026 4 1013 v 2553 4123 a FY(\025)o FP(m)p
FY(;)17 b FP(n)p FX(:)22 b FZ(N)-63 b(N)2553 4243 y FY(\025)o
FP(b)131 b FX(:)22 b FZ(2)-44 b(2)2554 4363 y F3(8)p
FX(\010)107 b(:)22 b F3(8)p FP(m)p FY(;)17 b FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b F3(8)p FP(b)11 b FX(:)g
FZ(2)-44 b(2)q FY(:)22 b FI(Type)2554 4484 y F3(8)p FY(\036)2667
4499 y Fq(t)2786 4484 y FX(:)g F3(8)p FP(m)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)23 b FX(\010)f FP(m)g(m)f FZ(tr)r(ue)2554
4604 y F3(8)p FY(\036)2667 4619 y Fq(f)2786 4604 y FX(:)h
F3(8)q FP(m)o FY(;)17 b FP(n)i FX(:)k FZ(N)-63 b(N)2835
4725 y F3(8)q FP(uneq)p FX(:)23 b FP(m)k F3(6)-11 b(')p
FP(n)2891 4845 y FX(\010)22 b FP(m)g(n)g FZ(f)l(alse)2609
4965 y FX(\010)h FP(m)f(n)g(b)p 3784 5026 V 2499 5029
1288 4 v 357 5166 a F4(The)h(recursion)g(induction)e(gi)n(v)o(es)g(us)i
(directly)g(the)f(three)i(base)f(cases)g(and)g(the)g(step)g(case.)30
b(Again,)357 5315 y(one)24 b(base)h(case)h(is)e(suf)n(\002cently)g
(representati)n(v)o(e.)2022 5667 y(83)p eop
%%Page: 84 89
84 88 bop 357 7 a F4(In)31 b(this)f(of)n(f-diagonal)g(case,)j(the)e
(recursion)357 157 y(induction)36 b(has)i(already)h(\002lled)f(in)f
(the)h(an-)357 306 y(swer)51 b FZ(f)l(alse)p F4(.)110
b(Hence,)58 b(introducing)50 b(the)357 456 y(premises)22
b(and)h(re\002ning)g(by)f FY(\036)1414 471 y Fq(f)1454
456 y F4(,)i(we)f(are)h(left)357 605 y(pro)o(ving)i FZ(0)34
b F3(6)-5 b(')q FZ(s)o FP(n)q F4(.)40 b(This)28 b(is)f(not)h(dif)n
(\002cult,)f(as)357 755 y(we)e(shall)f(see)h(in)f(chapter)i(\002)n(v)o
(e.)p 2069 -102 1718 4 v 2069 791 4 893 v 2098 7 a FX(?)p
FZ(N)-63 b(NEqIn)n(v)2486 30 y FM(0)p FL(s)2559 7 y FX(:)22
b F3(8)p FP(n)43 b FX(:)22 b FZ(N)-63 b(N)2608 128 y
F3(8)p FX(\010)28 b(:)22 b F3(8)p FP(m)p FY(;)17 b FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b F3(8)p FP(b)11 b FX(:)g
FZ(2)-44 b(2)q FY(:)22 b FI(Type)2608 248 y F3(8)p FY(\036)2721
263 y Fq(t)2761 248 y FX(:)g F3(8)p FP(m)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)23 b FX(\010)f FP(m)g(m)f FZ(tr)r(ue)2608
369 y F3(8)p FY(\036)2721 384 y Fq(f)2761 369 y FX(:)h
F3(8)q FP(m)o FY(;)17 b FP(n)i FX(:)k FZ(N)-63 b(N)2810
489 y F3(8)q FP(uneq)p FX(:)23 b FP(m)k F3(6)-11 b(')p
FP(n)2866 609 y FX(\010)22 b FP(m)g(n)h FZ(f)l(alse)2663
730 y FX(\010)g FZ(0)f(s)p FP(n)g FZ(f)l(alse)p 3784
791 V 2069 794 1718 4 v 357 931 a F4(The)27 b(step)g(case)h(is)f(more)g
(entertaining.)37 b(W)-8 b(e)28 b(do)f(not)g(kno)n(w)g(whether)g(to)g
(use)g FY(\036)3149 946 y Fq(t)3210 931 y F4(or)h FY(\036)3379
946 y Fq(f)3419 931 y F4(,)g(because)357 1081 y(we)23
b(do)f(not)h(yet)g(kno)n(w)e(what)i FP(b)g F4(is.)30
b(Ho)n(we)n(v)o(er)l(,)22 b(the)g(inducti)n(v)o(e)f(hypothesis)g(is)h
(an)h(elimination)e(rule)357 1230 y(telling)i(us)i(about)f
FP(m)o F4(,)h FP(n)h F4(and)e FP(b)q F4(.)30 b(I)25 b(ha)n(v)o(e)g
(called)g(the)f(scheme)h FX(\011)g F4(to)f(reduce)i(confusion.)601
1548 y FX(?)p FZ(N)-63 b(NEqIn)n(v)989 1570 y FL(ss)1059
1548 y F3(\031)22 b FY(\025)p FP(m)p FY(;)17 b FP(n)235
b FX(:)23 b FZ(N)-63 b(N)1158 1668 y FY(\025)p FP(b)366
b FX(:)23 b FZ(2)-44 b(2)1158 1804 y FY(\025)p FP(hyp)262
b FX(:)23 b F3(8)p FX(\011)33 b(:)22 b F3(8)p 1945 1730
134 4 v 1945 1831 4 101 v 29 w FP(m)p 2076 1831 V 1945
1834 134 4 v 27 w FY(;)p 2123 1730 112 4 v 2123 1831
4 101 v 45 w FP(n)p 2232 1831 V 2123 1834 112 4 v 40
w FX(:)11 b FZ(N)-63 b(N)p FY(:)22 b F3(8)p 2473 1708
103 4 v 2473 1831 4 124 v 29 w FP(b)p 2573 1831 V 2473
1834 103 4 v 39 w FX(:)11 b FZ(2)-44 b(2)q FY(:)22 b
FI(Type)1677 1925 y F3(8)p FY( )1795 1940 y FL(t)1841
1925 y FX(:)g F3(8)p FP(m)11 b FX(:)g FZ(N)-63 b(N)p
FY(:)22 b FX(\011)g FP(m)g(m)g FZ(tr)r(ue)1677 2045 y
F3(8)p FY( )1795 2060 y FL(f)1841 2045 y FX(:)g F3(8)p
FP(m)p FY(;)17 b FP(n)i FX(:)j FZ(N)-63 b(N)1890 2166
y F3(8)p FP(uneq)q FX(:)22 b FP(m)27 b F3(6)-11 b(')q
FP(n)1945 2286 y FX(\011)22 b FP(m)g(n)h FZ(f)l(alse)1732
2406 y FX(\011)f FP(m)g(n)g(b)1158 2543 y FY(\025)p FX(\010)342
b(:)23 b F3(8)p FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b F3(8)p 2147 2446 V 2147 2569 4 124 v
29 w FP(b)p 2247 2569 V 2147 2572 103 4 v 39 w FX(:)11
b FZ(2)-44 b(2)p FY(:)23 b FI(Type)1158 2663 y FY(\025\036)1273
2678 y Fq(t)1627 2663 y FX(:)g F3(8)p FP(m)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)22 b FX(\010)g FP(m)g(m)g FZ(tr)r(ue)1158
2783 y FY(\025\036)1273 2798 y Fq(f)1627 2783 y FX(:)h
F3(8)p FP(m)p FY(;)17 b FP(n)i FX(:)j FZ(N)-63 b(N)1677
2904 y F3(8)p FP(uneq)q FX(:)22 b FP(m)27 b F3(6)-11
b(')p FP(n)1732 3024 y FX(\010)23 b FP(m)e(n)i FZ(f)l(alse)1169
3145 y FX(?)p FZ(N)-63 b(NEqIn)n(v)1558 3167 y FL(ss)1627
3145 y FX(:)23 b(\010)f FZ(s)p FP(m)g FZ(s)o FP(n)h(b)1215
3265 y FZ(N)-63 b(NEqIn)n(v)1558 3288 y FL(ss)357 3549
y F4(Introducing)31 b(e)n(v)o(erything,)h(we)h(may)e(no)n(w)h
F0(eliminate)g F4(the)g(conclusion)f(with)h FP(hyp)p
F4(,)h(abstracting)357 3699 y(all)g(the)g(indices.)55
b(No)33 b(tar)n(getting)f(is)h(necessary)g(as)g(the)g(patterns)g(are)h
(fully)e(instantiated.)54 b(The)357 3848 y(generated)25
b(scheme)g(abstracts)f FP(m)p F4(,)g FP(n)i F4(and)e
FP(b)q F4(:)601 4141 y FX(\011)49 b(=)h FY(\025)p FP(m)o
FY(;)17 b FP(n)p FY(;)g FP(b)p FY(:)23 b FX(\010)f FZ(s)p
FP(m)f FZ(s)p FP(n)i(b)357 4433 y F4(W)-8 b(e)25 b(are)g(left)g(with)f
(tw)o(o)h(subgoals,)e(each)i(with)g(the)f(equality)g(decided:)p
7 setlinewidth np 655 4686 25 135.00 315.00 arc st 7
setlinewidth np 691 4668 18 180.00 360.00 arc st 7 setlinewidth
np 745 4668 35 180.00 360.00 arc st 7 setlinewidth np
789 4695 28 251.56 341.56 arc st 7 setlinewidth np 816
4713 27 270.00 450.00 arc st 7 setlinewidth np 780 4740
35 360.00 540.00 arc st 7 setlinewidth np 727 4740 18
360.00 540.00 arc st 7 setlinewidth np 682 4740 27 360.00
540.00 arc st 7 setlinewidth np 647 4722 19 63.43 243.43
arc st 601 4898 a FX(?)p FZ(N)-63 b(NEqIn)n(v)989 4921
y FL(sst)1100 4898 y FX(:)22 b F3(8)p FP(m)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)22 b FX(\010)h FZ(s)p FP(m)e FZ(s)p
FP(m)h FZ(tr)r(ue)601 5018 y FX(?)p FZ(N)-63 b(NEqIn)n(v)989
5041 y FL(ssf)1100 5018 y FX(:)22 b F3(8)q FP(m)o FY(;)17
b FP(n)i FX(:)j FZ(N)-63 b(N)1149 5139 y F3(8)q FP(uneq)p
FX(:)22 b FP(m)28 b F3(6)-11 b(')p FP(n)1205 5259 y FX(\010)22
b FZ(s)p FP(m)f FZ(s)p FP(n)i FZ(f)l(alse)2022 5667 y
F4(84)p eop
%%Page: 85 90
85 89 bop 357 -6 a F4(These)40 b(follo)n(w)g(respecti)n(v)o(ely)f(from)
i FY(\036)1745 9 y Fq(t)1819 -6 y F4(and)g FY(\036)2062
9 y Fq(f)2143 -6 y F4(without)e(much)h(dif)n(\002culty)-6
b(,)43 b(completing)c(the)357 144 y(proof.)3112 b FC(\003)357
503 y F4(As)24 b(with)g FZ(N)-63 b(NEqRecI)q F4(,)24
b(mark)h FZ(N)-63 b(NEqIn)n(v)25 b F4(as)f(tar)n(getting)g
FX(\()p FZ(N)-63 b(NEq)23 b FP(m)e(n)p FX(\))k F4(and)g(by)g(def)o
(ault)f(abstracting)357 652 y(it.)357 1007 y FB(3.7.4)118
b(pr)n(o)o(ving)30 b(the)h(`intr)n(oduction)g(rules')359
1284 y F4(T)t F2(H)t(E)t(O)t(R)t(E)t(M)r F4(:)k Fr(N)-63
b(NEqtr)r(ue)601 1577 y FX(?)p FZ(N)g(NEqtr)r(ue)o FX(:)22
b F3(8)q FP(m)o FX(:)g FZ(N)-63 b(N)p 1149 1616 462 4
v 1149 1759 4 143 v 1177 1715 a(N)g(NEq)22 b FP(m)g(m)p
1607 1759 V 1149 1762 462 4 v 50 w F3(')g FZ(tr)r(ue)359
1980 y F4(P)t F2(R)q(O)t(O)t(F)357 2189 y F4(Eliminating)g(with)i
FZ(N)-63 b(NEqIn)n(v)25 b F4(introduces)f(a)h(constraint)f(because)h
(the)g(tar)n(get)g(is)f(diagonalised:)601 2506 y FX(\010)50
b(=)g FY(\025)p FP(m)o FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b(\025)p FP(b)11 b FX(:)g FZ(2)-44 b(2)q
FY(:)22 b FP(m)p F3(')p FP(n)50 b F3(!)28 b FP(b)p F3(')p
FZ(tr)r(ue)357 2824 y F4(Both)c(subgoals)g(are)i(easy)-6
b(.)601 3116 y FX(?)p FZ(N)-63 b(NEqtr)r(ue)1044 3131
y FL(t)1089 3116 y FX(:)23 b F3(8)p FP(m)o FX(:)g FZ(N)-63
b(N)1139 3237 y F3(8)p FP(e)38 b FX(:)23 b FP(m)o F3(')q
FP(m)1194 3357 y FZ(tr)r(ue)e F3(')i FZ(tr)r(ue)601 3477
y FX(?)p FZ(N)-63 b(NEqtr)r(ue)1044 3492 y FL(f)1089
3477 y FX(:)23 b F3(8)p FP(m)o FY(;)17 b FP(n)j FX(:)i
FZ(N)-63 b(N)1139 3598 y F3(8)p FP(uneq)q FX(:)22 b FP(m)27
b F3(6)-11 b(')p FP(n)1139 3718 y F3(8)p FP(e)157 b FX(:)22
b FP(m)o F3(')q FP(n)1194 3839 y FZ(f)l(alse)g F3(')g
FZ(tr)r(ue)3710 4093 y FC(\003)359 4452 y F4(T)t F2(H)t(E)t(O)t(R)t(E)t
(M)r F4(:)35 b Fr(N)-63 b(NEqf)o(alse)601 4745 y FX(?)p
FZ(N)g(NEqf)l(alse)p FX(:)22 b F3(8)p FP(m)p FY(;)17
b FP(n)i FX(:)j FZ(N)-63 b(N)1121 4865 y F3(8)p FP(uneq)q
FX(:)22 b FP(m)27 b F3(6)-11 b(')q FP(n)p 1176 4904 440
4 v 1176 5047 4 143 v 1204 5004 a FZ(N)-63 b(NEq)23 b
FP(m)e(n)p 1613 5047 V 1176 5050 440 4 v 51 w F3(')i
FZ(f)l(alse)359 5268 y F4(P)t F2(R)q(O)t(O)t(F)357 5477
y F4(Eliminating)f(with)i FZ(N)-63 b(NEqIn)n(v)p F4(,)25
b(both)f(subgoals)f(are)j(e)n(v)o(en)e(easier)-5 b(.)2022
5667 y(85)p eop
%%Page: 86 91
86 90 bop 601 -6 a FX(?)p FZ(N)-63 b(NEqf)l(alse)1072
9 y FL(t)1117 -6 y FX(:)22 b F3(8)p FP(m)118 b FX(:)22
b FZ(N)-63 b(N)1166 115 y F3(8)p FP(uneq)q FX(:)22 b
FP(m)28 b F3(6)-11 b(')p FP(m)1221 235 y FZ(tr)r(ue)22
b F3(')g FZ(f)l(alse)601 356 y FX(?)p FZ(N)-63 b(NEqf)l(alse)1072
371 y FL(f)1117 356 y FX(:)22 b F3(8)p FP(m)p FY(;)17
b FP(n)42 b FX(:)23 b FZ(N)-63 b(N)1166 476 y F3(8)p
FP(uneq)24 b FX(:)f FP(m)k F3(6)-11 b(')p FP(n)1166 596
y F3(8)p FP(uneq)1417 560 y FE(0)1440 596 y FX(:)23 b
FP(m)k F3(6)-11 b(')p FP(n)1221 717 y FZ(f)l(alse)22
b F3(')h FZ(f)l(alse)3710 971 y FC(\003)2022 5667 y F4(86)p
eop
%%Page: 87 92
87 91 bop 357 719 a F1(Chapter)51 b(4)357 1194 y(Inducti)n(v)n(e)g
(Datatypes)357 1735 y F4(This)28 b(chapter)h(gi)n(v)o(es)e(a)i(formal)f
(de\002nition)g(of)g(the)h(class)f(of)h(inducti)n(v)o(e)e(datatypes)h
(and)g(f)o(amilies)357 1885 y(with)23 b(which)h(we)h(shall)f(w)o(ork)g
(in)i(O)t F2(L)t(E)t(G)r F4(.)33 b(I)25 b(shall)e(broadly)h(follo)n(w)f
(Luo')-5 b(s)24 b(choice)g(of)h(which)f(de\002-)357 2034
y(nitions)h(to)i(admit,)g(and)g(sho)n(w)f(ho)n(w)g(their)h(elimination)
e(and)j(computation)d(rules)i(are)h(generated)357 2184
y([Luo94)o(].)51 b(Goguen)32 b(has)f(check)o(ed)h(that)f(the)h(usual)f
(metatheoretic)g(properties)g(such)g(as)h(strong)357
2333 y(normalisation)19 b(continue)i(to)g(hold)f(for)i(ECC)g(e)o
(xtended)f(with)g(this)f(notion)g(of)i(datatype)f([Gog94)o(].)357
2543 y(Basically)-6 b(,)53 b(we)c(shall)e(ha)n(v)o(e)h(the)g(datatypes)
g(and)g(f)o(amilies)f(arising)h(from)g(strictly)f(positi)n(v)o(e)357
2692 y(schemata,)41 b(as)d(proposed)f(by)h(Coquand,)j(P)o
(aulin-Mohring)36 b(and)i(Dybjer)g([CPM90,)g(Dyb91)o(].)357
2841 y(These)31 b(are)g(the)g(datatypes)g(of)i(C)t F2(O)t(Q)r
F4(,)k(L)t F2(E)t(G)t(O)e F4(and)c(ALF)-8 b(.)31 b(Induction)f(and)h
(recursion)g(o)o(v)o(er)f(them)357 2991 y(will)g(be)i(pro)o(vided)f(by)
g(means)g(of)h(the)g(traditional)e(elimination)g(rules,)j(which)e(do)g
(e)o(xactly)g(one)357 3140 y(step)19 b(of)h(case)h(analysis,)f
(attaching)f(an)h(inducti)n(v)o(e)e(hypothesis)g(to)h(each)i(recursi)n
(v)o(e)e(subterm)g(so)g(e)o(x-)357 3290 y(posed.)39 b(Each)28
b(type)f(is)g(equipped)g(with)g(an)h(`elimination)e(constant')h(whose)g
(type)g(codes)h(up)f(the)357 3439 y(elimination)k(rule\227computation)h
(is)h(then)g(added)h(by)f(associating)g(the)g(appropriate)h(contrac-)
357 3589 y(tion)28 b(schemes)g(\(or)h FY(\023)p F4(-reductions\))g
(with)f(these)h(constants.)42 b(Elimination)26 b(rules)j(for)g(inducti)
n(v)o(ely)357 3738 y(de\002ned)c(relations)f(were)h(\002rst)g
(formulated)f(by)h(Martin-L)8 b(\250)-41 b(of)24 b(in)g([M-L71b].)357
3947 y(This)f(is)h(the)h(e)o(xactly)e(the)i(presentation)e(described)h
(in)g(Luo')-5 b(s)24 b(book)g([Luo94)o(])h(and)f(implemented)357
4097 y(in)j(L)t F2(E)t(G)t(O)r F4([Pol94)r(])f(by)g(Claire)g(Jones.)35
b(C)t F2(O)t(Q)c F4(has)25 b(basically)g(the)h(same)g(datatypes,)f(b)n
(ut)g(separates)357 4246 y(the)30 b(`in)l(v)o(ersion')f(and)i
(`recursion')g(aspects)f(of)h(elimination)d(by)j(pro)o(viding)d(a)j
FW(Case)f F4(construct)357 4396 y(for)g(the)f(former)h(and)g(a)g
FW(Fix)f F4(construct)g(for)i(the)e(latter)-5 b(.)45
b FW(Fix)29 b F4(is)h(carefully)g(check)o(ed)g(to)f(ensure)357
4545 y(that)34 b(recursi)n(v)o(e)g(calls)g(are)i(made)e(only)g(on)g
(terms)h(which)f(are)h F0(guarded)h F4(by)f(constructors)e(and)357
4695 y(hence)25 b(strictly)f(smaller)g(than)g(the)h(term)f(being)h
(decomposed.)357 4904 y(The)g FW(Case)p F4(/)p FW(Fix)e
F4(presentation)g(is)i(much)f(the)h(neater)g(one,)g(for)g(tw)o(o)f
(reasons:)502 5185 y F3(\017)49 b F4(Ev)o(en)27 b(if)h(there)g(is)f(a)h
(particular)g(ar)n(gument)g(on)f(which)h(I)g(wish)f(my)g(function)g(to)
h(do)f(recur)n(-)601 5335 y(sion,)j(that)g(is)f(no)h(reason)g(to)g
(suppose)f(it)h(is)g(the)g(\002rst)g(ar)n(gument)g(on)f(which)h(it)g
(should)f(do)601 5484 y(case)24 b(analysis.)30 b(Sometimes)23
b(I)h(w)o(ant)g(to)g(look)g(at)g(another)g(ar)n(gument)g(\002rst,)g
(and)g(then,)g(per)n(-)2022 5667 y(87)p eop
%%Page: 88 93
88 92 bop 601 -6 a F4(haps)30 b(in)h(not)g(all)f(of)i(the)f(cases)g
(arising,)h(to)e(decompose)h(the)g(recursi)n(v)o(e)f(ar)n(gument.)49
b(The)601 144 y(con)l(v)o(entional)23 b(eliminator)g(ties)h(the)h(tw)o
(o)f(notions)g(together)g(inappropriately)-6 b(.)502
376 y F3(\017)49 b F4(The)21 b(con)l(v)o(entional)f(eliminator)g(only)h
(f)o(acilitates)g(recursion)h(after)g(e)o(xactly)f(one)h(construc-)601
526 y(tor)27 b(has)h(been)h(stripped)e(a)o(w)o(ay)-6
b(.)40 b(The)28 b FW(Fix)f F4(operator)h(allo)n(ws)f(recursion)h(on)g
(an)o(y)f(subterm)601 675 y(e)o(xposed)h(by)i FW(Case)p
F4(.)44 b(This)29 b(serv)o(es)g(a)h(more)g(useful)f(purpose)g(than)g
(merely)h(to)f(admit)g(in-)601 825 y(ef)n(\002cient)e(de\002nitions)f
(of)h(the)h(Fibonacci)f(function.)37 b(W)-8 b(orking)27
b(interacti)n(v)o(ely)-6 b(,)25 b(we)j(do)f(not)601 974
y(need)e(to)f(predict)h(so)f(precisely)h(in)f(adv)n(ance)h(the)f
(inducti)n(v)o(e)f(structure)i(you)f(require.)357 1267
y(Eduardo)40 b(Gim)6 b(\264)-39 b(enez)41 b(sho)n(wed)f(the)h(conserv)n
(ati)n(vity)d(and)j(con\003uence)h(of)f FW(Case)f F4(and)h
FW(Fix)g F4(in)357 1416 y([Gim94)o(].)33 b(He)26 b(sho)n(wed)f(strong)g
(normalisation)f(for)i(the)f(Calculus)h(of)g(Constructions)e(e)o
(xtended)357 1566 y(with)33 b(lists)g(in)h(this)f(style)g([Gim96)o(],)k
(and)d(there)h(seems)e(no)h(reason)h(to)e(suppose)h(this)f(does)h(not)
357 1715 y(e)o(xtend)h(to)g(other)h(types.)63 b(Intuiti)n(v)o(ely)-6
b(,)36 b FY(\023)p F4(-reductions)g(mak)o(e)f(a)i(sound)e(lik)o(e)g
(the)h(clanking)f(of)h(a)357 1864 y(giant)h(metal)g(cog)g(in)g(a)h
(ratchet.)70 b(Ho)n(we)n(v)o(er)36 b(deeply)h(under)h(sk)o(yscraping)e
(store)o(ys)g(of)i FY(\014)6 b F4(-)37 b(and)357 2014
y FY(\016)t F4(-`administration')30 b(the)i(real)g(w)o(ork)g(may)f(be)h
(b)n(uried,)i(we)e(can)g(still)f(hear)h(the)g(great)g(machines)357
2163 y(going)g(clank\227we)g(kno)n(w)g(that)h(the)f(hands)h(of)g(the)g
(clock)g(will)f(go)g(forw)o(ard)i(and)f(that)f(the)h(bell)357
2313 y(will)24 b(ring)g(for)h(midnight.)357 2522 y(This)20
b(is)h(a)h(rather)f(prosaic)h(chapter)f(in)g(which)g(I)h(sho)n(w)e(ho)n
(w)g(to)h(mechanise)g(Gim)6 b(\264)-39 b(enez')-5 b(s)21
b(ar)n(gument)357 2672 y(in)j(O)t F2(L)t(E)t(G)r F4(.)33
b(The)22 b(summary)-6 b(,)22 b(for)g(those)h(who)f(w)o(ould)g(rather)h
(skip)e(the)i(detail,)f(is)h(that)f(I)h(equip)f(each)357
2821 y(datatype)j(with)g(tw)o(o)g(alternati)n(v)o(e)g(elimination)f
(rules,)h(in)h(the)f(sense)h(of)g(the)f(pre)n(vious)g(chapter)-5
b(.)33 b(It)357 2970 y(is,)24 b(of)h(course,)g(the)f
F0(eliminate)h F4(tactic)g(which)f(pro)o(vides)g(the)g(means)h(of)g
(their)f(construction.)357 3180 y(At)32 b(this)f(point,)i(I)f(should)f
(remark)i(that)f(I)g(ha)n(v)o(e)g(omitted)f(some)h(classes)g(of)g
(datatype)g(found)g(in)359 3329 y(L)t F2(E)t(G)t(O)44
b F4(and)d(C)t F2(O)t(Q)r F4(.)78 b(Both)39 b(these)h(systems)e(permit)
h FU(mutually)f(de\002ned)k F4(types:)59 b(for)40 b(e)o(xample,)357
3479 y(e)n(v)o(en)25 b(and)g(odd)h(numbers)f(gi)n(v)o(en)f(by)i(a)g
(`zero')g(constructor)g(\(which)f(mak)o(es)h(an)f(`e)n(v)o(en'\))h(and)
g(tw)o(o)357 3628 y(`successor')37 b(constructors)g(\(taking)g(`e)n(v)o
(en')g(to)g(`odd')h(and)f(`odd')h(to)f(`e)n(v)o(en'\).)69
b(I)38 b(omit)e(them,)357 3778 y(not)g(because)i(the)o(y)e(are)i(a)o
(wkw)o(ard)f(in)g(principle,)j(b)n(ut)c(because)i(discussing)e(them)g
(in)h(general)357 3927 y(terms)26 b(is)f(a)i(notational)e(nightmare:)33
b(I)26 b(ha)n(v)o(e)g(no)g(e)o(xamples)g(in)g(this)f(thesis)h(which)f
(require)i(them.)357 4077 y(Ho)n(we)n(v)o(er)l(,)19 b(all)h(of)g(the)g
(technology)f(de)n(v)o(eloped)f(here)j(for)f(solitary)f(inducti)n(v)o
(e)f(de\002nitions)g(e)o(xtends)357 4226 y(to)j(the)h(mutual)e(case)j
(without)d(an)o(y)i(dif)n(\002culty\227indeed)e(the)h(implemented)f
(system)h(does)h(handle)357 4375 y(mutual)34 b(de\002nitions.)61
b(In)35 b(an)o(y)g(case,)k(a)c(mutual)f(de\002nition)h(can)g(al)o(w)o
(ays)h(be)f(represented)h(as)f(a)357 4525 y(single)26
b(inducti)n(v)o(e)e(f)o(amily)j(of)f(datatypes)h(inde)o(x)o(ed)e(by)i
(a)g(\002nite)g(type)f(whose)h(elements)f(label)g(the)357
4674 y(branches\227we)j(might)f(de\002ne)i(a)f(f)o(amily)g
FZ(P)n(ar)r(ity)36 b FX(:)g FZ(2)-44 b(2)36 b F3(!)f
FI(Type)29 b F4(with)g FZ(P)n(ar)r(ity)c(tr)r(ue)k F4(containing)357
4824 y(the)24 b(e)n(v)o(en)g(numbers)g(and)h FZ(P)n(ar)r(ity)d(f)l
(alse)j F4(the)g(odd)f(numbers.)359 5033 y(C)t F2(O)t(Q)32
b F4(also)27 b(allo)n(ws)f FU(embedded)31 b F4(datatypes,)c(where)h(an)
g(e)o(xisting)e(datatype)h(is)g(used)g(as)h(an)g(auxil-)357
5183 y(liary)e(to)g(a)i(ne)n(w)e(datatype\227for)g(e)o(xample,)g
(de\002ning)h(the)f(\002nitely)g(branching)h(trees)g(by)f(a)h(single)
357 5332 y(`node')f(constructor)f(which)h(tak)o(es)g(a)g
FU(list)h F4(of)f(subtrees.)35 b(This)25 b(f)o(acility)g(is)h(both)f
(neat)h(and)g(labour)n(-)357 5482 y(sa)n(ving,)21 b(b)n(ut)h(it)f(adds)
h(no)f(e)o(xtra)h(po)n(wer)-5 b(.)29 b(As)21 b(P)o(aulin-Mohring)g
(observ)o(es)g(in)g([P-M96],)i(embedded)2022 5667 y(88)p
eop
%%Page: 89 94
89 93 bop 357 -6 a F4(datatypes)29 b(can)h(be)h(turned)e(into)g(mutual)
g(dataypes)h(with)f(e)o(xtra)h(branches)g(duplicating)e(the)i(be-)357
144 y(ha)n(viour)25 b(of)h(the)g(auxiliary)f(types\227we)g(may)h
(de\002ne)g(`\002nitely-branching-tree')g(mutually)e(with)357
293 y(`list-of-\002nitely-branching-trees'.)357 693 y
FT(4.1)142 b(construction)33 b(of)j(inducti)o(v)o(e)d(datatypes)357
1005 y F4(Rather)j(than)g(plunging)e(at)i(the)g(deep)g(end)g(and)g(dro)
n(wning)f(in)g(subscripts,)j(let)e(us)f(establish)g(a)357
1155 y(simply-typed)23 b(theme,)j(then)f(e)o(xamine)g(v)n(ariations:)31
b(parameterised)26 b(\(or)l(,)g(when)g(the)f(parameters)357
1304 y(are)38 b(themselv)o(es)d(types,)k(polymorphic\))d(types,)j
(types)e(with)f(higher)n(-order)h(constructors)f(and)357
1454 y(dependent)24 b(inducti)n(v)o(e)f(f)o(amilies,)h(then)g(de)o
(generate)h(types)f(lik)o(e)h(relations)f(and)g(records.)357
1663 y(The)h(components)e(of)i(an)o(y)f(inducti)n(v)o(e)f(datatype)h
(de\002nition)g(are)i(as)f(follo)n(ws)502 1981 y F3(\017)49
b F4(The)22 b F0(type)i(f)n(ormer)f F4(is)f(the)h(ne)n(w)f(constant)g
(which)g(names)h(the)f(type)h(or)g(type)f(f)o(amily)-6
b(,)22 b(e)o(g)g FZ(N)-63 b(N)p F4(,)601 2130 y FZ(list)p
F4(,)24 b FZ(v)n(ect)p F4(.)502 2363 y F3(\017)49 b F4(The)25
b F0(constructors)i F4(\(or)f(`introduction)e(rules'\))h(are)h(the)g
(means)f(of)g(forming)g(the)g(canoni-)601 2512 y(cal)g(elements)f(of)h
(the)f(datatype,)h(e)o(g)f FZ(0)h F4(and)g FZ(s)f F4(for)i
FZ(N)-63 b(N)o F4(.)502 2744 y F3(\017)49 b F4(The)27
b F0(elimination)f(rule)i F4(\(or)g(`induction)d(principle'\))i(pro)o
(vides)f(the)h(mechanism)f(for)h(de-)601 2894 y(composing)22
b(elements)h(of)g(the)h(datatype)f(in)h(the)f(cause)h(of)g
(constructing)e(something)g(else,)601 3043 y(be)k(it)f(a)h(proof)g(`by)
g(induction')e(or)i(some)g(recursi)n(v)o(ely)e(computed)h(v)n(alue.)33
b(This)26 b(rule)f(must)601 3193 y(be)g(mark)o(ed)f(with)g(a)h(tar)n
(get)g(so)g(that)f F0(eliminate)h F4(can)g(use)g(it.)502
3425 y F3(\017)49 b F4(The)20 b FY(\023)p F0(-r)n(eductions)j
F4(animate)d(this)f(mechanism,)h(de\002ning)g(the)g(computational)f
(beha)n(viour)601 3575 y(of)24 b(the)h(elimination)e(rule)i(for)g(each)
g(canonical)g(element.)357 3930 y FB(4.1.1)118 b(simple)30
b(inducti)o(v)o(e)h(datatypes)f(lik)o(e)h Fs(N)-76 b(N)357
4206 y F4(Componentwise)502 4524 y F3(\017)49 b F4(The)24
b F0(type)i(f)n(ormer)f F4(is)f(a)i(constant)d(which)i(inhabits)e(some)
h(uni)n(v)o(erse)p 825 4758 402 4 v 825 4837 a FJ(Ind)j
FX(:)h FI(Type)601 5088 y FZ(N)-63 b(N)24 b F4(is)h(an)g(e)o(xample)f
(of)g(such)h(an)g FJ(Ind)7 b F4(.)502 5320 y F3(\017)49
b F4(The)33 b F0(constructors)i F4(are)f(function)f(symbols)e
FZ(Con)2447 5335 y FM(1)2520 5320 y FY(:)17 b(:)g(:)50
b FZ(Con)2892 5335 y FL(c)2927 5320 y F4(,)35 b(where)f(for)g(each)g
FY(j)40 b F4(in)601 5470 y FX(1)17 b FY(:)g(:)g(:)e(c)2022
5667 y F4(89)p eop
%%Page: 90 95
90 94 bop 815 -6 a FZ(Con)1022 9 y FL(j)1086 -6 y FX(:)28
b F3(8)1186 -13 y FY(~)1196 -6 y FP(a)12 b FX(:)1294
-32 y FY(~)1290 -6 y FP(A)1362 9 y FL(j)1398 -6 y FY(:)23
b F3(8)1496 -13 y FY(~)1503 -6 y FP(x)11 b FX(:)g F3(f)p
FJ(Ind)o F3(g)1853 -54 y FL(r)1885 -44 y Fv(j)1922 -6
y FY(:)22 b FJ(Ind)601 227 y F4(The)792 201 y FY(~)789
227 y FP(A)860 242 y FL(j)930 227 y F4(are)34 b(called)f(the)f
F0(non-r)n(ecursi)o(v)o(e)j F4(ar)n(guments)d(because)i(the)o(y)e(may)g
(not)h(refer)h(to)601 376 y FJ(Ind)7 b F4(.)32 b(Neither)25
b(may)h(the)o(y)e(in)l(v)n(olv)o(e)g(an)o(y)h(uni)n(v)o(erse)f(as)i
(lar)n(ge)g(as)g(that)f(which)g FJ(Ind)32 b F4(inhabits,)601
526 y(in)23 b(order)h(to)f(a)n(v)n(oid)g(the)g(paradoxical)h(embedding)
e(of)i(a)g(lar)n(ger)g(uni)n(v)o(erse)e(inside)h(a)h(smaller)601
675 y(one\227we)h(may)g(usually)g(rely)h(on)f(Harper)h(and)g(Pollack')
-5 b(s)25 b(uni)n(v)o(ersal)f(policeman)h([HP91])601
825 y(and)f(use)h(the)g(unlabelled)49 b FI(Type)24 b
F4(re)o(gardless.)601 1016 y(W)-8 b(e)36 b(say)f(that)g
FZ(Con)1327 1031 y FL(j)1399 1016 y F4(has)h FY(r)1612
1031 y FL(j)1684 1016 y F0(r)n(ecursi)o(v)o(e)g F4(ar)n(guments.)63
b(Think)34 b(of)i(elements)f(of)g FJ(Ind)42 b F4(as)601
1165 y(tree)31 b(structures)f(made)h(from)g(nodes)f(of)h(dif)n(ferent)g
(kinds)f(gi)n(v)o(en)f(by)i(the)g(constructors,)g(a)601
1315 y FZ(Con)808 1330 y FL(j)882 1315 y F4(node)37 b(ha)n(ving)f
FY(r)1463 1330 y FL(j)1537 1315 y F4(out-edges)h(and)g(a)h(label)f(of)g
(telescope)2988 1288 y FY(~)2984 1315 y FP(A)3056 1330
y FL(j)3093 1315 y F4(.)68 b(Actually)-6 b(,)39 b(there)601
1464 y(is)f(no)h(need)h(for)f(the)g(recursi)n(v)o(e)f(ar)n(guments)h
(to)g(come)g(after)h(the)f(non-recursi)n(v)o(e)f(ones,)601
1613 y(b)n(ut)27 b(it)h(mak)o(es)f(the)h(presentation)f(simpler)g(if)h
(we)h(pretend)e(the)o(y)h(al)o(w)o(ays)f(do\227since)h(non-)601
1763 y(recursi)n(v)o(e)21 b(ar)n(guments)h(cannot)h(ha)n(v)o(e)f(types)
g(in)l(v)n(olving)f FJ(Ind)7 b F4(,)22 b(the)o(y)g(may)g(certainly)h
(al)o(w)o(ays)601 1912 y(be)i(permuted)f(to)g(the)h(front.)601
2103 y(W)-8 b(e)25 b(may)f(also)h(think)e(of)i(constructors)f(as)h
(introduction)e(rules)i(for)g FJ(Ind)7 b F4(:)815 2336
y FY(~)825 2343 y FP(a)28 b FX(:)956 2317 y FY(~)952
2343 y FP(A)1024 2358 y FL(j)1180 2343 y FP(x)1230 2358
y FM(1)1297 2343 y FX(:)g FJ(Ind)136 b FY(:)17 b(:)g(:)136
b FP(x)1941 2358 y FL(r)1973 2368 y Fv(j)2037 2343 y
FX(:)28 b FJ(Ind)p 825 2386 1419 4 v 1226 2468 a FZ(Con)1433
2483 y FL(j)1482 2461 y FY(~)1492 2468 y FP(a)1551 2461
y FY(~)1558 2468 y FP(x)g FX(:)g FJ(Ind)601 2685 y F4(The)35
b(deri)n(v)n(ation)f(trees)i(composed)f(from)g(such)g(rules)h
(correspond)f(e)o(xactly)g(to)g(the)h(tree)601 2834 y(notion)23
b(of)i(inducti)n(v)o(e)e(data)i(structures)f(mentioned)f(abo)o(v)o(e.)
601 3025 y FZ(N)-63 b(N)24 b F4(has)h(tw)o(o)f(constructors:)p
825 3235 223 4 v 825 3313 a FZ(0)k FX(:)g FZ(N)-63 b(N)1236
3219 y FP(n)28 b FX(:)g FZ(N)-63 b(N)p 1217 3235 262
4 v 1217 3313 a(s)p FP(n)28 b FX(:)g FZ(N)-63 b(N)601
3510 y F4(Observ)o(e)27 b(also)h(that,)g(if)g FJ(Ind)35
b F4(is)27 b(to)h(be)g(inhabited,)f(it)h(will)f(need)h(at)g(least)g
(one)g(constructor)601 3660 y(with)c(no)g(recursi)n(v)o(e)g(ar)n
(guments.)502 3892 y F3(\017)49 b F4(Let)36 b(us)g(e)o(xamine)g
FJ(IndElim)p F4(,)j(the)e(constant)e(whose)h(type)g(gi)n(v)o(es)f(the)i
F0(elimination)f(rule)601 4042 y F4(for)30 b FJ(Ind)7
b F4(,)31 b(in)f(accordance)i(with)d(the)i(general)f(analysis)g(of)g
(elimination)e(rules)i(presented)601 4191 y(earlier)-5
b(.)601 4382 y(The)30 b(pattern)g(which)f FJ(IndElim)i
F4(eliminates)e(is)h(the)g F0(fr)n(ee)601 4532 y(patter)o(n)40
b F4(on)f FJ(Ind)7 b F4(,)42 b(which)d(matches)g(an)o(y)g(element)g(of)
601 4681 y FJ(Ind)7 b F4(.)77 b(Hence)42 b FJ(IndElim)f
F4(has)f(a)h(scheme)g(inde)o(x)o(ed)e(by)601 4830 y FJ(Ind)7
b F4(,)23 b(ie)h FX(\010)k(:)f F3(8)p FP(x)12 b FX(:)f
FJ(Ind)o FY(:)18 b FI(Type)23 b F4(and)h(a)g(rule)f(goal)h(tar)n
(getting)601 4980 y(the)h(element)f(to)h(be)g(eliminated.)31
b F3(8)p 1843 4881 341 4 v 1843 5006 4 126 v 29 w FP(x)c
FX(:)h FJ(Ind)p 2180 5006 V 1843 5009 341 4 v 28 w FY(:)22
b FX(\010)h FP(x)p F4(.)32 b(The)601 5129 y(outline)23
b(of)i(the)g(rule)g(is)f(as)h(sho)n(wn.)p 2738 4273 863
4 v 2738 5086 4 813 v 2766 4382 a FJ(IndElim)2766 4623
y FX(\010)j(:)g F3(8)p FP(x)11 b FX(:)g FJ(Ind)p FY(:)22
b FI(Type)3171 4879 y FX(?)p 2900 4895 588 4 v 2900 5001
a F3(8)p 2955 4902 341 4 v 2955 5028 4 126 v 29 w FP(x)27
b FX(:)h FJ(Ind)p 3293 5028 V 2955 5031 341 4 v 28 w
FY(:)22 b FX(\010)h FP(x)p 3597 5086 4 813 v 2738 5089
863 4 v 601 5248 a F4(In)32 b(order)g(to)g(b)n(uild)f(a)h(proof)g(of)g
FX(\010)c FP(x)k F4(for)g(an)h(arbitrary)f FP(x)p F4(,)h(we)g(need)f(a)
g(method)f(for)i(each)601 5398 y(constructor)l(,)e(sho)n(wing)e(ho)n(w)
g FX(\010)i F4(for)g(its)f(conclusion)f(follo)n(ws)g(from)h
FX(\010)i F4(for)e(its)g(recursi)n(v)o(e)2022 5667 y(90)p
eop
%%Page: 91 96
91 95 bop 601 -6 a F4(ar)n(guments\227more)26 b(succinctly)-6
b(,)26 b(that)h(each)i FZ(Con)2391 9 y FL(j)2455 -6 y
F0(pr)n(eser)o(v)o(es)f FX(\010)q F4(.)39 b(W)-8 b(e)28
b(may)f(think)f(of)i FX(\010)601 144 y F4(as)j(a)h(property)g(which)f
(must)g(hold)f(where)n(v)o(er)i(its)f(ar)n(gument)g(is)g(an)h
FJ(Ind)7 b F4(,)33 b(hence)f(it)f(must)601 293 y(ha)n(v)o(e)25
b(`introduction)f(rules'\227the)i(rule)g(subgoals)e(of)i
FJ(IndElim)p F4(\227analogous)f(to)h(those)f(of)601 443
y FJ(Ind)7 b F4(.)44 b(Thus)29 b(we)h(manuf)o(acture)f(the)h(rule)f
(subgoals)g(of)g FJ(IndElim)h F4(from)g(the)f(introduction)601
592 y(rules)24 b(of)h FJ(Ind)31 b F4(by)25 b(writing)f
FX(\010)e FP(p)j F4(in)f(the)h(former)g(where)n(v)o(er)g(the)f(latter)h
(has)g FP(p)i FX(:)h FJ(Ind)o F4(:)845 846 y FY(~)855
853 y FP(a)g FX(:)986 827 y FY(~)982 853 y FP(A)1054
868 y FL(j)1210 853 y FX(\010)23 b FP(x)1353 868 y FM(1)1529
853 y FY(:)17 b(:)g(:)136 b FX(\010)22 b FP(x)1922 868
y FL(r)1954 878 y Fv(j)841 952 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h(:)g(:)g
(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)
f(:)1148 1112 y FX(\010)22 b(\()p FZ(Con)1485 1127 y
FL(j)1534 1105 y FY(~)1544 1112 y FP(a)1603 1105 y FY(~)1610
1112 y FP(x)p FX(\))601 1354 y F4(Note)f(that)h(the)g(recursi)n(v)o(e)f
(ar)n(guments)1944 1347 y FY(~)1951 1354 y FP(x)27 b
FX(:)h F3(f)p FJ(Ind)p F3(g)2334 1306 y FL(r)2366 1316
y Fv(j)2425 1354 y F4(ha)n(v)o(e)22 b(not)f(disappeared)i(entirely)-6
b(.)28 b(The)601 1504 y(types)23 b(of)i(the)f(recursion)h(hypotheses)d
(depend)j(on)f(them,)g(hence)h(we)f(may)g(infer)h(that)f(the)o(y)601
1653 y(are)38 b(themselv)o(es)e(present)i(as)f(case)i(hypotheses,)g
(and)f(suppress)e(them)h(from)h(the)g(writ-)601 1802
y(ten)29 b(rule)g(accordingly)-6 b(.)43 b(Functional)28
b(programmers)h(may)g(be)g(more)g(f)o(amiliar)g(with)g(`fold)601
1952 y(operators'\227the)c(cut)h(do)n(wn)e(v)o(ersion,)h(where)i
FX(\010)f F4(is)g(a)g(constant)f(and)h(the)g(recursi)n(v)o(e)f(ar)n
(gu-)601 2101 y(ments)e(are)j(supplanted)e(by)g(the)h(recursion)f
(hypotheses.)601 2290 y(W)-8 b(e)25 b(no)n(w)f(ha)n(v)o(e)g(all)h(the)f
(pieces)h(we)g(need)g(to)g(complete)f(the)h FJ(IndElim)g
F4(rule:)p 601 2362 3122 4 v 601 3298 4 936 v 654 2471
a FX(\010)j(:)g F3(8)p FP(x)11 b FX(:)g FJ(Ind)p FY(:)22
b FI(Type)818 2778 y FY(~)828 2785 y FP(a)28 b FX(:)959
2759 y FY(~)955 2785 y FP(A)1027 2800 y FM(1)1186 2785
y FX(\010)23 b FP(x)1329 2800 y FM(1)1505 2785 y FY(:)17
b(:)g(:)136 b FX(\010)22 b FP(x)1898 2800 y FL(r)1930
2809 y Fw(1)816 2884 y FY(:)17 b(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)
h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)1122
3044 y FX(\010)22 b(\()p FZ(Con)1459 3059 y FM(1)1511
3037 y FY(~)1521 3044 y FP(a)1580 3037 y FY(~)1587 3044
y FP(x)p FX(\))2145 3026 y FY(:)17 b(:)g(:)2426 2778
y(~)2436 2785 y FP(a)28 b FX(:)2567 2759 y FY(~)2563
2785 y FP(A)2635 2800 y FL(c)2790 2785 y FX(\010)22 b
FP(x)2932 2800 y FM(1)3108 2785 y FY(:)17 b(:)g(:)136
b FX(\010)23 b FP(x)3502 2800 y FL(r)3534 2808 y Fv(c)2421
2884 y FY(:)17 b(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)
g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)2729
3044 y FX(\010)22 b(\()p FZ(Con)3066 3059 y FL(c)3113
3037 y FY(~)3123 3044 y FP(a)3182 3037 y FY(~)3190 3044
y FP(x)o FX(\))p 788 3107 2822 4 v 1905 3213 a F3(8)p
1960 3114 341 4 v 1960 3239 4 126 v 29 w FP(x)27 b FX(:)h
FJ(Ind)p 2298 3239 V 1960 3242 341 4 v 28 w FY(:)22 b
FX(\010)h FP(x)p 3719 3298 4 936 v 601 3301 3122 4 v
601 3416 a F4(Or)l(,)i(more)f(inscrutably)-6 b(,)815
3644 y FJ(IndElim)28 b FX(:)g F3(8)p FX(\010)12 b(:)f
FJ(Ind)27 b F3(!)g FI(Type)p FY(:)1175 3793 y FX(\()p
F3(8)1258 3786 y FY(~)1268 3793 y FP(a)12 b FX(:)1366
3767 y FY(~)1362 3793 y FP(A)1434 3808 y FM(1)1473 3793
y FY(:)23 b F3(8)1571 3786 y FY(~)1578 3793 y FP(x)11
b FX(:)g F3(f)p FJ(Ind)o F3(g)1928 3745 y FL(r)1960 3754
y Fw(1)1999 3793 y FY(:)22 b F3(f)p FX(\010)g FP(x)2240
3808 y FL(i)2268 3793 y F3(g)2318 3745 y FL(r)2350 3754
y Fw(1)2318 3822 y FL(i)2416 3793 y F3(!)28 b FX(\010)22
b(\()p FZ(Con)2881 3808 y FM(1)2933 3786 y FY(~)2943
3793 y FP(a)3002 3786 y FY(~)3009 3793 y FP(x)p FX(\)\))28
b F3(!)1235 3890 y F4(.)1235 3924 y(.)1235 3957 y(.)1175
4106 y FX(\()p F3(8)1258 4099 y FY(~)1268 4106 y FP(a)12
b FX(:)1366 4080 y FY(~)1362 4106 y FP(A)1434 4121 y
FL(c)1469 4106 y FY(:)22 b F3(8)1566 4099 y FY(~)1573
4106 y FP(x)11 b FX(:)g F3(f)p FJ(Ind)p F3(g)1923 4058
y FL(r)1955 4067 y Fw(1)1994 4106 y FY(:)22 b F3(f)p
FX(\010)h FP(x)2235 4121 y FL(i)2264 4106 y F3(g)2313
4058 y FL(r)2345 4067 y Fw(1)2313 4135 y FL(i)2412 4106
y F3(!)k FX(\010)c(\()p FZ(Con)2877 4121 y FL(c)2923
4099 y FY(~)2933 4106 y FP(a)2993 4099 y FY(~)3000 4106
y FP(x)p FX(\)\))k F3(!)1175 4256 y(8)p 1230 4157 341
4 v 1230 4282 4 126 v 29 w FP(x)g FX(:)h FJ(Ind)p 1567
4282 V 1230 4285 341 4 v 28 w FY(:)22 b FX(\010)h FP(x)601
4483 y F4(F)o(or)h(the)h(natural)g(numbers,)e(then,)i(we)g(get)844
4801 y FZ(N)-63 b(NElim)29 b FX(:)e F3(8)p FX(\010)12
b(:)f F3(8)p FP(n)h FX(:)f FZ(N)-63 b(N)p FY(:)23 b FI(Type)o
FY(:)1204 4950 y FX(\(\010)g FZ(0)p FX(\))28 b F3(!)1204
5100 y FX(\()p F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p
FY(:)22 b FX(\(\010)h FP(n)p FX(\))28 b F3(!)f FX(\010)c
FZ(s)p FP(n)p FX(\))28 b F3(!)1204 5249 y(8)p 1259 5150
280 4 v 1259 5275 4 126 v 29 w FP(n)g FX(:)g FZ(N)-63
b(N)p 1536 5275 V 1259 5278 280 4 v 28 w FY(:)22 b FX(\010)h
FP(n)p 2766 4374 835 4 v 2766 5531 4 1157 v 2819 4483
a FZ(N)-63 b(NElim)2819 4724 y FX(\010)28 b(:)g F3(8)p
FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FI(Type)2953
5266 y FX(\010)h FZ(0)3280 5025 y FX(\010)g FP(n)3231
5124 y FY(:)17 b(:)g(:)f(:)h(:)g(:)3261 5284 y FX(\010)23
b FZ(s)o FP(n)p 2953 5340 535 4 v 2954 5446 a F3(8)p
3009 5347 280 4 v 3009 5473 4 126 v 29 w FP(n)28 b FX(:)g
FZ(N)-63 b(N)p 3286 5473 V 3009 5476 280 4 v 28 w FY(:)22
b FX(\010)h FP(n)p 3597 5531 4 1157 v 2766 5534 835 4
v 2022 5667 a F4(91)p eop
%%Page: 92 97
92 96 bop 502 -6 a F3(\017)49 b F4(Those)27 b(of)i(us)e(gi)n(v)o(en)g
(to)h(a)g(sk)o(eptical)g(disposition)d(w)o(ould)j(be)g(unlik)o(ely)f
(to)h(accept)g(the)g(v)n(a-)601 144 y(lidity)i(of)i FJ(IndElim)h
F4(if)f(we)g(did)g(not)f(see)i(ho)n(w)e(to)h(plug)f(the)h(proofs)g(of)g
(its)f(rule)i(subgoals)601 293 y(together)d(to)h(b)n(uild)f(an)h
(inhabitant)f(of)h FX(\010)h F4(for)f(an)o(y)g(particular)g
FP(x)g F4(which)f(we)i(might)d(mak)o(e)601 443 y(from)i
FJ(Ind)7 b F4(')-5 b(s)30 b(constructors.)50 b(This)30
b(process)h(is)g(represented)h(in)f(our)g(type)g(theory)g(by)g(the)601
592 y FY(\023)p F4(-reductions)23 b(associated)g(with)g
FJ(Ind)7 b F4(.)30 b(By)24 b(this)f(means)g(we)h(imb)n(ue)f
FJ(IndElim)h F4(with)e(a)i(com-)601 742 y(putational)f(meaning,)h(allo)
n(wing)f(us)h(to)h(e)n(v)n(aluate)f(recursi)n(v)o(e)g(functions)g(o)o
(v)o(er)f FJ(Ind)7 b F4(.)601 927 y(W)-8 b(e)25 b(add)g(an)g
FY(\023)p F4(-reduction)f(for)h(the)g(ef)n(fect)g(of)g
FJ(IndElim)g F4(on)g(each)g(constructor:)815 1148 y FJ(IndElim)e
FX(\010)1267 1122 y FY(~)1268 1148 y(\036)j FX(\()p FZ(Con)1597
1163 y FL(j)1646 1141 y FY(~)1656 1148 y FP(a)1715 1141
y FY(~)1722 1148 y FP(x)p FX(\))i FD(;)1938 1163 y FL(\023)1994
1148 y FY(\036)2052 1163 y Fq(j)2100 1141 y FY(~)2109
1148 y FP(a)2169 1141 y FY(~)2176 1148 y FP(x)2248 1037
y Fz(n)2314 1148 y FJ(IndElim)23 b FX(\010)2766 1122
y FY(~)2767 1148 y(\036)j FP(x)2901 1163 y FL(i)2929
1037 y Fz(o)2996 1060 y FL(r)3028 1070 y Fv(j)2996 1217
y FL(i)601 1369 y F4(F)o(or)e(the)h(natural)g(numbers,)e(we)j(get)e(tw)
o(o)h(such)f(rules:)815 1555 y FZ(N)-63 b(NElim)23 b
FX(\010)f FY(\036)1259 1570 y Fq(z)1323 1555 y FY(\036)1381
1570 y Fq(s)1480 1555 y FZ(0)45 b FD(;)1680 1570 y FL(\023)1753
1555 y FY(\036)1811 1570 y Fq(z)815 1675 y FZ(N)-63 b(NElim)23
b FX(\010)f FY(\036)1259 1690 y Fq(z)1323 1675 y FY(\036)1381
1690 y Fq(s)1442 1675 y FZ(s)o FP(n)45 b FD(;)1680 1690
y FL(\023)1753 1675 y FY(\036)1811 1690 y Fq(s)1871 1675
y FP(n)23 b FX(\()p FZ(N)-63 b(NElim)23 b FX(\010)f FY(\036)2431
1690 y Fq(z)2495 1675 y FY(\036)2553 1690 y Fq(s)2613
1675 y FP(n)q FX(\))357 1910 y F4(Gi)n(v)o(en)e(the)i(type)g(former)g
(and)g(constructors)f(for)h(a)g(simple)f(inducti)n(v)o(e)f(datatype,)i
(the)f(elimination)357 2060 y(rule)k(and)f FY(\023)p
F4(-reductions)h(can)g(be)g(computed)f(in)g(a)h(straightforw)o(ard)g(w)
o(ay)-6 b(.)357 2409 y FB(4.1.2)118 b(parameterised)30
b(datatypes)g(lik)o(e)g Fs(list)357 2685 y F4(It)38 b(is)f(not)h(hard)g
(to)g(represent)g(datatypes)f(such)h(as)g(lists)f(of)h(natural)g
(numbers)f(via)h(the)g(abo)o(v)o(e)357 2835 y(mechanism:)p
611 3084 447 4 v 611 3162 a FZ(N)-63 b(N)o(list)27 b
FX(:)h FI(Type)p 1227 3084 466 4 v 169 w FZ(N)-63 b(Nnil)27
b FX(:)h FZ(N)-63 b(Nlist)1897 3067 y FP(n)28 b FX(:)g
FZ(N)-63 b(N)120 b FP(t)27 b FX(:)h FZ(N)-63 b(Nlist)p
1861 3084 727 4 v 1861 3162 a(N)g(Ncons)22 b FP(n)h(t)28
b FX(:)g FZ(N)-63 b(Nlist)357 3422 y F4(Ho)n(we)n(v)o(er)l(,)20
b(it)f(seems)h(much)g(preferable)h(to)f(de\002ne)h(lists)e(once,)i
FU(polymorphically)d F4(and)j(instantiate)357 3571 y(that)34
b(de\002nition)g(for)i(each)g(type)e(of)h(element)g(we)g(encounter)g
(than)g(to)g(de\002ne)h(a)f(ne)n(w)g(list)f(type)357
3720 y(for)f(e)n(v)o(ery)g(element)f(type.)56 b(That)33
b(is,)i(we)e(should)f(be)i(able)f(to)g(de\002ne)g(lists)f(in)h(a)h(w)o
(ay)f(which)g(is)357 3870 y(parameterised)26 b(by)g(the)g(choice)g(of)g
(element)g(type,)g(allo)n(wing)f(us)h(to)g(write)g(the)g(functions)f
(which)357 4019 y(operate)k(on)g(arbitrarily-typed)f(lists)f(once)i
(and)g(for)g(all.)43 b(F)o(or)29 b(each)h FP(A)39 b FX(:)c
FI(Type)p F4(,)30 b FZ(list)24 b FP(A)33 b F4(should)28
b(be)357 4169 y(the)21 b(simple)f(inducti)n(v)o(e)f(datatype)h(of)i
(lists)d(of)j FP(A)j F4(elements.)k(Such)21 b(entities)f(are)i
(sometimes)d(called)357 4318 y(`f)o(amilies)31 b(of)h(inducti)n(v)o(e)e
(datatypes',)k(because)e(each)h(element)f(of)g(the)g(f)o(amily)f(is)h
(an)g(inducti)n(v)o(e)357 4468 y(datatype.)357 4677 y(This)24
b(kind)g(of)h(parameterisation)f(is)h(v)o(ery)f(simple\227once)g(the)h
(parameters)g(ha)n(v)o(e)f(been)i(instanti-)357 4827
y(ated,)k(the)o(y)e(are)h(\002x)o(ed)g(for)g(the)g(entire)f(inducti)n
(v)o(e)f(de\002nition\227constructors,)h(elimination)e(rule,)357
4976 y(the)f(lot.)32 b(F)o(or)25 b(a)h(gi)n(v)o(en)e(parameter)i
(telescope)1955 4969 y FY(~)1962 4976 y FP(p)j FX(:)2096
4950 y FY(~)2097 4976 y FP(P)p F4(,)d(then,)f(we)h(need)f(merely)h
(bind)e(it)h(parametri-)357 5125 y(cally)c(to)h(each)h(of)f(the)f
(de\002ned)i(constants)e(and)h(re)n(write)f(rules,)h(correspondingly)f
(replacing)h(each)357 5275 y FP(C)j F4(by)g FP(C)654
5268 y FY(~)661 5275 y FP(p)g F4(where)n(v)o(er)f(the)o(y)g(are)i
(applied.)357 5484 y(Hence)2022 5667 y(92)p eop
%%Page: 93 98
93 97 bop 502 -6 a F3(\017)49 b F4(type)24 b(former)p
611 163 666 4 v 611 264 a FJ(Ind)j FX(:)h F3(8)893 257
y FY(~)900 264 y FP(p)11 b FX(:)997 238 y FY(~)999 264
y FP(P)p FY(:)22 b FI(Type)502 473 y F3(\017)49 b F4(constructors)815
731 y FZ(Con)1022 746 y FL(j)1086 731 y FX(:)28 b F3(8)1189
724 y FY(~)1196 731 y FP(p)11 b FX(:)1293 704 y FY(~)1295
731 y FP(P)p FY(:)23 b F3(8)1451 724 y FY(~)1461 731
y FP(a)11 b FX(:)1558 704 y FY(~)1554 731 y FP(A)1626
746 y FL(j)1663 731 y FY(:)22 b F3(8)1760 724 y FY(~)1767
731 y FP(x)11 b FX(:)g F3(f)p FJ(Ind)2083 724 y FY(~)2090
731 y FP(p)p F3(g)2190 679 y FL(r)2222 689 y Fv(j)2258
731 y FY(:)22 b FJ(Ind)2474 724 y FY(~)2481 731 y FP(p)601
988 y F4(\(or)j(as)g(an)f(introduction)f(rule\))815 1242
y FY(~)825 1249 y FP(a)28 b FX(:)956 1223 y FY(~)952
1249 y FP(A)1024 1264 y FL(j)1180 1249 y FP(x)1230 1264
y FM(1)1297 1249 y FX(:)g FJ(Ind)1518 1242 y FY(~)1526
1249 y FP(p)136 b FY(:)17 b(:)g(:)136 b FP(x)2013 1264
y FL(r)2045 1274 y Fv(j)2109 1249 y FX(:)28 b FJ(Ind)2330
1242 y FY(~)2338 1249 y FP(p)p 825 1292 1563 4 v 1262
1374 a FZ(Con)1469 1389 y FL(j)1518 1367 y FY(~)1528
1374 y FP(a)1587 1367 y FY(~)1594 1374 y FP(x)g FX(:)g
FJ(Ind)1893 1367 y FY(~)1900 1374 y FP(p)502 1616 y F3(\017)49
b F4(elimination)22 b(rule)p 601 1670 3122 4 v 601 2517
4 848 v 654 1779 a FX(\010)28 b(:)g(\()p FJ(Ind)1011
1772 y FY(~)1018 1779 y FP(p)p FX(\))g F3(!)f FI(Type)818
1966 y FY(~)828 1973 y FP(a)h FX(:)959 1946 y FY(~)955
1973 y FP(A)1027 1988 y FM(1)1186 1973 y FX(\010)23 b
FP(x)1329 1988 y FM(1)1505 1973 y FY(:)17 b(:)g(:)136
b FX(\010)22 b FP(x)1898 1988 y FL(r)1930 1997 y Fw(1)816
2072 y FY(:)17 b(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)
h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)1086
2231 y FX(\010)22 b(\()p FZ(Con)1423 2246 y FM(1)1478
2224 y FY(~)1485 2231 y FP(p)1547 2224 y FY(~)1557 2231
y FP(a)1616 2224 y FY(~)1623 2231 y FP(x)p FX(\))2145
2213 y FY(:)17 b(:)g(:)2426 1966 y(~)2436 1973 y FP(a)28
b FX(:)2567 1946 y FY(~)2563 1973 y FP(A)2635 1988 y
FL(c)2790 1973 y FX(\010)22 b FP(x)2932 1988 y FM(1)3108
1973 y FY(:)17 b(:)g(:)136 b FX(\010)23 b FP(x)3502 1988
y FL(r)3534 1996 y Fv(c)2421 2072 y FY(:)17 b(:)f(:)h(:)g(:)g(:)f(:)h
(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)
g(:)f(:)2693 2231 y FX(\010)22 b(\()p FZ(Con)3030 2246
y FL(c)3080 2224 y FY(~)3087 2231 y FP(p)3149 2224 y
FY(~)3159 2231 y FP(a)3218 2224 y FY(~)3225 2231 y FP(x)p
FX(\))p 788 2297 2822 4 v 1869 2407 a F3(8)p 1924 2304
413 4 v 1924 2459 4 156 v 29 w FP(x)27 b FX(:)h FJ(Ind)2252
2400 y FY(~)2259 2407 y FP(p)p 2334 2459 V 1924 2462
413 4 v 28 w FY(:)22 b FX(\010)h FP(x)p 3719 2517 4 848
v 601 2520 3122 4 v 601 2639 a F4(\(or)i(as)g(a)g(type\))815
2871 y FJ(IndElim)j FX(:)g F3(8)1284 2864 y FY(~)1291
2871 y FP(p)11 b FX(:)1388 2845 y FY(~)1390 2871 y FP(P)p
FY(:)22 b F3(8)p FX(\010)12 b(:)f(\()p FJ(Ind)1880 2864
y FY(~)1887 2871 y FP(p)p FX(\))27 b F3(!)h FI(Type)o
FY(:)1175 3020 y FX(\()p F3(8)1258 3013 y FY(~)1268 3020
y FP(a)12 b FX(:)1366 2994 y FY(~)1362 3020 y FP(A)1434
3035 y FM(1)1473 3020 y FY(:)23 b F3(8)1571 3013 y FY(~)1578
3020 y FP(x)11 b FX(:)g F3(f)p FJ(Ind)1893 3013 y FY(~)1900
3020 y FP(p)p F3(g)2000 2969 y FL(r)2032 2978 y Fw(1)2071
3020 y FY(:)22 b F3(f)p FX(\010)g FP(x)2312 3035 y FL(i)2340
3020 y F3(g)2390 2972 y FL(r)2422 2981 y Fw(1)2390 3050
y FL(i)2488 3020 y F3(!)28 b FX(\010)22 b(\()p FZ(Con)2953
3035 y FM(1)3008 3013 y FY(~)3015 3020 y FP(p)3077 3013
y FY(~)3087 3020 y FP(a)3146 3013 y FY(~)3153 3020 y
FP(x)p FX(\)\))27 b F3(!)1235 3120 y F4(.)1235 3153 y(.)1235
3187 y(.)1175 3336 y FX(\()p F3(8)1258 3329 y FY(~)1268
3336 y FP(a)12 b FX(:)1366 3310 y FY(~)1362 3336 y FP(A)1434
3351 y FL(c)1469 3336 y FY(:)22 b F3(8)1566 3329 y FY(~)1573
3336 y FP(x)11 b FX(:)g F3(f)p FJ(Ind)1889 3329 y FY(~)1896
3336 y FP(p)p F3(g)1995 3285 y FL(r)2027 3293 y Fv(c)2063
3336 y FY(:)23 b F3(f)o FX(\010)g FP(x)2305 3351 y FL(i)2333
3336 y F3(g)2383 3288 y FL(r)2415 3296 y Fv(c)2383 3365
y FL(i)2478 3336 y F3(!)28 b FX(\010)22 b(\()p FZ(Con)2943
3351 y FL(c)2993 3329 y FY(~)3000 3336 y FP(p)3062 3329
y FY(~)3072 3336 y FP(a)3131 3329 y FY(~)3138 3336 y
FP(x)p FX(\)\))28 b F3(!)1175 3486 y(8)p 1230 3383 413
4 v 1230 3538 4 156 v 29 w FP(x)f FX(:)h FJ(Ind)1558
3479 y FY(~)1565 3486 y FP(p)p 1639 3538 V 1230 3541
413 4 v 28 w FY(:)22 b FX(\010)h FP(x)502 3718 y F3(\017)49
b FY(\023)p F4(-reductions)815 3975 y FJ(IndElim)1168
3968 y FY(~)1176 3975 y FP(p)21 b FX(\010)1339 3949 y
FY(~)1340 3975 y(\036)26 b FX(\()p FZ(Con)1669 3990 y
FL(j)1721 3968 y FY(~)1728 3975 y FP(p)1790 3968 y FY(~)1800
3975 y FP(a)1859 3968 y FY(~)1866 3975 y FP(x)p FX(\))h
FD(;)2081 3990 y FL(\023)2138 3975 y FY(\036)2196 3990
y Fq(j)2243 3968 y FY(~)2253 3975 y FP(a)2313 3968 y
FY(~)2320 3975 y FP(x)2392 3865 y Fz(n)2458 3975 y FJ(IndElim)2811
3968 y FY(~)2818 3975 y FP(p)22 b FX(\010)2982 3949 y
FY(~)2983 3975 y(\036)k FP(x)3117 3990 y FL(i)3145 3865
y Fz(o)3211 3887 y FL(r)3243 3897 y Fv(j)3211 4044 y
FL(i)357 4268 y F4(The)f(f)o(amily)f(of)g(datatypes,)h
FZ(list)p F4(,)f(is)g(thus)g(gi)n(v)o(en)f(by)p 611 4593
461 4 v 611 4671 a FZ(list)e FP(A)32 b FX(:)27 b FI(Type)p
1240 4593 492 4 v 169 w FZ(nil)22 b FP(A)32 b FX(:)27
b FZ(list)22 b FP(A)1901 4570 y(h)28 b FX(:)g FP(A)124
b(t)28 b FX(:)f FZ(list)22 b FP(A)p 1901 4593 655 4 v
1904 4671 a FZ(cons)g FP(h)g(t)28 b FX(:)g FZ(list)21
b FP(A)2022 5667 y F4(93)p eop
%%Page: 94 99
94 98 bop 601 -102 1393 4 v 601 1075 4 1178 v 654 7 a
FZ(listElim)654 248 y FX(\010)28 b(:)g(\()p FZ(list)21
b FP(A)t FX(\))28 b F3(!)f FI(Type)788 790 y FX(\010)c(\()p
FZ(nil)e FP(A)5 b FX(\))1351 549 y FP(h)27 b FX(:)h FP(A)124
b FX(\010)23 b FP(t)1302 648 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)
h(:)g(:)g(:)f(:)1315 808 y FX(\010)23 b(\()p FZ(cons)f
FP(h)g(t)p FX(\))p 788 871 1093 4 v 1033 977 a F3(8)p
1088 878 378 4 v 1088 1017 4 140 v 29 w FP(l)27 b FX(:)h
FZ(list)21 b FP(A)p 1462 1017 V 1088 1020 378 4 v 33
w FY(:)h FX(\010)h FP(l)p 1990 1075 4 1178 v 601 1078
1393 4 v 601 1209 a FZ(listElim)f FP(A)k FX(\010)c FY(\036)1170
1224 y Fq(n)1242 1209 y FY(\036)1300 1224 y Fq(c)1520
1209 y FX(\()p FZ(nil)g FP(A)t FX(\))44 b FD(;)1939 1224
y FL(\023)2012 1209 y FY(\036)2070 1224 y Fq(n)601 1329
y FZ(listElim)22 b FP(A)k FX(\010)c FY(\036)1170 1344
y Fq(n)1242 1329 y FY(\036)1300 1344 y Fq(c)1362 1329
y FX(\()p FZ(cons)h FP(h)f(t)p FX(\))44 b FD(;)1939 1344
y FL(\023)2012 1329 y FY(\036)2070 1344 y Fq(c)2132 1329
y FP(h)22 b(t)h FX(\()p FZ(listElim)f FP(A)k FX(\010)c
FY(\036)2867 1344 y Fq(n)2939 1329 y FY(\036)2997 1344
y Fq(n)3069 1329 y FP(t)p FX(\))357 1582 y F4(Note)h(that)f(I)h
(suppress)g(the)g(parameter)g FP(A)k F4(when)c(writing)f
FZ(cons)16 b FP(h)g(t)p F4(,)23 b(because)h(it)e(can)i(be)f(inferred)
357 1731 y(from)28 b(the)g(type)g(of)g FP(h)p F4(,)h(con)l(v)o(ersely)f
(lea)n(ving)g(it)f(visible)g(in)h FZ(list)22 b FP(A)32
b F4(and)d FZ(nil)21 b FP(A)t F4(.)42 b(In)28 b(general,)h(I)g(shall)
357 1881 y(a)n(v)n(oid)24 b(mentioning)f(parameters)i(where)n(v)o(er)f
(con)l(v)o(enient.)357 2232 y FB(4.1.3)118 b(datatypes)30
b(with)g(higher)l(-order)h(r)n(ecursi)o(v)o(e)f(ar)o(guments,)f(lik)o
(e)i Fs(or)o(d)357 2508 y F4(So)25 b(f)o(ar)l(,)h(each)g(of)g(the)f
(datatype)g(constructors)f(we)i(ha)n(v)o(e)f(seen)h(has)f(a)h(\002x)o
(ed)f(number)g(of)g(recursi)n(v)o(e)357 2658 y(ar)n(guments\227in)37
b(the)i(tree)g(metaphor)l(,)j(a)d(\002x)o(ed)g(number)g(of)g(out-edges)
f(to)g(smaller)h(subtrees.)357 2807 y(One)34 b(might)e(choose)i(to)g
(see)g(these)g(as)g(a)h(f)o(amily)e(of)h(out-edges)g(inde)o(x)o(ed)e
(by)i(a)g(\002nite)g(set,)i(and)357 2957 y(proceed)24
b(to)g(w)o(onder)g(whether)g(an)o(y)f(other)h(types)g(might)f(be)h
(acceptable)g(for)h(inde)o(xing)d(recursi)n(v)o(e)357
3106 y(ar)n(guments.)28 b(And)19 b(yes,)i(an)o(y)e(small)f(enough)h
(type)g(\(telescope\))h(can)g(be)f(used)h(to)f(inde)o(x)f(a)i(recursi)n
(v)o(e)357 3255 y(ar)n(gument,)h(as)h(long)e(as)i(it)e(does)h(not)g(in)
l(v)n(olv)o(e)f(the)h(type)g(being)g(de\002ned)2800 3219
y FS(1)2837 3255 y F4(,)h(gi)n(ving)e(us)h(the)g(increased)357
3405 y(po)n(wer)j(of)g F0(higher)l(-order)i(r)n(ecursi)o(v)o(e)g(ar)o
(guments)f F4(addressing)e(in\002nite)h(f)o(amilies)f(of)i(subterms.)
357 3614 y(Higher)n(-order)44 b(recursi)n(v)o(e)g(ar)n(guments)g(are)h
(thus)e(functions)h(returning)f(elements)h(of)g(the)h(in-)357
3764 y(ducti)n(v)o(e)30 b(datatype.)51 b(The)32 b(elimination)e(thus)h
(rule)h(has)g(higher)n(-order)g(recursion)f(hypotheses\227)357
3913 y(functions)23 b(returning)i(proofs)f(of)h FX(\010)p
F4(.)357 4123 y(F)o(or)40 b(e)o(xample,)k(we)d(may)f(construct)g(a)h
(type)f(of)h(ordinal)f(numbers)f(which)i(supplements)d(the)357
4272 y(`zero')30 b(and)g(`successor')g(constructors)e(with)h(the)h
(`supremum')e(of)i(a)g(possibly)e(in\002nite)h(f)o(amily)357
4422 y(of)c(smaller)f(ordinals:)p 611 4707 446 4 v 611
4786 a FZ(zer)n(o)k FX(:)f FZ(or)o(d)1318 4691 y FP(x)h
FX(:)g FZ(or)o(d)p 1226 4707 481 4 v 1226 4786 a(suc)21
b FP(x)28 b FX(:)g FZ(or)o(d)1876 4672 y FP(f)f FX(:)h
FZ(N)-63 b(N)28 b F3(!)f FZ(or)o(d)p 1876 4707 513 4
v 1901 4786 a(sup)21 b FP(f)28 b FX(:)g FZ(or)o(d)357
5062 y F4(The)i FZ(sup)g F4(constructor)f(tak)o(es)h(a)h(f)o(amily)f
(of)g(ordinals)g(inde)o(x)o(ed)e(by)i FZ(N)-63 b(N)p
F4(,)32 b(admitting)c(a)j(notionally)357 5212 y(trans\002nite)e
(structure.)1159 5175 y FS(2)1243 5212 y F4(The)h(corresponding)f
(subgoal)g(in)g(the)h(elimination)e(rule)i(gi)n(v)o(es)f(access)p
357 5293 1373 4 v 473 5355 a FR(1)506 5385 y FQ(a)21
b(restriction)e(kno)n(wn)g(as)i Fp(strict)f(positi)o(vity)473
5454 y FR(2)506 5484 y FQ(Of)g(course,)g Fo(N)-52 b(N)23
b Fy(!)h Fo(ord)c FQ(has)g(only)g(countably)e(man)o(y)h(inhabitants.)
2022 5667 y F4(94)p eop
%%Page: 95 100
95 99 bop 357 -6 a F4(to)24 b(a)h(f)o(amily)f(of)h(recursion)g
(hypotheses:)p 601 169 1821 4 v 601 1273 4 1104 v 654
278 a FZ(or)o(dElim)654 519 y FX(\010)j(:)g F3(8)p FP(x)11
b FX(:)g FZ(or)o(d)q FY(:)22 b FI(Type)654 1031 y FX(\010)g
FZ(zer)n(o)1237 790 y FX(\010)h FP(x)1076 889 y FY(:)17
b(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)1107 1049 y FX(\010)22
b(\()p FZ(suc)g FP(x)p FX(\))1711 790 y F3(8)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(\010)f(\()p FP(f)g(n)p
FX(\))1697 889 y FY(:)16 b(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h
(:)g(:)1802 1049 y FX(\010)22 b(\()p FZ(sup)g FP(f)o
FX(\))p 654 1109 1715 4 v 1187 1212 a F3(8)p 1242 1113
352 4 v 1242 1238 4 126 v 28 w FP(x)28 b FX(:)g FZ(or)o(d)p
1590 1238 V 1242 1241 352 4 v 29 w FY(:)22 b FX(\010)h
FP(x)p 2418 1273 4 1104 v 601 1276 1821 4 v 357 1494
a F4(Ho)n(w)30 b(can)i(we)g(compute)f(o)o(v)o(er)g(such)g(a)h(type?)51
b(The)31 b FZ(sup)g F4(branch)h(e)o(xpects)e(a)i(f)o(amily)f(of)h
(proofs)357 1643 y(of)26 b FX(\010)h F4(for)g(the)f(image)g(of)g(its)g
(functional)f(ar)n(gument\227we)h(may)g(manuf)o(acture)g(such)g(a)h(f)o
(amily)f(by)357 1793 y FY(\025)p F4(-abstracting)e(o)o(v)o(er)g(the)g
(recursi)n(v)o(e)g(call:)601 2084 y FZ(or)o(dElim)15
b FX(\010)g FY(\036)1107 2099 y Fq(z)1162 2084 y FY(\036)1220
2099 y Fq(s)1273 2084 y FY(\036)1331 2099 y Fq(sup)1456
2084 y FX(\()p FZ(sup)f FP(f)o FX(\))28 b FD(;)1869 2099
y FL(\023)1925 2084 y FY(\036)1983 2099 y Fq(sup)2109
2084 y FP(f)14 b FX(\()p FY(\025)p FP(n)d FX(:)g FZ(N)-63
b(N)p FY(:)14 b FZ(or)o(dElim)i FX(\010)f FY(\036)2983
2099 y Fq(z)3038 2084 y FY(\036)3096 2099 y Fq(s)3149
2084 y FY(\036)3207 2099 y Fq(sup)3332 2084 y FX(\()p
FP(f)f(n)p FX(\)\))357 2374 y F4(In)28 b(the)f(same)h(w)o(ay)-6
b(,)28 b(we)g(can)g(allo)n(w)f(constructors)g(of)g(an)h(arbitrary)g
(inducti)n(v)o(e)e(datatype)h(to)h(ha)n(v)o(e)357 2524
y(f)o(amilies)e(of)i(recursi)n(v)o(e)f(ar)n(guments,)g(with)g(the)h
(elimination)d(rule)j(acquiring)f(f)o(amilies)g(of)g(recur)n(-)357
2673 y(sion)d(hypotheses:)502 2964 y F3(\017)49 b F4(type)24
b(former)p 611 3129 402 4 v 611 3207 a FJ(Ind)j FX(:)h
FI(Type)502 3410 y F3(\017)49 b F4(constructors)815 3654
y FZ(Con)1022 3669 y FL(j)1086 3654 y FX(:)28 b F3(8)1186
3647 y FY(~)1196 3654 y FP(a)12 b FX(:)1294 3628 y FY(~)1290
3654 y FP(A)1362 3669 y FL(j)1398 3654 y FY(:)23 b F3(8)1485
3625 y FY(~)1503 3654 y FP(f)11 b FX(:)1580 3544 y Fz(n)1646
3654 y F3(8)1694 3625 y FY(~)1701 3654 y FP(h)1752 3669
y FL(i)1791 3654 y FX(:)1836 3628 y FY(~)1829 3654 y
FP(H)1906 3669 y FL(i)1935 3654 y FY(:)22 b FJ(Ind)2135
3544 y Fz(o)2202 3566 y FL(r)2234 3576 y Fv(j)2202 3723
y FL(i)2270 3654 y FY(:)h FJ(Ind)601 3898 y F4(\(or)i(as)g(an)f
(introduction)f(rule\))815 4142 y FY(~)825 4149 y FP(a)28
b FX(:)956 4123 y FY(~)952 4149 y FP(A)1024 4164 y FL(j)1180
4149 y FP(f)1221 4181 y FM(1)1289 4149 y FX(:)f F3(8)1391
4120 y FY(~)1398 4149 y FP(h)1448 4164 y FM(1)1499 4149
y FX(:)1544 4123 y FY(~)1537 4149 y FP(H)1615 4164 y
FM(1)1654 4149 y FY(:)22 b FJ(Ind)136 b FY(:)17 b(:)g(:)137
b FP(f)2284 4181 y FL(r)2316 4191 y Fv(j)2380 4149 y
FX(:)28 b F3(8)2483 4120 y FY(~)2490 4149 y FP(h)2540
4164 y FL(r)2572 4174 y Fv(j)2619 4149 y FX(:)2664 4123
y FY(~)2657 4149 y FP(H)2735 4164 y FL(r)2767 4174 y
Fv(j)2804 4149 y FY(:)22 b FJ(Ind)p 825 4208 2180 4 v
1618 4312 a FZ(Con)1825 4327 y FL(j)1874 4305 y FY(~)1884
4312 y FP(a)1932 4283 y FY(~)1950 4312 y FP(f)27 b FX(:)h
FJ(Ind)502 4541 y F3(\017)49 b F4(elimination)22 b(rule)p
601 4592 3055 4 v 601 5367 4 775 v 704 4701 a FX(\010)28
b(:)f FJ(Ind)h F3(!)f FI(Type)654 5124 y FY(:)17 b(:)g(:)935
4861 y(~)945 4868 y FP(a)28 b FX(:)1075 4841 y FY(~)1071
4868 y FP(A)1143 4883 y FL(j)1300 4868 y F3(8)1348 4839
y FY(~)1355 4868 y FP(h)1405 4883 y FM(1)1456 4868 y
FX(:)1500 4841 y FY(~)1494 4868 y FP(H)1571 4883 y FM(1)1611
4868 y FY(:)22 b FX(\010)g(\()p FP(f)1832 4899 y FM(1)1886
4839 y FY(~)1893 4868 y FP(h)1943 4883 y FM(1)1982 4868
y FX(\))137 b FY(:)17 b(:)g(:)136 b F3(8)2456 4839 y
FY(~)2463 4868 y FP(h)2513 4883 y FL(r)2545 4893 y Fv(j)2593
4868 y FX(:)2638 4841 y FY(~)2631 4868 y FP(H)2708 4883
y FL(r)2740 4893 y Fv(j)2777 4868 y FY(:)22 b FX(\010)h(\()p
FP(f)2998 4899 y FL(r)3030 4909 y Fv(j)3081 4839 y FY(~)3089
4868 y FP(h)3138 4883 y FL(r)3170 4893 y Fv(j)3207 4868
y FX(\))923 4982 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)
f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h
(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)
g(:)g(:)f(:)h(:)g(:)f(:)h(:)1831 5142 y FX(\010)22 b(\()p
FZ(Con)2168 5157 y FL(j)2217 5135 y FY(~)2227 5142 y
FP(a)2275 5113 y FY(~)2293 5142 y FP(f)p FX(\))3421 5124
y FY(:)17 b(:)g(:)p 654 5203 2949 4 v 1809 5306 a F3(8)p
1864 5206 341 4 v 1864 5332 4 126 v 29 w FP(x)28 b FX(:)f
FJ(Ind)p 2202 5332 V 1864 5335 341 4 v 28 w FY(:)22 b
FX(\010)h FP(x)p 3652 5367 4 775 v 601 5370 3055 4 v
601 5484 a F4(\(or)i(as)g(a)g(type\))2022 5667 y(95)p
eop
%%Page: 96 101
96 100 bop 815 -6 a FJ(IndElim)28 b FX(:)g F3(8)p FX(\010)12
b(:)f FJ(Ind)27 b F3(!)g FI(Type)p FY(:)1175 144 y FX(\()p
F3(8)1258 137 y FY(~)1268 144 y FP(a)12 b FX(:)1366 118
y FY(~)1362 144 y FP(A)1434 159 y FM(1)1473 144 y FY(:)23
b F3(8)1560 115 y FY(~)1578 144 y FP(f)11 b FX(:)1655
33 y Fz(n)1721 144 y F3(8)1769 115 y FY(~)1776 144 y
FP(h)1826 159 y FL(i)1866 144 y FX(:)1911 118 y FY(~)1904
144 y FP(H)1981 159 y FL(i)2009 144 y FY(:)23 b FJ(Ind)2210
33 y Fz(o)2277 56 y FL(r)2309 65 y Fw(1)2277 213 y FL(i)2347
144 y FY(:)1355 227 y Fz(n)1422 338 y F3(8)1470 309 y
FY(~)1477 338 y FP(h)1527 353 y FL(i)1566 338 y FX(:)1611
312 y FY(~)1604 338 y FP(H)1682 353 y FL(i)1710 338 y
FY(:)f FX(\010)h(\()p FP(f)1931 370 y FL(i)1974 309 y
FY(~)1981 338 y FP(h)2031 353 y FL(i)2059 338 y FX(\))2097
227 y Fz(o)2163 250 y FL(r)2195 259 y Fw(1)2163 407 y
FL(i)2262 338 y F3(!)k FX(\010)c(\()p FZ(Con)2727 353
y FM(1)2778 331 y FY(~)2788 338 y FP(a)2836 309 y FY(~)2854
338 y FP(f)p FX(\)\))28 b F3(!)1235 475 y F4(.)1235 508
y(.)1235 542 y(.)1175 691 y FX(\()p F3(8)1258 684 y FY(~)1268
691 y FP(a)12 b FX(:)1366 665 y FY(~)1362 691 y FP(A)1434
706 y FM(1)1473 691 y FY(:)23 b F3(8)1560 662 y FY(~)1578
691 y FP(f)11 b FX(:)1655 580 y Fz(n)1721 691 y F3(8)1769
662 y FY(~)1776 691 y FP(h)1826 706 y FL(i)1866 691 y
FX(:)1911 665 y FY(~)1904 691 y FP(H)1981 706 y FL(i)2009
691 y FY(:)23 b FJ(Ind)2210 580 y Fz(o)2277 603 y FL(r)2309
611 y Fv(c)2277 760 y FL(i)2345 691 y FY(:)1355 774 y
Fz(n)1422 885 y F3(8)1470 856 y FY(~)1477 885 y FP(h)1527
900 y FL(i)1566 885 y FX(:)1611 859 y FY(~)1604 885 y
FP(H)1682 900 y FL(i)1710 885 y FY(:)f FX(\010)h(\()p
FP(f)1931 917 y FL(i)1974 856 y FY(~)1981 885 y FP(h)2031
900 y FL(i)2059 885 y FX(\))2097 774 y Fz(o)2163 797
y FL(r)2195 805 y Fv(c)2163 954 y FL(i)2259 885 y F3(!)k
FX(\010)c(\()p FZ(Con)2724 900 y FL(c)2771 878 y FY(~)2781
885 y FP(a)2829 856 y FY(~)2847 885 y FP(f)p FX(\)\))k
F3(!)1175 1065 y(8)p 1230 966 341 4 v 1230 1091 4 126
v 29 w FP(x)g FX(:)h FJ(Ind)p 1567 1091 V 1230 1094 341
4 v 28 w FY(:)22 b FX(\010)h FP(x)502 1288 y F3(\017)49
b FY(\023)p F4(-reductions)815 1527 y FJ(IndElim)23 b
FX(\010)1267 1501 y FY(~)1268 1527 y(\036)j FX(\()p FZ(Con)1597
1542 y FL(j)1646 1520 y FY(~)1656 1527 y FP(a)1704 1498
y FY(~)1722 1527 y FP(f)p FX(\))h FD(;)1915 1542 y FL(\023)1972
1527 y FY(\036)2030 1542 y Fq(j)2077 1520 y FY(~)2087
1527 y FP(a)2136 1498 y FY(~)2154 1527 y FP(f)2204 1417
y Fz(n)2270 1527 y FY(\025)2320 1498 y(~)2327 1527 y
FP(h)2377 1542 y FL(i)2416 1527 y FX(:)2461 1501 y FY(~)2454
1527 y FP(H)2532 1542 y FL(i)2560 1527 y FY(:)22 b FJ(IndElim)g
FX(\010)3061 1501 y FY(~)3062 1527 y(\036)k FX(\()p FP(f)3225
1559 y FL(i)3268 1498 y FY(~)3275 1527 y FP(h)3325 1542
y FL(i)3353 1527 y FX(\))3391 1417 y Fz(o)3458 1439 y
FL(r)3490 1449 y Fv(j)3458 1596 y FL(i)357 1897 y FB(4.1.4)118
b(dependent)33 b(inducti)o(v)o(e)e(families)e(lik)o(e)i(the)f
Fs(\002n)p FB(s)357 2174 y F4(Let)38 b(us)h(no)n(w)e(e)o(xtend)h(the)h
(notion)e(of)i(inducti)n(v)o(e)d(datatypes)j(to)f(include)g(inducti)n
(v)o(ely)e(de\002ned)357 2323 y(inde)o(x)o(ed)23 b(f)o(amilies)h(of)h
(types)f(as)h(in)f([Dyb91].)357 2533 y(F)o(or)k(e)o(xample,)h(consider)
f(the)h(\002nite)f(sets.)42 b(F)o(or)28 b(an)o(y)g FY(n)p
F4(,)i(it)e(is)g(not)g(hard)h(to)f(de\002ne)h(a)g(simple)f(type)357
2682 y(with)i FY(n)h F4(elements.)47 b(T)-8 b(ypes)30
b(such)h(as)g FZ(0)-44 b(0)p F4(,)32 b FZ(1)-44 b(1)31
b F4(and)g FZ(2)-44 b(2)31 b F4(are)g(commonplace.)48
b(Ho)n(we)n(v)o(er)l(,)31 b(our)f(choice)357 2832 y(of)h
FY(n)h F4(is)f(at)h(the)g(meta-le)n(v)o(el,)f(and)h(we)g(must)e
(de\002ne)i(each)h(type)e(separately)-6 b(.)51 b(Ho)n(w)30
b(much)h(more)357 2981 y(useful)21 b(if)g(we)h(could)f(de\002ne)h
FZ(\002n)27 b FX(:)h FZ(N)-63 b(N)28 b F3(!)f FI(Type)o
F4(,)c(enabling)d(us)i(to)f(reason)g(at)h(the)f(object)g(le)n(v)o(el)g
(about)357 3131 y(arbitary)30 b(\002nite)h(sets.)49 b(Of)31
b(course,)h FZ(\002n)26 b(0)31 b F4(had)g(better)g(be)g(empty)-6
b(,)31 b(and)g(we)g(can)g(mak)o(e)g FZ(\002n)26 b(s)o
FP(n)32 b F4(by)357 3280 y(in)l(v)o(enting)24 b(a)j(`ne)n(w')f
(element,)h(then)f(embedding)f(all)h(the)h(`old')f(elements)g(of)g
FZ(\002n)d FP(n)p F4(.)36 b(That)27 b(is,)f FZ(\002n)357
3429 y F4(is)e(a)h(mutually)e(de\002ned)j(f)o(amily)e(of)g(datatypes)h
(with)f(constructors:)p 611 3696 460 4 v 611 3774 a FZ(fz)e
FP(n)28 b FX(:)g FZ(\002n)22 b(s)o FP(n)1304 3679 y(x)28
b FX(:)g FZ(\002n)21 b FP(n)p 1239 3696 450 4 v 1239
3774 a FZ(fs)h FP(x)28 b FX(:)f FZ(\002n)22 b(s)o FP(n)357
3997 y F4(By)27 b(con)l(v)o(ention,)f(I)i(choose)f(to)f(think)g(of)i
(these)f(sets)f(gro)n(wing)g(in)h(a)g(`push-do)n(wn')f(f)o(ashion.)37
b(The)357 4147 y(ne)n(w)f(element)h(introduced)f(by)h
FZ(fz)h F4(is)e(`zero',)41 b(while)c(the)g(old)f(elements)h(are)h
(embedded)e(by)h(a)357 4296 y(`successor')28 b(function.)39
b(By)29 b(a)f(deBruijn)g(in\003uenced)g(predisposition,)f(I)h(see)g
(the)g(ne)n(west)f(as)h(the)357 4446 y(closest)c(and)h(lo)n(west)e(in)h
(number)-5 b(.)30 b(Note)25 b(that)f(we)h(may)g(lea)n(v)o(e)f
FP(n)i F4(as)e(an)h(implicit)e(ar)n(gument)i(to)f FZ(fs)p
F4(.)357 4655 y FZ(\002n)g F4(has)h(a)g(f)o(amily)f(of)h(elimination)d
(rules)j(with)f(a)h(f)o(amily)f(of)h(schemes)601 4920
y FX(\010)j(:)f F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p
FY(:)23 b FX(\()p FZ(\002n)e FP(n)p FX(\))28 b F3(!)f
FI(Type)357 5185 y F4(W)-8 b(e)26 b(form)f(the)g(rule)h(subgoals)e(by)i
(demanding)e(that)h FX(\010)f FP(n)i F4(holds)e(where)n(v)o(er)i
FZ(\002n)c FP(n)k F4(is)f(inhabited\227)357 5335 y(that)e(is,)g(we)g
(select)h(the)f(scheme)g(corresponding)f(to)h(the)g(rele)n(v)n(ant)g
(branch)g(of)h(the)f(mutual)f(de\002ni-)357 5484 y(tion.)30
b(Hence,)25 b FZ(\002nElim)2022 5667 y F4(96)p eop
%%Page: 97 102
97 101 bop 601 -102 1341 4 v 601 1062 4 1164 v 654 7
a FZ(\002nElim)654 248 y FX(\010)28 b(:)g F3(8)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(\()p FZ(\002n)e
FP(n)p FX(\))28 b F3(!)f FI(Type)788 790 y FX(\010)c
FZ(s)o FP(n)q FX(\()p FZ(fz)g FP(n)p FX(\))1465 549 y(\010)g
FP(n)f(x)1343 648 y FY(:)16 b(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)
1362 808 y FX(\010)22 b FZ(s)p FP(n)h FX(\()p FZ(fs)f
FP(x)o FX(\))p 788 871 1041 4 v 811 977 a F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p 1160 878 376
4 v 1160 1003 4 126 v 29 w FP(x)27 b FX(:)h FZ(\002n)22
b FP(n)p 1533 1003 V 1160 1006 376 4 v 28 w FY(:)g FX(\010)h
FP(n)g(x)p 1938 1062 4 1164 v 601 1065 1341 4 v 357 1309
a F4(with)h(computational)f(beha)n(viour)601 1591 y FZ(\002nElim)f
FX(\010)g FY(\036)1069 1606 y Fq(fz)1155 1591 y FY(\036)1213
1606 y Fq(fs)1295 1591 y FZ(s)p FP(n)g FX(\()p FZ(fz)h
FP(n)p FX(\))45 b FD(;)1783 1606 y FL(\023)1856 1591
y FY(\036)1914 1606 y Fq(fz)1999 1591 y FP(n)601 1712
y FZ(\002nElim)22 b FX(\010)g FY(\036)1069 1727 y Fq(fz)1155
1712 y FY(\036)1213 1727 y Fq(fs)1295 1712 y FZ(s)p FP(n)32
b FX(\()p FZ(fs)22 b FP(x)o FX(\))45 b FD(;)1783 1727
y FL(\023)1856 1712 y FY(\036)1914 1727 y Fq(fs)1996
1712 y FP(x)22 b FX(\()p FZ(\002nElim)g FX(\010)h FY(\036)2575
1727 y Fq(fz)2660 1712 y FY(\036)2718 1727 y Fq(fs)2800
1712 y FP(n)g(x)p FX(\))357 1998 y FZ(\002n)28 b F4(is)g(thus)g(an)h
(inducti)n(v)o(ely)e(de\002ned)i(f)o(amily)f(of)h(types\227the)e
(instances)i(of)g(the)f(f)o(amily)g(are)i(not)357 2148
y(inducti)n(v)o(e)17 b(datatypes)i(tak)o(en)g(in)g(isolation;)g(only)g
(collecti)n(v)o(ely)e(do)i(the)o(y)f(form)i(a)f(mutual)f(inducti)n(v)o
(e)357 2297 y(de\002nition.)45 b(Contrast)29 b(this)g(with)g(a)h(f)o
(amily)f(of)h(inducti)n(v)o(e)e(datatypes)h(such)h(as)g
FZ(list)p F4(,)g(where)h(each)357 2447 y(member)l(,)24
b(e)o(g)g FZ(list)e(N)-63 b(N)25 b F4(is)f(an)h(inducti)n(v)o(e)e
(datatype)h(in)h(its)f(o)n(wn)g(right.)357 2656 y(In)h(the)f(light)g
(of)h(this)f(e)o(xample,)f(let)i(us)f(generalise)h(to)g(dependent)f
(inducti)n(v)o(e)f(f)o(amilies,)601 2948 y FJ(F)n(am)28
b FX(:)g F3(8)928 2941 y FY(~)946 2948 y FP(\021)11 b
FX(:)1008 2922 y FY(~)1023 2948 y FP(I)p FY(:)23 b FI(Type)357
3241 y F4(The)i(constructors)g(no)n(w)f(tak)o(e)i(recursi)n(v)o(e)e(ar)
n(guments)h(from)g(and)h(return)f(v)n(alues)g(in)g(an)o(y)g(instance)
357 3390 y(of)39 b(the)g(type)g(f)o(amily)g(being)g(de\002ned,)k(that)c
(is)g(an)o(y)g FJ(F)n(am)2474 3369 y FY(~)2490 3390 y
FP(t)g F4(for)h(terms)2963 3369 y FY(~)2979 3390 y FP(t)55
b FX(:)3133 3364 y FY(~)3148 3390 y FP(I)q F4(.)74 b(Thus,)42
b(in)d(the)357 3540 y(`introduction)23 b(rule')i(style,)f(we)h(get)601
3858 y FY(~)611 3865 y FP(a)i FX(:)741 3839 y FY(~)737
3865 y FP(A)120 b(x)979 3880 y FM(1)1046 3865 y FX(:)28
b FJ(F)n(am)1315 3843 y FY(~)1331 3865 y FP(t)1364 3880
y FM(1)1540 3865 y FY(:)17 b(:)g(:)136 b FP(x)1841 3880
y FL(r)1907 3865 y FX(:)27 b FJ(F)n(am)2176 3843 y FY(~)2191
3865 y FP(t)2224 3880 y FL(r)p 611 3888 1652 4 v 1033
3984 a FZ(Con)1256 3977 y FY(~)1266 3984 y FP(a)1326
3977 y FY(~)1333 3984 y FP(x)g FX(:)h FJ(F)n(am)1680
3963 y FY(~)1695 3984 y FP(t)1728 3999 y FL(con)357 4280
y F4(The)c(scheme)h(of)f FJ(F)n(amElim)i F4(must)e(be)g(inde)o(x)o(ed)f
(o)o(v)o(er)h(the)g(entirety)g(of)h(the)f(types)g(being)g(de\002ned,)
357 4429 y(that)g(is)601 4722 y FX(\010)k(:)f F3(8)790
4715 y FY(~)808 4722 y FP(\021)12 b FX(:)871 4696 y FY(~)886
4722 y FP(I)p FY(:)22 b FX(\()p FJ(F)n(am)1218 4715 y
FY(~)1236 4722 y FP(\021)p FX(\))27 b F3(!)h FI(Type)357
5014 y F4(Recall)d(that)f(the)h(`free)h(telescope')f(notation)e(abbre)n
(viates)h(this)g(to)h FX(\010)j(:)p 2851 4928 208 4 v
28 w FJ(F)n(am)g F3(!)f FI(Type)p F4(.)357 5224 y(The)h(rule)h
(subgoals)e(demand)h(that)g(for)h(all)1878 5217 y FY(~)1896
5224 y FP(\021)p F4(,)g FX(\010)2055 5217 y FY(~)2073
5224 y FP(\021)g F4(holds)e(where)n(v)o(er)h FJ(F)n(am)2984
5217 y FY(~)3002 5224 y FP(\021)g F4(is)h(inhabited;)f(more)357
5373 y(succinctly)c(that)g FX(\010)h F4(holds)f(where)n(v)o(er)p
1688 5287 V 25 w FJ(F)n(am)h F4(is)g(inhabited.)k(Hence)d(we)f(get)f
FJ(F)n(amElim)p F4(:)2022 5667 y(97)p eop
%%Page: 98 103
98 102 bop 601 -102 2183 4 v 601 832 4 934 v 654 17 a
FX(\010)28 b(:)p 807 -69 208 4 v 28 w FJ(F)n(am)g F3(!)f
FI(Type)788 572 y FY(:)17 b(:)g(:)1069 324 y(~)1079 331
y FP(a)28 b FX(:)1210 305 y FY(~)1206 331 y FP(A)120
b FX(\010)1475 310 y FY(~)1490 331 y FP(t)1524 346 y
FM(1)1563 331 y FX(;)17 b FP(x)1657 346 y FM(1)1833 331
y FY(:)g(:)g(:)136 b FX(\010)2161 310 y FY(~)2176 331
y FP(t)2209 346 y FL(r)2247 331 y FX(;)17 b FP(x)2341
346 y FL(r)1060 430 y FY(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)
h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h
(:)g(:)1376 590 y FX(\010)1453 568 y FY(~)1468 590 y
FP(t)1502 605 y FL(con)1613 590 y FX(;)g(\()p FZ(Con)1918
583 y FY(~)1928 590 y FP(a)1987 583 y FY(~)1995 590 y
FP(x)o FX(\))2555 572 y FY(:)g(:)g(:)p 788 653 1882 4
v 1353 777 a F3(8)1390 770 y FY(~)1408 777 y FP(\021)p
FX(;)p 1480 702 107 4 v 1480 803 4 101 v 45 w FP(x)p
1582 803 V 1480 806 107 4 v 39 w FX(:)p 1635 690 208
4 v 11 w FJ(F)n(am)q FY(:)22 b FX(\010)1966 770 y FY(~)1984
777 y FP(\021)p FX(;)17 b FP(x)p 2780 832 4 934 v 601
835 2183 4 v 357 1079 a F4(Observ)o(e)38 b(that)g(there)h(is)f(still)f
(only)g(one)i(tar)n(getter:)58 b(unifying)37 b(term)h(and)h(type)f(gi)n
(v)o(es)f(enough)357 1229 y(information)23 b(to)h(infer)h(an)g
(inhabitant)f(of)p 1818 1142 208 4 v 25 w FJ(F)n(am)q
F4(.)357 1438 y(The)h(reduction)f(rule)h(for)g(each)g(constructor)f(is)
h(thus:)601 1723 y FJ(F)n(amElim)e FX(\010)1109 1697
y FY(~)1110 1723 y(\036)1178 1702 y(~)1194 1723 y FP(t)1227
1738 y FL(con)1339 1723 y FX(;)17 b(\()p FZ(Con)1644
1716 y FY(~)1654 1723 y FP(a)1713 1716 y FY(~)1720 1723
y FP(x)p FX(\))44 b FD(;)1952 1738 y FL(\023)2025 1723
y FY(\036)2083 1738 y Fq(c)l(on)2210 1716 y FY(~)2220
1723 y FP(a)2279 1716 y FY(~)2287 1723 y FP(x)2359 1613
y Fz(n)2425 1723 y FJ(F)n(amElim)24 b FX(\010)2933 1697
y FY(~)2934 1723 y(\036)3003 1702 y(~)3018 1723 y FP(t)3051
1738 y FL(j)3088 1723 y FX(;)17 b FP(x)3181 1738 y FL(j)3218
1613 y Fz(o)3284 1635 y FL(r)3284 1792 y(j)357 2101 y
FB(4.1.5)118 b(inducti)o(v)o(ely)31 b(de\002ned)h(r)n(elations)e(lik)o
(e)h Fn(<)357 2378 y F4(Inducti)n(v)o(ely)18 b(de\002ned)j(relations)f
(bear)h(a)h(strong)d(resemblance)i(to)f(dependent)h(inducti)n(v)o(e)d
(f)o(amilies)357 2527 y(of)28 b(datatypes.)42 b(Ho)n(we)n(v)o(er)l(,)28
b(their)g(presentation)f(is)h(dif)n(ferently)g(moti)n(v)n(ated:)36
b(inducti)n(v)o(e)26 b(relations)357 2677 y(are)33 b(f)o(amilies)g(of)g
FU(pr)l(opositions)d F4(and)j(their)f(role)i(is)e(in)h(reasoning)f
(rather)i(than)e(computation\227)357 2826 y(the)o(y)24
b(sit)g(outside)f(the)i(domain)f(of)h(programs)f(and)h(data)g
(characterising)f(aspects)h(of)g(it.)357 3036 y(Propositions)f(are)j
(types,)f(and)h(the)f(terms)f(which)h(inhabit)f(them)h(constitute)f
(proofs.)35 b(An)26 b(induc-)357 3185 y(ti)n(v)o(e)j(relation')-5
b(s)30 b(inhabitants)f(are)i(b)n(uilt)f(by)g(constructor)h(functions,)g
(just)e(lik)o(e)i(a)g(datatype\227we)357 3335 y(may)d(think)g(of)h
(these)g(constructors)f(as)h FU(infer)l(ence)g(rules)p
F4(\227b)n(ut)e(their)i(elimination)e(rules)h(do)h(not)357
3484 y(inspect)24 b(proofs)g(e)o(xplicitly)f(in)h(terms)h(of)g(their)f
(constructors.)357 3694 y(T)-7 b(echnically)h(,)27 b(the)h(dif)n
(ference)h(between)f(inducti)n(v)o(e)e(relations)h(and)h(datatypes)g
(is)f(manifested)h(in)357 3843 y(tw)o(o)c(w)o(ays:)502
4160 y F3(\017)49 b F4(the)30 b(type)h(formers)g(of)g(an)g(inducti)n(v)
o(e)d(relation)j(range)g(o)o(v)o(er)f(the)h(impredicati)n(v)o(e)e(uni)n
(v)o(erse)601 4310 y FI(Prop)o F4(,)g(and)g(correspondingly)-6
b(,)27 b(the)h(schemes)g(of)h(their)f(elimination)e(rules)i(are)h(also)
f(f)o(ami-)601 4459 y(lies)c(of)h(propositions)502 4692
y F3(\017)49 b F4(inducti)n(v)o(e)26 b(relations)h(are)i
FU(pr)l(oof)e(irr)l(ele)o(vant)r F4(\227the)f(apertures)i(of)g(their)g
(elimination)f(rules)601 4841 y(abstract)e(the)h FU(indices)f
F4(of)g(the)h(relation,)f(b)n(ut)g(not)g(the)g(proofs)h(themselv)o(es,)
e(hence)i(the)f(rule)601 4991 y(cases)g(ne)n(v)o(er)f(identify)g(the)g
(constructors)g(to)h(which)f(the)o(y)g(correspond)357
5308 y(W)-8 b(e)31 b(shall)f(need)h(at)g(least)g(one)g(relation)g
(which)f FU(can)h F4(interfere)g(with)g(computation,)f(and)h(that)g(is)
357 5457 y F3(')p F4(.)42 b(W)-8 b(e)29 b(use)g F3(')g
F4(to)f(represent)h(constraints)e(in)h(the)g(elimination)f(process)h
(for)h(datatypes)f(as)h(well)2022 5667 y(98)p eop
%%Page: 99 104
99 103 bop 357 -6 a F4(as)25 b(relations,)e(and)i(hence)g(we)g(must)f
(allo)n(w)g(it)g(to)g(eliminate)g(o)o(v)o(er)g FI(Type)g
F4(as)h(well)f(as)h FI(Prop)o F4(.)31 b(Indeed,)357 144
y(this)26 b(is)h(not)f(the)h(only)f(w)o(ay)i(in)e(which)h
F3(')h F4(does)f(not)f(\002t)i(the)f(presentation)f(of)h(inducti)n(v)o
(e)e(relations)357 293 y(gi)n(v)o(en)h(here.)41 b(It)27
b(is)h(treated)g(specially)-6 b(,)27 b(and)h(gets)f(the)h(ne)o(xt)f
(chapter)h(to)g(itself.)39 b(F)o(or)28 b(the)g(moment,)357
443 y(let)c(us)h(consider)f(inducti)n(v)o(e)f(relations)h(for)h
(reasoning.)357 652 y(Man)o(y)f(dependent)g(datatypes)h(ha)n(v)o(e)g
(relational)f(analogues.)31 b(F)o(or)25 b(e)o(xample,)f(the)h
FZ(\002n)g F4(f)o(amily)f(cor)n(-)357 802 y(responds)g(to)g(the)h
(`less)f(than')h(relation:)601 1092 y FY(<)i FX(:)h F3(8)p
FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22
b FI(Prop)357 1383 y F4(There)j(are)g(tw)o(o)g(introduction)e(rules)h
(for)h FY(<)p F4(:)601 1674 y FY(<)o FZ(ne)n(w)p 1017
1651 270 4 v 1017 1726 a FP(n)e FY(<)f FZ(s)o FP(n)1647
1674 y FY(<)o FZ(old)2030 1634 y FP(m)f FY(<)h FP(n)p
2010 1651 292 4 v 2010 1726 a(m)g FY(<)g FZ(s)p FP(n)357
1976 y F4(The)27 b(names)g(of)h(the)f(rules)g(are)h(really)g(the)f
(constructor)g(symbols,)f(b)n(ut)h(taking)g(them)f(to)h(the)h(side)357
2125 y(emphasises)d(the)h(proof)g(irrele)n(v)n(ant)e(nature)j(of)f
(relations.)33 b(This)26 b(lea)n(v)o(es)f(us)h(free)h(to)f(write)g
(propo-)357 2275 y(sitions)d(with)h(no)g(pre\002x)o(ed)h(proofs)g(in)f
(the)h(introduction)e(rules.)357 2484 y(Compare)j FP(m)c
FY(<)g FP(n)k F4(with)f FZ(\002n)d FP(n)q F4(.)33 b FP(m)22
b FY(<)h FZ(0)i F4(is)h(clearly)f(empty)-6 b(.)32 b(F)o(or)26
b(each)g FZ(s)o FP(n)q F4(,)g FY(<)o FZ(ne)n(w)f F4(pro)o(v)o(es)g
(that)g FP(n)357 2634 y F4(is)h(the)h(`ne)n(w')g(thing)e(only)h(just)g
(smaller)l(,)h(whilst)e FY(<)p FZ(old)j F4(lifts)e(the)g(proofs)h(for)g
(those)f FP(m)p F4(')-5 b(s)26 b(already)357 2783 y(smaller)d(than)h
FP(n)q F4(:)30 b(e)o(xactly)24 b(as)g FZ(fz)h F4(creates)g(the)f(`ne)n
(w')h(element)e(of)i(each)g(\002nite)f(set)g(and)g FZ(fs)h
F4(embeds)357 2933 y(the)f(`old')h(ones.)357 3142 y(The)c(elimination)e
(rule)k(O)t F2(L)t(E)t(G)i F4(pro)o(vides)20 b(for)h
FY(<)g F4(is)g(sometimes)e(kno)n(wn)h(as)h(its)g F0(str)n(ong)g
(induction)357 3291 y(principle)p F4(,)k FY(<)p FZ(Elim)q
F4(:)p 601 3489 1494 4 v 601 4641 4 1153 v 654 3598 a
FY(<)p FZ(Elim)654 3839 y FX(\010)j(:)g F3(8)p FP(m)o
FY(;)17 b FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FI(Prop)842
4380 y FX(\010)h FP(n)f FZ(s)p FP(n)1266 4140 y(m)g FY(<)g
FP(n)120 b FX(\010)23 b FP(m)f(n)1235 4239 y FY(:)17
b(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)1433
4398 y FX(\010)23 b FP(m)f FZ(s)o FP(n)p 788 4454 1193
4 v 788 4556 a F3(8)p FP(m)p FY(;)17 b FP(n)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)22 b F3(8)p 1258 4462 426 4 v 1258
4583 4 122 v 29 w FP(H)27 b FX(:)h FP(m)p FY(<)o FP(n)p
1681 4583 V 1258 4586 426 4 v 29 w FY(:)22 b FX(\010)h
FP(m)e(n)p 2090 4641 4 1153 v 601 4644 1494 4 v 357 4887
a F4(Note)37 b(that)f(the)h(scheme)h(is)e(inde)o(x)o(ed)g(only)g(o)o(v)
o(er)h(the)g(tw)o(o)g(numbers,)i(not)e(the)g(proof)g(that)f(the)357
5036 y(\002rst)e(is)f(less)g(than)h(the)f(second.)57
b(Correspondingly)-6 b(,)35 b(the)e(tar)n(getted)h FP(H)f
F4(does)h(not)f(occur)h(in)f(the)357 5185 y(goal)22 b(patterns,)g(nor)g
(do)g(the)g(constructor)f(symbols)g FY(<)p FZ(ne)n(w)g
F4(and)h FY(<)p FZ(old)h F4(appear)g(in)f(the)g(subgoals.)357
5335 y(Consequently)-6 b(,)27 b(the)h(step)g(case)h(hypothesis)d
FP(m)e FY(<)h FP(n)j F4(is)g(no)g(longer)g(implicitly)e(gi)n(v)o(en)h
(by)g(the)i(in-)357 5484 y(ducti)n(v)o(e)21 b(hypothesis,)h(so)g(we)i
(must)e(write)h(it)g(e)o(xplicitly)e(if)i(we)h(mean)f(it)f(to)h(be)h
(there.)30 b(As)23 b(a)h(matter)2022 5667 y(99)p eop
%%Page: 100 105
100 104 bop 357 -6 a F4(of)28 b(f)o(act,)h(we)f(can)g(choose)g(to)f
(omit)g(it)g(from)h(the)f(rule,)i(obtaining)d(the)i F0(weak)g
(induction)h(princi-)357 144 y(ple)p F4(.)61 b(The)24
b(tw)o(o)f(are)i(equi)n(v)n(alent)d(gi)n(v)o(en)g(an)i(appropriate)g
(notion)f(of)h(conjunction,)e(b)n(ut)h(the)h(strong)357
293 y(v)o(ersion)35 b(is)h(more)g(useful)g(in)g(practice:)54
b(it)36 b(is)g(generally)g(preferable)h(to)f(discard)g(unnecessary)357
443 y(hypotheses)23 b(than)h(to)h(reconstruct)f(necessary)h(ones.)357
652 y(It)30 b(is)g(not)f(clear)i(to)f(me)g(why)f(inducti)n(v)o(ely)f
(de\002ned)j(relations)e(should)g(be)h(equipped)g(with)f(com-)357
802 y(putational)f(beha)n(viour:)41 b(computation)28
b(belongs)h(within)g(the)g(realm)h(of)g(datatypes,)h(and)f(an)o(y)f(of)
357 951 y(these)21 b(inducti)n(v)o(e)f(relations)h(o)o(v)o(er)g(which)g
(computation)f(is)h(desired)h(can)g(easily)f(be)h(rede\002ned)g(as)g(a)
357 1101 y(dependent)g(f)o(amily)-6 b(.)29 b(On)22 b(the)h(other)g
(hand,)f(in)h(the)g(sense)f(that)g(computation)f(e)o(xplains)h
(induction,)357 1250 y(it)29 b(should)g(be)i(possible)e(to)g(equip)h
(relations)f(with)h(reduction)f(rules)h(which)g(are)h(meaningful,)f(if)
357 1399 y(not)24 b(desirable.)30 b(F)o(or)25 b FY(<)p
F4(,)g(we)g(get)601 1682 y FY(<)p FZ(Elim)d FX(\010)h
FY(\036)1036 1697 y Fq(new)1189 1682 y FY(\036)1247 1697
y Fq(old)1393 1682 y FP(n)g FZ(s)p FP(n)f FX(\()p FY(<)p
FZ(ne)n(w)f FP(n)p FX(\))45 b FD(;)2167 1697 y FL(\023)2240
1682 y FY(\036)2298 1697 y Fq(new)2451 1682 y FP(n)601
1802 y FY(<)p FZ(Elim)22 b FX(\010)h FY(\036)1036 1817
y Fq(new)1189 1802 y FY(\036)1247 1817 y Fq(old)1371
1802 y FP(m)f FZ(s)p FP(n)53 b FX(\()p FY(<)o FZ(old)23
b FP(H)o FX(\))45 b FD(;)2167 1817 y FL(\023)2240 1802
y FY(\036)2298 1817 y Fq(old)2421 1802 y FP(H)22 b FX(\()p
FY(<)p FZ(Elim)h FX(\010)f FY(\036)2994 1817 y Fq(new)3148
1802 y FY(\036)3206 1817 y Fq(old)3329 1802 y FP(m)g(n)h(H)o
FX(\))357 2082 y F4(W)l(ith)h FY(<)h F4(to)f(guide)g(us,)h(here)g(is)f
(the)h(general)g(treatment:)502 2400 y F3(\017)49 b F4(proposition)22
b(former)815 2632 y FJ(Rel)28 b FX(:)g F3(8)1080 2625
y FY(~)1098 2632 y FP(\021)11 b FX(:)1160 2606 y FY(~)1175
2632 y FP(I)p FY(:)22 b FI(Prop)502 2864 y F3(\017)49
b F4(inference)25 b(rules)g(\(constructors\))815 3094
y FY(~)825 3101 y FP(a)j FX(:)956 3075 y FY(~)952 3101
y FP(A)120 b(x)1194 3116 y FM(1)1261 3101 y FX(:)27 b
FJ(Rel)1467 3079 y FY(~)1483 3101 y FP(t)1516 3116 y
FM(1)1692 3101 y FY(:)17 b(:)g(:)136 b FP(x)1993 3116
y FL(r)2058 3101 y FX(:)28 b FJ(Rel)2265 3079 y FY(~)2281
3101 y FP(t)2314 3116 y FL(r)p 825 3124 1527 4 v 1206
3220 a FJ(Rule)1428 3213 y FY(~)1438 3220 y FP(a)1497
3213 y FY(~)1505 3220 y FP(x)f FX(:)h FJ(Rel)1789 3199
y FY(~)1804 3220 y FP(t)1837 3235 y FL(r)r(ul)q(e)502
3424 y F3(\017)49 b F4(elimination)22 b(rule)j(\(strong)f(induction)g
(principle\))p 815 3566 2904 4 v 815 4495 4 930 v 868
3688 a FX(\010)k(:)g F3(8)1058 3681 y FY(~)1076 3688
y FP(\021)11 b FX(:)1138 3661 y FY(~)1153 3688 y FP(I)q
FY(:)22 b FI(Prop)1003 4242 y FY(:)17 b(:)g(:)1284 3994
y(~)1294 4001 y FP(a)28 b FX(:)1424 3975 y FY(~)1421
4001 y FP(A)119 b FJ(Rel)1764 3980 y FY(~)1780 4001 y
FP(t)1813 4016 y FM(1)1989 4001 y FY(:)17 b(:)g(:)136
b FJ(Rel)2392 3980 y FY(~)2407 4001 y FP(t)2441 4016
y FL(r)2599 4001 y FX(\010)2676 3980 y FY(~)2691 4001
y FP(t)2724 4016 y FM(1)2900 4001 y FY(:)17 b(:)g(:)136
b FX(\010)3229 3980 y FY(~)3244 4001 y FP(t)3277 4016
y FL(r)1264 4101 y FY(:)16 b(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)
h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h
(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)
g(:)2175 4260 y FX(\010)2252 4238 y FY(~)2268 4260 y
FP(t)2301 4275 y FL(r)r(ul)q(e)3492 4242 y FY(:)g(:)g(:)p
1003 4316 2604 4 v 1991 4440 a F3(8)2028 4433 y FY(~)2046
4440 y FP(\021)p FX(;)p 2118 4346 137 4 v 2118 4466 4
121 v 45 w FP(H)p 2251 4466 V 2118 4469 137 4 v 41 w
FX(:)p 2303 4354 146 4 v 11 w FJ(Rel)p FY(:)23 b FX(\010)2572
4433 y FY(~)2590 4440 y FP(\021)p 3716 4495 4 930 v 815
4498 2904 4 v 502 4683 a F3(\017)49 b FY(\023)p F4(-reductions)815
4939 y FJ(RelElim)23 b FX(\010)1261 4913 y FY(~)1262
4939 y(\036)1330 4917 y(~)1346 4939 y FP(t)1379 4954
y FL(r)r(ul)q(e)1535 4939 y FX(\()p FJ(Rule)1795 4932
y FY(~)1804 4939 y FP(a)1864 4932 y FY(~)1871 4939 y
FP(x)p FX(\))44 b FD(;)2103 4954 y FL(\023)2176 4939
y FY(\036)2234 4954 y Fq(rule)2374 4932 y FY(~)2384 4939
y FP(a)2443 4932 y FY(~)2451 4939 y FP(x)2523 4828 y
Fz(n)2589 4939 y FJ(RelElim)23 b FX(\010)3034 4913 y
FY(~)3036 4939 y(\036)3112 4932 y(~)3120 4939 y FP(p)3169
4971 y FL(i)3220 4939 y FP(x)3270 4954 y FL(i)3298 4828
y Fz(o)3364 4851 y FL(r)3364 5008 y(i)1997 5667 y F4(100)p
eop
%%Page: 101 106
101 105 bop 357 -6 a FB(4.1.6)118 b(r)n(ecord)31 b(types)357
271 y F4(W)-8 b(e)23 b(can)g(represent)h(\(dependent\))e(record)i
(types)e(as)h(a)h(de)o(generate)f(case)g(of)g(inducti)n(v)o(e)e
(datatypes.)357 421 y(A)j(simple)g(datatype)g FJ(Rec)h
F4(with)f(one)h(constructor)f FJ(rec)g F4(which)g(has)h(no)f(recursi)n
(v)o(e)g(ar)n(guments)g(is)357 570 y(just)29 b(a)h(tupling)f(wrapper)i
(for)f(the)g(non-recursi)n(v)o(e)f(ar)n(guments,)i(or)f
F0(\002elds)p F4(,)i(as)f(we)f(might)f(lik)o(e)h(to)357
720 y(call)24 b(them.)357 929 y(The)h(typical)f(type)g(former)h(and)g
(constructor)f(are)h(as)g(follo)n(ws:)502 1246 y F3(\017)49
b F4(type)24 b(former)p 825 1456 440 4 v 825 1534 a FJ(Rec)29
b FX(:)e FI(Type)502 1754 y F3(\017)49 b F4(constructor)24
b(\(singular\))1041 1968 y FY(~)972 1999 y FJ(\002eld)k
FX(:)1262 1973 y FY(~)1256 1999 y FP(A)p 825 2022 655
4 v 825 2129 a FJ(rec)1075 2098 y FY(~)1006 2129 y FJ(\002eld)f
FX(:)h FJ(Rec)357 2439 y F4(The)33 b(`of)n(\002cial')h(\002eld)g(names)
1493 2407 y FY(~)1425 2439 y FJ(\002eld)f F4(are)h(signi\002cant)f(in)h
(that)f(the)o(y)g(allo)n(w)g(us)g(to)g(adopt)g(a)h(more)357
2588 y(con)l(v)o(entional)29 b(named-tuple)i(notation)f(as)i(syntactic)
f(sugar)n(\227I)f(write)i FP(X)67 b FX(=)-17 b F3(\))67
b FP(Y)32 b F4(to)f(indicate)357 2737 y(that)24 b FP(X)h
F4(is)f(a)h(sugared)g(notation)e(for)i FP(Y)q F4(:)601
2944 y Fz(D)730 3023 y FY(~)661 3055 y FJ(\002eld)j FX(=)979
3033 y FY(~)994 3055 y FP(t)1027 2944 y Fz(E)1138 3055
y FX(=)-17 b F3(\))50 b FJ(rec)1512 3033 y FY(~)1528
3055 y FP(t)357 3398 y F4(This)19 b(presumes)h(that)h(the)f(sequence)h
(of)f(names)2097 3367 y FY(~)2029 3398 y FJ(\002eld)g
F4(determines)g(which)g(of)g(the)h(de\002ned)g(record)357
3548 y(types)j(is)g(intended.)30 b(Underneath)25 b(the)f(layer)i(of)e
(sugar)l(,)h(the)f(names)h(of)g(\002elds)f(are)i(irrele)n(v)n(ant.)357
3757 y(Ha)n(ving)e(established)g(this)f(syntax,)h(the)h(elimination)e
(and)i(computation)e(rules)h(become)502 4075 y F3(\017)49
b F4(elimination)22 b(rule)j FJ(RecElim)p 601 4129 978
4 v 601 4996 4 868 v 654 4238 a FX(\010)j(:)g FJ(Rec)g
F3(!)f FI(Type)1015 4410 y FY(~)1031 4431 y FP(t)h FX(:)1152
4405 y FY(~)1146 4431 y FP(A)807 4531 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h
(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)828 4702 y FX(\010)937
4592 y Fz(D)1067 4671 y FY(~)998 4702 y FJ(\002eld)27
b FX(=)1315 4681 y FY(~)1331 4702 y FP(t)1364 4592 y
Fz(E)p 788 4805 677 4 v 814 4912 a F3(8)p 869 4813 379
4 v 869 4938 4 126 v 28 w FP(x)h FX(:)g FJ(Rec)p 1244
4938 V 869 4941 379 4 v 29 w FY(:)22 b FX(\010)g FP(x)p
1575 4996 4 868 v 601 4999 978 4 v 502 5159 a F3(\017)49
b FY(\023)p F4(-reduction)815 5391 y FJ(RecElim)24 b
FX(\010)e FY(\036)1407 5281 y Fz(D)1536 5360 y FY(~)1468
5391 y FJ(\002eld)27 b FX(=)1785 5370 y FY(~)1800 5391
y FP(t)1834 5281 y Fz(E)1922 5391 y FD(;)2022 5406 y
FL(\023)2079 5391 y FY(\036)2147 5370 y(~)2163 5391 y
FP(t)1997 5667 y F4(101)p eop
%%Page: 102 107
102 106 bop 357 -6 a F4(These)27 b(record)h(types)f(do)g(not)g(come)g
(ready-equipped)h(with)e(projections.)38 b(Instead,)28
b(their)f(elim-)357 144 y(ination)37 b(rules)h(require)g(a)g(function)g
(of)g(the)g(\002elds:)57 b(introducing)36 b(the)i(ar)n(guments)g(ef)n
(fecti)n(v)o(ely)357 293 y(e)o(xtends)28 b(the)h(local)g(conte)o(xt)f
(with)h FY(\025)p F4(-bindings)e(for)j(the)f(\002elds.)44
b(That)29 b(is,)h FJ(RecElim)g F4(has)f(a)h(sim-)357
443 y(ilar)35 b(beha)n(viour)f(to)h(pattern-matching)f(for)h(named)g
(tuples,)i(SML)-9 b(')k(s)34 b(`open')h(for)h(structures)e(or)357
592 y(P)o(ascal')-5 b(s)23 b(`with)f FY(:)17 b(:)g(:)40
b F4(do')23 b(construct.)30 b(Underneath)23 b(the)g FY(\025)p
F4(s,)g(you)g(are)h(entitled)e(to)h(place)h(an)o(y)e(well-)357
742 y(typed)i(e)o(xpression)f(you)i(choose,)f(in)l(v)n(olving)f(as)i
(man)o(y)f(or)h(as)g(fe)n(w)f(\002elds)h(as)g(you)f(lik)o(e.)357
951 y(In)f(an)f(interacti)n(v)o(e,)g(analytical)g(setting,)g
(eliminating)f(by)i FJ(RecElim)h F4(is)e(preferable)i(to)e(projection)
357 1101 y(because)32 b(it)e(is)h(more)h(focused)f(on)g(the)g(goal.)50
b(Also,)33 b(a)e(single)g(elimination)e(e)o(xposes)i(all)g(of)g(the)357
1250 y(\002elds)d(together)l(,)i(where)f(projection)f(gi)n(v)o(es)f
(you)h(b)n(ut)h(one)f(at)h(a)g(time.)42 b(T)-8 b(o)29
b(me)f(it)g(seems)h(a)g(rather)357 1399 y(more)h(honest)f(account,)i
(especially)f(when)g(there)g(may)g(be)g(type)g(dependenc)o(y)f(between)
h(\002elds.)357 1549 y(Understanding)k(records)h(by)g(atomising)f(them)
h(into)f(\002elds)h(in)g(spite)g(of)g(the)h(structure)f(which)357
1698 y(wea)n(v)o(es)d(them)f(together)h(is)g(a)h(bit)e(lik)o(e)h
(understanding)f(London)g(in)h(terms)g(of)g(discrete)h(hinter)n(-)357
1848 y(lands)28 b(for)i(each)g(tube)f(station.)43 b(Plenty)29
b(of)h(people)f(\(including)f(me\))h(na)n(vigate)f(London)h(on)g(that)
357 1997 y(basis,)24 b(b)n(ut)g(the)o(y)g(are)i(not)e(the)g(Londoners.)
357 2207 y(Let)19 b(us)f(nonetheless)g(de\002ne)i(the)f(projections)e
(with)i(the)f(con)l(v)o(entional)g(notation)f FX(\()p
F3(\001)p FX(\))p FY(:)p FJ(\002eld)3508 2222 y FL(i)3537
2207 y F4(.)28 b(T)-8 b(ype)357 2356 y(dependenc)o(y)33
b(requires)h(us)f(to)h(do)f(so)g(in)h(order)n(\227earlier)g
(projections)f(appear)h(in)f(the)h(types)f(of)357 2506
y(later)25 b(ones.)357 2715 y(Presuming)f(we)h(ha)n(v)o(e)f(de\002ned)i
FX(\()p F3(\001)p FX(\))p FY(:)p FJ(\002eld)1809 2730
y FM(1)1865 2715 y FY(:)17 b(:)g(:)f FX(\()p F3(\001)p
FX(\))p FY(:)p FJ(\002eld)2328 2730 y FL(n)2375 2715
y F4(,)25 b FX(\()p F3(\001)p FX(\))p FY(:)p FJ(\002eld)2757
2730 y FL(n)p FM(+1)2919 2715 y F4(is)601 2992 y FX(\()p
F3(\001)p FX(\))p FY(:)p FJ(\002eld)933 3007 y FL(n)p
FM(+1)1120 2992 y FX(=)d FJ(RecElim)1338 3113 y FX(\()p
FY(\025)p FP(R)11 b FX(:)g FJ(Rec)q FY(:)22 b F3(f)p
FX([)p FP(R)p FY(:)p FJ(\002eld)2159 3128 y FL(i)2187
3113 y FY(=)p FJ(\002eld)2437 3128 y FL(i)2466 3113 y
FX(])p F3(g)2542 3064 y FL(n)2542 3142 y(i)2589 3113
y FP(A)2661 3128 y FL(n)p FM(+1)2798 3113 y FX(\))1338
3246 y(\()p FY(\025)1423 3239 y(~)1433 3246 y FP(a)11
b FX(:)1530 3220 y FY(~)1526 3246 y FP(A)p FY(:)22 b
FP(a)1691 3261 y FL(n)p FM(+1)1828 3246 y FX(\))1168
3366 y(:)h F3(8)p FP(R)11 b FX(:)g FJ(Rec)q FY(:)23 b
F3(f)o FX([)p FP(R)q FY(:)p FJ(\002eld)1999 3381 y FL(i)2028
3366 y FY(=)p FJ(\002eld)2278 3381 y FL(i)2306 3366 y
FX(])p F3(g)2383 3318 y FL(n)2383 3395 y(i)2430 3366
y FP(A)2502 3381 y FL(n)p FM(+1)357 3606 y F4(I)k(refer)h(to)f(this)f
(use)h(of)g(`.)-7 b(')37 b(as)27 b(`spot')g(because)g(I)h(think)e(of)h
(it)f(as)h(an)g(ugly)g(thing)f(which)g(I)h(wish)g(to)357
3756 y(distance)g(from)h(the)g(`dot')g(used)g(for)g(binding.)40
b(`dot')28 b(marks)f(a)i(scope)f(which)g(may)f(contain)h(an)o(y)357
3905 y(well-typed)k(e)o(xpression)g(whose)g(identi\002ers)h(ha)n(v)o(e)
g(been)g(e)o(xplained.)55 b(`spot')32 b(only)h(allo)n(ws)e(the)357
4055 y(name)c(of)g(a)g(\002eld.)37 b(Let)27 b(us)g(apply)f(generous)h
(mak)o(eup)f(to)h(hide)f(our)h(acne.)38 b(If)27 b FP(R)33
b FX(:)e FJ(Rec)q F4(,)c(we)h(may)357 4204 y(write)601
4481 y FP(R)p FX([)687 4474 y FY(~)694 4481 y FP(x)p
FX(])p FY(:)p FP(t)50 b FX(=)-17 b F3(\))22 b FX(!)1082
4474 y FY(~)1089 4481 y FP(x)28 b FX(=)f FP(R)q FY(:)1432
4450 y(~)1364 4481 y FJ(\002eld)10 b FX(:)1618 4455 y
FY(~)1614 4481 y FP(A)p FY(:)23 b FP(t)357 4759 y F4(This)h(syntactic)g
(sugar)h(abbre)n(viates)f(a)h(b)n(unch)g(of)g FX(!)p
F4(-bindings)e(which)i F0(open)h F4(the)f(record)g(with)f(our)357
4908 y(chosen)j(local)h(names.)39 b(The)27 b(dot)h(introduces)e(the)i
(scope)g(of)f(the)h(bindings\227we)e(may)h(naturally)357
5058 y(ha)n(v)o(e)e(an)o(ything)e(we)j(lik)o(e)f(under)g(it.)32
b(Let)25 b(us)g(abbre)n(viate)g(further)l(,)h(in)e(the)i(case)g(where)f
(the)h(chosen)357 5207 y(names)e(are)i(the)e(`of)n(\002cal')i(ones:)601
5484 y FP(R)p FY(:)p FP(t)50 b FX(=)-17 b F3(\))50 b
FP(R)p FX([)1148 5453 y FY(~)1079 5484 y FJ(\002eld)p
FX(])p FY(:)p FP(t)1997 5667 y F4(102)p eop
%%Page: 103 108
103 107 bop 357 -6 a F4(If)28 b FP(t)g F4(happens)g(to)f(be)h(a)g
(\002eld)g(name,)h(we)f(reco)o(v)o(er)f(the)h(ef)n(fect)g(of)g
(projection.)39 b(Ho)n(we)n(v)o(er)l(,)27 b(if)h FP(R)58
b FX(=)357 144 y F3(h)o FZ(x)28 b FX(=)f(3;)17 b FZ(y)28
b FX(=)g(5;)17 b FZ(z)27 b FX(=)h(7)p F3(i)o F4(,)d(then)f
FP(R)q FY(:)p FZ(x)e F3(\003)g FZ(y)g F3(\003)g FZ(z)51
b FX(=)e(105)p F4(.)357 353 y(There)35 b(is)g(a)h(super\002cial)f
(resemblance)g(between)h(this)e(`opening')h(notation)e(and)j(the)f(`e)o
(xplicit)357 503 y(en)l(vironments')26 b(of)h(Sato,)i(Sakurai)e(and)h
(Burstall)f([SSB99)q(].)39 b(Ho)n(we)n(v)o(er)l(,)26
b(their)i(treatment)e(prop-)357 652 y(agates)e(en)l(vironments)f
(through)h(the)h(term)f(structure)h(in)f(the)h(manner)f(of)h(e)o
(xplicit)e(substitutions,)357 802 y(rather)36 b(than)f(gi)n(ving)f
(them)g(the)i(`action)f(at)h(a)g(distance')f(ef)n(fect)h(of)f
FX(!)p F4(-binding.)62 b(I)36 b(ha)n(v)o(e)f(imple-)357
951 y(mented)23 b(these)h(`\002rst)g(class)g(local)g(de\002nition')g
(records)g(as)g(an)g(e)o(xperimental)f(e)o(xtension)g(to)g(LISP)357
1101 y([McB92].)357 1500 y FT(4.2)142 b(a)36 b(compendium)d(of)i
(inducti)o(v)o(e)e(datatypes)357 1812 y F4(This)25 b(section)g
(de\002nes)i(formally)e(a)h(number)g(of)g(f)o(amiliar)f(datatypes)h(as)
g(used)g(in)f(this)g(thesis)g(and)357 1962 y(in)j(e)n(v)o(eryday)f
(functional)h(programming.)40 b(Its)28 b(purpose)g(is)g(partly)g(to)g
(consolidate)f(the)i(material)357 2111 y(of)24 b(the)g(pre)n(vious)f
(section,)h(b)n(ut)g(mostly)e(to)i(con\002ne)h(to)f(one)g(contiguous)f
(portion)g(of)h(this)g(thesis)f(a)357 2261 y(lot)h(of)h(boring)f
(de\002nitions.)357 2470 y(Some)g(\002nite)g(types,)g(see)h(table)f
(4.1,)g(are)h(standard)f(equipment:)29 b FZ(0)-44 b(0)24
b F4(\(`empty'\),)h FZ(1)-44 b(1)24 b F4(\(`unit'\))h(and)f
FZ(2)-44 b(2)357 2619 y F4(\(`bool'\).)30 b(The)25 b(constructor)f
F3(})i F4(is)e(pronounced)g(`v)n(oid'.)357 2829 y(Let)g(us)h(also)f(ha)
n(v)o(e)h(disjoint)e(sums,)g FZ(+)p F4(,)i(and,)g(speci\002cally)-6
b(,)24 b FZ(m)n(aybe)q F4(:)30 b(table)25 b(4.2.)357
3038 y(A)32 b(dependent)f(f)o(amily)-6 b(,)32 b(often)g(to)f(be)h
(found)f(in)h(the)g(e)o(xamples)e(of)i(this)f(thesis)g(are)h(the)g(v)o
(ectors,)357 3188 y FZ(v)n(ect)p F4(:)e(table)25 b(4.3.)30
b(Note)25 b(the)g(suppression)e(of)i(inferrable)g(ar)n(guments.)357
3587 y FT(4.3)142 b(abolishing)34 b Fm(\006)p FT(-types)g(and)i(r)m
(ein)-6 b(v)o(enting)33 b(them)357 3899 y F4(Luo)21 b(supplies)f
(dependent)h(pairs,)g(or)h FX(\006)p F0(-types)p F4(,)h(as)e(basic)h
(features)f(of)h(ECC,)g(equipped)f(with)f(\002rst)357
4049 y(and)30 b(second)g(projections.)45 b(Ho)n(we)n(v)o(er)l(,)30
b(with)g(our)g(f)o(acility)f(for)h(datatypes,)h(it)f(seems)f
(preferable)357 4198 y(to)23 b(present)g(pairing)g(as)g(a)h
(parameterised)g(record)g(type.)30 b(Also,)23 b(pairs)g(might)f(as)i
(well)f(acquire)g(the)357 4348 y(apparatus)h(we)h(shall)g(shortly)e(b)n
(uild)h(for)h(other)g(datatypes.)502 4662 y F3(\017)49
b F4(record)25 b(former)611 4811 y FP(B)i FX(:)h FP(A)k
F3(!)27 b FI(Type)p 611 4850 542 4 v 680 4925 a FX(\006)22
b FP(B)28 b FX(:)g FI(Type)502 5144 y F3(\017)49 b F4(\002elds)601
5335 y FZ(1)27 b FX(:)h FP(A)601 5484 y FZ(2)f FX(:)h
FP(B)22 b FZ(1)1997 5667 y F4(103)p eop
%%Page: 104 109
104 108 bop 1206 269 1733 4 v 1204 469 4 201 v 1390 330
317 4 v 1390 409 a FZ(0)-44 b(0)28 b FX(:)g FI(Type)p
1765 469 4 201 v 1950 330 317 4 v 243 w FZ(1)-44 b(1)29
b FX(:)e FI(Type)p 2325 469 4 201 v 2511 330 317 4 v
244 w FZ(2)-44 b(2)28 b FX(:)g FI(Type)p 2936 469 4 201
v 1204 589 4 121 v 1765 589 V 2325 589 V 2936 589 V 1204
772 4 183 v 1765 772 V 1950 651 227 4 v 1950 729 a F3(})h
FX(:)e FZ(1)-44 b(1)p 2325 772 4 183 v 2511 651 340 4
v 335 w(tr)r(ue)26 b FX(:)i FZ(2)-44 b(2)p 2936 772 4
183 v 1204 943 4 171 v 1765 943 V 2325 943 V 2511 833
368 4 v 2511 912 a(f)l(alse)27 b FX(:)h FZ(2)-44 b(2)p
2936 943 4 171 v 1204 1063 4 121 v 1765 1063 V 2325 1063
V 2936 1063 V 1206 1067 1733 4 v 1457 1334 a F4(T)-8
b(able)25 b(4.1:)30 b(standard)25 b(\002nite)f(types)p
506 2183 3133 4 v 504 2459 4 277 v 699 2282 a FN(L)o
FY(;)17 b FN(R)27 b FX(:)h FI(Type)p 690 2321 438 4 v
690 2396 a FN(L)p FZ(+)p FN(R)g FX(:)f FI(Type)p 1837
2459 4 277 v 2207 2282 a FN(X)h FX(:)g FI(Type)p 2023
2321 685 4 v 2023 2399 a FZ(m)n(aybe)23 b FN(X)28 b FX(:)f
FI(Type)p 3636 2459 4 277 v 504 2580 4 121 v 1837 2580
V 3636 2580 V 504 2825 4 246 v 828 2682 a FP(l)g FX(:)h
FN(L)p 690 2698 447 4 v 690 2776 a FZ(inL)22 b FP(l)27
b FX(:)h FN(L)p FZ(+)p FN(R)1449 2682 y FP(r)f FX(:)h
FN(R)p 1306 2698 473 4 v 1306 2776 a FZ(inR)23 b FP(r)k
FX(:)h FN(L)p FZ(+)p FN(R)p 1837 2825 4 246 v 2295 2682
a FP(x)g FX(:)f FN(X)p 2023 2698 744 4 v 2023 2776 a
FZ(y)n(es)22 b FP(x)27 b FX(:)h FZ(m)n(aybe)23 b FN(X)p
2936 2698 643 4 v 170 w FZ(no)k FX(:)h FZ(m)n(aybe)23
b FN(X)p 3636 2825 4 246 v 504 2945 4 121 v 1837 2945
V 3636 2945 V 506 2949 3133 4 v 1559 3222 a F4(T)-8 b(able)24
b(4.2:)31 b FZ(+)25 b F4(and)g FZ(m)n(aybe)p 1102 4068
1940 4 v 1100 4350 4 282 v 1287 4173 a FN(A)i FX(:)h
FI(Type)119 b FP(n)28 b FX(:)g FZ(N)-63 b(N)p 1287 4211
671 4 v 1322 4290 a(v)n(ect)1538 4305 y FO(A)1616 4290
y FP(n)28 b FX(:)g FI(Type)p 3040 4350 4 282 v 1100 4471
4 121 v 3040 4471 V 1100 4722 4 251 v 1287 4598 644 4
v 1287 4676 a FZ(vnil)1443 4691 y FO(A)1526 4676 y FX(:)g
FZ(v)n(ect)1797 4691 y FO(A)1875 4676 y FZ(0)2143 4575
y FP(h)g FX(:)f FN(A)120 b FP(t)28 b FX(:)g FZ(v)n(ect)2805
4590 y FO(A)2883 4575 y FP(n)p 2099 4598 883 4 v 2099
4676 a FZ(vcons)23 b FP(h)f(t)28 b FX(:)g FZ(v)n(ect)2810
4691 y FO(A)2888 4676 y FZ(s)o FP(n)p 3040 4722 4 251
v 1100 4842 4 121 v 3040 4842 V 1102 4845 1940 4 v 1715
5112 a F4(T)-8 b(able)25 b(4.3:)30 b(v)o(ectors)1997
5667 y(104)p eop
%%Page: 105 110
105 109 bop 743 -102 2658 4 v 741 19 4 121 v 793 -18
a F0(intr)n(o)p F4(-)p FX(\006)p 1995 19 V 942 w F0(raise)p
F4(-)p FX(\006)p 3399 19 V 741 139 V 1995 139 V 3399
139 V 741 739 4 601 v 793 142 576 4 v 793 736 4 594 v
7 setlinewidth np 901 222 25 135.00 315.00 arc st 7 setlinewidth
np 937 205 18 180.00 360.00 arc st 7 setlinewidth np
990 205 35 180.00 360.00 arc st 7 setlinewidth np 1035
231 28 251.56 341.56 arc st 7 setlinewidth np 1061 249
27 270.00 450.00 arc st 7 setlinewidth np 1026 276 35
360.00 540.00 arc st 7 setlinewidth np 972 276 18 360.00
540.00 arc st 7 setlinewidth np 928 276 27 360.00 540.00
arc st 7 setlinewidth np 892 258 19 63.43 243.43 arc
st 846 434 a(?)p FP(x)p FX(:)22 b(\006)q FP(y)o FX(:)h
FP(S)1062 555 y(T)892 675 y(x)p 1365 736 V 793 739 576
4 v 1396 314 a F3(\))p 1524 142 423 4 v 1524 736 4 594
v 7 setlinewidth np 1632 222 25 135.00 315.00 arc st
7 setlinewidth np 1667 205 18 180.00 360.00 arc st 7
setlinewidth np 1721 205 35 180.00 360.00 arc st 7 setlinewidth
np 1766 231 28 251.56 341.56 arc st 7 setlinewidth np
1792 249 27 270.00 450.00 arc st 7 setlinewidth np 1757
276 35 360.00 540.00 arc st 7 setlinewidth np 1703 276
18 360.00 540.00 arc st 7 setlinewidth np 1658 276 27
360.00 540.00 arc st 7 setlinewidth np 1623 258 19 63.43
243.43 arc st 1577 434 a FX(?)p FP(y)p FX(:)f FP(S)1577
555 y FX(?)p FP(x)p FX(:)g FP(T)1623 675 y F3(h)p FP(y)o
FX(;)17 b FP(x)p F3(i)p 1943 736 V 1524 739 423 4 v 1995
739 4 601 v 2046 142 400 4 v 2046 736 4 594 v 7 setlinewidth
np 2154 222 25 135.00 315.00 arc st 7 setlinewidth np
2190 205 18 180.00 360.00 arc st 7 setlinewidth np 2244
205 35 180.00 360.00 arc st 7 setlinewidth np 2288 231
28 251.56 341.56 arc st 7 setlinewidth np 2315 249 27
270.00 450.00 arc st 7 setlinewidth np 2279 276 35 360.00
540.00 arc st 7 setlinewidth np 2226 276 18 360.00 540.00
arc st 7 setlinewidth np 2181 276 27 360.00 540.00 arc
st 7 setlinewidth np 2145 258 19 63.43 243.43 arc st
2099 434 a FX(?)q FP(y)o FX(:)23 b FP(S)2099 555 y FX(?)q
FP(x)o FX(:)g FP(T)2146 675 y(u)p 2442 736 V 2046 739
400 4 v 2473 314 a F3(\))p 2601 142 751 4 v 2601 736
4 594 v 7 setlinewidth np 2709 222 25 135.00 315.00 arc
st 7 setlinewidth np 2744 205 18 180.00 360.00 arc st
7 setlinewidth np 2798 205 35 180.00 360.00 arc st 7
setlinewidth np 2843 231 28 251.56 341.56 arc st 7 setlinewidth
np 2869 249 27 270.00 450.00 arc st 7 setlinewidth np
2834 276 35 360.00 540.00 arc st 7 setlinewidth np 2780
276 18 360.00 540.00 arc st 7 setlinewidth np 2735 276
27 360.00 540.00 arc st 7 setlinewidth np 2700 258 19
63.43 243.43 arc st 2654 434 a FX(?)p FP(x)p FX(:)f(\006)p
FP(y)p FX(:)g FP(S)2869 555 y(T)2700 675 y(x)p FY(:)p
FX([)p FZ(1)p FY(=)p FP(y)p FX(][)p FZ(2)p FY(=)p FP(x)p
FX(])p FP(u)p 3348 736 V 2601 739 751 4 v 3399 739 4
601 v 741 860 4 121 v 1995 860 V 3399 860 V 743 863 2658
4 v 1322 1130 a F4(T)-8 b(able)25 b(4.4:)30 b(tactics)25
b(for)g FX(\006)p F4(-types)g(in)f(goals)357 1418 y(The)34
b(only)f(penalty)g(we)i(risk)e(paying)h(is)f(slightly)f(clumsy)h
(syntax,)j(b)n(ut)d(it)h(is)f(in)h(our)g(po)n(wer)g(to)357
1567 y(sugar)24 b(this)g(problem)g(a)o(w)o(ay)-6 b(.)30
b(Let)24 b(us)h(ha)n(v)o(e)f(lots.)601 1849 y FX(\006)p
FP(x)k FX(:)f FP(S)q FY(:)22 b FP(T)50 b FX(=)-17 b F3(\))49
b FX(\006)23 b(\()p FY(\025)p FP(x)11 b FX(:)g FP(S)p
FY(:)22 b FP(T)p FX(\))468 b(\006)26 b F4(is)e(a)h(f)o(ak)o(e)g
(binding)f(operator)601 1970 y FP(S)p F3(\002)p FP(T)50
b FX(=)-17 b F3(\))50 b FX(\006)p 1129 1970 30 4 v 64
w(:)28 b FP(S)p FY(:)22 b FP(T)778 b F4(the)25 b(usual)f(special)h
(case)601 2090 y F3(h)o FP(s)p FX(;)17 b FP(t)p F3(i)49
b FX(=)-17 b F3(\))50 b(h)p FZ(1)28 b FX(=)f FP(s)p FX(;)17
b FZ(2)28 b FX(=)f FP(t)p F3(i)567 b F4(unlabelled)24
b(pairs)601 2338 y FX(\006)p F3(fg)771 2289 y FM(0)860
2338 y FX(=)-17 b F3(\))50 b FZ(1)-44 b(1)1050 b F4(empty)24
b(telescope)h(gi)n(v)o(es)e(unit)h(type)601 2471 y FX(\006)667
2445 y FY(~)671 2471 y FP(S)p FX(;)17 b FP(T)50 b FX(=)-17
b F3(\))50 b FX(\006)p FP(x)1210 2486 y FM(1)1277 2471
y FX(:)28 b FP(S)1387 2486 y FM(1)1426 2471 y FY(:)39
b(:)17 b(:)g(:)f FX(\006)q FP(x)1744 2486 y FL(n)1818
2471 y FX(:)28 b FP(S)1928 2486 y FL(n)1975 2471 y FY(:)23
b FP(T)99 b F4(nonempty)24 b(telescope)g(gi)n(v)o(es)f
FX(\006)q F4(-type)601 2518 y Fz(\012)648 2598 y F3(f)o(g)747
2550 y FM(0)787 2518 y Fz(\013)884 2598 y FX(=)-17 b
F3(\))49 b(})1016 b F4(empty)24 b(sequence)h(gi)n(v)o(es)e(v)n(oid)601
2719 y F3(h)627 2712 y FY(~)639 2719 y FP(s)p FX(;)17
b FP(t)p F3(i)49 b FX(=)-17 b F3(\))50 b(h)p FP(s)1130
2734 y FM(1)1169 2719 y FX(;)17 b F3(h)p FY(:)g(:)g(:)f
F3(h)o FP(s)1460 2734 y FL(n)1507 2719 y FX(;)h FP(t)p
F3(i)f FY(:)h(:)g(:)f F3(ii)337 b F4(nonempty)24 b(sequence)h(gi)n(v)o
(es)e(pair)357 2999 y(There)28 b(is)g(no)f(con\003ict)h(between)g
(using)f FX(\006)i F4(both)e(for)i(binding)d(and)i(as)g(an)g(operator)g
(which)g(turns)357 3149 y(telescopes)i(into)g(the)h(types)f(of)h
(tuples,)h(represented)f(as)g(pairs)g(nested)g(to)f(the)h(right.)48
b(Also,)32 b(we)357 3298 y(still)c(ha)n(v)o(e)h(the)g(dot-notation)e
(from)i(record)h(types)f(as)g(sugar)g(for)g FX(\006)p
FZ(Elim)q F4(.)45 b(Our)29 b(cunning)f(choice)357 3447
y(of)d(\002eld)g(names)f(gi)n(v)o(es)f(us)i(the)f(f)o(amiliar)h
FX(\()p F3(\001)p FX(\))p FY(:)p FZ(1)f F4(and)h FX(\()p
F3(\001)p FX(\))p FY(:)p FZ(2)g F4(projections)f(as)h(a)g(special)f
(case.)357 3657 y(W)-8 b(e)31 b(should)f(equip)i(O)t
F2(L)t(E)t(G)k F4(with)30 b(the)h(tactics)g(for)g(dragging)f
FX(?)p F4(-bindings)g(through)g(our)h(f)o(ak)o(e)h FX(\006)p
F4(-)357 3806 y(bindings.)27 b(See)21 b(table)f(4.4.)28
b(Both)20 b(are)h(replacements.)29 b(Applied)19 b(recursi)n(v)o(ely)-6
b(,)19 b F0(intr)n(o)p F4(-)p F3(8)i F4(and)f F0(intr)n(o)p
F4(-)357 3956 y FX(\006)27 b F4(turn)f(a)g(goal)h(full)f(of)g
F3(8)p F4(s)h(and)f FX(\006)q F4(s)g(into)f(a)i(partial)f(proof)h(full)
e(of)i FY(\025)p F4(s)f(and)h FX(?)p F4(s.)35 b(Correspondingly)-6
b(,)357 4105 y F0(raise)p F4(-)p FX(\006)36 b F4(combines)f(with)g
F0(raise)p F4(-)p F3(8)i F4(to)e(allo)n(w)g(multiple)g(subgoals)f(to)i
F0(r)n(etr)n(eat)i F4(from)d(a)i(partial)357 4255 y(contruction)23
b(as)i(a)g(single)f(outstanding)f(proof)i(obligation.)357
4610 y FB(4.3.1)118 b(the)31 b(blunderb)n(uss)g(tactic)357
4886 y F0(intr)n(o)p F4(-)p FX(\006)d F4(caters)g(for)g
FX(\006)q F4(-types)f(in)g(goals,)g(allo)n(wing)f(us)h(to)g(solv)o(e)g
(them)f(piece)n(wise.)38 b(What)28 b(about)357 5036 y
FX(\006)p F4(-types)20 b(in)f(hypotheses?)28 b(Although)18
b(we)i(usually)f(try)h(to)f(curry)h(them)f(a)o(w)o(ay)h(where)n(v)o(er)
g(possible,)357 5185 y(we)30 b(do)f(still)f(\002nd)i
FX(\006)p F4(-types)g(in)f(inducti)n(v)o(e)e(hypotheses,)i(for)h(e)o
(xample,)g(when)g(the)f(original)g(goal)357 5335 y(w)o(as)c(to)f
(compute)g(a)h(pair)-5 b(.)1997 5667 y(105)p eop
%%Page: 106 111
106 110 bop 357 -6 a F4(It)27 b(is)f(a)o(wkw)o(ard)h(to)g(e)o(xploit)e
(such)i(hypotheses)e(with)h(tactics)h(such)g(as)i(L)t
F2(E)t(G)t(O)r F4(')-5 b(s)29 b FW(Refine)d F4(which)357
144 y(are)e(speci\002cally)f(geared)h(to)f(use)g(functional)g
(information.)28 b(I)c(therefore)g(propose)f(the)g(follo)n(wing)357
293 y(`blunderb)n(uss')g(tactic,)1168 257 y FS(3)1230
293 y F4(which)i(will)f(search)h(inside)f FX(\006)h F4(as)g(well)g(as)g
(under)f F3(8)8 b F4(:)14 b(.)32 b(.)359 503 y(T)l F2(A)q(C)t(T)t(I)t
(C)r F4(:)i F0(blunderb)n(uss)601 831 y F4(This)25 b(tactic)h(tries)f
(to)h(use)f(some)h FP(s)g F4(to)f(solv)o(e)g(a)h FP(goal)g
F4(by)g(a)g(depth-)601 980 y(\002rst)40 b(search)g(strate)o(gy)-6
b(.)75 b(The)40 b(nodes)g(of)g(the)g(search)h(tree)f(are)601
1129 y(gi)n(v)o(en)c(by)h FX(!)p F4(-bindings)g(of)h(proofs)f(to)g(try)
-6 b(.)69 b(Initially)-6 b(,)40 b(the)d(root)601 1279
y(node)24 b(is)h(set)f(to)h FP(s)o F4(.)p 3008 659 593
4 v 3008 1132 4 474 v 7 setlinewidth np 3091 739 25 135.00
315.00 arc st 7 setlinewidth np 3126 721 18 180.00 360.00
arc st 7 setlinewidth np 3180 721 35 180.00 360.00 arc
st 7 setlinewidth np 3225 748 28 251.56 341.56 arc st
7 setlinewidth np 3251 766 27 270.00 450.00 arc st 7
setlinewidth np 3216 793 35 360.00 540.00 arc st 7 setlinewidth
np 3162 793 18 360.00 540.00 arc st 7 setlinewidth np
3118 793 27 360.00 540.00 arc st 7 setlinewidth np 3082
775 19 63.43 243.43 arc st 3055 951 a FX(!)p FP(r)n(oot)8
b FX(=)22 b FP(s)27 b FX(:)h FP(S)3036 1071 y FX(?)p
FP(goal)c FX(:)47 b FP(G)p 3597 1132 V 3008 1135 593
4 v 601 1402 a F4(At)24 b(each)i FX(!)p FP(node)h FX(=)h
FP(s)11 b FX(:)g FP(S)p F4(,)25 b(starting)f(with)g FP(r)n(oot)q
F4(,)g F0(blunderb)n(uss)j F4(beha)n(v)o(es)e(as)g(follo)n(ws:)717
1659 y F3(\017)48 b F4(try)25 b(to)f F0(unify)i FP(node)f
F4(with)f FP(goal)p F4(\227if)g(successful,)g(stop,)g(otherwise)g
FY(:)17 b(:)g(:)717 1850 y F3(\017)48 b F4(reduce)26
b FP(S)f F4(to)f(weak)h(head-normal)g(form)717 2041 y
F3(\017)48 b F4(generate)36 b(subnodes)f(by)g(the)h(type-directed)f
(methods)g(gi)n(v)o(en)f(in)h(table)h(4.5)815 2191 y(and)31
b(try)f F0(blunderb)n(uss)j F4(with)d(each)h(in)g(turn\227)p
F0(blunder)p F4(-)p FZ(re\003)g F4(subnodes)f(are)815
2340 y(tried)25 b(before)g F0(blunder)p F4(-)p F3(8)i
F4(subnodes)357 2633 y(W)-8 b(e)24 b(reco)o(v)o(er)g(e)o(xactly)h(L)t
F2(E)t(G)t(O)r F4(')-5 b(s)26 b FW(Refine)c F4(tactic)i(if)g(we)g(only)
f(ha)n(v)o(e)h F0(blunder)p F4(-)p F3(8)p F4(.)32 b(Ho)n(we)n(v)o(er)l
(,)23 b(no)n(w)357 2782 y(we)i(can)g(just)f(as)h(well)f(blunder)g
(under)h(a)g FX(\006)q F4(.)357 2992 y(I)36 b(ha)n(v)o(e)f(tak)o(en)g
(this)g(opportunity)f(to)h(sneak)g(in)h F0(blunder)p
F4(-)p FZ(re\003)q F4(.)63 b(Recall)37 b(that)e(when)g
F0(eliminate)357 3141 y F4(generates)22 b(a)g(constrained)f(scheme,)h
(the)g(equations)e(generated)i(appear)h(as)e(a)i(matching)d(problem)357
3290 y(in)f(an)o(y)h(inducti)n(v)o(e)e(hypotheses)g(which)i(may)f
(arise.)30 b F0(blunder)p F4(-)p FZ(re\003)21 b F4(is)f(intended)f(to)h
(mak)o(e)f(it)h(easier)357 3440 y(to)k(e)o(xploit)f(such)i(hypotheses)e
(whene)n(v)o(er)h(the)h(matching)e(problem)h(has)h(an)g(ob)o(vious)e
(solution.)357 3649 y(Hence,)g(whene)n(v)o(er)e(an)h(equational)f
(premise)h(is)g(required,)g F0(blunderb)n(uss)i F4(tries)e(to)f(unify)h
(the)g(tw)o(o)357 3799 y(sides)d(in)h(order)h(to)f(supply)f(a)i
FZ(re\003)f F4(proof.)29 b(If)21 b(this)e(f)o(ails,)i(then)f
F0(blunder)p F4(-)p F3(8)j F4(introduces)d(the)g(premise)357
3948 y(as)28 b(normal.)41 b(It)29 b(w)o(ould)e(be)i(v)o(ery)f(unusual)g
(if)g(making)f(a)i(possible)e(uni\002cation)h(turned)g(out)g(to)g(be)
357 4098 y(an)d(unfortunate)f(choice.)357 4307 y(The)29
b(construction)f(of)h(the)g(`guarded)h(\002xpoint')e(operator)h(in)g
(the)g(ne)o(xt)g(section)f(uses)h(a)h(style)e(of)357
4457 y(hypothesis)22 b(for)j(whose)g(e)o(xploitation)d
F0(blunderb)n(uss)27 b F4(is)e(e)o(xactly)f(the)g(right)g(tactic.)p
357 4546 1373 4 v 473 4607 a FR(3)506 4638 y FQ(A)i(blunderb)n(uss)e
(is)i(an)f(old-f)o(ashioned)e(kind)i(of)g(gun)f(with)i(a)g(barrel)e
(which)h(opens)g(out)g(lik)o(e)g(a)h(horn.)40 b(It)25
b(\002res)357 4737 y(almost)16 b(an)o(ything)e(at)j(almost)f(e)n(v)o
(eryone)d(in)k(a)f(wide)h(spread.)22 b(The)16 b(phrase)g(`blunderb)n
(uss)e(tactics')i(is)h(used)f(to)h(describe)357 4837
y(the)j(technique)e(of)i(thro)n(wing)f(e)n(v)o(erything)e(you)j(ha)n(v)
o(e)f(got)h(at)h(a)f(problem)f(in)h(the)g(hope)g(that)g(something)f
(will)h(w)o(ork.)1997 5667 y F4(106)p eop
%%Page: 107 112
107 111 bop 589 -102 2966 4 v 587 19 4 121 v 639 -18
a F0(blunder)p F4(-)p FZ(re\003)p 3553 19 V 587 139 V
3553 139 V 587 1396 4 1258 v 639 142 1346 4 v 639 1393
4 1251 v 667 251 a FX(\001)703 701 y(?)p FP(y)p F3(\031)22
b FP(P)976 292 y Fz(2)976 467 y(6)976 527 y(6)976 586
y(6)976 646 y(6)976 706 y(6)976 766 y(6)976 826 y(6)976
889 y(4)1061 378 y FX(!)p FP(node)p FX(=)g FP(s)1301
499 y FX(:)46 b F3(8)q FP(x)p FX(:)22 b FP(t)g F3(')h
FP(t)1717 460 y FE(0)1430 619 y FP(B)1302 715 y F4(.)1302
748 y(.)1302 781 y(.)1042 902 y FX(?)p FP(goal)47 b FX(:)f
FP(G)1088 1022 y(p)1840 292 y Fz(3)1840 467 y(7)1840
527 y(7)1840 586 y(7)1840 646 y(7)1840 706 y(7)1840 766
y(7)1840 826 y(7)1840 889 y(5)p 7 setlinewidth np 722
1240 25 135.00 315.00 arc st 7 setlinewidth np 758 1222
18 180.00 360.00 arc st 7 setlinewidth np 812 1222 35
180.00 360.00 arc st 7 setlinewidth np 856 1249 28 251.56
341.56 arc st 7 setlinewidth np 883 1267 27 270.00 450.00
arc st 7 setlinewidth np 847 1294 35 360.00 540.00 arc
st 7 setlinewidth np 794 1294 18 360.00 540.00 arc st
7 setlinewidth np 749 1294 27 360.00 540.00 arc st 7
setlinewidth np 713 1276 19 63.43 243.43 arc st 1981
1393 V 639 1396 1346 4 v 2012 251 a F3(\))p 2139 142
1366 4 v 2139 1273 4 1131 v 55 w FX(\001)2248 215 y FE(0)2226
641 y FX(?)p FP(y)p F3(\031)22 b FP(P)2482 598 y FE(0)2522
292 y Fz(2)2522 467 y(6)2522 527 y(6)2522 586 y(6)2522
646 y(6)2522 706 y(6)2522 770 y(4)2608 379 y FX(!)p FP(sub)k
FX(=)c FP(s)g FX(\()p FZ(re\003)f FP(t)q FX(\))2825 499
y(:)47 b([)p FZ(re\003)22 b FP(t)p FY(=)p FP(x)o FX(])p
FP(B)2826 595 y F4(.)2826 628 y(.)2826 661 y(.)2589 782
y FX(?)p FP(goal)i FX(:)47 b FP(G)2635 902 y(p)3360 292
y Fz(3)3360 467 y(7)3360 527 y(7)3360 586 y(7)3360 646
y(7)3360 706 y(7)3360 770 y(5)p 7 setlinewidth np 2222
1121 25 135.00 315.00 arc st 7 setlinewidth np 2258 1103
18 180.00 360.00 arc st 7 setlinewidth np 2312 1103 35
180.00 360.00 arc st 7 setlinewidth np 2356 1130 28 251.56
341.56 arc st 7 setlinewidth np 2383 1147 27 270.00 450.00
arc st 7 setlinewidth np 2347 1174 35 360.00 540.00 arc
st 7 setlinewidth np 2294 1174 18 360.00 540.00 arc st
7 setlinewidth np 2249 1174 27 360.00 540.00 arc st 7
setlinewidth np 2213 1156 19 63.43 243.43 arc st 3501
1273 V 2139 1276 1366 4 v 3553 1396 4 1258 v 587 1516
4 121 v 3553 1516 V 587 1637 V 639 1601 a FP(t)25 b F4(and)g
FP(t)899 1563 y FE(0)947 1601 y F0(unify)p F4(,)h(ie)p
3553 1637 V 587 1757 V 639 1721 a FX(\001)50 b F3(v)h
FX(\001)979 1685 y FE(0)p 3553 1757 V 587 1878 V 639
1841 a FX(\001)720 1805 y FE(0)794 1841 y FC(\015)e FP(P)h
F3(v)g FP(P)1214 1799 y FE(0)p 3553 1878 V 587 2007 4
130 v 639 1971 a FX(\001)720 1935 y FE(0)744 1971 y FX(;)794
1944 y(\026)788 1971 y FP(P)848 1914 y FE(0)922 1971
y F3(`)f FP(t)1115 1943 y F3(\030)1116 1975 y FX(=)1243
1971 y FP(t)1276 1932 y FE(0)p 3553 2007 V 589 2010 2966
4 v 587 2130 4 121 v 639 2094 a F0(blunder)p F4(-)p F3(8)p
3553 2130 V 587 2251 V 3553 2251 V 587 3508 4 1258 v
639 2254 1210 4 v 639 3505 4 1251 v 667 2363 a FX(\001)703
2813 y(?)p FP(y)p F3(\031)22 b FP(P)976 2403 y Fz(2)976
2579 y(6)976 2639 y(6)976 2698 y(6)976 2758 y(6)976 2818
y(6)976 2878 y(6)976 2937 y(6)976 3001 y(4)1061 2490
y FX(!)p FP(node)p FX(=)g FP(s)1301 2611 y FX(:)46 b
F3(8)q FP(x)p FX(:)22 b FP(A)1430 2731 y(B)1302 2827
y F4(.)1302 2860 y(.)1302 2893 y(.)1042 3014 y FX(?)p
FP(goal)47 b FX(:)f FP(G)1088 3134 y(p)1704 2403 y Fz(3)1704
2579 y(7)1704 2639 y(7)1704 2698 y(7)1704 2758 y(7)1704
2818 y(7)1704 2878 y(7)1704 2937 y(7)1704 3001 y(5)p
7 setlinewidth np 722 3352 25 135.00 315.00 arc st 7
setlinewidth np 758 3334 18 180.00 360.00 arc st 7 setlinewidth
np 812 3334 35 180.00 360.00 arc st 7 setlinewidth np
856 3361 28 251.56 341.56 arc st 7 setlinewidth np 883
3379 27 270.00 450.00 arc st 7 setlinewidth np 847 3406
35 360.00 540.00 arc st 7 setlinewidth np 794 3406 18
360.00 540.00 arc st 7 setlinewidth np 749 3406 27 360.00
540.00 arc st 7 setlinewidth np 713 3388 19 63.43 243.43
arc st 1846 3505 V 639 3508 1210 4 v 1877 2363 a F3(\))p
2004 2254 1018 4 v 2004 3505 4 1251 v 55 w FX(\001)2067
2813 y(?)p FP(y)p F3(\031)23 b FP(P)2340 2403 y Fz(2)2340
2579 y(6)2340 2639 y(6)2340 2698 y(6)2340 2758 y(6)2340
2818 y(6)2340 2878 y(6)2340 2937 y(6)2340 3001 y(4)2407
2490 y FX(?)p FP(x)140 b FX(:)47 b FP(A)2426 2611 y FX(!)p
FP(sub)26 b FX(=)c FP(s)g(x)2643 2731 y FX(:)47 b FP(B)2644
2827 y F4(.)2644 2860 y(.)2644 2893 y(.)2407 3014 y FX(?)p
FP(goal)24 b FX(:)47 b FP(G)2453 3134 y(p)2877 2403 y
Fz(3)2877 2579 y(7)2877 2639 y(7)2877 2698 y(7)2877 2758
y(7)2877 2818 y(7)2877 2878 y(7)2877 2937 y(7)2877 3001
y(5)p 7 setlinewidth np 2087 3352 25 135.00 315.00 arc
st 7 setlinewidth np 2123 3334 18 180.00 360.00 arc st
7 setlinewidth np 2176 3334 35 180.00 360.00 arc st 7
setlinewidth np 2221 3361 28 251.56 341.56 arc st 7 setlinewidth
np 2248 3379 27 270.00 450.00 arc st 7 setlinewidth np
2212 3406 35 360.00 540.00 arc st 7 setlinewidth np 2158
3406 18 360.00 540.00 arc st 7 setlinewidth np 2114 3406
27 360.00 540.00 arc st 7 setlinewidth np 2078 3388 19
63.43 243.43 arc st 3018 3505 V 2004 3508 1018 4 v 3553
3508 4 1258 v 587 3628 4 121 v 3553 3628 V 589 3632 2966
4 v 587 3752 4 121 v 639 3716 a F0(blunder)p F4(-)p FX(\006)p
3553 3752 V 587 3872 V 3553 3872 V 587 5130 4 1258 v
639 3876 1225 4 v 639 5126 4 1251 v 667 3985 a(\001)703
4434 y(?)p FP(y)p F3(\031)22 b FP(P)976 4025 y Fz(2)976
4200 y(6)976 4260 y(6)976 4320 y(6)976 4380 y(6)976 4439
y(6)976 4499 y(6)976 4559 y(6)976 4623 y(4)1061 4112
y FX(!)p FP(node)p FX(=)g FP(s)1301 4232 y FX(:)46 b(\006)q
FP(x)p FX(:)22 b FP(A)1445 4352 y(B)1302 4448 y F4(.)1302
4482 y(.)1302 4515 y(.)1042 4635 y FX(?)p FP(goal)47
b FX(:)f FP(G)1088 4756 y(p)1720 4025 y Fz(3)1720 4200
y(7)1720 4260 y(7)1720 4320 y(7)1720 4380 y(7)1720 4439
y(7)1720 4499 y(7)1720 4559 y(7)1720 4623 y(5)p 7 setlinewidth
np 722 4974 25 135.00 315.00 arc st 7 setlinewidth np
758 4956 18 180.00 360.00 arc st 7 setlinewidth np 812
4956 35 180.00 360.00 arc st 7 setlinewidth np 856 4983
28 251.56 341.56 arc st 7 setlinewidth np 883 5000 27
270.00 450.00 arc st 7 setlinewidth np 847 5027 35 360.00
540.00 arc st 7 setlinewidth np 794 5027 18 360.00 540.00
arc st 7 setlinewidth np 749 5027 27 360.00 540.00 arc
st 7 setlinewidth np 713 5009 19 63.43 243.43 arc st
1861 5126 V 639 5129 1225 4 v 1892 3985 a F3(\))p 2019
3876 1315 4 v 2019 5126 4 1251 v 55 w FX(\001)2082 4434
y(?)q FP(y)o F3(\031)23 b FP(P)2355 4025 y Fz(2)2355
4200 y(6)2355 4260 y(6)2355 4320 y(6)2355 4380 y(6)2355
4439 y(6)2355 4499 y(6)2355 4559 y(6)2355 4623 y(4)2441
4112 y FX(!)p FP(sub)2608 4127 y FM(1)2648 4112 y FX(=)f
FP(s)o FY(:)p FZ(1)28 b FX(:)g FP(A)2441 4232 y FX(!)p
FP(sub)2608 4247 y FM(2)2648 4232 y FX(=)22 b FP(s)o
FY(:)p FZ(2)2672 4352 y FX(:)47 b([)p FP(sub)2913 4367
y FM(1)2952 4352 y FY(=)p FP(x)p FX(])p FP(B)2673 4448
y F4(.)2673 4482 y(.)2673 4515 y(.)2422 4635 y FX(?)p
FP(goal)38 b FX(:)47 b FP(G)2468 4756 y(p)3189 4025 y
Fz(3)3189 4200 y(7)3189 4260 y(7)3189 4320 y(7)3189 4380
y(7)3189 4439 y(7)3189 4499 y(7)3189 4559 y(7)3189 4623
y(5)p 7 setlinewidth np 2102 4974 25 135.00 315.00 arc
st 7 setlinewidth np 2138 4956 18 180.00 360.00 arc st
7 setlinewidth np 2191 4956 35 180.00 360.00 arc st 7
setlinewidth np 2236 4983 28 251.56 341.56 arc st 7 setlinewidth
np 2263 5000 27 270.00 450.00 arc st 7 setlinewidth np
2227 5027 35 360.00 540.00 arc st 7 setlinewidth np 2174
5027 18 360.00 540.00 arc st 7 setlinewidth np 2129 5027
27 360.00 540.00 arc st 7 setlinewidth np 2093 5009 19
63.43 243.43 arc st 3330 5126 V 2019 5129 1315 4 v 3553
5130 4 1258 v 587 5250 4 121 v 3553 5250 V 589 5253 2966
4 v 1276 5520 a F4(T)-8 b(able)24 b(4.5:)30 b F0(blunderb)n(uss)d
F4(search)f(methods)1997 5667 y(107)p eop
%%Page: 108 113
108 112 bop 357 -6 a FT(4.4)142 b(constructing)33 b Fl(Case)k
FT(and)e Fl(Fix)357 307 y F4(This)26 b(section)f(sho)n(ws)h(ho)n(w)f
(to)i(deri)n(v)o(e)e(tw)o(o)i(alternati)n(v)o(e)e(eliminators)g(for)i
(each)g(datatype,)f(corre-)357 456 y(sponding)d(to)h(the)h
FW(Case)f F4(and)h FW(Fix)f F4(operators)h(in)h(C)t F2(O)t(Q)r
F4(.)357 812 y FB(4.4.1)118 b(case)30 b(analysis)f(f)m(or)g(datatypes)h
(and)g(r)n(elations)357 1088 y F4(From)37 b(the)g(elimination)e(rule)i
(gi)n(v)o(en)f(for)h(a)h(datatype)f(or)g(relation,)357
1238 y(we)31 b(may)g(construct)g(a)h(`sa)o(wn-of)n(f)5
b(')31 b(v)o(ersion)f(which)h(embodies)f(the)357 1387
y(notion)k(that)g(we)i(may)f(reason)g(about)g(an)g(arbitrary)g
(inhabitant)f(of)357 1537 y(the)24 b(type)f(by)h(considering)f(each)i
(of)f(the)g(possibilities)e(for)i(its)f(outer)n(-)357
1686 y(most)28 b(`head')j(constructor)l(,)f(b)n(ut)f(without)f(an)o(y)i
(recursi)n(v)o(e)f(informa-)357 1836 y(tion.)h(F)o(or)24
b FZ(N)-63 b(N)p F4(,)25 b(we)g(get)g FZ(N)-63 b(NCase)o
F4(.)p 2916 979 871 4 v 2916 2136 4 1157 v 2969 1088
a FZ(N)g(NCase)2969 1329 y FX(\010)29 b(:)e F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FI(Type)3104 1871 y
FX(\010)g FZ(0)3412 1630 y FP(n)28 b FX(:)f FZ(N)-63
b(N)3400 1729 y FY(:)17 b(:)f(:)h(:)g(:)f(:)3430 1889
y FX(\010)22 b FZ(s)p FP(n)p 3104 1945 571 4 v 3123 2051
a F3(8)p 3178 1952 280 4 v 3178 2078 4 126 v 29 w FP(n)28
b FX(:)g FZ(N)-63 b(N)p 3454 2078 V 3178 2081 280 4 v
28 w FY(:)22 b FX(\010)h FP(n)p 3784 2136 4 1157 v 2916
2139 871 4 v 357 2276 a F4(This)18 b(construction)g(b)n(uilds)g
(theorem)g(and)i(proof)f(together)f(by)h(a)h(technique)e(which)h(I)h
(call)f F0(hubris)p F4(:)357 2425 y(we)37 b(proudly)f(attempt)h(to)g
(pro)o(v)o(e)f(a)h(blatantly)f(f)o(alse)i(claim)f(and)g(f)o(ail,)j
(turning)c(the)h(remaining)357 2575 y(subgoals)26 b(into)g(premises,)i
(just)e(lik)o(e)h(a)h(lecturer)g(lea)n(ving)e(the)i(bits)e(he)i(has)f
(for)n(gotten)g(ho)n(w)g(to)g(do)357 2724 y(as)g(e)o(x)o(ercises)f(for)
h(the)g(students.)36 b(The)28 b(trick)e(is)h(to)g F0(postpone)h
F4(the)f(remaining)f FX(?)p F4(-bindings)f(at)i(the)357
2874 y(outside)c(le)n(v)o(el,)h(turning)g(them)g(into)g
FY(\025)p F4(-bindings,)f(and)i(then)f(to)g F0(dischar)o(ge)i
F4(them.)359 3083 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5
b(T)t(I)g(O)t(N)r F4(:)37 b F0(case)25 b(analysis)601
3376 y F4(Suppose)f(we)h(ha)n(v)o(e)g(a)g(inducti)n(v)o(e)e(f)o(amily)
815 3608 y FJ(F)n(am)29 b FX(:)e F3(8)1142 3601 y FY(~)1160
3608 y FP(\021)12 b FX(:)1223 3582 y FY(~)1238 3608 y
FP(I)p FY(:)22 b FI(U)1394 3623 y FL(i)815 3736 y F4(where)1140
3729 y FY(~)1158 3736 y FP(\021)j F4(are)g(the)g(indices)f(\(as)h(in)g
(dependent)f(datatypes)g(or)h(relations\))1158 3857 y
FI(U)1232 3872 y FL(i)1285 3857 y F4(is)f(the)h(uni)n(v)o(erse)e(the)i
(f)o(amily)f(of)h(types)f(inhabits)601 4059 y(W)-8 b(e)31
b(need)h(only)e(consider)h(indices,)i(\002xing)e(the)g(parameters)g(of)
h(f)o(amilies)e(lik)o(e)h FZ(list)601 4208 y F4(and)24
b FZ(v)n(ect)h F4(for)g(the)g(whole)g(construction.)601
4399 y(This)f(f)o(amily)g(will)g(ha)n(v)o(e)g(an)h(elimination)e(rule)i
FJ(F)n(amElim)p 815 4515 1005 4 v 815 5117 4 602 v 868
4624 a FX(\010)j(:)g F3(8)1066 4617 y FY(~)1076 4624
y FP(z)q FY(:)22 b FI(U)1244 4639 y FL(e)1178 4879 y
FU(subgoals)p 1003 4908 704 4 v 1003 5006 a F3(8)1051
4999 y FY(~)1058 5006 y FP(y)p FX(;)p 1152 4931 107 4
v 1152 5058 4 128 v 45 w FP(y)p 1255 5058 V 1152 5061
107 4 v 39 w FX(:)p 1307 4920 208 4 v 11 w FJ(F)n(am)q
FY(:)g FX(\010)1650 4999 y FY(~)1657 5006 y FP(p)p 1816
5117 4 602 v 815 5120 1005 4 v 815 5243 a F4(where)1148
5236 y FY(~)1158 5243 y FP(z)j F4(inhabits)f(a)h(pre\002x)g(of)p
2002 5157 208 4 v 25 w FJ(F)n(am)1151 5357 y FY(~)1158
5364 y FP(p)g F4(is)f(the)h(corresponding)f(pre\002x)h(of)2424
5357 y FY(~)2431 5364 y FP(y)p FX(;)17 b FP(y)1158 5484
y FI(U)1232 5499 y FL(e)1294 5484 y F4(is)24 b(the)h(uni)n(v)o(erse)e
(o)o(v)o(er)h(which)h(the)f(f)o(amily)g(of)h(types)f(eliminates)1997
5667 y(108)p eop
%%Page: 109 114
109 113 bop 601 -6 a F4(F)o(or)30 b(our)h(inducti)n(v)o(e)d
(de\002nitions,)j(the)f(subgoals)2337 -32 y FY(~)2339
-6 y(\036)k F4(ha)n(v)o(e)c(conclusions)g(which)g(are)601
144 y(applications)23 b(of)i FX(\010)p F4(.)601 335 y(Let)34
b(us)g(boldly)f(\002x)h(a)h FX(\010)f F4(and)h(attempt)e(to)601
484 y(pro)o(v)o(e)601 694 y(This)58 b(is)g(patently)h(untrue,)67
b(b)n(ut)58 b(ne)n(v)o(er)601 843 y(mind,)23 b F0(eliminate)i
F4(using)f FJ(F)n(amElim)p F4(.)p 2241 226 1360 4 v 2241
787 4 561 v 2319 335 a FX(\001)2319 455 y FY(\025)p FX(\010)391
b(:)22 b F3(8)2931 448 y FY(~)2941 455 y FP(z)p FY(:)h
FI(U)3108 470 y FL(e)2330 586 y FX(?)p FJ(F)n(amCase)q
FX(:)f F3(8)2934 579 y FY(~)2941 586 y FP(y)p FX(;)p
3035 511 107 4 v 3035 638 4 128 v 45 w FP(y)p 3138 638
V 3035 641 107 4 v 28 w FX(:)p 3190 499 208 4 v 22 w
FJ(F)n(am)2941 726 y FX(\010)3027 719 y FY(~)3034 726
y FP(p)p 3597 787 4 561 v 2241 790 1360 4 v 601 1089
a F4(Note)f(that)h(the)g(holes)f(may)h(not)f(appear)h(so)601
1239 y(neatly)i(ordered,)h(b)n(ut)f(no)h(matter)-5 b(.)601
1448 y(The)54 b(subgoals)1213 1422 y FY(~)1214 1448 y(\036)59
b F4(correspond)c(to)f(the)601 1598 y(constructors)23
b(of)i(the)g(datatype.)p 2233 918 1368 4 v 2233 1808
4 891 v 7 setlinewidth np 2316 998 25 135.00 315.00 arc
st 7 setlinewidth np 2352 980 18 180.00 360.00 arc st
7 setlinewidth np 2405 980 35 180.00 360.00 arc st 7
setlinewidth np 2450 1007 28 251.56 341.56 arc st 7 setlinewidth
np 2477 1025 27 270.00 450.00 arc st 7 setlinewidth np
2441 1052 35 360.00 540.00 arc st 7 setlinewidth np 2387
1052 18 360.00 540.00 arc st 7 setlinewidth np 2343 1052
27 360.00 540.00 arc st 7 setlinewidth np 2307 1034 19
63.43 243.43 arc st 2261 1223 a FX(?)2306 1197 y FY(~)2307
1223 y(\036)427 b FX(:)47 b FY(:)17 b(:)g(:)27 b F3(!)g
FX(\010)17 b FY(:)g(:)g(:)2261 1356 y FX(?)2295 1349
y FY(~)2307 1356 y FP(s)446 b FX(:)2861 1330 y FY(~)2866
1356 y FP(S)2280 1477 y FX(!)p FJ(F)n(amCase)q FX(=)22
b FJ(F)n(amElim)h FX(\010)39 b FY(:)17 b(:)g(:)2792 1607
y FX(:)47 b F3(8)2914 1600 y FY(~)2921 1607 y FP(y)p
FX(;)p 3015 1532 107 4 v 3015 1659 4 128 v 45 w FP(y)p
3117 1659 V 3015 1662 107 4 v 28 w FX(:)p 3170 1521 208
4 v 22 w FJ(F)n(am)2921 1747 y FX(\010)3006 1740 y FY(~)3014
1747 y FP(p)p 3597 1808 4 891 v 2233 1811 1368 4 v 601
1987 a F4(F)o(or)36 b(each)h FY(\036)1051 2002 y Fq(i)1083
1987 y F4(,)j(we)d(di)n(vide)e(its)h(hypotheses)f(into)601
2136 y(case)25 b(data)976 2129 y FY(~)988 2136 y FP(c)f
F4(and)h(inducti)n(v)o(e)e(hypotheses)2135 2129 y FY(~)2081
2136 y FP(r)n(ec)2197 2151 y FM(\010)2252 2136 y F4(.)p
2499 1864 1102 4 v 2499 2288 4 424 v 2552 1987 a FX(?)p
FY(\036)t FX(:)f F3(8)2753 1980 y FY(~)2764 1987 y FP(c)131
b FX(:)2986 1960 y FY(~)2985 1987 y FP(C)2709 2107 y
F3(8)2818 2100 y FY(~)2764 2107 y FP(r)n(ec)2881 2122
y FM(\010)2936 2107 y FX(:)22 b FY(:)17 b(:)g(:)27 b
F3(!)h FX(\010)17 b FY(:)g(:)g(:)2764 2227 y FX(\010)2848
2220 y FY(~)2857 2227 y FP(q)p FX([)2918 2220 y FY(~)2930
2227 y FP(c)p FX(])p 3597 2288 V 2499 2291 1102 4 v 601
2454 a F4(F)o(or)79 b(our)h(inducti)n(v)o(e)e(de\002nitions,)601
2603 y(nothing)49 b(is)i(permitted)e(to)i(depend)601
2753 y(on)88 b(the)h(inducti)n(v)o(e)e(hypotheses.)601
2902 y(Hence)22 b(we)f(may)g(remo)o(v)o(e)g(them)g(with)601
3052 y F0(delete-unused)p F4(.)601 3261 y(Ha)n(ving)31
b(modi\002ed)g(the)h(subgoals)f(in)601 3411 y(this)38
b(w)o(ay)-6 b(,)42 b(let)d(us)g F0(postpone)i F4(them.)601
3560 y(The)24 b(state)h(is)f(no)n(w)g(as)h(sho)n(wn.)p
2073 2345 1528 4 v 2073 3293 4 949 v 2176 2454 a FX(\001)2176
2574 y FY(\025)p FX(\010)414 b(:)47 b F3(8)2836 2567
y FY(~)2846 2574 y FP(z)p FY(:)23 b FI(U)3013 2589 y
FL(e)2176 2708 y FY(\025)2231 2682 y(~)2233 2708 y(\036)426
b FX(:)47 b F3(8)2834 2701 y FY(~)2846 2708 y FP(c)p
FY(:)22 b FX(\010)3020 2701 y FY(~)3029 2708 y FP(q)p
FX([)3090 2701 y FY(~)3102 2708 y FP(c)o FX(])2176 2841
y FY(\025)2220 2834 y(~)2233 2841 y FP(s)445 b FX(:)2786
2815 y FY(~)2791 2841 y FP(S)2205 2962 y FX(!)q FJ(F)n(amCase)p
FX(=)22 b FJ(F)n(amElim)i FX(\010)39 b FY(:)17 b(:)g(:)2717
3092 y FX(:)47 b F3(8)2839 3085 y FY(~)2846 3092 y FP(y)p
FX(;)p 2940 3017 107 4 v 2940 3144 4 128 v 45 w FP(y)p
3043 3144 V 2940 3147 107 4 v 28 w FX(:)p 3095 3006 208
4 v 22 w FJ(F)n(am)2846 3232 y FX(\010)2932 3225 y FY(~)2939
3232 y FP(p)p 3597 3293 4 949 v 2073 3296 1528 4 v 601
3724 a F4(Finally)-6 b(,)83 b(we)74 b(may)e(dischar)n(ge)i(the)601
3873 y(assumptions,)55 b(reco)o(v)o(ering)c(the)g(case)601
4022 y(analysis)31 b(principle)h(as)g(we)h(might)e(e)o(x-)601
4172 y(pect)24 b(it.)p 2145 3614 1456 4 v 2145 4829 4
1215 v 2173 3724 a FX(!)q FJ(F)n(amCase)p FX(=)e FY(\025)p
FX(\010:)g F3(8)2980 3717 y FY(~)2990 3724 y FP(z)q FY(:)g
FI(U)3158 3739 y FL(e)2759 3857 y FY(\025)2815 3831 y(~)2816
3857 y(\036)12 b FX(:)22 b F3(8)2978 3850 y FY(~)2990
3857 y FP(c)p FY(:)h FX(\010)3164 3850 y FY(~)3173 3857
y FP(q)p FX([)3234 3850 y FY(~)3246 3857 y FP(c)p FX(])2759
3990 y FY(\025)2803 3983 y(~)2816 3990 y FP(s)31 b FX(:)2931
3964 y FY(~)2935 3990 y FP(S)2816 4111 y FJ(F)n(amElim)23
b FX(\010)40 b FY(:)17 b(:)g(:)2685 4231 y FX(:)47 b
F3(8)p FX(\010)130 b(:)22 b F3(8)3108 4224 y FY(~)3118
4231 y FP(z)q FY(:)g FI(U)3286 4246 y FL(e)2759 4365
y F3(8)2813 4338 y FY(~)2814 4365 y(\036)142 b FX(:)22
b F3(8)3106 4358 y FY(~)3118 4365 y FP(c)p FY(:)g FX(\010)3292
4358 y FY(~)3301 4365 y FP(q)p FX([)3362 4358 y FY(~)3374
4365 y FP(c)p FX(])2759 4498 y F3(8)2802 4491 y FY(~)2814
4498 y FP(s)161 b FX(:)3059 4472 y FY(~)3063 4498 y FP(S)2759
4628 y F3(8)2807 4621 y FY(~)2814 4628 y FP(y)p FX(;)p
2908 4554 107 4 v 2908 4681 4 128 v 45 w FP(y)p 3011
4681 V 2908 4684 107 4 v 28 w FX(:)p 3063 4542 208 4
v 22 w FJ(F)n(am)2814 4768 y FX(\010)2900 4761 y FY(~)2907
4768 y FP(p)p 3597 4829 4 1215 v 2145 4832 1456 4 v 601
4950 a F4(It)24 b(is)h(not)f(hard)h(to)f(see)h(that)g(the)f(follo)n
(wing)f(reductions)h(hold)815 5183 y FJ(F)n(amCase)f
FX(\010)1387 5157 y FY(~)1390 5183 y(\036)1452 5176 y(~)1470
5183 y FP(\021)p FX(;)17 b(\()p FZ(Con)1786 5198 y FL(j)1838
5176 y FY(~)1845 5183 y FP(x)p FX(\))44 b FY(.)g(\036)2128
5198 y Fq(j)2178 5176 y FY(~)2186 5183 y FP(x)1997 5667
y F4(109)p eop
%%Page: 110 115
110 114 bop 357 -6 a FB(4.4.2)118 b(the)31 b(guarded)g(\002xpoint)f
(principle)357 271 y F4(Before)22 b(gi)n(ving)e(the)i(construction)e
(of)h(the)h(elimination)d(rule)j(which)f(performs)g(the)h(job)f(of)i(C)
t F2(O)t(Q)r F4(')-5 b(s)357 421 y FW(Fix)27 b F4(construct,)g(let)h
(us)f(look)g(at)g(an)h(e)o(xample)f(which)g(moti)n(v)n(ates)e(both)i
(the)g(need)h(for)g(it)f(and)g(the)357 570 y(manner)d(in)h(which)f(it)g
(is)h(done.)357 780 y(It)19 b(is)g(that)g(f)o(amous)g(old)g(troublemak)
o(er:)27 b(the)20 b(Fibonacci)f(func-)357 929 y(tion,)36
b(which)e(is)g(used)g(for)h(counting)e(rabbits,)j(dra)o(wing)d(at-)357
1078 y(tracti)n(v)o(e)d(rectangles)i(and)f(making)g(Euclid')-5
b(s)30 b(algorithm)g(go)357 1228 y(as)25 b(slo)n(wly)e(as)i(possible:)p
2652 670 1136 4 v 2652 1202 4 532 v 2727 780 a FZ(\002b)99
b(0)h FX(=)147 b FZ(s0)2727 900 y(\002b)60 b(s0)100 b
FX(=)147 b FZ(s0)2727 1020 y(\002b)21 b(ss)p FP(n)100
b FX(=)2874 1141 y FZ(plus)22 b FX(\()p FZ(\002b)f FP(n)q
FX(\))h(\()p FZ(\002b)f(s)p FP(n)p FX(\))p 3784 1202
V 2652 1205 1136 4 v 357 1430 a F4(Let)k(us)g(see)h(what)f(goes)g
(wrong)g(if)g(we)h(just)f(blunder)f(in)h(with)g FZ(N)-63
b(NElim)q F4(,)357 1580 y(trying)31 b(to)g(mimic)g(this)g
(de\002nition.)51 b(Here)32 b(is)g(the)g(initial)e(state,)j(with)357
1729 y(the)c(return)g(type)g(decorated)g(by)g FX(!)p
F4(-binding,)h(so)e(we)i(can)g(see)f(what)g(is)357 1879
y(happening.)p 2969 1321 819 4 v 2969 1852 4 532 v 3041
1430 a FX(!)p FZ(Fib)p FX(=)22 b FY(\025)p 3365 1430
30 4 v 47 w FX(:)11 b FZ(N)-63 b(N)p FY(:)22 b FZ(N)-63
b(N)3228 1551 y FX(:)47 b FZ(N)-63 b(N)27 b F3(!)h FI(Type)3022
1671 y FX(?)p FZ(\002b)43 b FX(:)k F3(8)p FP(n)q FX(:)22
b FZ(N)-63 b(N)3357 1791 y(Fib)p 3516 1717 112 4 v 3516
1818 4 101 v 51 w FP(n)p 3624 1818 V 3516 1821 112 4
v 3784 1852 4 532 v 2969 1855 819 4 v 357 2143 a F4(Let)24
b(us)h F0(eliminate)g FP(n)p F4(.)357 2353 y(Again,)g(the)g
FX(!)p F4(-binding)g(tracks)h(the)f(ar)n(guments.)33
b(W)-8 b(e)26 b(can)g(certainly)357 2502 y(\002ll)35
b(in)f FZ(\002b)732 2517 y FM(0)771 2502 y F4(.)61 b(No)n(w)35
b(w)o(atch)g(what)f(happens)h(when)g(we)g F0(eliminate)357
2652 y F4(again)24 b(to)g(split)g(the)h(successor)f(case:)p
2891 1972 897 4 v 2891 2686 4 715 v 7 setlinewidth np
2999 2052 25 135.00 315.00 arc st 7 setlinewidth np 3035
2034 18 180.00 360.00 arc st 7 setlinewidth np 3088 2034
35 180.00 360.00 arc st 7 setlinewidth np 3133 2061 28
251.56 341.56 arc st 7 setlinewidth np 3160 2079 27 270.00
450.00 arc st 7 setlinewidth np 3124 2105 35 360.00 540.00
arc st 7 setlinewidth np 3070 2105 18 360.00 540.00 arc
st 7 setlinewidth np 3026 2105 27 360.00 540.00 arc st
7 setlinewidth np 2990 2087 19 63.43 243.43 arc st 2944
2264 a FX(?)p FZ(\002b)3107 2279 y FM(0)3146 2264 y FX(:)e
FZ(Fib)h(0)2944 2384 y FX(?)p FZ(\002b)3107 2399 y FL(s)3146
2384 y FX(:)f F3(8)q FP(n)90 b FX(:)23 b FZ(N)-63 b(N)3195
2504 y F3(8)q FP(\002b)3349 2536 y FL(n)3396 2504 y FX(:)23
b FZ(Fib)f FP(n)3251 2625 y FZ(Fib)g(s)p 3448 2550 112
4 v 3448 2651 4 101 v 28 w FP(n)p 3556 2651 V 3448 2654
112 4 v 3784 2686 4 715 v 2891 2689 897 4 v 357 2932
a F4(The)37 b FZ(Fib)32 b(s0)37 b F4(case)i(is)e(\002ne,)k(b)n(ut)c
(for)h(double-successor)l(,)357 3082 y(disaster)46 b(has)g(struck!)96
b(W)-8 b(e)47 b(ha)n(v)o(e)f(our)h FZ(Fib)38 b(s)p FP(n)47
b F4(safely)357 3231 y(enough,)30 b(b)n(ut)g(what)g(has)g(happened)g
(with)f FZ(Fib)d FP(n)q F4(?)47 b(It)30 b(has)357 3381
y(appeared,)21 b(all)e(right,)g(b)n(ut)g(in)g(the)g(wrong)g
(place\227we)g(ha)n(v)o(e)357 3530 y(no)24 b(hope)h(of)g(accessing)f
(it.)p 2551 2761 1237 4 v 2551 3836 4 1076 v 7 setlinewidth
np 2634 2841 25 135.00 315.00 arc st 7 setlinewidth np
2669 2823 18 180.00 360.00 arc st 7 setlinewidth np 2723
2823 35 180.00 360.00 arc st 7 setlinewidth np 2767 2850
28 251.56 341.56 arc st 7 setlinewidth np 2794 2868 27
270.00 450.00 arc st 7 setlinewidth np 2759 2894 35 360.00
540.00 arc st 7 setlinewidth np 2705 2894 18 360.00 540.00
arc st 7 setlinewidth np 2660 2894 27 360.00 540.00 arc
st 7 setlinewidth np 2625 2877 19 63.43 243.43 arc st
2579 3053 a FX(?)p FZ(\002b)2741 3068 y FL(s)p FM(0)2813
3053 y FX(:)f F3(8)p FP(\002b)3017 3084 y FM(0)3056 3053
y FX(:)f FZ(Fib)h(0)2918 3173 y(Fib)f(s0)2579 3294 y
FX(?)p FZ(\002b)2741 3309 y FL(ss)2813 3294 y FX(:)h
F3(8)p FP(n)123 b FX(:)23 b FZ(N)-63 b(N)2863 3414 y
F3(8)p FN(hyp)5 b FX(:)23 b F3(8)p FP(\002b)3300 3446
y FL(n)3347 3414 y FX(:)f FZ(Fib)g FP(n)3201 3534 y FZ(Fib)g(s)p
FP(n)2863 3655 y F3(8)p FP(\002b)3017 3686 y FL(sn)3096
3655 y FX(:)h FZ(Fib)f(s)p FP(n)2918 3775 y FZ(Fib)g(ss)p
FP(n)p 3784 3836 V 2551 3839 1237 4 v 357 3976 a F4(Of)h(course,)h(the)
g(classic)f(de\002nition)f(of)i(the)f(Fibonacci)h(function)f(is)g(f)o
(amous)g(for)h(its)e(abominable)357 4125 y(run-time.)726
4089 y FS(4)820 4125 y F4(The)33 b(traditional)g(remedy)g(is)g(to)h
(write)f(a)h(linear)g(recursion)f(computing)f(a)j(pair)e(of)357
4275 y(successi)n(v)o(e)27 b(v)n(alues.)43 b(In)29 b([BD77)q(],)h
(Burstall)f(and)g(Darlington)f(transform)g(the)h(abo)o(v)o(e)f
(de\002nition)357 4424 y(into)c(the)g(follo)n(wing)f(more)i(ef)n
(\002cient)g(form:)728 4681 y FZ(\002b)176 b(0)100 b
FX(=)148 b FZ(s)o(0)728 4801 y(\002b)138 b(s)o(0)100
b FX(=)148 b FZ(s)o(0)728 4922 y(\002b)99 b(s)o(s)p FP(n)h
FX(=)148 b(\()p FZ(\002bss)20 b FP(n)q FX(\)[)p FN(u)p
FX(;)d FN(v)p FX(])p FY(:)p FZ(plus)k FN(u)i(v)650 5042
y FZ(\002bss)176 b(0)100 b FX(=)148 b FZ(<s0,)o(s0>)650
5163 y(\002bss)137 b(s)p FP(n)100 b FX(=)148 b(\()p FZ(\002bss)20
b FP(n)q FX(\)[)p FN(u)p FX(;)d FN(v)p FX(])p FY(:)p
FZ(<)q FN(v)p FZ(,)o(plus)22 b FN(u)g(v)p FZ(>)p 357
5267 1373 4 v 473 5328 a FR(4)506 5358 y FQ(Ex)o(ercise:)j(compute)18
b(this.)1997 5667 y F4(110)p eop
%%Page: 111 116
111 115 bop 357 -6 a F4(By)32 b(design,)i(the)e(auxiliary)f(function)h
FZ(\002bss)f F4(computes)g(e)o(xactly)h(the)g(information)e(required)j
(to)357 144 y(complete)26 b(the)g(double-successor)g(case,)i(and)f(it)f
(does)g(so)h(by)f(a)h(one-step)g(recursion.)36 b(The)27
b(main)357 293 y(function)d(is)g(thus)g(reduced)h(to)g(a)g(case)g
(analysis.)357 503 y(In)c([Gim94)o(],)h(Gim)6 b(\264)-39
b(enez)21 b(ef)n(fecti)n(v)o(ely)f(generalises)h(this)f(technique)h(to)
g(an)h(encoding)e(of)h(recursion)357 652 y(on)j F0(guarded)i
F4(ar)n(guments,)e(and)h(it)g(this)e(technique)i(which)f(I)h(present)g
(belo)n(w)-6 b(.)359 862 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(guarded)717 1154 y F3(\017)48 b F4(if)24
b FZ(Con)k F4(is)23 b(a)h(datatype)f(constructor)g(with)g(non-recursi)n
(v)o(e)g(ar)n(guments)3323 1147 y FY(~)3331 1154 y FP(a)h
F4(and)815 1304 y(recursi)n(v)o(e)d(ar)n(guments)1621
1297 y FY(~)1633 1304 y FP(r)p F4(,)h(then)g(each)g FP(r)2156
1319 y FL(i)2206 1304 y F4(is)f F0(guarded)2647 1267
y FS(5)2708 1304 y F4(\(by)g FZ(Con)t F4(\))h(in)g FZ(Con)3440
1297 y FY(~)3450 1304 y FP(a)3492 1297 y FY(~)3505 1304
y FP(r)717 1495 y F3(\017)48 b F4(if)25 b FP(r)g F4(is)f(guarded)h(in)f
FP(s)h F4(and)g FP(s)f F4(is)h(guarded)f(in)h FP(t)p
F4(,)g(then)f FP(r)h F4(is)f(guarded)h(in)g FP(t)357
1787 y F4(The)32 b(idea)g(is)g(to)g(introduce)f(an)h(intermediate)g
(data)g(structure)g(which)357 1936 y(stores)c(for)g(each)i(input)d(the)
h(recursi)n(v)o(e)g(v)n(alues)g(we)g(need)h(to)f(compute)357
2086 y(the)c(output.)30 b(W)-8 b(e)25 b(may)f(code)h(this)f(up)h(as)g
(an)g(elimination)d(rule:)p 2988 1678 800 4 v 2988 2594
4 916 v 3041 1787 a FX(\010)28 b(:)g F3(8)p FP(n)12 b
FX(:)f FZ(N)-63 b(N)p FY(:)22 b FI(Type)3259 2088 y FJ(A)n(ux)3439
2122 y FX(\010)3536 2088 y FP(n)3236 2187 y FY(:)17 b(:)g(:)f(:)h(:)g
(:)g(:)f(:)h(:)3351 2347 y FX(\010)23 b FP(n)p 3176 2403
499 4 v 3176 2509 a F3(8)p 3231 2410 246 4 v 3231 2535
4 126 v 28 w FP(n)12 b FX(:)f FZ(N)-63 b(N)p 3474 2535
V 3231 2538 246 4 v 28 w FY(:)22 b FX(\010)h FP(n)p 3784
2594 4 916 v 2988 2597 800 4 v 357 2733 a F4(Once)29
b(we)h(ha)n(v)o(e)f(applied)g(this)f(rule,)j(case)f(analysis)e(on)h
FP(n)h F4(allo)n(ws)e(us)h(to)g(split)g(the)g(subgoal)f(into)357
2883 y(cases)e(for)g(the)g(separate)h(patterns)f(we)g(wish)f(to)h
(treat:)33 b(for)27 b(each)f(pattern)g FP(p)p F4(,)g(we)h(must)e(pro)o
(v)o(e)g FX(\010)e FP(p)357 3032 y F4(using)g(the)i(information)e
(supplied)h(in)g FJ(A)n(ux)1885 3066 y FX(\010)1981 3032
y FP(p)p F4(.)357 3242 y(Of)h(course,)g(to)f(pro)o(v)o(e)g(this)g
(rule,)g(we)h(shall)f(ha)n(v)o(e)h(to)f(be)h(able)g(to)g(sho)n(w)601
3534 y F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23
b FJ(A)n(ux)1075 3568 y FX(\010)1172 3534 y FP(n)357
3827 y F4(This)28 b(proof)h(will)f(go)h(by)g(recursion)g(on)g
FP(n)p F4(:)40 b(we)29 b(must)f(generate)i(the)f(auxiliary)f
(information)g(for)357 3976 y FZ(s)o FP(n)22 b F4(from)f(the)h
(corresponding)e(information)g(for)h FP(n)q F4(.)29 b(Just)21
b(as)g(in)g(the)h(Fibonacci)f(function,)g(we)h(may)357
4125 y(carry)j(o)o(v)o(er)e(an)o(y)g(information)g(we)i(need)f(to)g(k)o
(eep,)g(together)g(with)f(computing)f(the)i(ne)n(w)g(v)n(alue)g(in)357
4275 y(e)o(xactly)g(the)g(same)h(w)o(ay)g(as)g(the)g(`main')f(function)
g(does.)357 4484 y(What)h(should)f FJ(A)n(ux)1069 4518
y FX(\010)1169 4484 y F4(be?)33 b(Dif)n(ferent)25 b(depths)g(of)g
(recursion)g(necessitate)g(dif)n(ferent)g(amounts)f(of)357
4634 y(auxiliary)g(information.)29 b(F)o(or)c(Fibonacci,)g(we)g(may)f
(choose)601 4891 y FZ(A)n(ux)781 4906 y FL(F)10 b(ib)993
4891 y FZ(0)100 b FX(=)148 b FZ(1)-44 b(1)601 5011 y(A)n(ux)781
5026 y FL(F)10 b(ib)955 5011 y FZ(s)o(0)100 b FX(=)148
b FZ(1)-44 b(1)601 5132 y(A)n(ux)781 5147 y FL(F)10 b(ib)916
5132 y FZ(s)o(s)p FP(n)100 b FX(=)148 b(\()p FZ(Fib)22
b FP(n)p FX(\))p F3(\002)q FX(\()p FZ(Fib)g(s)p FP(n)p
FX(\))p 357 5236 1373 4 v 473 5311 a FR(5)506 5341 y
FQ(more)j(carefully)-5 b(,)25 b(if)h Fk(r)1151 5353 y
Fj(i)1205 5341 y FQ(is)g(a)h(higher)n(-order)22 b(recursi)n(v)o(e)j(ar)
o(gument)e(of)j(type)f Fy(8)2761 5317 y Fi(~)2767 5341
y Fk(h)18 b Fh(:)2875 5319 y Fi(~)2870 5341 y Fk(H)o
Fi(:)23 b FQ(,)28 b(then)d(it)h(is)h Fk(r)3384 5353 y
Fj(i)3428 5317 y Fi(~)3435 5341 y Fk(h)f FQ(which)f(is)357
5451 y(guarded,)18 b(for)h(an)o(y)916 5427 y Fi(~)923
5451 y Fk(h)1997 5667 y F4(111)p eop
%%Page: 112 117
112 116 bop 357 -6 a F4(Stylish)23 b(users)g(may)h(choose)g(to)g(de)n
(v)o(elop)e(their)i(auxiliary)f(data)h(structure)g(as)g(the)o(y)f(de)n
(v)o(elop)g(their)357 144 y(function,)h(for)h(each)g(follo)n(ws)e(the)i
(case)g(analysis)f(of)h(the)g(other)-5 b(.)357 353 y(More)37
b(generally)-6 b(,)39 b(we)e(may)f(gi)n(v)o(e)g(a)h(single)f(auxiliary)
h(structure)f(suitable)g(for)h(all)g(occasions.)357 503
y(Gim)6 b(\264)-39 b(enez)24 b(de\002nes)h(it)g(inducti)n(v)o(ely)d
(for)j(a)g(parametric)g FX(\010)p F4(:)p 611 847 661
4 v 611 925 a FZ(N)-63 b(NA)n(uxData)1120 959 y FX(\010)1216
925 y FZ(0)1561 805 y FX(\010)22 b FP(n)121 b FZ(N)-63
b(NA)n(uxData)2338 839 y FX(\010)2435 805 y FP(n)p 1561
847 930 4 v 1675 925 a FZ(N)g(NA)n(uxData)2184 959 y
FX(\010)2281 925 y FZ(s)p FP(n)357 1233 y F4(F)o(or)30
b(each)h(datatype,)h(the)e(auxiliary)g(mimics)f(the)h(constructors)g
(and)g(recursion)h(pattern.)47 b(Each)357 1382 y(recursi)n(v)o(e)22
b(ar)n(gument)g(is)g(decorated)h(with)f(a)h FX(\010)g
F4(proof,)g(so)f(that)h(for)g(each)g(element)f(of)h(the)f(original)357
1532 y(type,)i(the)h(auxiliary)f(stores)g FX(\010)h F4(for)h(all)e(its)
g(proper)h(subterms.)30 b(Proofs)25 b(of)601 1824 y F3(8)p
FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(\()p FZ(N)-63
b(NA)n(uxData)1442 1858 y FX(\010)1538 1824 y FZ(s)p
FP(n)p FX(\))28 b F3(!)f FX(\010)c FP(n)357 2117 y F4(then)g(go)g(by)h
(case)g(analysis)f(on)g FZ(N)-63 b(NA)n(uxData)o F4(,)24
b(at)f(the)h(same)f(time)g(splitting)f(the)h FZ(N)-63
b(N)p F4(-patterns)23 b(and)357 2266 y(surf)o(acing)h(the)h(recursions)
f(for)h(the)g(e)o(xposed)f(subterms.)357 2476 y(My)c(treatment)h(dif)n
(fers)f(only)h(pragmatically)-6 b(,)20 b(in)h(that)f(I)i(compute)e(the)
h(auxiliary)f(structure)h(rather)357 2625 y(than)j(de\002ning)h(it)f
(inducti)n(v)o(ely)-6 b(.)601 2907 y FZ(N)-63 b(NA)n(ux)21
b FX(\010)61 b FZ(0)100 b FX(=)148 b FZ(1)-44 b(1)601
3028 y(N)-63 b(NA)n(ux)21 b FX(\010)h FZ(s)p FP(n)100
b FX(=)148 b(\(\010)22 b FP(n)p FX(\))p F3(\002)q FX(\()p
FZ(N)-63 b(NA)n(ux)21 b FX(\010)i FP(n)p FX(\))357 3314
y F4(As)f(case)i(analysis)e(feeds)h FZ(N)-63 b(NA)n(ux)22
b F4(constructor)g(e)o(xpressions,)g(it)h(unfolds)e(lik)o(e)i(one)g(of)
g(those)f(w)o(al-)357 3464 y(lets)30 b(for)h(people)f(with)h(too)f(man)
o(y)f(credit)i(cards,)i(re)n(v)o(ealing)c(the)i(proofs)f(of)h
FX(\010)h F4(for)f(the)f(e)o(xposed)357 3613 y(subterms.)i(The)26
b F0(blunderb)n(uss)i F4(tactic)e(can)g(be)g(used)f(to)h(e)o(xtract)f
(the)h(required)f(hypothesis,)f(pro-)357 3763 y(vided)g(it)g(can)h(be)g
(identi\002ed)g(from)f(its)g(type.)357 3972 y(Let)g(us)h(try)f(to)h
(pro)o(v)o(e)601 4265 y F3(8)p FP(n)11 b FX(:)g FZ(N)-63
b(N)p FY(:)23 b FZ(N)-63 b(NA)n(ux)21 b FX(\010)h FP(n)357
4557 y F4(by)i(induction)g(on)g FP(n)p F4(.)31 b(The)25
b(base)g(case)g(is)g(tri)n(vial.)k(The)c(step)f(case)i(is)601
4849 y F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23
b FX(\()p FZ(N)-63 b(NA)n(ux)21 b FX(\010)h FP(n)q FX(\))27
b F3(!)h FZ(N)-63 b(NA)n(ux)21 b FX(\010)h FZ(s)p FP(n)357
5142 y F4(which)i(reduces)h(to)601 5434 y F3(8)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(\()p FZ(N)-63 b(NA)n(ux)21
b FX(\010)h FP(n)q FX(\))27 b F3(!)h FX(\(\010)22 b FP(n)q
FX(\))p F3(\002)p FX(\()p FZ(N)-63 b(NA)n(ux)21 b FX(\010)i
FP(n)p FX(\))1997 5667 y F4(112)p eop
%%Page: 113 118
113 117 bop 357 -6 a F4(W)-8 b(e)22 b(can)h(clearly)f(establish)f(the)h
(second)g(component)e(of)j(the)f(pair)-5 b(.)29 b(This)21
b(lea)n(v)o(es)h(the)g(requirement)601 287 y F3(8)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(\()p FZ(N)-63 b(NA)n(ux)21
b FX(\010)h FP(n)q FX(\))27 b F3(!)h FX(\010)22 b FP(n)357
579 y F4(Again)d(using)h(the)h(`hubris')f(technique,)h(we)g(may)f
F0(postpone)i F4(and)f F0(dis-)357 729 y(char)o(ge)29
b F4(this)f(subgoal,)g(we)h(ha)n(v)o(e)g(the)f(auxiliary)g(generation)g
(lemma)357 878 y FZ(N)-63 b(NA)n(uxGen)n F4(:)611 1136
y F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FX(\()p
FZ(N)-63 b(NA)n(ux)21 b FX(\010)h FP(n)q FX(\))27 b F3(!)h
FX(\010)22 b FP(n)p 611 1168 1109 4 v 800 1247 a F3(8)p
FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FZ(N)-63 b(NA)n(ux)21
b FX(\010)i FP(n)357 1504 y F4(and)h(hence)i(the)e(elimination)f(rule)i
FZ(N)-63 b(NFix)p F4(.)p 2972 470 816 4 v 2972 1627 4
1157 v 3025 579 a FZ(N)g(NFix)3025 820 y FX(\010)28 b(:)g
F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FI(Type)3199
1121 y FZ(N)-63 b(NA)n(ux)21 b FX(\010)i FP(n)3184 1220
y FY(:)17 b(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)3343
1380 y FX(\010)22 b FP(n)p 3159 1436 516 4 v 3167 1542
a F3(8)p 3222 1443 246 4 v 3222 1569 4 126 v 29 w FP(n)12
b FX(:)f FZ(N)-63 b(N)p 3465 1569 V 3222 1572 246 4 v
28 w FY(:)22 b FX(\010)h FP(n)p 3784 1627 4 1157 v 2972
1630 816 4 v 357 1766 a F4(I)i(shall)f(gi)n(v)o(e)f(the)i(general)g
(construction)f(for)h(simple)e(types,)h(then)h(discuss)f(e)o
(xtensions.)359 1976 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5
b(T)t(I)g(O)t(N)r F4(:)37 b F0(guarded)26 b(\002xpoint)601
2268 y F4(Consider)k(an)h(inducti)n(v)o(e)d(f)o(amily)i(of)h(datatypes)
601 2418 y(with)24 b FY(c)g F4(constructors)g(as)h(sho)n(wn)f(right.)
601 2627 y(The)784 2620 y FY(~)794 2627 y FP(a)39 b F4(are)h
(non-recursi)n(v)o(e)d(and)i(the)1956 2620 y FY(~)1964
2627 y FP(x)f F4(are)i FY(r)2257 2642 y FL(j)601 2777
y F4(recursi)n(v)o(e)e(ar)n(guments.)75 b(Let)39 b FJ(IndElim)h
F4(be)g(its)601 2926 y(standard)24 b(elimination)f(rule.)p
2443 2159 1158 4 v 2443 2713 4 555 v 2681 2245 402 4
v 2681 2324 a FJ(Ind)k FX(:)h FI(Type)2671 2505 y FY(~)2681
2512 y FP(a)g FX(:)2811 2485 y FY(~)2807 2512 y FP(A)2879
2527 y FL(j)3029 2505 y FY(~)3036 2512 y FP(x)f FX(:)h
F3(f)p FJ(Ind)o F3(g)3419 2463 y FL(r)3451 2473 y Fv(j)p
2681 2549 808 4 v 2776 2630 a FZ(Con)2983 2645 y FL(j)3032
2623 y FY(~)3042 2630 y FP(a)3101 2623 y FY(~)3108 2630
y FP(x)g FX(:)g FJ(Ind)p 3597 2713 4 555 v 2443 2716
1158 4 v 601 3090 a F4(Let)35 b(us)f(\002x)i(the)f(components)e(to)i
(be)601 3239 y(supplied)44 b(by)h(the)h(user)g(and)f(mak)o(e)601
3388 y(holes)c(for)i(the)e(components)g(to)h(be)601 3538
y(supplied)69 b(by)h(machine.)168 b(A)71 b FX(!)p F4(-)601
3687 y(binding)39 b FJ(IndA)l(UX)h F4(helps)g(us)g(track)601
3837 y(the)24 b(de)n(v)o(elopment)f(of)i FJ(IndA)n(ux)n
F4(.)p 2063 2980 1538 4 v 2063 4435 4 1455 v 2116 3090
a FY(\025)p FX(\010)498 b(:)47 b F3(8)p FP(x)11 b FX(:)g
FJ(Ind)p FY(:)22 b FI(Type)2146 3210 y FX(!)p FJ(IndA)l(UX)196
b FX(=)22 b FY(\025)p FP(x)11 b FX(:)g FJ(Ind)p FY(:)22
b FI(Type)2127 3330 y FX(?)p FJ(IndA)n(ux)235 b FX(:)47
b F3(8)p FP(x)p FX(:)22 b FJ(Ind)2870 3451 y(IndA)l(UX)g
FP(x)2116 3571 y FY(\025)p FN(body)343 b FX(:)47 b F3(8)p
FP(x)100 b FX(:)22 b FJ(Ind)2815 3692 y F3(8)p FP(aux)q
FX(:)g FJ(IndA)n(ux)f FP(x)2870 3812 y FX(\010)i FP(x)2127
3932 y FX(?)p FJ(IndA)n(uxGen)f FX(:)47 b F3(8)p FP(x)p
FX(:)22 b FJ(Ind)2870 4053 y(IndA)n(ux)f FP(x)2127 4173
y FX(?)p FJ(IndFix)300 b FX(:)p 2870 4173 450 4 v 2815
4254 a F3(8)p 2869 4290 4 121 v 50 w FP(x)50 b FX(:)72
b FJ(Ind)p 3319 4290 V 2870 4293 450 4 v 2870 4374 a
FX(\010)23 b FP(x)p 3597 4435 4 1455 v 2063 4438 1538
4 v 601 4563 a F4(W)-8 b(e)25 b(may)f(immediately)f(pro)o(v)o(e)h
FJ(IndFix)h F4(with)815 4820 y FJ(IndFix)i FX(=)h FY(\025)p
FP(x)11 b FX(:)g FJ(Ind)o FY(:)23 b FN(body)g FP(x)f
FX(\()p FJ(IndA)n(uxGen)e FP(x)o FX(\))601 5078 y F4(No)n(w)k(let)g(us)
h(eliminate)e(the)i FP(x)g F4(in)f(both)g(the)h(auxiliary)f(and)g(its)g
(generator)l(,)h(aquiring)601 5227 y(a)30 b(subgoal)e(for)i(each)h
(constructor)-5 b(.)44 b(One)30 b(is)f(enough)g(to)h(illustrate)e(the)i
(point,)f(and)601 5377 y(reduces)c(the)f(subscript)g(terror)-5
b(.)1997 5667 y(113)p eop
%%Page: 114 119
114 118 bop 7 setlinewidth np 870 -50 25 135.00 315.00
arc st 7 setlinewidth np 906 -68 18 180.00 360.00 arc
st 7 setlinewidth np 959 -68 35 180.00 360.00 arc st
7 setlinewidth np 1004 -41 28 251.56 341.56 arc st 7
setlinewidth np 1031 -23 27 270.00 450.00 arc st 7 setlinewidth
np 995 4 35 360.00 540.00 arc st 7 setlinewidth np 941
4 18 360.00 540.00 arc st 7 setlinewidth np 897 4 27
360.00 540.00 arc st 7 setlinewidth np 861 -14 19 63.43
243.43 arc st 815 175 a FX(?)p FJ(IndA)n(ux)1193 190
y FL(con)1541 175 y FX(:)47 b F3(8)1660 168 y FY(~)1670
175 y FP(a)17 b FX(:)1784 149 y FY(~)1780 175 y FP(A)1615
295 y F3(8)1663 288 y FY(~)1670 295 y FP(x)11 b FX(:)22
b F3(f)p FJ(Ind)p F3(g)2032 247 y FL(r)1615 429 y F3(8)1669
402 y FY(~)1670 429 y FP(T)p FX(:)g F3(f)p FJ(IndA)l(UX)g
FP(x)2249 444 y FL(i)2278 429 y F3(g)2327 380 y FL(r)2327
458 y(i)1670 549 y FJ(IndA)l(UX)g FX(\()p FZ(Con)2301
542 y FY(~)2311 549 y FP(a)2370 542 y FY(~)2377 549 y
FP(x)p FX(\))834 669 y(!)p FJ(IndA)n(ux)323 b FX(=)22
b FJ(IndElim)g(IndA)l(UX)g(IndA)n(ux)2676 684 y FL(con)2805
669 y FY(:)17 b(:)g(:)p 7 setlinewidth np 870 761 25
135.00 315.00 arc st 7 setlinewidth np 906 743 18 180.00
360.00 arc st 7 setlinewidth np 959 743 35 180.00 360.00
arc st 7 setlinewidth np 1004 770 28 251.56 341.56 arc
st 7 setlinewidth np 1031 787 27 270.00 450.00 arc st
7 setlinewidth np 995 814 35 360.00 540.00 arc st 7 setlinewidth
np 941 814 18 360.00 540.00 arc st 7 setlinewidth np
897 814 27 360.00 540.00 arc st 7 setlinewidth np 861
796 19 63.43 243.43 arc st 815 985 a FX(?)p FJ(IndA)n(uxGen)1405
1000 y FL(con)1541 985 y FX(:)47 b F3(8)1660 978 y FY(~)1670
985 y FP(a)6 b FX(:)1773 959 y FY(~)1769 985 y FP(A)1615
1106 y F3(8)1663 1099 y FY(~)1670 1106 y FP(x)p FX(:)22
b F3(f)p FJ(Ind)p F3(g)2021 1057 y FL(r)1615 1235 y F3(8)1655
1213 y FY(~)1670 1235 y FP(t)17 b FX(:)22 b F3(f)p FJ(IndA)n(ux)f
FP(x)2223 1250 y FL(i)2251 1235 y F3(g)2301 1186 y FL(r)2301
1264 y(i)1670 1363 y FJ(IndA)n(ux)2002 1378 y FL(con)2126
1356 y FY(~)2136 1363 y FP(a)2195 1356 y FY(~)2202 1363
y FP(x)2259 1342 y FY(~)2274 1363 y FP(t)834 1484 y FX(!)p
FJ(IndA)n(uxGen)110 b FX(=)22 b FJ(IndElim)g(IndA)n(ux)f(IndA)n(uxGen)
2873 1499 y FL(con)3001 1484 y FY(:)c(:)g(:)601 1710
y F4(T)-8 b(o)24 b(b)n(uild)f FJ(IndA)n(ux)1287 1725
y FL(con)1398 1710 y F4(,)i(we)f(introduce)g(the)g(ar)n(guments)g(and)g
(return)h(the)f(iterated)g FX(\006)601 1860 y F4(of)j(pair)n(-types)f
(collecting,)h(for)h(each)f(recursi)n(v)o(e)g(ar)n(gument)g
FP(x)2773 1875 y FL(i)2802 1860 y F4(,)g(both)g FX(\010)d
FP(x)3203 1875 y FL(i)3258 1860 y F4(and)j FP(T)3490
1875 y FL(i)3518 1860 y F4(,)601 2009 y(which)d(the)h(lo)o(v)o(ely)e
(let-binding)g(reminds)h(us)g(is)g(really)h FJ(IndA)n(ux)c
FP(x)2955 2024 y FL(i)2983 2009 y F4(.)601 2200 y(F)o(or)39
b FJ(IndA)n(uxGen)1321 2215 y FL(con)1432 2200 y F4(,)k(we)c(introduce)
g(the)g(ar)n(guments)f(and)h(return)h(the)f(corre-)601
2350 y(sponding)28 b(iterated)i(tuple)f(of)i(pairs,)g(passing)e(on)g
(the)h(accumulated)g(proof)g FP(t)3341 2365 y FL(i)3399
2350 y F4(and)601 2499 y(adding)24 b(the)g(ne)o(xt)g(layer)l(,)h
(computed)f(by)h FN(body)p F4(.)p 7 setlinewidth np 870
2699 25 135.00 315.00 arc st 7 setlinewidth np 906 2681
18 180.00 360.00 arc st 7 setlinewidth np 959 2681 35
180.00 360.00 arc st 7 setlinewidth np 1004 2707 28 251.56
341.56 arc st 7 setlinewidth np 1031 2725 27 270.00 450.00
arc st 7 setlinewidth np 995 2752 35 360.00 540.00 arc
st 7 setlinewidth np 941 2752 18 360.00 540.00 arc st
7 setlinewidth np 897 2752 27 360.00 540.00 arc st 7
setlinewidth np 861 2734 19 63.43 243.43 arc st 815 2923
a FX(!)p FJ(IndA)n(ux)1174 2938 y FL(con)1498 2923 y
FX(=)d FY(\025)1643 2916 y(~)1653 2923 y FP(a)17 b FX(:)1767
2897 y FY(~)1763 2923 y FP(A)1596 3044 y FY(\025)1646
3037 y(~)1653 3044 y FP(x)11 b FX(:)22 b F3(f)p FJ(Ind)o
F3(g)2014 2995 y FL(r)1596 3177 y FY(\025)1651 3151 y(~)1653
3177 y FP(T)p FX(:)g F3(f)p FJ(IndA)l(UX)f FP(x)2232
3192 y FL(i)2260 3177 y F3(g)2310 3129 y FL(r)2310 3206
y(i)1653 3297 y FX(\006)p F3(f)p FX(\(\010)i FP(x)1953
3312 y FL(i)1982 3297 y FX(\))p F3(\002)p FP(T)2158 3312
y FL(i)2186 3297 y F3(g)2236 3249 y FL(r)2236 3326 y(i)p
7 setlinewidth np 870 3389 25 135.00 315.00 arc st 7
setlinewidth np 906 3371 18 180.00 360.00 arc st 7 setlinewidth
np 959 3371 35 180.00 360.00 arc st 7 setlinewidth np
1004 3398 28 251.56 341.56 arc st 7 setlinewidth np 1031
3415 27 270.00 450.00 arc st 7 setlinewidth np 995 3442
35 360.00 540.00 arc st 7 setlinewidth np 941 3442 18
360.00 540.00 arc st 7 setlinewidth np 897 3442 27 360.00
540.00 arc st 7 setlinewidth np 861 3424 19 63.43 243.43
arc st 815 3614 a FX(!)p FJ(IndA)n(uxGen)1386 3629 y
FL(con)1498 3614 y FX(=)f FY(\025)1643 3607 y(~)1653
3614 y FP(a)6 b FX(:)1756 3587 y FY(~)1752 3614 y FP(A)1596
3734 y FY(\025)1646 3727 y(~)1653 3734 y FP(x)p FX(:)22
b F3(f)p FJ(Ind)o F3(g)2003 3685 y FL(r)1596 3863 y FY(\025)1637
3841 y(~)1653 3863 y FP(t)17 b FX(:)22 b F3(f)p FJ(IndA)n(ux)f
FP(x)2205 3878 y FL(i)2234 3863 y F3(g)2283 3814 y FL(r)2283
3892 y(i)1653 3903 y Fz(\012)1700 3983 y F3(fh)o FN(body)i
FP(x)2086 3998 y FL(i)2137 3983 y FP(t)2170 3998 y FL(i)2198
3983 y FX(;)17 b FP(t)2275 3998 y FL(i)2303 3983 y F3(ig)2391
3935 y FL(r)2391 4016 y(i)2429 3903 y Fz(\013)815 4104
y FX(!)p FJ(IndA)n(uxGen)110 b FX(=)22 b FJ(IndElim)g(IndA)n(ux)f(IndA)
n(uxGen)2854 4119 y FL(con)2982 4104 y FY(:)c(:)g(:)601
4330 y F4(Cutting)k FJ(IndA)l(UX)g F4(and)h(the)g(proofs)g(of)g(the)g
(subgoals,)f(then)h(dischar)n(ging)f(the)h(\002x)o(ed)601
4480 y(hypotheses,)h(we)i(are)g(left)g(with)1997 5667
y(114)p eop
%%Page: 115 120
115 119 bop 815 -6 a FX(!)p FJ(IndA)n(ux)211 b FX(=)47
b FY(:)17 b(:)g(:)1411 115 y FX(:)46 b F3(8)q FX(\010:)22
b F3(8)p FP(x)12 b FX(:)f FJ(Ind)o FY(:)23 b FI(Type)1484
235 y F3(8)q FP(x)d FX(:)i FJ(Ind)1540 356 y FI(Type)815
476 y FX(!)p FJ(IndA)n(uxGen)n FX(=)47 b FY(:)17 b(:)g(:)1411
596 y FX(:)46 b F3(8)q FX(\010)155 b(:)23 b F3(8)p FJ(Ind)11
b FX(:)g FP(x)p FY(:)22 b FI(Type)1484 717 y F3(8)q FN(body)p
FX(:)h F3(8)p FP(x)99 b FX(:)23 b FJ(Ind)1815 837 y F3(8)p
FP(aux)p FX(:)g FJ(IndA)n(ux)d FP(x)1870 958 y FX(\010)j
FP(x)1484 1078 y F3(8)q FP(x)175 b FX(:)23 b FJ(Ind)1540
1198 y(IndA)n(ux)1886 1191 y FY(~)1893 1198 y FP(x)815
1355 y FX(!)p FJ(IndFix)240 b FX(=)47 b FY(:)17 b(:)g(:)1374
1476 y FX(:)47 b F3(8)p FX(\010)156 b(:)22 b F3(8)p FP(x)11
b FX(:)g FJ(Ind)p FY(:)22 b FI(Type)1448 1596 y F3(8)p
FN(body)q FX(:)g F3(8)q FP(x)99 b FX(:)22 b FJ(Ind)1778
1716 y F3(8)q FP(aux)p FX(:)g FJ(IndA)n(ux)f FP(x)1834
1837 y FX(\010)h FP(x)p 1503 1876 1033 4 v 1448 1957
a F3(8)p 1502 1993 4 121 v 50 w FP(x)126 b FX(:)72 b
FJ(Ind)p 2534 1993 V 1503 1997 1033 4 v 1503 2078 a FX(\010)23
b FP(x)p 2759 1246 877 4 v 2759 2162 4 916 v 2812 1355
a FX(\010)28 b(:)g F3(8)p FP(x)11 b FX(:)g FJ(Ind)o FY(:)23
b FI(Type)2986 1656 y FJ(IndA)n(ux)e FX(\010)h FP(x)2958
1755 y FY(:)17 b(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)3163
1915 y FX(\010)23 b FP(x)p 2946 1971 577 4 v 2954 2077
a F3(8)p 3009 1978 308 4 v 3009 2104 4 126 v 29 w FP(x)11
b FX(:)g FJ(Ind)p 3313 2104 V 3009 2107 308 4 v 28 w
FY(:)22 b FX(\010)h FP(n)p 3632 2162 4 916 v 2759 2165
877 4 v 601 2324 a F4(The)h(follo)n(wing)f(con)l(v)o(ersions)h(hold:)
815 2557 y FJ(IndA)n(ux)d FX(\010)i(\()p FZ(Con)1523
2550 y FY(~)1533 2557 y FP(a)1592 2550 y FY(~)1599 2557
y FP(x)p FX(\))1737 2529 y F3(\030)1738 2561 y FX(=)1864
2557 y(\006)p F3(f)p FX(\(\010)g FP(x)2165 2572 y FL(i)2193
2557 y FX(\))p F3(\002)p FX(\()p FJ(IndA)n(ux)e FX(\010)i
FP(x)2842 2572 y FL(i)2871 2557 y FX(\))p F3(g)2958 2509
y FL(r)2958 2586 y(i)815 2727 y FJ(IndA)n(uxGen)d FX(\010)j
FJ(f)f FX(\()p FZ(Con)1789 2720 y FY(~)1799 2727 y FP(a)1858
2720 y FY(~)1865 2727 y FP(x)p FX(\))2003 2700 y F3(\030)2003
2731 y FX(=)815 2877 y F3(hfh)o FJ(IndFix)g FX(\010)h
FJ(f)f FP(x)1428 2892 y FL(i)1456 2877 y FX(;)17 b FJ(IndA)n(uxGen)j
FX(\010)j FJ(f)f FP(x)2262 2892 y FL(i)2290 2877 y F3(ig)2379
2828 y FL(r)2379 2906 y(i)2417 2877 y F3(i)815 3047 y
FJ(IndFix)g FX(\010)h FJ(f)f FP(x)1351 3019 y F3(\030)1351
3051 y FX(=)1478 3047 y FJ(f)g FX(\()p FJ(IndA)n(uxGen)e
FX(\010)j FJ(f)f FP(x)p FX(\))g FP(x)357 3339 y F4(F)o(or)h(dependent)f
(f)o(amilies)h FJ(F)n(am)p F4(,)h(we)f(ha)n(v)o(e)g(e)o(xactly)f(the)h
(same)g(construction,)f(replacing)h FJ(Ind)g F4(by)p
357 3402 208 4 v 357 3489 a FJ(F)n(am)i F4(or)g(some)g
FJ(F)n(am)1144 3482 y FY(~)1162 3489 y FP(\021)g F4(as)g(appropriate:)
1997 5667 y(115)p eop
%%Page: 116 121
116 120 bop 601 -6 a FY(\025)o FX(\010)667 b(:)46 b F3(8)1515
-13 y FY(~)1522 -6 y FP(x)12 b FX(:)p 1622 -92 208 4
v 11 w FJ(F)n(am)q FY(:)22 b FI(Type)630 125 y FX(!)p
FJ(F)n(amA)l(UX)309 b FX(=)22 b FY(\025)1517 118 y(~)1524
125 y FP(x)11 b FX(:)p 1623 39 V 11 w FJ(F)n(am)q FY(:)22
b FI(Type)630 258 y FX(!)p FJ(F)n(amA)n(ux)1045 273 y
FL(con)1369 258 y FX(=)g FY(\025)1514 251 y(~)1524 258
y FP(a)17 b FX(:)1638 232 y FY(~)1634 258 y FP(A)1467
379 y FY(\025)1517 372 y(~)1524 379 y FP(x)11 b FX(:)22
b F3(f)p FJ(F)n(am)1902 372 y FY(~)1914 379 y FP(s)1953
394 y FL(i)1981 379 y F3(g)2031 327 y FL(r)2031 408 y(i)1467
512 y FY(\025)1523 486 y(~)1524 512 y FP(T)p FX(:)g F3(f)p
FJ(F)n(amA)l(UX)2097 505 y FY(~)2110 512 y FP(s)2149
527 y FL(i)2177 512 y FX(;)17 b FP(x)2270 527 y FL(i)2299
512 y F3(g)2348 460 y FL(r)2348 541 y(i)1524 632 y FX(\006)q
F3(f)p FX(\(\010)1762 625 y FY(~)1775 632 y FP(s)1814
647 y FL(i)1842 632 y FX(;)g FP(x)1936 647 y FL(i)1964
632 y FX(\))p F3(\002)p FP(T)2140 647 y FL(i)2168 632
y F3(g)2218 581 y FL(r)2218 661 y(i)630 753 y FX(!)p
FJ(F)n(amA)n(ux)324 b FX(=)22 b FJ(F)n(amElim)i(F)n(amA)l(UX)f(F)n(amA)
n(ux)2698 768 y FL(con)2826 753 y FY(:)17 b(:)g(:)601
883 y(\025)o FN(body)512 b FX(:)46 b F3(8)1516 876 y
FY(~)1523 883 y FP(x)99 b FX(:)p 1721 797 V 22 w FJ(F)n(am)1467
1003 y F3(8)q FP(aux)p FX(:)22 b FJ(F)n(amA)n(ux)2124
996 y FY(~)2132 1003 y FP(x)1523 1124 y FX(\010)1608
1117 y FY(~)1615 1124 y FP(x)630 1257 y FX(!)p FJ(F)n(amA)n(uxGen)1258
1272 y FL(con)1369 1257 y FX(=)g FY(\025)1514 1250 y(~)1524
1257 y FP(a)6 b FX(:)1627 1231 y FY(~)1623 1257 y FP(A)1467
1378 y FY(\025)1517 1371 y(~)1524 1378 y FP(x)p FX(:)22
b F3(f)p FJ(F)n(am)1891 1371 y FY(~)1903 1378 y FP(s)1942
1393 y FL(i)1970 1378 y F3(g)2020 1326 y FL(r)2020 1407
y(i)1467 1506 y FY(\025)1509 1485 y(~)1524 1506 y FP(t)17
b FX(:)22 b F3(f)p FJ(F)n(amA)n(ux)2071 1499 y FY(~)2083
1506 y FP(s)2122 1521 y FL(i)2150 1506 y FX(;)17 b FP(x)2244
1521 y FL(i)2272 1506 y F3(g)2322 1455 y FL(r)2322 1535
y(i)1524 1546 y Fz(\012)1571 1627 y F3(fh)p FX(\()p FN(body)1933
1620 y FY(~)1946 1627 y FP(s)1985 1642 y FL(i)2013 1627
y FX(;)g FP(x)2106 1642 y FL(i)2157 1627 y FP(t)2190
1642 y FL(i)2218 1627 y FX(\);)g FP(t)2333 1642 y FL(i)2361
1627 y F3(ig)2449 1576 y FL(r)2449 1659 y(i)2487 1546
y Fz(\013)630 1747 y FX(!)p FJ(F)n(amA)n(uxGen)111 b
FX(=)22 b FJ(F)n(amElim)i(F)n(amA)n(ux)e(F)n(amA)n(uxGen)2895
1762 y FL(con)3023 1747 y FY(:)17 b(:)g(:)630 1878 y
FX(!)p FJ(F)n(amFix)389 b FX(=)22 b FY(\025)1517 1871
y(~)1524 1878 y FP(x)11 b FX(:)p 1623 1792 V 11 w FJ(F)n(am)q
FY(:)22 b FN(body)2121 1871 y FY(~)2128 1878 y FP(x)g
FX(\()p FJ(F)n(amA)n(uxGen)2854 1871 y FY(~)2861 1878
y FP(x)p FX(\))357 2133 y F4(If)j(we)g(ha)n(v)o(e)g(higher)n(-order)f
(recursi)n(v)o(e)g(ar)n(guments,)g(we)i(must)d(abstract)i(the)g(pairs)f
(o)o(v)o(er)g(them:)p 7 setlinewidth np 655 2361 25 135.00
315.00 arc st 7 setlinewidth np 691 2343 18 180.00 360.00
arc st 7 setlinewidth np 745 2343 35 180.00 360.00 arc
st 7 setlinewidth np 789 2370 28 251.56 341.56 arc st
7 setlinewidth np 816 2388 27 270.00 450.00 arc st 7
setlinewidth np 780 2415 35 360.00 540.00 arc st 7 setlinewidth
np 727 2415 18 360.00 540.00 arc st 7 setlinewidth np
682 2415 27 360.00 540.00 arc st 7 setlinewidth np 647
2397 19 63.43 243.43 arc st 601 2573 a FX(!)p FJ(IndA)n(ux)959
2588 y FL(ho)1251 2573 y FX(=)e FY(:)17 b(:)g(:)1349
2709 y(\025)p FP(x)10 b FX(:)23 b F3(8)1564 2680 y FY(~)1571
2709 y FP(h)11 b FX(:)1677 2683 y FY(~)1670 2709 y FP(H)p
FY(:)22 b FJ(Ind)1349 2830 y FY(:)17 b(:)g(:)1349 2966
y(\025)p FP(T)o FX(:)23 b F3(8)1564 2937 y FY(~)1571
2966 y FP(h)11 b FX(:)1677 2940 y FY(~)1670 2966 y FP(H)p
FY(:)22 b FJ(IndA)l(UX)f FX(\()p FP(x)2269 2937 y FY(~)2276
2966 y FP(h)p FX(\))1406 3102 y(\006)c FY(:)g(:)g(:)f
F3(8)1672 3073 y FY(~)1679 3102 y FP(h)11 b FX(:)1785
3076 y FY(~)1778 3102 y FP(H)p FY(:)22 b FX(\(\010)g(\()p
FP(x)2138 3073 y FY(~)2145 3102 y FP(h)p FX(\)\))p F3(\002)p
FX(\()p FP(T)2462 3073 y FY(~)2469 3102 y FP(h)p FX(\))601
3223 y(!)p FJ(IndA)n(uxGen)1172 3238 y FL(ho)1251 3223
y FX(=)g FY(:)17 b(:)g(:)1349 3359 y(\025)p FP(x)o FX(:)23
b F3(8)1553 3330 y FY(~)1560 3359 y FP(h)11 b FX(:)1666
3333 y FY(~)1659 3359 y FP(H)p FY(:)22 b FJ(Ind)1349
3479 y FY(:)17 b(:)g(:)1349 3615 y(\025)p FP(t)f FX(:)23
b F3(8)1553 3586 y FY(~)1560 3615 y FP(h)11 b FX(:)1666
3589 y FY(~)1659 3615 y FP(H)p FY(:)22 b FJ(IndA)n(ux)f
FX(\()p FP(x)2242 3586 y FY(~)2249 3615 y FP(h)p FX(\))1406
3655 y Fz(D)1466 3766 y FY(:)c(:)g(:)g(\025)1648 3737
y(~)1655 3766 y FP(h)10 b FX(:)1760 3740 y FY(~)1753
3766 y FP(H)p FY(:)1897 3655 y Fz(D)1958 3766 y FX(\()p
FN(body)23 b FX(\()p FP(x)2346 3737 y FY(~)2353 3766
y FP(h)p FX(\))f(\()p FP(t)2549 3737 y FY(~)2557 3766
y FP(h)o FX(\)\);)17 b(\()p FP(t)2812 3737 y FY(~)2819
3766 y FP(h)p FX(\))2907 3655 y Fz(EE)357 4050 y F4(No)n(w)28
b(that)h(we)h(ha)n(v)o(e)f(b)n(uilt)g(these)g(useful)g(elimination)e
(rules,)k(let)e(us)g(mo)o(v)o(e)f(on)h(to)g(consider)g(the)357
4200 y(technology)24 b(we)i(need)g(to)f(solv)o(e)g(the)g(constraints)g
(which)g(arise)h(when)g(we)g(use)f(them)g(for)h(depen-)357
4349 y(dent)e(subf)o(amilies.)1997 5667 y(116)p eop
%%Page: 117 122
117 121 bop 357 719 a F1(Chapter)51 b(5)357 1194 y(Equality)h(and)g
(Object-Le)m(v)n(el)d(Uni\002cation)357 1735 y F4(This)29
b(chapter)h(e)o(xamines)f(dif)n(ferent)g(notions)f(of)i(propositional)e
(equality)h(in)g(T)-8 b(ype)30 b(Theory)-6 b(,)31 b(to-)357
1885 y(gether)25 b(with)f(the)g(forms)h(of)f(equational)g(reasoning)h
(the)o(y)f(support.)357 2094 y(In)k(particular)l(,)g(I)g(shall)f(gi)n
(v)o(e)g(a)h(formal)f(treatment)g(of)h(the)g F3(')g F4(predicate)g
(which)g(I)g(ha)n(v)o(e)f(been)h(e)o(x-)357 2244 y(ploiting)c(glibly)g
(until)g(no)n(w:)32 b(it)25 b(is)h(merely)f(a)h(con)l(v)o(enient)f
(packaging)g(of)h(Martin-L)8 b(\250)-41 b(of)5 b(')-5
b(s)25 b(identity)357 2393 y(type)30 b(together)h(with)f(the)h
(`uniqueness)f(of)h(identity)f(proofs')h(axiom)f(proposed)g(by)h
(Altenkirch)357 2543 y(and)c(Streicher)g([Str93].)37
b(The)27 b(reason)g(for)g(reformulating)f(equality)g(in)g(this)g(w)o
(ay)h(is)g(to)f(impro)o(v)o(e)357 2692 y(the)e(treatment)h(of)f
(equality)g(for)h FU(sequences)g F4(of)g(terms)f(in)h(the)f(presence)i
(of)f(type)f(dependenc)o(y)-6 b(.)357 2901 y(Once)39
b(we)g(ha)n(v)o(e)g(a)g(de\002nition)f(of)h(equality)f(we)i(can)f(w)o
(ork)g(with,)i(the)e(task)g(is)f(then)h(to)f(b)n(uild)357
3051 y(a)g(tactic,)j F0(simplify)p F4(,)g(which)d(solv)o(es)e
(\002rst-order)j(constructor)e(form)h(equations)f(appearing)h(as)357
3200 y(premises)26 b(to)i(goals.)38 b(T)-8 b(o)27 b(achie)n(v)o(e)g
(this,)g(we)h(will)f(need)g(to)h(construct)e(still)h(more)g(machinery)g
(for)357 3350 y(each)e(inducti)n(v)o(e)e(datatype:)502
3642 y F3(\017)49 b F4(a)25 b(proof)f(that)h(constructors)f(are)h
(injecti)n(v)o(e)e(and)i(disjoint)502 3875 y F3(\017)49
b F4(a)25 b(disproof)f(of)h(c)o(yclic)f(equations)g(lik)o(e)g
FP(n)p F3(')q FZ(s)p FP(n)1997 5667 y F4(117)p eop
%%Page: 118 123
118 122 bop 357 -6 a FT(5.1)142 b(tw)o(o)35 b(nearly)f(inducti)o(v)o(e)
f(de\002nitions)h(of)h(equality)357 307 y FB(5.1.1)118
b(Martin-L)1210 306 y(\250)1200 307 y(of)7 b(')l(s)28
b(identity)j(type)665 569 y FP(a)p FY(;)17 b FP(b)27
b FX(:)h FP(A)p 611 596 401 4 v 611 672 a(a)p FZ(=)p
FP(b)g FX(:)g FI(Prop)752 900 y FP(a)f FX(:)h FP(A)p
611 923 485 4 v 611 1001 a FZ(re\003)753 1016 y Fg(=)820
1001 y FP(a)g FX(:)f FP(a)q FZ(=)p FP(a)601 1189 y FZ(idElim)c
FP(A)j(a)c FX(\010)h FY(\036)1213 1204 y Fq(r)l(e\015)1346
1189 y FP(a)g FX(\()p FZ(re\003)1593 1204 y Fg(=)1660
1189 y FP(a)p FX(\))50 b FD(;)1892 1204 y FL(\023)1971
1189 y FY(\036)2029 1204 y Fq(r)l(e\015)p 2377 510 1224
4 v 2377 1369 4 859 v 2430 619 a FZ(idElim)2430 860 y
FX(\010)28 b(:)g F3(8)p FP(b)11 b FX(:)g FP(A)5 b FY(:)22
b FX(\()p FP(a)p FZ(=)p FP(b)p FX(\))28 b F3(!)f FI(Type)2782
1121 y FX(\010)22 b FP(a)h FX(\()p FZ(re\003)3121 1136
y Fg(=)3188 1121 y FP(a)p FX(\))p 2564 1154 924 4 v 2564
1258 a F3(8)p FP(b)12 b FX(:)f FP(A)t FY(:)22 b F3(8)p
2895 1161 336 4 v 2895 1311 4 150 v 29 w FP(q)28 b FX(:)f
FP(a)q FZ(=)p FP(b)p 3228 1311 V 2895 1314 336 4 v 28
w FY(:)c FX(\010)f FP(b)h(q)p 3597 1369 4 859 v 2377
1372 1224 4 v 357 1623 a FZ(idElim)i F4(is)g(kno)n(wn)e(in)i(the)f(b)n
(usiness)g(as)h(`J',)g(for)g(historical)f(reasons.)357
1832 y(W)-8 b(e)40 b(may)g(easily)f(pro)o(v)o(e)g(that)g(this)g
(equality)h(is)357 1982 y(substituti)n(v)o(e)21 b(in)k(the)f(usual)g
(sense.)357 2191 y(The)50 b(proof)h(\002x)o(es)f FX(\010)h
F4(and)g(the)f(proof)h(of)f(the)357 2341 y(single)g(case,)57
b(then)51 b(applies)f F0(eliminate)h F4(with)357 2490
y FZ(idElim)q F4(.)71 b(The)38 b(generated)h(scheme)f(mak)o(es)g(no)357
2639 y(use)50 b(of)g(the)g(equation')-5 b(s)49 b(proof\227)p
FZ(idSubst)g F4(is)357 2789 y(`proof)25 b(irrele)n(v)n(ant'.)p
2226 1723 1131 4 v 2226 2559 4 836 v 2254 1832 a FZ(idSubst)2254
2073 y FX(\010)j(:)g FP(A)k F3(!)27 b FI(Type)2748 2328
y FX(\010)22 b FP(a)p 2389 2344 856 4 v 2389 2448 a F3(8)p
FP(b)11 b FX(:)g FP(A)t FY(:)23 b F3(8)p 2720 2351 336
4 v 2720 2500 4 150 v 28 w FP(q)28 b FX(:)g FP(a)p FZ(=)p
FP(b)p 3053 2500 V 2720 2503 336 4 v 29 w FY(:)22 b FX(\010)h
FP(b)p 3353 2559 4 836 v 2226 2562 1131 4 v 357 2953
a F4(It)h(will)g(pro)o(v)o(e)g(con)l(v)o(enient)g(to)g(ha)n(v)o(e)h
(some)f(sugar)g(for)h(applications)f(of)g FZ(idSubst)p
F4(:)502 3270 y F3(\017)49 b F4(substitution)601 3510
y FX([)p FP(q)p FX(])701 3474 y(\010)701 3535 y Fg(=)775
3510 y FP(s)h FX(=)-17 b F3(\))50 b FZ(idSubst)21 b FP(A)26
b(a)c FX(\010)h FP(s)f(b)g(q)p 2693 3325 909 4 v 2693
3678 4 353 v 2880 3452 a(q)28 b FX(:)g FP(a)p FZ(=)p
FP(b)120 b(s)28 b FX(:)g(\010)22 b FP(a)p 2880 3487 658
4 v 2991 3595 a FX([)p FP(q)q FX(])3092 3559 y(\010)3092
3620 y Fg(=)3166 3595 y FP(s)28 b FX(:)g(\010)22 b FP(b)p
3597 3678 4 353 v 2693 3681 909 4 v 502 3840 a F3(\017)49
b F4(coercion)601 4077 y FX([)p FP(q)p FX(])701 4102
y Fg(=)745 4077 y FP(s)h FX(=)-17 b F3(\))50 b FX([)p
FP(q)p FX(])1143 4022 y FL(\025)p FK(T)-12 b FM(:)g Ff(Type)o
FL(:)16 b FK(T)1143 4084 y Fg(=)1412 4077 y FP(s)p 2748
3895 853 4 v 2748 4215 4 321 v 2936 4019 a(q)27 b FX(:)h
FP(S)q FZ(=)p FP(T)120 b(s)27 b FX(:)h FP(S)p 2936 4054
602 4 v 3073 4133 a FX([)p FP(q)p FX(])3173 4158 y Fg(=)3218
4133 y FP(s)f FX(:)h FP(T)p 3597 4215 4 321 v 2748 4218
853 4 v 357 4469 a F4(The)d(computational)d(beha)n(viour)j(of)g
FZ(idSubst)e F4(follo)n(ws)h(from)g(that)h(of)f FZ(idElim)p
F4(:)601 4787 y FX([)p FZ(re\003)770 4802 y Fg(=)837
4787 y FP(a)p FX(])908 4750 y(\010)908 4811 y Fg(=)983
4787 y FP(t)44 b FY(.)g FP(t)1997 5667 y F4(118)p eop
%%Page: 119 124
119 123 bop 357 -6 a FB(5.1.2)118 b(uniqueness)32 b(of)d(identity)i(pr)
n(oofs)357 271 y F4(Altenkirch)h(and)h(Streicher)g(suggest)f(that)h
FZ(=)g F4(should)f(be)h(equipped)357 421 y(with)c(the)h(additional)e
(elimination)g(rule)i(sho)n(wn,)g(together)f(with)g(its)357
570 y(computational)23 b(beha)n(viour)-5 b(.)601 863
y FZ(idUnique)21 b FP(A)26 b(a)d FX(\010)f FY(\036)1365
878 y Fq(r)l(e\015)1499 863 y FX(\()p FZ(re\003)1680
878 y Fg(=)1746 863 y FP(a)p FX(\))50 b FD(;)1978 878
y FL(\023)2057 863 y FY(\036)2115 878 y Fq(r)l(e\015)p
2934 162 853 4 v 2934 999 4 837 v 2963 271 a FZ(idUnique)2963
512 y FX(\010)28 b(:)g(\()p FP(a)p FZ(=)p FP(a)p FX(\))g
F3(!)f FI(Type)3175 773 y FX(\010)22 b(\()p FZ(re\003)3448
788 y Fg(=)3514 773 y FP(a)q FX(\))p 3097 806 578 4 v
3097 888 a F3(8)p 3152 813 334 4 v 3152 940 4 128 v 29
w FP(q)28 b FX(:)f FP(a)q FZ(=)p FP(a)p 3483 940 V 3152
943 334 4 v 28 w FY(:)c FX(\010)f FP(q)p 3784 999 4 837
v 2934 1002 853 4 v 357 1138 a F4(This)33 b(rule)g(is)h(sometimes)e
(kno)n(wn)g(in)h(the)h(b)n(usiness)f(as)g(`K',)h(lar)n(gely)g(because)g
(it)f(comes)h(after)357 1288 y(`J'.)487 1251 y FS(1)357
1497 y F4(F)o(or)h(a)g(gi)n(v)o(en)f(element)g(type,)j
FP(A)t F4(,)h(the)d(aperture)g(of)g FZ(idElim)q F4(,)j(ie)d(the)g
(space)g(of)g(equations)f(o)o(v)o(er)357 1646 y(which)44
b(its)f(scheme)i(must)e(range)i(is)f(tw)o(o)g(dimensional:)68
b FP(A)t F3(\002)p FP(A)5 b F4(.)89 b(Ho)n(we)n(v)o(er)l(,)48
b FZ(idUnique)p F4(')-5 b(s)357 1796 y(scheme)37 b(ranges)h(only)g(o)o
(v)o(er)f(the)g(diagonal.)69 b(Of)38 b(course,)k(it)37
b(is)g(only)h(the)f(diagonal)g(which)h(is)357 1945 y(inhabited.)357
2155 y(Hofmann)54 b(and)h(Streicher)g(ha)n(v)o(e)g(sho)n(wn)e(that)i
FZ(idUnique)f F4(is)g(not)g(deri)n(v)n(able)g(from)h
FZ(idE-)357 2304 y(lim)p F4([HoS94].)39 b(On)27 b(the)h(other)f(hand,)h
(Streicher)g(adds)f(that)g FZ(idElim)i F4(is)e(unnecessary)g(if)g
FZ(idSubst)357 2454 y F4(and)22 b FZ(idUnique)h F4(are)g(tak)o(en)g(as)
g(axiomatic:)28 b(we)23 b(may)g(\002rst)g(use)f FZ(idSubst)g
F4(to)g(replace)i FP(b)f F4(by)g FP(a)p F4(,)g(say)-6
b(,)357 2603 y(then)23 b FZ(idUnique)g F4(to)g(reduce)h(the)g
(remaining)e(arbitrary)i(proof)f(of)h FP(a)p FZ(=)q FP(a)f
F4(to)h FX(\()p FZ(re\003)3133 2618 y Fg(=)3195 2603
y FP(a)p FX(\))p F4(.)31 b(Ef)n(fecti)n(v)o(ely)-6 b(,)357
2753 y(we)34 b(di)n(vide)f(the)i FZ(idElim)g F4(process)f(into)g(tw)o
(o)g(phases:)49 b(the)34 b(proof)h(irrele)n(v)n(ant)e(phase)h(\()p
FZ(idSubst)p F4(\))357 2902 y(reduces)j(the)g FZ(=)h
F4(f)o(amily)e(to)g(its)h(inhabited)f(subf)o(amily)f(of)j(re\003e)o(xi)
n(v)o(e)e(equations,)j(so)e(the)f(proof)357 3051 y(rele)n(v)n(ant)24
b(phase)g(\()p FZ(idUnique)p F4(\))h(need)g(only)f(be)h(concerned)g
(with)f(that)h(restricted)f(case.)357 3407 y FB(5.1.3)118
b Fe(')p FB(,)30 b(or)g(`J)n(ohn)g(Major')f(equality)357
3683 y F4(It)g(is)g(no)n(w)f(time)g(to)h(re)n(v)o(eal)g(the)g
(de\002nition)f(of)i F3(')p F4(,)g(the)f(`John)g(Major')g(equality)f
(relation.)3518 3647 y FS(2)3599 3683 y F4(John)357 3833
y(Major')-5 b(s)30 b(`classless)g(society')h(widened)g(people')-5
b(s)30 b FU(aspir)o(ations)e F4(to)j(equality)-6 b(,)31
b(b)n(ut)f(also)h(the)g(gap)357 3982 y(between)37 b(rich)f(and)h(poor)
-5 b(.)66 b(After)37 b(all,)i(aspiring)d(to)h(be)g(equal)f(to)h(others)
f(than)h(oneself)f(is)g(the)357 4132 y(politics)27 b(of)i(en)l(vy)-6
b(.)41 b(In)29 b(much)f(the)h(same)f(w)o(ay)-6 b(,)29
b F3(')h F4(forms)e(equations)f(between)i(members)f(of)h(an)o(y)357
4281 y(type,)h(b)n(ut)g(the)o(y)f(cannot)g(be)h(treated)g(as)g(equals)f
(\(ie)h(substituted\))e(unless)h(the)o(y)g(are)i(of)f(the)f(same)357
4430 y(type.)h(Just)24 b(as)h(before,)g(each)h(thing)d(is)i(only)f
(equal)g(to)h(itself.)p 357 4520 1373 4 v 473 4581 a
FR(1)506 4611 y FQ(A\002cionados)16 b(of)h(the)g(trombone)e(might)i
(fondly)f(imagine)g(that)h(the)h(tw)o(o)f(rules)g(are)h(named)e(after)h
(le)o(gendary)e(jazz)357 4711 y(duo)k(J.J.)i(Johnson)e(and)g(Kai)i(W)m
(inding.)j(I)c(do)g(not)g(propose)e(to)j(pour)e(cold)g(w)o(ater)i(on)e
(this)i(e)o(xplanation.)473 4781 y FR(2)506 4811 y FQ(John)g(Major)h(w)
o(as)h(the)e(last)i(e)n(v)o(er)e(leader)h(of)f(the)h(Conserv)n(ati)n(v)
o(e)e(P)o(arty)i(to)g(be)g(Prime)f(Minister)h(\(1990)e(to)j(1997\))357
4910 y(of)d(the)g(United)g(Kingdom,)e(in)i(case)h(he)f(has)g(slipped)g
(your)f(mind.)1997 5667 y F4(119)p eop
%%Page: 120 125
120 124 bop 611 -3 a FP(a)27 b FX(:)h FP(A)124 b(b)28
b FX(:)g FP(B)p 611 20 513 4 v 658 96 a(a)p F3(')q FP(b)f
FX(:)h FI(Prop)738 324 y FP(a)g FX(:)g FP(A)p 611 347
458 4 v 611 425 a FZ(re\003)21 b FP(a)28 b FX(:)g FP(a)p
F3(')q FP(a)601 599 y FZ(eqElim)22 b FP(A)k(a)d FX(\010)f
FY(\036)1257 614 y Fq(r)l(e\015)1391 599 y FP(a)g FX(\()p
FZ(re\003)g FP(a)p FX(\))50 b FD(;)1892 614 y FL(\023)1971
599 y FY(\036)2029 614 y Fq(r)l(e\015)p 2332 -66 1269
4 v 2332 767 4 834 v 2385 43 a FZ(eqElim)2385 283 y FX(\010)28
b(:)g F3(8)p FP(a)2638 247 y FE(0)2672 283 y FX(:)11
b FP(A)t FY(:)23 b FX(\()p FP(a)p F3(')p FP(a)3040 247
y FE(0)3063 283 y FX(\))k F3(!)h FI(Type)2782 545 y FX(\010)22
b FP(a)h FX(\()p FZ(re\003)f FP(a)p FX(\))p 2520 578
968 4 v 2520 683 a F3(8)p FP(a)2619 647 y FE(0)2654 683
y FX(:)11 b FP(A)t FY(:)22 b F3(8)p 2872 585 356 4 v
2872 709 4 125 v 29 w FP(l)27 b FX(:)h FP(a)p F3(')q
FP(a)3177 647 y FE(0)p 3225 709 V 2872 712 356 4 v 3228
683 a FY(:)23 b FX(\010)f FP(a)3415 647 y FE(0)3460 683
y FP(l)p 3597 767 4 834 v 2332 770 1269 4 v 357 1014
a F4(Observ)o(e)36 b(that)h FZ(eqElim)h F4(is)e(not)h(the)g
(elimination)e(rule)i(which)g(one)g(w)o(ould)f(e)o(xpect)h(if)g
F3(')g F4(w)o(as)357 1164 y(inducti)n(v)o(ely)22 b(de\002ned.)357
1373 y(The)35 b(`usual')g(rule)h(eliminates)e(o)o(v)o(er)g(all)h(the)
357 1523 y(formable)e(equations,)j(and)e(it)f(is)h(quite)f(use-)357
1672 y(less:)91 b(it)55 b(cannot)g(be)h(used)f(to)g(substitute)357
1821 y(tw)o(o)26 b(v)n(alues)f(of)i(the)f(same)g(type)g(because)h(the)
357 1971 y(scheme)f(must)f(be)h(abstracted)g(o)o(v)o(er)g(an)g(arbi-)
357 2120 y(trary)f(type.)p 2111 1264 1677 4 v 2111 2098
4 834 v 2164 1373 a FZ(eqIndElim)2164 1614 y FX(\010)j(:)g
F3(8)p FP(B)11 b FX(:)g FI(Type)p FY(:)22 b F3(8)p FP(b)12
b FX(:)f FP(B)p FY(:)22 b FX(\()p FP(a)p F3(')q FP(b)p
FX(\))27 b F3(!)h FI(Type)2715 1875 y FX(\010)23 b FP(A)j(a)d
FX(\()p FZ(re\003)e FP(a)q FX(\))p 2299 1908 1376 4 v
2299 2012 a F3(8)p FP(B)11 b FX(:)g FI(Type)p FY(:)22
b F3(8)p FP(b)11 b FX(:)g FP(B)p FY(:)23 b F3(8)p 2997
1915 346 4 v 2997 2038 4 124 v 28 w FP(e)28 b FX(:)f
FP(a)q F3(')p FP(b)p 3339 2038 V 2997 2041 346 4 v 28
w FY(:)c FX(\010)f FP(B)g(b)h(e)p 3784 2098 4 834 v 2111
2101 1677 4 v 357 2285 a F4(By)31 b(contrast,)h FZ(eqElim)g
F4(eliminates)e(only)g(o)o(v)o(er)g(the)h(subf)o(amily)f(where)h(the)g
(tw)o(o)g(types)g(are)g(the)357 2434 y(same,)24 b(the)h(`type)g
(diagonal':)k(of)c(course,)g(all)g(the)f(inhabitants)f(lie)i(in)f(this)
g(subf)o(amily)-6 b(.)357 2788 y FB(5.1.4)118 b(equality)31
b(f)m(or)f(sequences)357 3065 y F4(The)h(reason)f(for)i(adopting)d
F3(')j F4(rather)f(than)f FZ(=)i F4(when)e(w)o(orking)g(with)g
(dependent)h(types)f(can)h(be)357 3214 y(seen)j(clearly)g(when)g(we)h
(attempt)e(to)h(e)o(xtend)f(the)h(notion)f(of)h(equality)g(to)f(co)o(v)
o(er)h(not)g(just)f(tw)o(o)357 3364 y(terms)24 b(in)f(a)i(type)f(b)n
(ut)g(tw)o(o)g(sequences)g(of)h(terms)e(in)h(a)h(telescope.)30
b(Suppose)24 b(we)h(ha)n(v)o(e)3370 3357 y FY(~)3382
3364 y FP(r)p FY(;)3452 3357 y(~)3465 3364 y FP(s)i FX(:)3584
3338 y FY(~)3586 3364 y FP(T)d F4(for)357 3513 y(some)585
3506 y FY(~)592 3513 y FP(x)p F4(-telescope)1069 3487
y FY(~)1071 3513 y FP(T)o F4(.)31 b(W)-8 b(e)25 b(may)g(not,)f(in)g
(general,)h(state)g(the)g(equality)e(of)i(sequences)3385
3506 y FY(~)3398 3513 y FP(r)g F4(and)3618 3506 y FY(~)3631
3513 y FP(s)f F4(as)601 3824 y FP(r)639 3839 y FM(1)679
3824 y FZ(=)p FP(s)778 3839 y FM(1)817 3824 y FX(;)17
b FP(r)900 3839 y FM(2)939 3824 y FZ(=)q FP(s)1038 3839
y FM(2)1078 3824 y FX(;)g FY(:)g(:)g(:)2162 b F4(\()p
F3(\002)q F4(\))357 4134 y(since)24 b FP(r)625 4149 y
FM(2)692 4134 y FX(:)k FP(T)808 4149 y FM(2)847 4134
y FX([)p FP(r)913 4149 y FM(1)953 4134 y FX(])d F4(while)f
FP(s)1290 4149 y FM(2)1357 4134 y FX(:)j FP(T)1472 4149
y FM(2)1512 4134 y FX([)p FP(s)1578 4149 y FM(1)1617
4134 y FX(])p F4(,)e(and)g(these)f(may)h(be)g(dif)n(ferent.)357
4344 y(There)g(is,)f(of)h(course,)g(nothing)e(to)i(stop)f(us)g(writing)
601 4654 y FP(r)639 4669 y FM(1)679 4654 y F3(')p FP(s)795
4669 y FM(1)834 4654 y FX(;)17 b FP(r)917 4669 y FM(2)956
4654 y F3(')q FP(s)1073 4669 y FM(2)1112 4654 y FX(;)g
FY(:)g(:)g(:)357 4964 y F4(which)24 b(will)g(henceforth)h(be)g(abbre)n
(viated)f(as)h(the)g F0(telescopic)g(equation)2933 4957
y FY(~)2947 4964 y FP(r)p F3(')3050 4957 y FY(~)3063
4964 y FP(s)p F4(.)357 5174 y(W)-8 b(e)25 b(may)f(correspondingly)g
(abbre)n(viate)g(the)h(sequence)g(of)g(re\003e)o(xi)n(vity)e(proofs)601
5484 y FX(\()p FZ(re\003)e FP(r)842 5499 y FM(1)881 5484
y FX(\);)c(\()p FZ(re\003)22 b FP(r)1205 5499 y FM(2)1244
5484 y FX(\);)17 b FY(:)g(:)g(:)1997 5667 y F4(120)p
eop
%%Page: 121 126
121 125 bop 357 -6 a F4(by)24 b FZ(re\003)633 -13 y FY(~)646
-6 y FP(r)p F4(.)357 204 y(Let)32 b(us)h(not)f(stop)f(at)i(that:)46
b(in)32 b(f)o(act,)j(we)e(may)f(pro)o(v)o(e)g(substituti)n(vity)c(and)
33 b(uniqueness)e(for)i(tele-)357 353 y(scopic)24 b(equations.)359
563 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5 b(T)t(I)g(O)t(N)r
F4(:)37 b F0(telescopic)25 b(substitution)601 847 y F4(F)o(or)k(each)i
(natural)f(number)f FY(n)p F4(,)i(we)f(may)g(deri)n(v)o(e)601
997 y(a)25 b(substitution)e(principle)i(for)h(telescopic)f(equa-)601
1146 y(tions)e(of)i(length)f FY(n)p F4(.)601 1356 y(The)19
b(reduction)f(beha)n(viour)h(will)f(be)i(as)f(follo)n(ws:)p
2478 738 1123 4 v 2478 1576 4 839 v 2531 847 a FZ(eqSubst)2914
870 y FL(n)2531 1101 y FX(\010)28 b(:)2682 1075 y FY(~)2684
1101 y FP(T)g F3(!)f FI(Type)3011 1365 y FX(\010)3091
1358 y FY(~)3104 1365 y FP(r)p 2666 1382 823 4 v 2666
1492 a F3(8)2708 1485 y FY(~)2721 1492 y FP(s)11 b FX(:)2807
1466 y FY(~)2809 1492 y FP(T)p FY(:)22 b F3(8)p 2974
1389 333 4 v 2974 1518 4 129 v 2990 1485 a FY(~)3003
1492 y FP(e)27 b FX(:)3111 1485 y FY(~)3124 1492 y FP(r)p
F3(')3227 1485 y FY(~)3240 1492 y FP(s)p 3304 1518 V
2974 1521 333 4 v 28 w FY(:)22 b FX(\010)3436 1485 y
FY(~)3449 1492 y FP(s)p 3597 1576 4 839 v 2478 1579 1123
4 v 815 1788 a FZ(eqSubst)1198 1810 y FL(n)1266 1762
y FY(~)1268 1788 y FP(T)1338 1781 y FY(~)1351 1788 y
FP(r)f FX(\010)i FY(\036)1562 1803 y Fq(r)l(e\015)1683
1781 y FY(~)1696 1788 y FP(r)f FX(\()p FZ(re\003)1947
1781 y FY(~)1959 1788 y FP(r)p FX(\))44 b FY(.)g(\036)2231
1803 y Fq(r)l(e\015)601 2040 y F4(The)24 b(construction)g(is)g(by)h
(recursion)f(on)h FY(n)p F4(,)g(ef)n(fecti)n(v)o(ely)e(iterating)h
FZ(eqElim)q F4(.)601 2230 y(The)f(zero)h(case)g(is)f(pro)o(v)o(ed)g(by)
g(the)h(polymorphic)d(identity)h(func-)601 2379 y(tion.)29
b(Clearly)d(the)e(reduction)g(beha)n(viour)h(is)f(correct.)p
3047 2120 554 4 v 3047 2871 4 752 v 3075 2230 a FZ(eqSubst)3458
2252 y FM(0)3075 2470 y FX(\010)k(:)g FI(Type)3209 2725
y FX(\010)p 3209 2741 71 4 v 3209 2816 a(\010)p 3597
2871 4 752 v 3047 2874 554 4 v 601 3036 a F4(No)n(w)-6
b(,)65 b(assuming)58 b(we)h(ha)n(v)o(e)f(al-)601 3185
y(ready)50 b(constructed)f FZ(eqSubst)1764 3208 y FL(n)1811
3185 y F4(,)601 3335 y(let)24 b(us)h(construct)f FZ(eqSubst)1612
3357 y FL(n)p FM(+1)1749 3335 y F4(.)p 1986 2926 1615
4 v 1986 3794 4 868 v 2014 3036 a FZ(eqSubst)2398 3058
y FL(n)p FM(+1)2014 3289 y FX(\010)k(:)g FP(T)p FX(;)2270
3263 y FY(~)2272 3289 y FP(T)f F3(!)h FI(Type)2711 3554
y FX(\010)23 b FP(r)p FX(;)2874 3547 y FY(~)2887 3554
y FP(r)p 2149 3581 1339 4 v 2149 3691 a F3(8)p FP(s)p
FX(;)2274 3684 y FY(~)2287 3691 y FP(s)10 b FX(:)h FP(T)p
FX(;)2477 3665 y FY(~)2479 3691 y FP(T)p FY(:)22 b F3(8)p
2644 3588 581 4 v 2644 3735 4 148 v 29 w FP(e)p FX(;)2743
3684 y FY(~)2756 3691 y FP(e)27 b FX(:)g FP(r)p FX(;)2946
3684 y FY(~)2959 3691 y FP(r)p F3(')p FP(s)p FX(;)3145
3684 y FY(~)3158 3691 y FP(s)p 3221 3735 V 2644 3738
581 4 v 28 w FY(:)22 b FX(\010)g FP(s)p FX(;)3436 3684
y FY(~)3449 3691 y FP(s)p 3597 3794 4 868 v 1986 3797
1615 4 v 601 4020 a F4(Fixing)f FP(T)p FX(;)986 3994
y FY(~)988 4020 y FP(T)p F4(,)i FP(r)p FX(;)1167 4013
y FY(~)1180 4020 y FP(r)o F4(,)g FX(\010)g F4(and)g(the)f(proof)g(of)h
FX(\010)14 b FP(r)p FX(;)2168 4013 y FY(~)2181 4020 y
FP(r)o F4(,)23 b(we)601 4170 y(ha)n(v)o(e)h(the)h(goal)f(sho)n(wn.)p
2534 3849 1068 4 v 2534 4455 4 607 v 7 setlinewidth np
2642 3929 25 135.00 315.00 arc st 7 setlinewidth np 2677
3911 18 180.00 360.00 arc st 7 setlinewidth np 2731 3911
35 180.00 360.00 arc st 7 setlinewidth np 2775 3938 28
251.56 341.56 arc st 7 setlinewidth np 2802 3956 27 270.00
450.00 arc st 7 setlinewidth np 2766 3982 35 360.00 540.00
arc st 7 setlinewidth np 2713 3982 18 360.00 540.00 arc
st 7 setlinewidth np 2668 3982 27 360.00 540.00 arc st
7 setlinewidth np 2633 3964 19 63.43 243.43 arc st 2587
4154 a FX(?)p FN(goal)p FX(:)f F3(8)p FP(s)p FX(;)2996
4147 y FY(~)3009 4154 y FP(s)56 b FX(:)22 b FP(T)p FX(;)3256
4127 y FY(~)3258 4154 y FP(T)2871 4274 y F3(8)p 2926
4199 96 4 v 2926 4300 4 101 v 28 w FP(e)p 3018 4300 V
2926 4303 96 4 v 28 w FX(;)3052 4267 y FY(~)3065 4274
y FP(e)p FX(:)g FP(r)p FX(;)3223 4267 y FY(~)3236 4274
y FP(r)o F3(')q FP(s)o FX(;)3421 4267 y FY(~)3434 4274
y FP(s)2926 4394 y FX(\010)h FP(s)o FX(;)3088 4387 y
FY(~)3101 4394 y FP(s)p 3597 4455 4 607 v 2534 4458 1068
4 v 601 4576 a F4(No)n(w)-6 b(,)27 b FP(e)g F4(is)g(a)h(proof)g(that)f
FP(r)p F3(')p FP(s)p F4(,)h(where)g(both)f(ha)n(v)o(e)h(type)f
FP(T)p F4(,)h(hence)g(we)g(may)f(elimi-)601 4726 y(nate)d
FP(e)h F4(by)g FZ(eqElim)p F4(.)31 b(The)25 b(generated)g(scheme)f
(includes)g(all)h(the)2886 4719 y FY(~)2899 4726 y FP(s)f
F4(and)3118 4719 y FY(~)3131 4726 y FP(e)p F4(:)815 4956
y FY(\025)p FP(s)11 b FX(:)g FP(T)p FY(:)22 b(\025)p
1133 4956 30 4 v 47 w FX(:)11 b FP(r)p F3(')p FP(s)p
FY(:)22 b F3(8)1458 4949 y FY(~)1471 4956 y FP(s)12 b
FX(:)1558 4929 y FY(~)1560 4956 y FP(T)p FY(:)22 b F3(8)1712
4949 y FY(~)1725 4956 y FP(e)11 b FX(:)1800 4949 y FY(~)1813
4956 y FP(r)p F3(')1917 4949 y FY(~)1929 4956 y FP(s)p
FY(:)22 b FX(\010)h FP(s)p FX(;)2180 4949 y FY(~)2193
4956 y FP(s)601 5185 y F4(Note)29 b(that,)h(as)g(nothing)e(depends)h
(on)g FP(e)p F4(,)h(the)g(proof)f(rele)n(v)n(ance)g(of)h
FZ(eqElim)g F4(is)f(not)601 5335 y(necessary)22 b(for)g(this)f
(construction,)g(just)g(as)i(in)e(the)h(construction)f(of)h
FZ(idSubst)f F4(from)601 5484 y FZ(idElim)p F4(.)1997
5667 y(121)p eop
%%Page: 122 127
122 126 bop 601 70 a F4(The)43 b(elimination)f(lea)n(v)o(es)i(with)f
(the)g(subgoal)601 219 y(sho)n(wn.)601 429 y(Note)32
b(that)h FX(\()p FP(T)p FX(;)1151 402 y FY(~)1153 429
y FP(T)o FX(\))28 b FP(r)33 b F4(is)g(just)f FX([)p FP(r)p
FY(=)p FP(x)o FX(])1817 402 y FY(~)1819 429 y FP(T)p
F4(,)j(which)e(is)601 578 y(e)o(xactly)24 b(the)g(telescope)h(of)1549
571 y FY(~)1562 578 y FP(r)p F4(.)p 2433 -102 1168 4
v 2433 505 4 607 v 7 setlinewidth np 2516 -22 25 135.00
315.00 arc st 7 setlinewidth np 2552 -40 18 180.00 360.00
arc st 7 setlinewidth np 2605 -40 35 180.00 360.00 arc
st 7 setlinewidth np 2650 -13 28 251.56 341.56 arc st
7 setlinewidth np 2677 5 27 270.00 450.00 arc st 7 setlinewidth
np 2641 32 35 360.00 540.00 arc st 7 setlinewidth np
2588 32 18 360.00 540.00 arc st 7 setlinewidth np 2543
32 27 360.00 540.00 arc st 7 setlinewidth np 2507 14
19 63.43 243.43 arc st 2461 203 a FX(?)p FN(subgoal)q
FX(:)e F3(8)2945 196 y FY(~)2958 203 y FP(s)99 b FX(:)23
b(\()p FP(T)o FX(;)3286 177 y FY(~)3288 203 y FP(T)p
FX(\))f FP(r)p 2958 243 540 4 v 2903 323 a F3(8)p 2956
360 4 121 v 2995 317 a FY(~)3008 324 y FP(e)3096 323
y FX(:)3183 316 y FY(~)3195 323 y FP(r)p F3(')3299 316
y FY(~)3312 323 y FP(s)p 3496 360 V 2958 363 540 4 v
2958 444 a FX(\010)h FP(r)o FX(;)3120 437 y FY(~)3133
444 y FP(s)p 3597 505 4 607 v 2433 508 1168 4 v 601 727
a F4(No)n(w)e(that)974 720 y FY(~)986 727 y FP(r)h F4(and)1201
720 y FY(~)1213 727 y FP(s)g F4(ha)n(v)o(e)g(the)g(same)g(telescope,)g
(we)g(may)g(eliminate)f(the)h(remaining)588 869 y FY(~)601
876 y FP(e)30 b F4(by)h FZ(eqSubst)1184 899 y FL(n)1231
876 y F4(:)43 b(the)31 b(scheme)g(is)g(just)f FX(\010)d
FP(r)p F4(.)49 b(This)30 b(lea)n(v)o(es)h(us)f(with)h(the)f(subgoal)601
1026 y FX(\010)22 b FP(r)p FX(;)763 1019 y FY(~)776 1026
y FP(r)o F4(,)j(a)g(proof)g(of)g(which)f(we)h(\002x)o(ed)g(in)f(the)h
(conte)o(xt.)601 1216 y(From)31 b(the)h FY(\023)p F4(-reduction)g
(associated)f(with)g FZ(eqElim)h F4(and)g(then)g(the)f(inducti)n(v)o(e)
f(hy-)601 1365 y(pothesis,)23 b(we)i(may)f(deduce)i(that)815
1596 y FZ(eqSubst)1198 1619 y FL(n)p FM(+1)1358 1596
y FP(T)p FX(;)1461 1570 y FY(~)1463 1596 y FP(T)21 b(r)p
FX(;)1615 1589 y FY(~)1628 1596 y FP(r)h FX(\010)g FY(\036)1839
1611 y Fq(r)1902 1596 y FP(r)p FX(;)1972 1589 y FY(~)1985
1596 y FP(r)g FX(\()p FZ(re\003)g FP(r)o FX(\);)17 b(\()p
FZ(re\003)2559 1589 y FY(~)2572 1596 y FP(r)o FX(\))23
b FY(.)815 1746 y FZ(eqElim)g FP(T)f(r)g FX(\()p FY(:)17
b(:)g(:)f FX(\))22 b(\()p FZ(eqSubst)1951 1769 y FL(n)2015
1746 y FY(:)17 b(:)g(:)f FX(\))22 b FP(r)g FX(\()p FZ(re\003)f
FP(r)p FX(\))c FY(:)g(:)g(:)38 b(.)815 1895 y FZ(eqSubst)1198
1918 y FL(n)1268 1895 y FX(\(\()p FP(T)o FX(;)1446 1869
y FY(~)1448 1895 y FP(T)p FX(\))22 b FP(r)p FX(\))1655
1888 y FY(~)1668 1895 y FP(r)g FX(\(\010)g FP(r)p FX(\))g
FY(\036)2016 1910 y Fq(r)2067 1888 y FY(~)2079 1895 y
FP(r)g FX(\()p FZ(re\003)2330 1888 y FY(~)2343 1895 y
FP(r)p FX(\))g FY(.)815 2045 y(\036)873 2060 y Fq(r)601
2276 y F4(Observ)o(e)32 b(that)g(the)g(same)h(proof)f(structure)h(also)
601 2425 y(yields)23 b(substituti)n(vity)e(in)k(the)f(other)h
(direction.)601 2635 y(Although)k(the)j(roles)f(of)1488
2628 y FY(~)1501 2635 y FP(r)g F4(and)1734 2628 y FY(~)1746
2635 y FP(s)h F4(are)g(re)n(v)o(ersed,)601 2784 y(we)49
b(may)g(still)g(\002x)g(the)1500 2777 y FY(~)1513 2784
y FP(r)g F4(and)h(abstract)f(o)o(v)o(er)601 2934 y(the)745
2927 y FY(~)758 2934 y FP(s)35 b F4(\(the)g(right)g(hand)g(sides\))g
(as)g(required)g(by)601 3083 y FZ(eqElim)p F4(.)p 2478
2167 1123 4 v 2478 3005 4 839 v 2531 2276 a FZ(eqSubstLR)3021
2299 y FL(n)2531 2530 y FX(\010)28 b(:)2682 2503 y FY(~)2684
2530 y FP(T)g F3(!)f FI(Type)3011 2794 y FX(\010)3091
2787 y FY(~)3104 2794 y FP(s)p 2666 2810 823 4 v 2666
2920 a F3(8)2708 2913 y FY(~)2721 2920 y FP(r)11 b FX(:)2807
2894 y FY(~)2809 2920 y FP(T)p FY(:)22 b F3(8)p 2974
2818 333 4 v 2974 2947 4 129 v 2990 2913 a FY(~)3003
2920 y FP(e)27 b FX(:)3111 2913 y FY(~)3124 2920 y FP(r)p
F3(')3227 2913 y FY(~)3240 2920 y FP(s)p 3304 2947 V
2974 2950 333 4 v 28 w FY(:)22 b FX(\010)3436 2913 y
FY(~)3449 2920 y FP(r)p 3597 3005 4 839 v 2478 3008 1123
4 v 359 3318 a F4(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5
b(T)t(I)g(O)t(N)r F4(:)37 b F0(telescopic)25 b(uniqueness)601
3606 y F4(F)o(or)53 b(each)g(natural)g(number)f FY(n)p
F4(,)60 b(we)54 b(may)e(deri)n(v)o(e)g(a)601 3756 y(substitution)35
b(principle)j(for)h(telescopic)f(equations)g(of)601 3905
y(length)24 b FY(n)p F4(.)601 4115 y(The)g(reduction)h(beha)n(viour)f
(will)g(be)h(as)g(follo)n(ws:)p 2743 3497 858 4 v 2743
4377 4 880 v 2796 3606 a FZ(eqUnique)3268 3629 y FL(n)2796
3855 y FX(\010)j(:)2933 3834 y FY(~)2949 3855 y FP(t)p
F3(')3044 3834 y FY(~)3059 3855 y FP(t)g F3(!)f FI(Type)3026
4135 y FX(\010)22 b(\()p FZ(re\003)3306 4113 y FY(~)3321
4135 y FP(t)p FX(\))p 2930 4167 558 4 v 2930 4292 a F3(8)p
2985 4175 322 4 v 2985 4318 4 144 v 3001 4285 a FY(~)3014
4292 y FP(e)27 b FX(:)3119 4271 y FY(~)3135 4292 y FP(t)p
F3(')3230 4271 y FY(~)3246 4292 y FP(t)p 3304 4318 V
2985 4321 322 4 v 28 w FY(:)22 b FX(\010)3436 4285 y
FY(~)3449 4292 y FP(e)p 3597 4377 4 880 v 2743 4380 858
4 v 815 4591 a FZ(eqUnique)1287 4613 y FL(n)1355 4565
y FY(~)1356 4591 y FP(T)1427 4584 y FY(~)1439 4591 y
FP(r)g FX(\010)h FY(\036)1651 4606 y Fq(r)l(e\015)1772
4584 y FY(~)1784 4591 y FP(r)f FX(\()p FZ(re\003)2035
4584 y FY(~)2048 4591 y FP(r)p FX(\))44 b FY(.)g(\036)2320
4606 y Fq(r)l(e\015)601 4846 y F4(This)19 b(construction)g(also)h
(proceeds)g(by)g(recursion)g(on)g FY(n)p F4(,)h(again)f(with)f
(polymorphic)601 4995 y(identity)33 b(as)i(the)f(base)h(case.)61
b(The)34 b(step)g(case)i(is)e(slightly)f(more)h(subtle)g(than)g(for)601
5145 y FZ(eqSubst)n F4(.)601 5335 y(Suppose)52 b(we)g(ha)n(v)o(e)g
(already)g(constructed)g FZ(eqUnique)2725 5357 y FL(n)2772
5335 y F4(:)85 b(let)52 b(us)g(construct)601 5484 y FZ(eqUnique)1072
5507 y FL(n)p FM(+1)1210 5484 y F4(.)1997 5667 y(122)p
eop
%%Page: 123 128
123 127 bop 601 70 a F4(This)20 b(time)g(we)h(\002x)h(e)n(v)o(erything)
d(e)o(xcept)i(the)f(proofs)601 219 y(of)k(the)h(equations.)p
2531 -102 1070 4 v 2531 380 4 482 v 7 setlinewidth np
2639 -22 25 135.00 315.00 arc st 7 setlinewidth np 2675
-40 18 180.00 360.00 arc st 7 setlinewidth np 2728 -40
35 180.00 360.00 arc st 7 setlinewidth np 2773 -13 28
251.56 341.56 arc st 7 setlinewidth np 2800 5 27 270.00
450.00 arc st 7 setlinewidth np 2764 32 35 360.00 540.00
arc st 7 setlinewidth np 2710 32 18 360.00 540.00 arc
st 7 setlinewidth np 2666 32 27 360.00 540.00 arc st
7 setlinewidth np 2630 14 19 63.43 243.43 arc st 2584
198 a FX(?)p FN(goal)q FX(:)d F3(8)p 2923 124 96 4 v
2923 225 4 101 v 29 w FP(e)p 3015 225 V 2923 228 96 4
v 28 w FX(;)3050 191 y FY(~)3063 198 y FP(e)o FX(:)g
FP(t)p FX(;)3211 177 y FY(~)3227 198 y FP(t)p F3(')q
FP(t)p FX(;)3399 177 y FY(~)3415 198 y FP(t)2923 319
y FX(\010)h FP(e)p FX(;)3086 312 y FY(~)3099 319 y FP(e)p
3597 380 4 482 v 2531 383 1070 4 v 601 507 a F4(W)-8
b(e)26 b(ha)n(v)o(e)g(little)f(choice)h(b)n(ut)g(to)f(eliminate)g
FP(e)h F4(with)g FZ(eqElim)p F4(.)35 b(Perforce,)28 b(this)d(intro-)601
657 y(duces)f(equational)g(constraints)g(in)g(the)h(scheme:)815
889 y FY(\025)p FP(s)11 b FX(:)g FP(T)p FY(:)22 b(\025)p
FP(l)1155 844 y FE(0)1189 889 y FX(:)11 b FP(t)p F3(')q
FP(s)p FY(:)22 b F3(8)p FP(e)p FX(;)1551 882 y FY(~)1564
889 y FP(e)11 b FX(:)g FP(t)p FX(;)1713 868 y FY(~)1729
889 y FP(t)p F3(')p FP(t)p FX(;)1900 868 y FY(~)1916
889 y FP(t)p FY(:)23 b FX(\()p FP(s)o F3(')q FP(t)p FX(\))28
b F3(!)f FX(\()p FP(l)2444 844 y FE(0)2468 889 y F3(')p
FP(e)p FX(\))h F3(!)f FX(\010)c FP(e)o FX(;)2939 882
y FY(~)2952 889 y FP(e)601 1122 y F4(Neither)30 b(of)g(these)g
(constraints)f(is)g(disposable,)h(since)g FP(e)g F4(de\002nitely)g
(occurs)g(in)g(the)601 1271 y(goal,)25 b(and,)g(in)g(general,)h(we)f
(may)g(e)o(xpect)h FP(t)f F4(to)g(occur)h(\(implicitly\))d(in)i(the)h
(types)e(of)601 1421 y(the)735 1414 y FY(~)747 1421 y
FP(e)p F4(.)601 1647 y(Consequently)-6 b(,)58 b(the)53
b(subgoal)g(we)g(get)g(is)g(as)601 1796 y(sho)n(wn.)601
2006 y(W)-8 b(e)36 b(may)g(discard)g FP(e)1337 1969 y
FE(0)1361 2006 y F4(,)i(then)e(eliminate)f FP(E)h F4(with)601
2155 y FZ(eqSubst)984 2178 y FM(1)1023 2155 y F4(.)p
2463 1475 1138 4 v 2463 2211 4 736 v 7 setlinewidth np
2546 1555 25 135.00 315.00 arc st 7 setlinewidth np 2582
1537 18 180.00 360.00 arc st 7 setlinewidth np 2636 1537
35 180.00 360.00 arc st 7 setlinewidth np 2680 1564 28
251.56 341.56 arc st 7 setlinewidth np 2707 1582 27 270.00
450.00 arc st 7 setlinewidth np 2671 1609 35 360.00 540.00
arc st 7 setlinewidth np 2618 1609 18 360.00 540.00 arc
st 7 setlinewidth np 2573 1609 27 360.00 540.00 arc st
7 setlinewidth np 2537 1591 19 63.43 243.43 arc st 2491
1775 a FX(?)p FN(subgoal)q FX(:)23 b F3(8)p FP(e)p FX(;)3058
1768 y FY(~)3071 1775 y FP(e)o FX(:)f FP(t)q FX(;)3220
1754 y FY(~)3236 1775 y FP(t)p F3(')p FP(t)p FX(;)3407
1754 y FY(~)3423 1775 y FP(t)2933 1896 y F3(8)p FP(e)3027
1860 y FE(0)3109 1896 y FX(:)g FP(t)q F3(')p FP(t)2933
2029 y F3(8)p 2988 1935 118 4 v 2988 2055 4 121 v 28
w FP(E)p 3102 2055 V 2988 2058 118 4 v 32 w FX(:)g FZ(re\003)g
FP(t)p F3(')q FP(e)2988 2150 y FX(\010)h FP(e)o FX(;)3150
2143 y FY(~)3163 2150 y FP(e)p 3597 2211 4 736 v 2463
2214 1138 4 v 601 2439 a F4(No)n(w)104 b(we)i(are)g(ready)g(to)f
(appeal)h(to)601 2588 y FZ(eqUnique)1072 2611 y FL(n)1119
2588 y F4(,)25 b(with)f(scheme)h FX(\010)e(\()p FZ(re\003)e
FP(t)q FX(\))p F4(.)p 2449 2267 1152 4 v 2449 2762 4
496 v 7 setlinewidth np 2557 2347 25 135.00 315.00 arc
st 7 setlinewidth np 2593 2329 18 180.00 360.00 arc st
7 setlinewidth np 2646 2329 35 180.00 360.00 arc st 7
setlinewidth np 2691 2356 28 251.56 341.56 arc st 7 setlinewidth
np 2718 2374 27 270.00 450.00 arc st 7 setlinewidth np
2682 2401 35 360.00 540.00 arc st 7 setlinewidth np 2629
2401 18 360.00 540.00 arc st 7 setlinewidth np 2584 2401
27 360.00 540.00 arc st 7 setlinewidth np 2548 2383 19
63.43 243.43 arc st 2502 2581 a FX(?)p FN(subgoal)q FX(:)i
F3(8)p 2999 2478 96 4 v 2999 2607 4 129 v 3015 2574 a
FY(~)3027 2581 y FP(e)p 3091 2607 V 2999 2610 96 4 v
28 w FX(:)3128 2559 y FY(~)3143 2581 y FP(t)q F3(')3239
2559 y FY(~)3254 2581 y FP(t)2999 2701 y FX(\010)g(\()p
FZ(re\003)e FP(t)p FX(\);)3396 2694 y FY(~)3409 2701
y FP(e)p 3597 2762 4 496 v 2449 2765 1152 4 v 601 2908
a F4(This)j(turns)g(the)h(remaining)1591 2901 y FY(~)1603
2908 y FP(e)f F4(into)h FX(\()p FZ(re\003)2034 2886 y
FY(~)2049 2908 y FP(t)q FX(\))p F4(,)f(so)h(that)f(the)h(\002x)o(ed)g
(proof)g(of)g FX(\010)d(\()p FZ(re\003)g FP(t)p FX(\))601
3057 y F4(completes)h(our)i(obligations.)601 3248 y(As)d(f)o(ar)h(as)f
(the)g(reduction)g(beha)n(viour)g(is)g(concerned,)h(for)n(gi)n(v)o(e)f
(me)g(if)g(I)h(omit)e(the)h(de-)601 3398 y(tail.)34 b(The)27
b(construction)e(successi)n(v)o(ely)f(applies)i(elimination)f(rules)h
(for)g(equations)601 3547 y(which)19 b(reduce)h(to)f(their)h(single)f
(subgoals)f(when)i(those)f(equations)g(are)h(instantiated)601
3697 y(with)k(re\003e)o(xi)n(vity)-6 b(.)28 b(Consequently)-6
b(,)24 b(each)h FZ(eqUnique)2528 3719 y FL(n)2600 3697
y F4(inherits)f(this)g(beha)n(viour)-5 b(.)357 3989 y(It)19
b(is)g(not)g(impossible)e(to)i(b)n(uild)g(a)g(notion)f(of)i(telescopic)
f(equality)f(with)h(substitution)e(using)h FZ(=)p F4(,)j(b)n(ut)357
4139 y(it)28 b(is)g(considerably)g(more)h(cumbersome.)42
b(The)29 b(method)e(forces)j(each)f(equation)f(to)g(typecheck,)357
4288 y(by)i(e)o(xplicit)f(appeal)i(to)f(the)g(substitution)e(operator)j
(for)f(the)h(pre\002x)o(ed)f(equations.)47 b(That)31
b(is,)g(we)357 4437 y(need)36 b(the)f(\002rst)h FY(n)g
F4(operators)g(in)f(order)h(to)g(formulate)f(a)h(telescopic)f(equation)
g(of)h(length)f FY(n)30 b FX(+)357 4587 y(1)p F4(,)39
b(let)d(alone)g(establish)f(its)h(o)n(wn)f(substituti)n(vity)-6
b(.)61 b(Furthermore,)39 b(in)d(order)g(to)g(mak)o(e)h(the)f(step)357
4736 y(in)31 b(the)h(construction,)h(it)e(is)h(not)f(suf)n(\002cient)h
(simply)e(to)i(substitute)e(for)j(the)f(\002rst)g(equation)f(with)357
4886 y FZ(idSubst)n F4(,)d(b)n(ut)f(rather)h(we)g(must)e(eliminate)g
(it)h(with)g FZ(idElim)q F4(,)h(not)f(only)f(substituting)f(the)i
(terms,)357 5035 y(b)n(ut)c(also)g(instantiating)e(the)i(proof)h(with)f
(re\003e)o(xi)n(vity)-6 b(,)22 b(allo)n(wing)f(the)j(substitutions)c
(repairing)j(the)357 5185 y(remainder)d(of)g(the)g(equations)f(to)g
(reduce.)30 b(By)20 b(adopting)f F3(')p F4(,)i(we)g(achie)n(v)o(e)e(at)
h(least)g(this)f(telescopic)357 5334 y(e)o(xtension)k(without)g
(acquiring)i(proof)f(rele)n(v)n(ant)g(dirt)g(under)h(our)g
(\002ngernails.)1997 5667 y(123)p eop
%%Page: 124 129
124 128 bop 357 -6 a FB(5.1.5)118 b(the)31 b(r)n(elationship)f(between)
i Fs(=)d FB(and)i Fe(')357 271 y F4(Ha)n(ving)c(ar)n(gued)h(for)f(the)h
(practicality)f(of)g(using)g F3(')h F4(instead)f(of)g
FZ(=)h F4(when)g(w)o(orking)e(with)h(depen-)357 421 y(dent)20
b(types,)g(I)g(nonetheless)f(feel)i(obliged)e(to)h(point)f(out)h(that)f
(the)h(tw)o(o)g(are)h(equi)n(v)n(alent\227pro)o(vided)357
570 y(we)j(mean)g FZ(=)h F4(equipped)e(with)h FZ(idUnique)o
F4(.)31 b(Let)24 b(me)g(no)n(w)f(gi)n(v)o(e)g(the)h(mutual)f
(construction.)30 b(First,)357 720 y(the)24 b(easy)h(direction:)359
929 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5 b(T)t(I)g(O)t(N)r
F4(:)37 b Fr(=)25 b F0(fr)n(om)g F3(')601 1179 y F4(This)h(is)i(so)f
(easy)h(that)f(I)h(will)f(just)f(tell)h(you)g(the)h(answers\227by)f
(construction,)g FZ(=)h F4(is)601 1329 y(just)23 b(telescopic)i
(equation)f(for)h(telescopes)f(of)h(length)f FX(1)p F4(.)815
1547 y FX(!)p FZ(=)368 b FX(=)22 b FY(\025)p FP(A)71
b FX(:)22 b FI(Type)1368 1668 y FY(\025)p FP(a)p FY(;)17
b FN(b)p FX(:)22 b FP(A)1425 1788 y(a)p F3(')p FP(b)1294
1909 y FX(:)47 b F3(8)p FP(A)71 b FX(:)22 b FI(Type)1368
2029 y F3(8)p FP(a)p FY(;)17 b FN(b)p FX(:)22 b FP(A)1423
2149 y FI(Prop)815 2270 y FX(!)p FZ(re\003)985 2285 y
Fg(=)1270 2270 y FX(=)g FZ(re\003)1294 2390 y FX(:)47
b F3(8)p FP(A)t FX(:)22 b FI(Type)1368 2510 y F3(8)p
FP(a)32 b FX(:)22 b FP(A)1423 2631 y(a)p FZ(=)q FP(a)815
2751 y FX(!)p FZ(idSubst)88 b FX(=)22 b FZ(eqSubst)1751
2774 y FM(1)1294 2872 y FX(:)47 b F3(8)p FP(A)71 b FX(:)22
b FI(Type)1368 2992 y F3(8)p FP(a)99 b FX(:)22 b FP(A)1368
3112 y F3(8)p FX(\010)73 b(:)22 b FP(A)32 b F3(!)27 b
FI(Type)1368 3233 y F3(8)p FY(\036)85 b FX(:)22 b(\010)g
FP(a)1368 3353 y F3(8)p FP(b)97 b FX(:)22 b FP(A)p 1423
3393 641 4 v 1368 3473 a F3(8)p 1421 3510 4 121 v 50
w FP(e)54 b FX(:)72 b FP(a)p FZ(=)p FP(b)p 2061 3510
V 1423 3513 641 4 v 1423 3594 a FX(\010)23 b FP(b)815
3714 y FX(!)p FZ(idUnique)p FX(=)f FZ(eqUnique)1840 3737
y FM(1)1294 3835 y FX(:)47 b F3(8)p FP(A)71 b FX(:)22
b FI(Type)1368 3955 y F3(8)p FP(a)99 b FX(:)22 b FP(A)1368
4075 y F3(8)p FX(\010)73 b(:)22 b FP(a)p F3(')q FP(a)27
b F3(!)h FI(Type)1368 4196 y F3(8)p FY(\036)85 b FX(:)22
b(\010)g(\()p FZ(re\003)1888 4211 y Fg(=)1955 4196 y
FP(a)p FX(\))p 1423 4235 730 4 v 1368 4316 a F3(8)p 1421
4352 4 121 v 50 w FP(e)54 b FX(:)72 b FP(a)p FZ(=)p FP(a)p
2151 4352 V 1423 4356 730 4 v 1423 4437 a FX(\010)23
b FP(e)601 4624 y F4(Furthermore,)36 b(the)d(reduction)g(beha)n(viour)h
(for)g FZ(idSubst)e F4(and)i FZ(idUnique)f F4(is)h(e)o(x-)601
4774 y(actly)24 b(that)g(for)i FZ(eqSubst)1518 4796 y
FM(1)1582 4774 y F4(and)f FZ(eqUnique)2223 4796 y FM(1)2262
4774 y F4(.)357 5024 y(The)g(other)f(direction)g(is)h(the)f
(interesting)g(one.)359 5234 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5
b(T)t(I)g(O)t(N)r F4(:)37 b F3(')25 b F0(fr)n(om)h Fr(=)e
F0(with)h Fr(idUnique)601 5484 y F4(Let)f(us)h(assume)f(we)h(ha)n(v)o
(e)g FZ(=)g F4(and)g(construct:)1997 5667 y(124)p eop
%%Page: 125 130
125 129 bop 815 -6 a FX(?)p F3(')243 b FX(:)22 b F3(8)p
FP(A)t FX(:)h FI(Type)1230 115 y F3(8)p FP(a)32 b FX(:)23
b FP(A)1230 235 y F3(8)p FN(B)15 b FX(:)23 b FI(Type)1230
356 y F3(8)p FN(b)e FX(:)i FN(B)1285 476 y FI(Prop)815
596 y FX(?)p FZ(re\003)177 b FX(:)22 b F3(8)p FP(A)t
FX(:)h FI(Type)1230 717 y F3(8)p FP(a)32 b FX(:)23 b
FP(A)1285 837 y(a)p F3(')q FP(a)815 958 y FX(?)p FZ(eqElim)q
FX(:)f F3(8)p FP(A)67 b FX(:)22 b FI(Type)1230 1078 y
F3(8)p FP(a)95 b FX(:)22 b FP(A)1230 1198 y F3(8)p FX(\010)69
b(:)22 b F3(8)p FP(a)1572 1162 y FE(0)1607 1198 y FX(:)11
b FP(A)t FY(:)22 b FP(a)q F3(')p FP(a)1936 1162 y FE(0)1987
1198 y F3(!)27 b FI(Type)1230 1319 y F3(8)p FY(\036)81
b FX(:)22 b(\010)g FP(a)h FX(\()p FZ(re\003)f FP(a)p
FX(\))1230 1439 y F3(8)p FP(a)1329 1403 y FE(0)1424 1439
y FX(:)g FP(A)p 1285 1479 1047 4 v 1230 1559 a F3(8)p
1284 1596 4 121 v 50 w FP(e)50 b FX(:)72 b FP(a)p F3(')p
FP(a)1689 1523 y FE(0)p 2330 1596 V 1285 1599 1047 4
v 1285 1680 a FX(\010)23 b FP(a)1422 1644 y FE(0)1467
1680 y FP(l)601 1875 y F4(Let)h(us)h(\002rst)g(mak)o(e)f(a)i(little)d
(abbre)n(viation:)815 2108 y FZ(cell)50 b FX(=)-17 b
F3(\))50 b FX(\006)p FP(A)32 b FX(:)c FI(Type)o FY(:)22
b FP(A)601 2340 y FZ(cell)j F4(packages)g(up)f(a)h(typed)g(term.)30
b(The)25 b(idea)g(is)f(that)g F3(')i F4(is)e(just)g FZ(=)h
F4(for)g FZ(cell)p F4(s:)815 2573 y FX(!)p F3(')66 b
FX(=)22 b FY(\025)p FP(A)t FX(:)g FI(Type)1083 2693 y
FY(\025)p FP(a)32 b FX(:)22 b FP(A)1083 2813 y FY(\025)p
FN(B)15 b FX(:)22 b FI(Type)1083 2934 y FY(\025)p FN(b)f
FX(:)h FN(B)1140 3054 y F3(h)p FP(A)t FX(;)17 b FP(a)p
F3(i)f FZ(=)h F3(h)p FN(B)p FX(;)g FN(b)o F3(i)815 3175
y FX(!)p FZ(re\003)p FX(=)22 b FY(\025)p FP(A)t FX(:)g
FI(Type)1083 3295 y FY(\025)p FP(a)32 b FX(:)22 b FP(A)1140
3415 y FZ(re\003)1283 3430 y Fg(=)1366 3415 y F3(h)o
FP(A)t FX(;)17 b FP(a)p F3(i)601 3611 y F4(This)24 b(mak)o(es)g(the)h
(elimination)e(rule)p 7 setlinewidth np 870 3777 25 135.00
315.00 arc st 7 setlinewidth np 906 3759 18 180.00 360.00
arc st 7 setlinewidth np 959 3759 35 180.00 360.00 arc
st 7 setlinewidth np 1004 3785 28 251.56 341.56 arc st
7 setlinewidth np 1031 3803 27 270.00 450.00 arc st 7
setlinewidth np 995 3830 35 360.00 540.00 arc st 7 setlinewidth
np 941 3830 18 360.00 540.00 arc st 7 setlinewidth np
897 3830 27 360.00 540.00 arc st 7 setlinewidth np 861
3812 19 63.43 243.43 arc st 815 3988 a FX(?)p FZ(eqElim)q
FX(:)f F3(8)p FP(A)67 b FX(:)22 b FI(Type)1230 4109 y
F3(8)p FP(a)95 b FX(:)22 b FP(A)1230 4229 y F3(8)p FX(\010)69
b(:)22 b F3(8)p FP(b)p FX(:)h FP(A)1473 4350 y F3(8)p
FP(e)7 b FX(:)23 b F3(h)o FP(A)t FX(;)17 b FP(a)p F3(i)g
FZ(=)g F3(h)o FP(A)t FX(;)g FP(b)p F3(i)1528 4470 y FI(Type)1230
4590 y F3(8)p FY(\036)81 b FX(:)22 b(\010)g FP(a)h FX(\()p
FZ(re\003)1812 4605 y Fg(=)1896 4590 y F3(h)o FP(A)t
FX(;)17 b FP(a)p F3(i)p FX(\))1230 4711 y F3(8)p FP(b)93
b FX(:)22 b FP(A)p 1285 4750 1017 4 v 1230 4831 a F3(8)p
1284 4867 4 121 v 50 w FP(e)50 b FX(:)72 b F3(h)o FP(A)t
FX(;)17 b FP(a)p F3(i)g FZ(=)g F3(h)o FP(A)5 b FX(;)17
b FP(b)o F3(i)p 2300 4867 V 1285 4871 1017 4 v 1285 4951
a FX(\010)23 b FP(b)f(e)601 5176 y F4(If)28 b(we)h(could)e(only)h
(deduce)g FP(a)q FZ(=)p FP(b)g F4(from)g FP(e)p F4(,)h(we)g(w)o(ould)e
(be)h(most)g(of)g(the)g(w)o(ay)g(there.)601 5325 y(F)o(or)j(that,)h(we)
f(need)g(a)g(proof)g(that)g(equal)g(cells)f(ha)n(v)o(e)h(equal)g
(second)g(projections.)1997 5667 y(125)p eop
%%Page: 126 131
126 130 bop 601 -6 a F4(The)38 b(equi)n(v)n(alence)f(of)i
FZ(idUnique)e F4(and)i(equality)e(of)h(second)h(projections)e(from)601
144 y(dependent)20 b(pairs)i(is)e(folklore)h(kno)n(wledge,)g(b)n(ut)g
(I)g(shall)g(do)g(the)g(w)o(ork)h(nonetheless.)601 335
y(It)29 b(is)f(e)n(v)o(en)h(dif)n(\002cult)f(to)g(state)h(the)g
(equality)f(of)h(the)g(second)g(projections,)g(because)601
484 y(the)o(y)24 b(are)h(not)f(of)h(con)l(v)o(ertible)f(types\227we)g
(must)f(use)i(the)g(substituti)n(vity)20 b(of)25 b(equal-)601
634 y(ity)f(to)g(mak)o(e)h(a)g(type)f(coercion.)601 825
y(The)38 b(lemma)g(we)h(need)f(is)h(as)f(sho)n(wn.)71
b(Let)38 b(us)601 974 y F0(claim)48 b F4(it)h(globally)e(and)i(w)o(ork)
g(on)g(the)g(main)601 1124 y(goal.)601 1333 y(Observ)o(e)24
b(that)844 1626 y FN(spr)n(oj)g FP(e)j FX(:)h F3(8)p
FP(q)12 b FX(:)f FP(A)t FZ(=)p FP(A)t FY(:)23 b FX(\([)p
FP(q)p FX(])1756 1650 y Fg(=)1800 1626 y FP(a)q FX(\))p
FZ(=)p FP(b)p 2477 716 1124 4 v 2477 1488 4 773 v 2505
825 a FX(?)p FN(spr)n(oj)q FX(:)g F3(8)p FP(Aa)p FY(;)17
b FP(Bb)p FX(:)22 b FZ(cell)2818 945 y F3(8)p FP(e)228
b FX(:)22 b FP(Aa)p FZ(=)p FP(Bb)2818 1065 y(Aa)p FX([)p
FP(A)p FY(;)17 b FP(a)p FX(])2818 1186 y FP(Bb)p FX([)p
FP(B)p FY(;)g FP(b)p FX(])2818 1306 y F3(8)p FP(q)221
b FX(:)22 b FP(A)p FZ(=)p FP(B)2873 1427 y FX(\([)p FP(q)p
FX(])3011 1451 y Fg(=)3056 1427 y FP(a)p FX(\))p FZ(=)p
FP(b)p 3597 1488 V 2477 1491 1124 4 v 601 1771 a F4(so)i(that)815
2004 y FN(spr)n(oj)g FP(e)e FX(\()p FZ(re\003)1296 2019
y Fg(=)1363 2004 y FP(A)t FX(\))27 b(:)h FP(a)p FZ(=)q
FP(b)601 2298 y F4(Let)37 b(us)f(e)o(xploit)g(this)g(disco)o(v)o(ery)-6
b(.)65 b(Introducing)601 2448 y(all)30 b(the)g(hypotheses,)h(this)e(is)
h(the)h(goal)f(we)h(no)n(w)601 2597 y(must)23 b(solv)o(e.)p
2475 2127 1126 4 v 2475 2720 4 594 v 7 setlinewidth np
2583 2207 25 135.00 315.00 arc st 7 setlinewidth np 2619
2189 18 180.00 360.00 arc st 7 setlinewidth np 2672 2189
35 180.00 360.00 arc st 7 setlinewidth np 2717 2216 28
251.56 341.56 arc st 7 setlinewidth np 2744 2233 27 270.00
450.00 arc st 7 setlinewidth np 2708 2260 35 360.00 540.00
arc st 7 setlinewidth np 2655 2260 18 360.00 540.00 arc
st 7 setlinewidth np 2610 2260 27 360.00 540.00 arc st
7 setlinewidth np 2574 2242 19 63.43 243.43 arc st 2547
2419 a FX(!)p FN(ab)84 b FX(=)22 b FN(spr)n(oj)h FP(e)f
FX(\()p FZ(re\003)3342 2434 y Fg(=)3409 2419 y FP(A)t
FX(\))2787 2539 y(:)47 b FP(a)p FZ(=)q FP(b)2528 2659
y FX(?)p FN(goal)25 b FX(:)47 b(\010)23 b FP(b)f(e)p
3597 2720 V 2475 2723 1126 4 v 601 2948 a F4(As)j(the)g(type)h(of)f
FP(e)h F4(contains)f FP(b)p F4(,)g(it)h(is)f(wise)g(to)601
3098 y(reabstract)g(it:)601 3307 y(W)-8 b(e)100 b(may)f(no)n(w)g
F0(eliminate)h FN(ab)g F4(by)601 3457 y FZ(idSubst)n
F4(.)p 2319 2777 1283 4 v 2319 3627 4 851 v 7 setlinewidth
np 2427 2857 25 135.00 315.00 arc st 7 setlinewidth np
2462 2839 18 180.00 360.00 arc st 7 setlinewidth np 2516
2839 35 180.00 360.00 arc st 7 setlinewidth np 2560 2866
28 251.56 341.56 arc st 7 setlinewidth np 2587 2884 27
270.00 450.00 arc st 7 setlinewidth np 2551 2910 35 360.00
540.00 arc st 7 setlinewidth np 2498 2910 18 360.00 540.00
arc st 7 setlinewidth np 2453 2910 27 360.00 540.00 arc
st 7 setlinewidth np 2418 2893 19 63.43 243.43 arc st
2391 3085 a FX(!)p 2418 2988 147 4 v 2418 3111 4 124
v 28 w FP(ab)p 2561 3111 V 2418 3114 147 4 v 94 w FX(=)22
b FN(spr)n(oj)h FP(e)f FX(\()p FZ(re\003)3209 3100 y
Fg(=)3275 3085 y FP(A)t FX(\))2728 3205 y FP(a)p FZ(=)p
FP(b)2372 3325 y FX(?)p FN(goal)2606 3280 y FE(0)2654
3325 y FX(:)47 b F3(8)p FP(e)2822 3289 y FE(0)2845 3325
y FX(:)22 b F3(h)p FP(A)t FX(;)17 b FP(a)p F3(i)f FZ(=)h
F3(h)p FP(A)t FX(;)g FP(b)p F3(i)2783 3446 y FX(\010)23
b FP(b)f(e)2983 3410 y FE(0)2391 3566 y FX(!)p FN(goal)48
b FX(:)f FN(goal)2916 3520 y FE(0)2962 3566 y FP(e)p
3597 3627 4 851 v 2319 3630 1283 4 v 601 3855 a F4(No)n(w)24
b FP(e)855 3819 y FE(0)904 3855 y F4(is)g(a)h(re\003e)o(xi)n(v)o(e)f
(equation!)601 4065 y(W)-8 b(e)25 b(may)f F0(eliminate)h
F4(it)f(by)h FZ(idUnique)o F4(.)p 2235 3684 1366 4 v
2235 4157 4 474 v 7 setlinewidth np 2343 3764 25 135.00
315.00 arc st 7 setlinewidth np 2379 3746 18 180.00 360.00
arc st 7 setlinewidth np 2432 3746 35 180.00 360.00 arc
st 7 setlinewidth np 2477 3773 28 251.56 341.56 arc st
7 setlinewidth np 2504 3791 27 270.00 450.00 arc st 7
setlinewidth np 2468 3817 35 360.00 540.00 arc st 7 setlinewidth
np 2414 3817 18 360.00 540.00 arc st 7 setlinewidth np
2370 3817 27 360.00 540.00 arc st 7 setlinewidth np 2334
3799 19 63.43 243.43 arc st 2288 3976 a FX(?)p FN(subgoal)q
FX(:)d F3(8)q FP(e)2824 3939 y FE(0)2847 3976 y FX(:)g
F3(h)p FP(A)t FX(;)17 b FP(a)p F3(i)f FZ(=)h F3(h)p FP(A)t
FX(;)g FP(a)p F3(i)2785 4096 y FX(\010)22 b FP(a)h(e)2983
4060 y FE(0)p 3597 4157 V 2235 4160 1366 4 v 601 4385
a F4(The)62 b(subgoal)g(we)h(acquire)h(follo)n(ws)601
4534 y(from)24 b FY(\036)t F4(.)p 2173 4213 1428 4 v
2173 4566 4 353 v 7 setlinewidth np 2281 4294 25 135.00
315.00 arc st 7 setlinewidth np 2317 4276 18 180.00 360.00
arc st 7 setlinewidth np 2370 4276 35 180.00 360.00 arc
st 7 setlinewidth np 2415 4302 28 251.56 341.56 arc st
7 setlinewidth np 2442 4320 27 270.00 450.00 arc st 7
setlinewidth np 2406 4347 35 360.00 540.00 arc st 7 setlinewidth
np 2352 4347 18 360.00 540.00 arc st 7 setlinewidth np
2308 4347 27 360.00 540.00 arc st 7 setlinewidth np 2272
4329 19 63.43 243.43 arc st 2226 4505 a FX(?)p FN(immediate)p
FX(:)e(\010)h FP(a)f FX(\()p FZ(re\003)3134 4520 y FL(eq)3243
4505 y F3(h)p FP(A)t FX(;)17 b FP(a)p F3(i)p FX(\))p
3597 4566 V 2173 4569 1428 4 v 601 4689 a F4(All)30 b(that)g(remains)g
(is)g(to)g(pro)o(v)o(e)g FN(spr)n(oj)p F4(.)50 b(Firstly)-6
b(,)31 b(we)g F0(eliminate)f F4(the)h(equation)f(on)601
4838 y(the)24 b(cells,)h FP(e)f F4(with)g FZ(idSubst)o
F4(.)1997 5667 y(126)p eop
%%Page: 127 132
127 131 bop 601 70 a F4(Although)30 b(the)h(tw)o(o)h(pairs)f(unpack)o
(ed)h(by)f(the)h(bind-)601 219 y(ing)26 b(sugar)f(are)j(the)e(same,)h
(we)g(ha)n(v)o(e)f(tw)o(o)g(names)g(for)601 369 y(each)h(projection.)34
b(W)-8 b(e)27 b(can)g(clear)g(this)e(up)h(by)g(elimi-)601
518 y(nating)e FP(Aa)p F4(,)h(reducing)g(the)g(projections)f(and)h
(cutting)601 668 y(the)f(sugared)g FX(!)p F4(-bindings.)p
2626 -102 975 4 v 2626 746 4 848 v 7 setlinewidth np
2734 -22 25 135.00 315.00 arc st 7 setlinewidth np 2770
-40 18 180.00 360.00 arc st 7 setlinewidth np 2823 -40
35 180.00 360.00 arc st 7 setlinewidth np 2868 -13 28
251.56 341.56 arc st 7 setlinewidth np 2895 5 27 270.00
450.00 arc st 7 setlinewidth np 2859 32 35 360.00 540.00
arc st 7 setlinewidth np 2806 32 18 360.00 540.00 arc
st 7 setlinewidth np 2761 32 27 360.00 540.00 arc st
7 setlinewidth np 2725 14 19 63.43 243.43 arc st 2679
203 a FX(?)p FN(same)p FX(:)e F3(8)p 3058 109 173 4 v
3058 229 4 121 v 29 w FP(Aa)p 3227 229 V 3058 232 173
4 v 28 w FX(:)h FZ(cell)3002 324 y FP(Aa)q FX([)p FP(A)p
FY(;)17 b FP(a)o FX(])3002 444 y FP(Aa)q FX([)p FP(B)o
FY(;)g FP(b)p FX(])3002 564 y F3(8)q FP(q)126 b FX(:)23
b FP(A)p FZ(=)p FP(B)3058 685 y FX(\([)p FP(q)p FX(])3196
709 y Fg(=)3240 685 y FP(a)q FX(\))p FZ(=)p FP(b)p 3597
746 4 848 v 2626 749 975 4 v 601 974 a F4(No)n(w)c(we)h(may)g(use)g
FZ(idUnique)f F4(to)h(remo)o(v)o(e)f(the)h(re\003e)o(x-)601
1123 y(i)n(v)o(e)j FP(q)p F4(.)p 2704 802 897 4 v 2704
1516 4 715 v 7 setlinewidth np 2788 882 25 135.00 315.00
arc st 7 setlinewidth np 2823 864 18 180.00 360.00 arc
st 7 setlinewidth np 2877 864 35 180.00 360.00 arc st
7 setlinewidth np 2921 891 28 251.56 341.56 arc st 7
setlinewidth np 2948 909 27 270.00 450.00 arc st 7 setlinewidth
np 2912 936 35 360.00 540.00 arc st 7 setlinewidth np
2859 936 18 360.00 540.00 arc st 7 setlinewidth np 2814
936 27 360.00 540.00 arc st 7 setlinewidth np 2779 918
19 63.43 243.43 arc st 2733 1094 a FX(?)p FN(open)p FX(:)f
F3(8)p FP(A)t FX(:)h FI(Type)3048 1215 y F3(8)p FP(a)32
b FX(:)23 b FP(A)3048 1335 y F3(8)p FP(q)30 b FX(:)23
b FP(A)t FZ(=)p FP(A)3103 1455 y FX(\([)p FP(q)p FX(])3241
1480 y Fg(=)3286 1455 y FP(a)p FX(\))p FZ(=)p FP(a)p
3597 1516 V 2704 1519 897 4 v 601 1744 a F4(The)g(remaining)g(subgoal)g
(has)g(e)o(xactly)g(the)h(type)f(of)h FZ(re\003)2597
1759 y Fg(=)2642 1744 y F4(!)p 2855 1573 746 4 v 2855
2167 4 594 v 7 setlinewidth np 2938 1653 25 135.00 315.00
arc st 7 setlinewidth np 2974 1635 18 180.00 360.00 arc
st 7 setlinewidth np 3028 1635 35 180.00 360.00 arc st
7 setlinewidth np 3072 1662 28 251.56 341.56 arc st 7
setlinewidth np 3099 1680 27 270.00 450.00 arc st 7 setlinewidth
np 3063 1706 35 360.00 540.00 arc st 7 setlinewidth np
3010 1706 18 360.00 540.00 arc st 7 setlinewidth np 2965
1706 27 360.00 540.00 arc st 7 setlinewidth np 2929 1689
19 63.43 243.43 arc st 2884 1865 a FX(?)p FN(r)n(e\003)o
FX(:)f F3(8)p FP(A)t FX(:)f FI(Type)3125 1985 y F3(8)p
FP(A)t FX(:)g FP(a)3180 2106 y(a)p FZ(=)q FP(a)p 3597
2167 V 2855 2170 746 4 v 601 2288 a F4(As)i(f)o(ar)i(as)f(reduction)f
(beha)n(viour)g(is)g(concerned,)i(\002rst)f(observ)o(e)f(that)815
2520 y FN(spr)n(oj)g FX(\()p FZ(re\003)1235 2535 y Fg(=)1318
2520 y F3(h)p FP(A)t FX(;)17 b FP(a)p F3(i)p FX(\))22
b(\()p FZ(re\003)1801 2535 y Fg(=)1867 2520 y FP(A)t
FX(\))2031 2492 y F3(\030)2032 2524 y FX(=)2158 2520
y(\()p FZ(re\003)2339 2535 y Fg(=)2405 2520 y FP(a)q
FX(\))601 2753 y F4(This)28 b(is)g(because)h FN(spr)n(oj)h
F4(eliminates)e(in)g(succession)g(the)g(\002rst)h(equation,)g(the)g
(cell,)601 2902 y(then)34 b(the)h(second)g(equation,)h(and)f(all)g
(three)g(are)h(in)e(constructor)g(form.)61 b(Conse-)601
3051 y(quently)-6 b(,)28 b(when)g FZ(eqElim)h F4(is)f(applied)g(to)g
FX(\()p FZ(re\003)d FP(a)p FX(\))p F4(,)30 b(the)e(computed)g(equality)
g(proof)601 3201 y FN(ab)e F4(turns)g(out)h(to)f(be)h
FX(\()p FZ(re\003)1518 3216 y Fg(=)1586 3201 y FP(a)q
FX(\))p F4(.)36 b(Since)27 b(both)f(these)h(equations)e(are)j(re\003e)o
(xi)n(v)o(e,)e(both)601 3350 y(the)e FZ(idSubst)g F4(and)h
FZ(idUnique)f F4(steps)g(reduce)h(as)g(required.)357
3750 y FT(5.2)142 b(\002rst-order)34 b(uni\002cation)f(f)l(or)j
(constructor)d(f)l(orms)357 4062 y F4(A)d(typical)f(application)g(of)h
(an)g(elimination)e(rule)i(with)g(scheme)g(v)n(ariable)f
FX(\010)38 b(:)g F3(8)3234 4055 y FY(~)3252 4062 y FP(\021)20
b FX(:)3332 4036 y FY(~)3348 4062 y FP(I)q FY(:)26 b
FI(Type)j F4(will)357 4212 y(engender)c(a)g(scheme)601
4504 y FX(\010)50 b(=)g FY(\025)886 4497 y(~)904 4504
y FP(\021)o FY(:)22 b F3(8)1028 4497 y FY(~)1035 4504
y FP(x)q FY(:)1117 4497 y(~)1135 4504 y FP(\021)o F3(')1224
4483 y FY(~)1240 4504 y FP(t)p FX([)1293 4497 y FY(~)1300
4504 y FP(x)p FX(])28 b F3(!)f FX(\011)357 4797 y F4(Correspondingly)-6
b(,)23 b(cases)i(of)g(form)652 5090 y FY(~)659 5097 y
FP(y)i FX(:)792 5071 y FY(~)791 5097 y FP(Y)613 5196
y FY(:)17 b(:)g(:)f(:)h(:)g(:)f(:)641 5356 y FX(\010)720
5349 y FY(~)733 5356 y FP(s)p FX([)p FP(y)p FX(])1997
5667 y F4(127)p eop
%%Page: 128 133
128 132 bop 357 -6 a F4(yield)24 b(subgoals)f(in)i(the)g(proof)f(of)h
(form)601 287 y F3(8)649 280 y FY(~)656 287 y FP(y)p
FY(:)d F3(8)803 280 y FY(~)810 287 y FP(x)p FY(:)896
280 y(~)909 287 y FP(s)p FX([)p FP(y)p FX(])p F3(')1114
265 y FY(~)1130 287 y FP(t)p FX([)1183 280 y FY(~)1190
287 y FP(x)p FX(])27 b F3(!)h FX(\011)357 579 y F4(The)38
b(equational)f(constraints)g(constitute)f(a)j(uni\002cation)e(problem:)
56 b(if)38 b(there)h(is)e(no)h(solution,)357 729 y(then)33
b(the)h(goal)f(follo)n(ws)f(v)n(acuously;)37 b(if)c(there)h(is)g(a)g
(most)e(general)i(uni\002er)l(,)i(we)e(may)g(use)f(it)h(to)357
878 y(instantiate)23 b(the)931 871 y FY(~)938 878 y FP(y)i
F4(and)1174 871 y FY(~)1181 878 y FP(x)p F4(.)357 1149
y(Suppose,)g(for)h(e)o(xample,)g(we)g(wish)f(to)g(write)h(the)g(`v)o
(ector)f(tail')357 1298 y(function,)h(whose)h(type)f(pre)n(v)o(ents)g
(application)g(to)g(a)i(null)e(v)o(ec-)357 1448 y(tor:)p
2730 977 1058 4 v 2730 1571 4 594 v 7 setlinewidth np
2838 1058 25 135.00 315.00 arc st 7 setlinewidth np 2873
1040 18 180.00 360.00 arc st 7 setlinewidth np 2927 1040
35 180.00 360.00 arc st 7 setlinewidth np 2971 1066 28
251.56 341.56 arc st 7 setlinewidth np 2998 1084 27 270.00
450.00 arc st 7 setlinewidth np 2962 1111 35 360.00 540.00
arc st 7 setlinewidth np 2909 1111 18 360.00 540.00 arc
st 7 setlinewidth np 2864 1111 27 360.00 540.00 arc st
7 setlinewidth np 2829 1093 19 63.43 243.43 arc st 2783
1269 a FX(?)p FZ(vtail)p FX(:)c F3(8)p FP(n)q FX(:)h
FZ(N)-63 b(N)3075 1390 y F3(8)p FN(v)p FX(:)23 b FZ(v)n(ect)f
F4(\()p FZ(s)p FP(n)p F4(\))3130 1510 y FZ(v)n(ect)h
FP(n)p 3784 1571 V 2730 1574 1058 4 v 357 1712 a F4(Note)h(that)h(I)g
(ha)n(v)o(e)f(\002x)o(ed)h(the)g(element)f(type)g FP(A)29
b F4(to)c(a)n(v)n(oid)f(clutter)-5 b(.)357 1921 y(Eliminating)22
b FN(v)j F4(with)f FZ(v)n(ectCase)h F4(creates)g(a)h(constrained)e
(scheme)601 2214 y FY(\025)p FP(i)10 b FX(:)h FZ(N)-63
b(N)p FY(:)23 b(\025)p FP(x)10 b FX(:)h FZ(v)n(ect)23
b FP(i)o FY(:)g F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p
FY(:)22 b F3(8)p FP(v)11 b FX(:)g FZ(v)n(ect)23 b FX(\()p
FZ(s)o FP(n)q FX(\))p FY(:)f FP(i)o F3(')q FZ(s)p FP(n)50
b F3(!)f FP(x)p F3(')p FP(v)h F3(!)g FZ(v)n(ect)22 b
FP(n)357 2506 y F4(The)j(corresponding)e(subgoals)h(are)i(as)e(sho)n
(wn.)357 2716 y(The)76 b FZ(vtail)785 2731 y Fg(vnil)970
2716 y F4(subgoal)g(features)h(the)g(impossible)357 2865
y(premise)50 b(that)h(zero)g(equals)g(a)g(successor)l(,)57
b(whilst)50 b(in)357 3015 y(the)24 b FZ(vtail)700 3030
y Fg(vcons)919 3015 y F4(case)h(the)g(equations)e(con)l(v)o(eniently)g
(con-)357 3164 y(strain)e(the)i(type)e(of)i(the)f(tail)g(to)g(be)g(the)
g(return)g(type)g(of)h(the)357 3313 y(function.)p 2529
2397 1258 4 v 2529 4012 4 1615 v 2582 2506 a FX(?)q FZ(vtail)2825
2522 y Fg(vnil)3019 2506 y FX(:)f F3(8)q FP(n)h FX(:)f
FZ(N)-63 b(N)3068 2627 y F3(8)q FP(v)28 b FX(:)22 b FZ(v)n(ect)g
FX(\()p FZ(s)p FP(n)p FX(\))3068 2747 y F3(8)q FP(e)3162
2762 y FM(1)3202 2747 y FX(:)g FZ(0)p F3(')q FZ(s)o FP(n)3068
2867 y F3(8)q FP(e)3162 2882 y FM(2)3202 2867 y FX(:)g
FP(x)p F3(')p FP(v)3124 2988 y FZ(v)n(ect)g FP(n)2582
3108 y FX(?)q FZ(vtail)2825 3123 y Fg(vcons)3019 3108
y FX(:)g F3(8)q FP(m)p FX(:)g FZ(N)-63 b(N)3068 3229
y F3(8)q FP(h)28 b FX(:)22 b FP(A)3068 3349 y F3(8)q
FP(t)45 b FX(:)22 b FZ(v)n(ect)g FP(m)3068 3469 y F3(8)q
FP(n)h FX(:)f FZ(N)-63 b(N)3068 3590 y F3(8)q FP(v)28
b FX(:)22 b FZ(v)n(ect)g FX(\()p FZ(s)p FP(n)p FX(\))3068
3710 y F3(8)q FP(e)3162 3725 y FM(1)3202 3710 y FX(:)g
FZ(s)p FP(m)o F3(')q FZ(s)o FP(n)3068 3830 y F3(8)q FP(e)3162
3845 y FM(2)3202 3830 y FX(:)g FP(x)p F3(')p FP(v)3124
3951 y FZ(v)n(ect)g FP(n)p 3784 4012 V 2529 4015 1258
4 v 357 4196 a F4(If)d(we)h(could)f(solv)o(e)f(these)h(uni\002cation)g
(problems,)g(we)h(w)o(ould)357 4345 y(be)25 b(left)f(with)g(this)g
(goal.)p 2667 4087 1121 4 v 2667 4618 4 532 v 2720 4196
a FX(?)p FZ(vtail)2963 4211 y Fg(vcons)3156 4196 y FX(:)f
F3(8)p FP(n)p FX(:)g FZ(N)-63 b(N)3206 4316 y F3(8)p
FP(h)5 b FX(:)23 b FP(A)3206 4437 y F3(8)p FP(t)f FX(:)h
FZ(v)n(ect)f FP(n)3261 4557 y FZ(v)n(ect)g FP(n)p 3784
4618 V 2667 4621 1121 4 v 357 4758 a F4(W)-8 b(e)25 b(w)o(ould)f(then)g
(introduce)h(the)f(ar)n(guments)g(and)h(return)g(the)g(tail.)357
4967 y(The)19 b(task)g(does)g(seem)g(to)g(hinge)f(on)h(solving)f(the)h
(uni\002cation)g(problems)f(generated)h(in)g(the)g(course)357
5117 y(of)29 b(elimination.)42 b(In)29 b([McB96],)i(I)e(presented)g(a)h
(tactic)f(\(`Qnify'\))g(for)h(solving)e(such)g(problems,)357
5266 y(pro)o(vided)k(the)i(terms)g(comprised)f(constructor)g(forms)g
(in)h(simple)f(datatypes.)57 b(I)34 b(shall)f(lar)n(gely)357
5415 y(follo)n(w)23 b(that)i(treatment,)f(e)o(xtending)f(the)i(same)f
(procedure)i(to)e(dependent)g(datatypes.)1997 5667 y(128)p
eop
%%Page: 129 134
129 133 bop 357 -6 a FB(5.2.1)118 b(transition)30 b(rules)h(f)m(or)e
(\002rst-order)h(uni\002cation)357 271 y F4(The)40 b(`Qnify')g(tactic)g
(operates)g(by)g(successi)n(v)o(ely)e(eliminating)g(from)i(the)g(goal)g
(hypothetical)357 421 y(equations)23 b(between)i(constructor)f(forms:)
601 738 y F3(8)649 731 y FY(~)656 738 y FP(x)p FY(:)e
FP(s)p F3(')p FP(t)28 b F3(!)f FX(\010)359 1055 y F4(D)t
F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35 b F0(constructor)27
b(f)n(orm)601 1348 y FP(t)e F4(is)f(a)h F0(constructor)h(f)n(orm)f
F4(o)o(v)o(er)f(v)n(ariable)g(set)h FY(V)46 b F4(if)25
b(either)717 1580 y F3(\017)48 b FP(t)28 b F3(2)g FY(V)717
1771 y F3(\017)48 b FP(t)28 b F3(\021)g FJ(con)1178 1750
y FY(~)1194 1771 y FP(t)815 1941 y F4(where)d(each)h
FP(t)1324 1956 y FL(i)1377 1941 y F4(is)f(a)g(constructor)f(form)g(o)o
(v)o(er)g FY(V)357 2234 y F4(In)k(the)g(abo)o(v)o(e)f(goal,)i(suppose)f
FP(s)g F4(and)g FP(t)g F4(ha)n(v)o(e)g(the)h(same)f(type)g(and)g(are)h
(constructor)e(forms)h(o)o(v)o(er)357 2383 y(the)496
2376 y FY(~)503 2383 y FP(x)p F4(.)j(W)-8 b(e)25 b(may)g(distinguish)d
(six)i(possibilities)e(by)j(the)f(follo)n(wing)f(decision)h(table:)3325
2347 y FS(3)p 601 2584 1944 4 v 599 2713 4 129 v 650
2677 a FP(s)120 b F3(')h FP(t)p 1118 2713 V 1135 2713
V 146 w(x)p 1721 2713 V 536 w FJ(cheese)2137 2655 y FY(~)2152
2677 y FP(t)p 2542 2713 V 601 2716 1944 4 v 601 2733
V 599 2862 4 129 v 650 2826 a(x)p 1118 2862 V 1135 2862
V 486 w F0(identity)p 1721 2862 V 260 w F4(if)25 b FP(x)i
F3(2)2013 2804 y FY(~)2030 2826 y FP(t)e F4(then)f F0(cycle)p
2542 2862 V 601 2865 1122 4 v 599 2982 4 121 v 650 2946
a FP(y)p 1118 2982 V 1135 2982 V 486 w F0(coalescence)p
1721 2982 V 100 w F4(else)h F0(substitution)p 2542 2982
V 601 2985 1944 4 v 599 3106 4 121 v 650 3070 a FJ(chalk)923
3063 y FY(~)936 3070 y FP(s)p 1118 3106 V 1135 3106 V
211 w F4(apply)p 1721 3106 V 364 w F0(con\003ict)p 2542
3106 V 601 3109 536 4 v 1722 3109 822 4 v 599 3226 4
121 v 650 3190 a FJ(cheese)1018 3183 y FY(~)1031 3190
y FP(s)p 1118 3226 V 1135 3226 V 116 w F4(symmetry)p
1721 3226 V 186 w F0(injecti)o(vity)p 2542 3226 V 601
3230 1944 4 v 357 3474 a F4(F)o(or)i(each)h(of)f(these)g(six)g(kinds)f
(of)i(constructor)e(equation,)i(there)f(is)g(an)g(elimination)f(rule.)
38 b(The)o(y)357 3623 y(are)25 b(sho)n(wn)f(in)g(table)h(5.1)357
3833 y(These)36 b(six)f(rules,)j(once)e(we)g(ha)n(v)o(e)g(pro)o(v)o(en)
f(them,)j(will)d(constitute)f(the)i(transition)e(rules)i(of)g(a)357
3982 y(uni\002cation)24 b(algorithm)f(which)i(is)f(complete)g(for)h
(the)g(follo)n(wing)e(class)h(of)h(problem:)359 4192
y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35 b F0(constructor)27
b(f)n(orm)d(uni\002cation)i(pr)n(oblem)601 4484 y F4(A)e
F0(constructor)j(f)n(orm)d(uni\002cation)i(pr)n(oblem)g
F4(is)f(a)g(goal)f(of)h(form:)815 4716 y F3(8)863 4709
y FY(~)870 4716 y FP(x)p FY(:)956 4709 y(~)970 4716 y
FP(s)o F3(')1070 4695 y FY(~)1086 4716 y FP(t)j F3(!)f
FX(\010[)1364 4709 y FY(~)1371 4716 y FP(x)p FX(])815
4887 y F4(where)39 b(the)1244 4880 y FY(~)1257 4887 y
FP(s)e F4(and)1500 4865 y FY(~)1516 4887 y FP(t)h F4(are)h(sequences)f
(of)g(constructor)f(forms)h(o)o(v)o(er)3272 4880 y FY(~)3279
4887 y FP(x)815 5036 y F4(inhabiting)23 b(some)h(telescope)h
FP(T)p 357 5126 1373 4 v 473 5187 a FR(3)506 5217 y Fd(chalk)h
FQ(and)20 b Fd(cheese)h FQ(are)f(constructors)f(as)i(dif)n(ferent)d(as)
j(chalk)f(and)g(cheese.)1997 5667 y F4(129)p eop
%%Page: 130 135
130 134 bop 1008 1117 a F0(identity)p 1434 819 804 4
v 1434 1365 4 547 v 1488 928 a FX(\010)28 b(:)f FI(Type)1838
1183 y FX(\010)p 1622 1199 504 4 v 1622 1206 234 4 v
1622 1307 4 101 v 1650 1281 a FP(x)p F3(')q FP(x)p 1852
1307 V 1622 1310 234 4 v 77 w F3(!)50 b FX(\010)p 2235
1365 4 547 v 1434 1368 804 4 v 848 1683 a F0(coalescence)p
1434 1372 1141 4 v 1434 1945 4 573 v 1488 1481 a FX(\010)28
b(:)f FP(T)h F3(!)f FI(Type)1971 1736 y FX(\010)22 b
FP(x)p 1622 1752 840 4 v 1622 1834 a F3(8)p FP(y)11 b
FX(:)g FP(T)p FY(:)p 1887 1759 234 4 v 1887 1886 4 128
v 51 w FP(y)p F3(')p FP(x)p 2117 1886 V 1887 1889 234
4 v 78 w F3(!)49 b FX(\010)23 b FP(y)p 2571 1945 4 573
v 1434 1948 1141 4 v 1125 2244 a F0(cycle)p 1434 1951
1168 4 v 1434 2488 4 537 v 1488 2060 a FX(\010)28 b(:)f
FI(Type)p 1622 2278 867 4 v 1622 2286 598 4 v 1622 2429
4 144 v 1650 2403 a FP(x)p F3(')q FJ(cheese)2142 2382
y FY(~)2158 2403 y FP(t)p 2216 2429 V 1622 2432 598 4
v 78 w F3(!)50 b FX(\010)p 2599 2488 4 537 v 1434 2491
1168 4 v 2722 2244 a FP(x)27 b F3(2)2877 2223 y FY(~)2893
2244 y FP(t)831 2826 y F0(substitution)p 1434 2494 1504
4 v 1434 3108 4 614 v 1488 2603 a FX(\010)h(:)f FP(T)h
F3(!)f FI(Type)1971 2882 y FX(\010)22 b FJ(cheese)2428
2861 y FY(~)2444 2882 y FP(t)p 1622 2899 1204 4 v 1622
3024 a F3(8)p FP(x)11 b FX(:)g FP(T)p FY(:)p 1887 2906
598 4 v 1887 3050 4 144 v 51 w FP(x)p F3(')p FJ(cheese)2407
3002 y FY(~)2422 3024 y FP(t)p 2480 3050 V 1887 3053
598 4 v 79 w F3(!)49 b FX(\010)23 b FP(x)p 2935 3108
4 614 v 1434 3111 1504 4 v 3058 2826 a(x)28 b F3(62)3214
2804 y FY(~)3230 2826 y FP(t)1025 3408 y F0(con\003ict)p
1434 3115 1442 4 v 1434 3651 4 537 v 1488 3224 a FX(\010)g(:)f
FI(Type)p 1622 3442 1142 4 v 1622 3449 872 4 v 1622 3593
4 144 v 1650 3567 a FJ(chalk)1923 3560 y FY(~)1936 3567
y FP(s)o F3(')q FJ(cheese)2417 3545 y FY(~)2432 3567
y FP(t)p 2490 3593 V 1622 3596 872 4 v 78 w F3(!)50 b
FX(\010)p 2873 3651 4 537 v 1434 3654 1442 4 v 910 3989
a F0(injecti)o(vity)p 1434 3658 1537 4 v 1434 4271 4
614 v 1488 3767 a FX(\010)28 b(:)f FI(Type)2040 4039
y FY(~)2053 4046 y FP(s)o F3(')2153 4024 y FY(~)2169
4046 y FP(t)h F3(!)f FX(\010)p 1622 4062 1237 4 v 1622
4069 967 4 v 1622 4213 4 144 v 1650 4187 a FJ(cheese)2018
4180 y FY(~)2031 4187 y FP(s)o F3(')q FJ(cheese)2512
4165 y FY(~)2527 4187 y FP(t)p 2585 4213 V 1622 4216
967 4 v 78 w F3(!)50 b FX(\010)p 2968 4271 4 614 v 1434
4274 1537 4 v 902 4542 a F4(T)-8 b(able)25 b(5.1:)30
b(elimination)23 b(rules)i(for)g(constructor)f(form)h(equations)1997
5667 y(130)p eop
%%Page: 131 136
131 135 bop 357 -6 a F4(Since)25 b FP(s)642 9 y FM(1)681
-6 y FY(;)17 b FP(t)758 9 y FM(1)825 -6 y FX(:)28 b FP(T)941
9 y FM(1)980 -6 y F4(,)d(the)g(leading)f(equation)g(has)h(both)f(sides)
g(the)g(same)h(type,)f(so)h(that)f(e)o(xactly)g(one)357
144 y(of)h(the)g(abo)o(v)o(e)f(rules)h(must)g(apply)f(\(using)h
(symmetry)f(if)h(necessary\).)32 b(W)-8 b(e)26 b(must)e(also)h(check)h
(that)357 293 y(each)f(of)g(these)g(rules)f(preserv)o(es)h(this)f
(structure.)359 503 y(L)t F2(E)t(M)t(M)t(A)r F4(:)34
b F0(transition)25 b(rules)g(pr)n(eser)o(v)o(e)h(pr)n(oblem)g(structur)
n(e)601 794 y F4(Gi)n(v)o(en)d(a)i(constructor)f(form)h(uni\002cation)f
(problem)815 1026 y F3(8)863 1019 y FY(~)870 1026 y FP(x)p
FY(:)f F3(8)p FP(e)p FX(;)1095 1019 y FY(~)1108 1026
y FP(e)10 b FX(:)h FP(s)p FX(;)1265 1019 y FY(~)1278
1026 y FP(s)p F3(')p FP(t)p FX(;)1455 1004 y FY(~)1471
1026 y FP(t)p FY(:)22 b FX(\010)q([)1644 1019 y FY(~)1651
1026 y FP(x)p FX(])601 1258 y F4(eliminating)33 b FP(e)j
F4(by)f(the)h(appropriate)f(transition)f(rule)i(either)f(solv)o(es)g
(the)g(goal)g(or)601 1408 y(lea)n(v)o(es)24 b(a)h(subgoal)f(which)g(is)
h(also)f(a)h(constructor)f(form)h(uni\002cation)f(problem.)359
1699 y(P)t F2(R)q(O)t(O)t(F)357 1908 y F4(Let)g(us)h(check,)g(rule)g
(by)f(rule:)502 2199 y F3(\017)49 b F0(identity)601 2390
y F4(Before,)25 b(we)h(ha)n(v)o(e)815 2622 y FX(?)p FP(befor)n(e)p
FX(:)c F3(8)1191 2615 y FY(~)1198 2622 y FP(x)p FX(:)1301
2596 y FY(~)1297 2622 y FP(X)1143 2743 y F3(8)p FP(e)11
b FX(:)22 b FP(x)1347 2758 y FL(i)1375 2743 y F3(')q
FP(x)1503 2758 y FL(i)1143 2871 y F3(8)1186 2864 y FY(~)1198
2871 y FP(e)11 b FX(:)1285 2864 y FY(~)1297 2871 y FP(s)p
F3(')1398 2850 y FY(~)1414 2871 y FP(t)1198 2992 y FX(\010)601
3216 y F4(where)25 b FP(x)919 3231 y FL(i)947 3216 y
FX(;)978 3209 y FY(~)991 3216 y FP(s)o FY(;)17 b FP(x)1123
3231 y FL(i)1151 3216 y FX(;)1179 3194 y FY(~)1195 3216
y FP(t)28 b FX(:)1309 3190 y FY(~)1310 3216 y FP(T)p
F4(.)j(Afterw)o(ards,)25 b(we)g(ha)n(v)o(e)815 3448 y
FX(?)p FP(after)p FX(:)d F3(8)1141 3441 y FY(~)1148 3448
y FP(x)p FX(:)1251 3422 y FY(~)1247 3448 y FP(X)1093
3577 y F3(8)1136 3570 y FY(~)1148 3577 y FP(e)11 b FX(:)1235
3570 y FY(~)1247 3577 y FP(s)p F3(')1348 3555 y FY(~)1364
3577 y FP(t)1148 3697 y FX(\010)601 3921 y F4(where)856
3914 y FY(~)869 3921 y FP(s)p FY(;)936 3900 y(~)952 3921
y FP(t)27 b FX(:)1065 3895 y FY(~)1067 3921 y FP(T)22
b(x)1200 3936 y FL(i)1228 3921 y F4(.)30 b(Since)c(the)e(v)n(ariable)h
(set)f(is)g(unchanged,)2715 3914 y FY(~)2728 3921 y FP(s)g
F4(and)2944 3900 y FY(~)2960 3921 y FP(t)h F4(are)h(still)d
(constructor)601 4071 y(forms.)502 4303 y F3(\017)49
b F0(coalescence)25 b F4(and)g F0(substitution)601 4493
y F4(Up)32 b(to)g(a)h(permutation)e(of)i(the)g(goal)f(\(performed)h(by)
f(the)g(elimination)f(tactic\))i(we)g(start)601 4643
y(with)815 4875 y FX(?)p FP(befor)n(e)p FX(:)22 b F3(8)1191
4868 y FY(~)1198 4875 y FP(x)p FX(:)1301 4849 y FY(~)1297
4875 y FP(X)1143 4995 y F3(8)p FP(x)p FX(:)g FP(T)1358
5010 y FM(1)1143 5116 y F3(8)p FP(e)11 b FX(:)22 b FP(x)p
F3(')q FP(t)1143 5249 y F3(8)1191 5242 y FY(~)1198 5249
y FP(y)p FX(:)1299 5223 y FY(~)1297 5249 y FP(Y)q FX([)p
FP(x)p FX(])1143 5378 y F3(8)1186 5371 y FY(~)1198 5378
y FP(e)11 b FX(:)1285 5371 y FY(~)1297 5378 y FP(s)p
FX([)p FP(x)p FX(])p F3(')1502 5356 y FY(~)1518 5378
y FP(t)p FX([)p FP(x)p FX(])1198 5498 y(\010)q([)p FP(x)p
FX(])1997 5667 y F4(131)p eop
%%Page: 132 137
132 136 bop 601 -6 a F4(where)25 b FP(x)i F3(62)h FP(t)e
F4(and)e FP(x)p FX(;)1348 -13 y FY(~)1361 -6 y FP(s)p
FY(;)17 b FP(t)o FX(;)1504 -27 y FY(~)1520 -6 y FP(t)28
b FX(:)1634 -32 y FY(~)1636 -6 y FP(T)d F4(After)g(elimination,)d(we)j
(ha)n(v)o(e)815 227 y FX(?)p FP(after)p FX(:)d F3(8)1141
220 y FY(~)1148 227 y FP(x)p FX(:)1251 201 y FY(~)1247
227 y FP(X)1093 360 y F3(8)1141 353 y FY(~)1148 360 y
FP(y)p FX(:)1249 334 y FY(~)1247 360 y FP(Y)q FX([)p
FP(t)p FX(])1093 489 y F3(8)1136 482 y FY(~)1148 489
y FP(e)11 b FX(:)1235 482 y FY(~)1247 489 y FP(s)p FX([)p
FP(t)q FX(])p F3(')1436 467 y FY(~)1451 489 y FP(t)p
FX([)p FP(t)q FX(])1148 609 y(\010)q([)p FP(t)p FX(])601
805 y F4(Although,)21 b FP(x)i F4(has)f(v)n(anished)g(from)g(the)h(v)n
(ariable)f(set,)h(it)f(has)h(been)g(replaced)g(by)g(construc-)601
954 y(tor)g(form)g FP(t)g F4(which)g(does)g(not)f(contain)h
FP(x)p F4(.)30 b(As)23 b(for)g(the)g(remaining)g(problem,)3268
947 y FY(~)3279 954 y FP(s)p FX([)p FP(t)p FX(])p FY(;)3433
933 y(~)3449 954 y FP(t)p FX([)p FP(t)q FX(])k(:)3650
928 y FY(~)3652 954 y FP(T)16 b(t)p F4(.)502 1187 y F3(\017)49
b F0(cycle)25 b F4(and)f F0(con\003ict)601 1378 y F4(There)h(are)g(no)g
(subgoals.)502 1610 y F3(\017)49 b F0(injecti)o(vity)601
1801 y F4(Before:)815 2033 y FX(?)p FP(befor)n(e)p FX(:)22
b F3(8)1191 2026 y FY(~)1198 2033 y FP(x)p FX(:)1301
2007 y FY(~)1297 2033 y FP(X)1143 2173 y F3(8)p FP(e)11
b FX(:)22 b FJ(cheese)1665 2166 y FY(~)1678 2173 y FP(s)1716
2121 y FE(0)1740 2173 y F3(')p FJ(cheese)2182 2151 y
FY(~)2198 2173 y FP(t)2231 2106 y FE(0)1143 2301 y F3(8)1186
2294 y FY(~)1198 2301 y FP(e)11 b FX(:)1285 2294 y FY(~)1297
2301 y FP(s)p F3(')1398 2280 y FY(~)1414 2301 y FP(t)1198
2422 y FX(\010)601 2652 y F4(where)23 b FX(\()p FJ(cheese)1263
2645 y FY(~)1276 2652 y FP(s)1315 2601 y FE(0)1338 2652
y FX(\);)1407 2645 y FY(~)1420 2652 y FP(s)p FY(;)17
b FX(\()p FJ(cheese)1896 2631 y FY(~)1912 2652 y FP(t)1945
2586 y FE(0)1968 2652 y FX(\);)2034 2631 y FY(~)2050
2652 y FP(t)28 b FX(:)2164 2626 y FY(~)2166 2652 y FP(T)p
F4(.)i(No)n(w)-6 b(,)21 b(the)i(type)f(of)g(constructor)g
FJ(cheese)601 2802 y F4(must)h(be)815 3034 y F3(8)863
3027 y FY(~)870 3034 y FP(y)11 b FX(:)970 3008 y FY(~)969
3034 y FP(Y)q FY(:)22 b FP(T)p FX([)1166 3027 y FY(~)1173
3034 y FP(y)p FX(])601 3267 y F4(with)791 3260 y FY(~)803
3267 y FP(s)841 3215 y FE(0)865 3267 y FY(;)893 3245
y(~)909 3267 y FP(t)942 3201 y FE(0)992 3267 y FX(:)1048
3241 y FY(~)1047 3267 y FP(Y)q F4(.)31 b(After)25 b(elimination:)815
3499 y FX(?)p FP(after)p FX(:)d F3(8)1141 3492 y FY(~)1148
3499 y FP(x)12 b FX(:)1264 3473 y FY(~)1260 3499 y FP(X)1093
3639 y F3(8)1136 3632 y FY(~)1148 3639 y FP(e)1187 3587
y FE(0)1210 3639 y FX(:)1247 3632 y FY(~)1260 3639 y
FP(s)1298 3587 y FE(0)1322 3639 y F3(')1384 3617 y FY(~)1399
3639 y FP(t)1432 3572 y FE(0)1093 3767 y F3(8)1136 3760
y FY(~)1148 3767 y FP(e)23 b FX(:)1247 3760 y FY(~)1260
3767 y FP(s)o F3(')1360 3746 y FY(~)1376 3767 y FP(t)1148
3888 y FX(\010)601 4093 y F4(Certainly)-6 b(,)19 b(the)g(problem)f
(still)g(consists)f(of)j(constructor)e(forms)h(o)o(v)o(er)f(the)3154
4086 y FY(~)3161 4093 y FP(x)o F4(.)29 b(Furthermore,)601
4242 y(both)791 4235 y FY(~)803 4242 y FP(s)841 4191
y FE(0)865 4242 y FX(;)896 4235 y FY(~)909 4242 y FP(s)24
b F4(and)1125 4221 y FY(~)1141 4242 y FP(t)1174 4176
y FE(0)1197 4242 y FX(;)1225 4221 y FY(~)1241 4242 y
FP(t)h F4(inhabit)f(the)g(telescope)h FX(\()2174 4235
y FY(~)2181 4242 y FP(y)i FX(:)2314 4216 y FY(~)2313
4242 y FP(Y)q FX(\);)17 b(\()2498 4216 y FY(~)2500 4242
y FP(T)k FX(\()p FJ(cheese)2993 4235 y FY(~)3000 4242
y FP(y)p FX(\)\))p F4(.)3710 4535 y FC(\003)357 4894
y F4(No)n(w)30 b(we)h(ha)n(v)o(e)g(check)o(ed)h(that)e(each)i
(transition)d(rule)i(preserv)o(es)g(the)g(structure)g(of)g(constructor)
357 5043 y(form)d(uni\002cation)g(problems,)g(the)h(ne)o(xt)f(step)g
(is)g(to)g(put)g(them)g(together)g(to)h(mak)o(e)f(a)h(uni\002cation)357
5193 y(algorithm.)1997 5667 y(132)p eop
%%Page: 133 138
133 137 bop 357 -6 a FB(5.2.2)118 b(an)30 b(algorithm)g(f)m(or)g
(constructor)g(f)m(orm)f(uni\002cation)i(pr)n(oblems)357
271 y F4(The)25 b(algorithm)f(is)i(v)o(ery)f(straightforw)o(ard:)31
b(it)25 b(consists)g(of)g(repeatedly)h(applying)e(the)i(transition)357
421 y(rule)31 b(appropriate)h(to)f(the)h(leading)f(equation)g(until)f
(either)i(the)f(goal)h(is)f(pro)o(v)o(ed)f(outright)h(or)h(no)357
570 y(equations)23 b(remain.)357 780 y(From)30 b(the)g(abo)o(v)o(e)f
(lemma,)i(it)e(is)h(clear)h(that)e(if)i(one)f(step)f(lea)n(v)o(es)h(a)h
(subgoal,)f(the)g(ne)o(xt)f(step)h(can)357 929 y(be)d(made.)38
b(Ho)n(we)n(v)o(er)l(,)26 b(we)i(must)e(still)g(sho)n(w)g(that)g
(uni\002cation)h(terminates)f(and)h(computes)f(most)357
1078 y(general)f(uni\002ers:)359 1288 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t
(O)t(N)r F4(:)35 b F0(uni\002er)-9 b(,)26 b(most)f(general)g(uni\002er)
601 1571 y F4(If)678 1564 y FY(~)691 1571 y FP(s)p F3(')792
1550 y FY(~)807 1571 y FP(t)f F4(is)g(a)g(constructor)f(form)h
(uni\002cation)f(problem)g(o)o(v)o(er)2710 1564 y FY(~)2717
1571 y FP(x)h F4(and)g FY(\033)k F4(is)23 b(a)h(substitu-)601
1721 y(tion)f(from)i(the)1139 1714 y FY(~)1146 1721 y
FP(x)f F4(to)h(terms)f(o)o(v)o(er)g(some)1996 1714 y
FY(~)2003 1721 y FP(x)2053 1669 y FE(0)2076 1721 y F4(,)h(then)g
FY(\033)k F4(is)24 b F0(unifer)i F4(of)2878 1714 y FY(~)2891
1721 y FP(s)p F3(')2992 1699 y FY(~)3007 1721 y FP(t)f
F4(if)g FY(\033)3197 1714 y(~)3210 1721 y FP(s)i F3(\021)i
FY(\033)3425 1699 y(~)3441 1721 y FP(t)p F4(.)601 1910
y(In)j(addition,)g FY(\033)37 b F4(is)32 b(a)g F0(most)g(general)h
(uni\002er)g F4(or)g F0(mgu)f F4(of)2706 1903 y FY(~)2718
1910 y FP(s)p F3(')2819 1888 y FY(~)2835 1910 y FP(t)g
F4(if)g(an)o(y)g(uni\002er)g(of)588 2052 y FY(~)601 2059
y FP(s)o F3(')701 2038 y FY(~)717 2059 y FP(t)25 b F4(can)g(be)g(f)o
(actorised)g FY(\032)d F3(\001)g FY(\033)t F4(,)j(where)g
FY(\032)g F4(is)g(a)g(substitution)d(on)i(the)2963 2052
y FY(~)2970 2059 y FP(x)3020 2008 y FE(0)3043 2059 y
F4(.)359 2343 y(L)t F2(E)t(M)t(M)t(A)r F4(:)34 b F0(uni\002cation)26
b(terminates)601 2626 y F4(F)o(or)32 b(all)g(constructor)g(form)h
(uni\002cation)f(problems,)h(the)f(sequence)h(of)g(transition)601
2776 y(rule)22 b(applications)f(determined)g(at)h(each)h(stage)f(by)g
(the)g(leading)f(equation)h(is)g(\002nite.)359 3059 y(P)t
F2(R)q(O)t(O)t(F)357 3268 y F4(I)k(shall)g(use)g(the)f(traditional)g
(proof:)33 b(we)27 b(may)e(establish)g(a)i(well-founded)e(ordering)h
(on)g(uni\002ca-)357 3418 y(tion)e(problems,)f(being)i(the)f(le)o
(xicographical)g(ordering)g(on)h(the)f(follo)n(wing)f(three)i
(quantities:)502 3701 y F3(\017)49 b F4(the)24 b(number)g(of)h(v)n
(ariables)1559 3694 y FY(~)1566 3701 y FP(x)502 3931
y F3(\017)49 b F4(the)24 b(number)g(of)h(constructor)f(symbols)g
(appearing)g(in)h(the)f(problem)502 4160 y F3(\017)49
b F4(the)24 b(number)g(of)h(equations)f(in)h(the)f(problem)357
4443 y(W)-8 b(e)28 b(may)f(then)h(check)g(case)g(by)g(case)g(that)f
(each)h(transition)f(rule)g(either)h(terminates)f(directly)g(or)357
4593 y(reduces)e(this)f(measure.)502 4876 y F3(\017)49
b F0(cycle)25 b F4(and)f F0(con\003ict)i F4(terminate)e(directly)502
5105 y F3(\017)49 b F0(coalescence)25 b F4(and)g F0(substitution)h
F4(decrement)f(the)f(number)h(of)f(v)n(ariables)502 5335
y F3(\017)49 b F0(injecti)o(vity)36 b F4(preserv)o(es)h(the)g(number)f
(of)g(v)n(ariables)g(b)n(ut)h(reduces)g(the)f(number)g(of)h(con-)601
5484 y(structor)24 b(symbols)1997 5667 y(133)p eop
%%Page: 134 139
134 138 bop 502 -6 a F3(\017)49 b F0(identity)29 b F4(preserv)o(es)g
(the)f(number)h(of)g(v)n(ariables)f(and)h(the)f(number)h(of)g
(constructor)f(sym-)601 144 y(bols,)23 b(b)n(ut)i(reduces)g(the)g
(number)f(of)h(equations)3710 435 y FC(\003)359 793 y
F4(L)t F2(E)t(M)t(M)t(A)r F4(:)34 b F0(uni\002cation)26
b(corr)n(ect)601 1084 y F4(F)o(or)e(an)o(y)h(initial)e(goal)i(which)f
(is)g(constructor)g(form)h(uni\002cation)f(problem)815
1316 y F3(8)863 1309 y FY(~)870 1316 y FP(x)p FY(:)956
1309 y(~)970 1316 y FP(s)o F3(')1070 1294 y FY(~)1086
1316 y FP(t)k F3(!)f FX(\010[)1364 1309 y FY(~)1371 1316
y FP(x)p FX(])601 1548 y F4(either)840 1541 y FY(~)853
1548 y FP(s)e F4(and)1071 1526 y FY(~)1086 1548 y FP(t)g
F4(ha)n(v)o(e)g(no)f(uni\002er)l(,)i(in)e(which)h(case)h(the)f
(algorithm)e(pro)o(v)o(es)h(the)h(goal,)601 1697 y(or)30
b(there)g(is)g(a)g(subset)1386 1690 y FY(~)1393 1697
y FP(x)1443 1646 y FE(0)1504 1697 y F3(\022)1612 1690
y FY(~)1619 1697 y FP(x)g F4(and)g(a)g(substitution)d
FY(\033)35 b F4(from)30 b(the)2900 1690 y FY(~)2907 1697
y FP(x)g F4(to)g(constructor)601 1847 y(forms)25 b(o)o(v)o(er)g(the)
1199 1840 y FY(~)1206 1847 y FP(x)1256 1795 y FE(0)1305
1847 y F4(such)h(that)f FY(\033)30 b F4(is)25 b(a)h(mgu)f(of)2235
1840 y FY(~)2248 1847 y FP(s)h F4(with)2501 1825 y FY(~)2516
1847 y FP(t)g F4(and)f(the)h(algorithm)e(yields)601 1996
y(subgoal)815 2228 y F3(8)863 2221 y FY(~)870 2228 y
FP(x)920 2177 y FE(0)944 2228 y FY(:)e FX(\010[)p FY(\033)1141
2221 y(~)1149 2228 y FP(x)p FX(])359 2519 y F4(P)t F2(R)q(O)t(O)t(F)357
2728 y F4(It)i(is)h(enough)f(to)g(check)i(that)e(at)h(each)g(step)g(of)
g(the)f(problem,)g(either)502 3019 y F3(\017)49 b F4(the)24
b(goal)h(has)f(been)h(pro)o(v)o(en)f(and)h(there)g(is)f(no)h(uni\002er)
l(,)g(or)502 3251 y F3(\017)49 b F4(the)24 b(goal)h(is)f(of)h(form)815
3483 y F3(8)863 3476 y FY(~)870 3483 y FP(x)920 3431
y FE(0)944 3483 y FY(:)980 3476 y(~)993 3483 y FP(s)1032
3431 y FE(0)1055 3483 y F3(')1117 3461 y FY(~)1132 3483
y FP(t)1166 3416 y FE(0)1217 3483 y F3(!)i FX(\010[)p
FY(\033)1492 3476 y(~)1500 3483 y FP(x)p FX(])601 3714
y F4(such)34 b(that)g(a)h(most)f(general)h(uni\002er)g
FY(\032)g F4(of)f F0(r)n(emainder)2604 3707 y FY(~)2617
3714 y FP(s)2655 3663 y FE(0)2679 3714 y F3(')2741 3693
y FY(~)2756 3714 y FP(t)2789 3648 y FE(0)2847 3714 y
F4(induces)g(a)h(most)f(general)601 3864 y(uni\002er)25
b FY(\032)d F3(\001)g FY(\033)29 b F4(of)1187 3857 y
FY(~)1200 3864 y FP(s)o F3(')1300 3842 y FY(~)1316 3864
y FP(t)357 4155 y F4(This)d(in)l(v)n(ariant)g(holds)f(initially)-6
b(,)25 b(with)i F0(accumulator)g FY(\033)k F4(the)c(identity)e
(substitution.)35 b(If)27 b(it)f(holds)357 4304 y(\002nally)32
b(with)h(no)f(goal,)j(there)e(w)o(as)g(no)g(uni\002er)-5
b(.)55 b(Otherwise)32 b(it)h(holds)e(\002nally)i(with)f(the)h(empty)357
4453 y(remainder)i(whose)g(mgu)f(is)h(the)g(identity)f(substitution,)g
(so)h(the)g(accumulator)g(is)g(the)g(mgu)f(of)344 4596
y FY(~)357 4603 y FP(s)o F3(')457 4581 y FY(~)473 4603
y FP(t)p F4(.)357 4812 y(Case)25 b(by)g(case,)g(then:)502
5103 y F3(\017)49 b F0(cycle)25 b F4(and)f F0(con\003ict)i
F4(pro)o(v)o(e)e(the)h(goal)f(in)h(cases)g(where)g(there)g(is)f(no)h
(unifer)502 5335 y F3(\017)49 b F0(identity)33 b F4(and)f
F0(injecti)o(vity)h F4(change)g(neither)g(the)f(accumulator)g(nor)h
(the)f(uni\002ers)h(of)f(the)601 5484 y(remainder)1997
5667 y(134)p eop
%%Page: 135 140
135 139 bop 502 -6 a F3(\017)49 b F0(coalescence)25 b
F4(and)g F0(substitution)p 601 49 1614 4 v 599 170 4
121 v 953 170 V 1086 133 a F4(remainder)182 b(accumulator)p
2213 170 V 601 173 1614 4 v 599 312 4 140 v 650 276 a(before)p
953 312 V 201 w FP(x)p FX(;)1186 269 y FY(~)1199 276
y FP(s)1237 225 y FE(0)1261 276 y F3(')p FP(t)p FX(;)1399
254 y FY(~)1415 276 y FP(t)1448 210 y FE(0)1889 276 y
FY(\033)p 2213 312 V 599 451 V 722 415 a F4(after)p 953
451 V 100 w FX([)p FP(t)q FY(=)p FP(x)o FX(])1177 408
y FY(~)1190 415 y FP(s)1229 364 y FE(0)1252 415 y F3(')q
FX([)p FP(t)p FY(=)p FP(x)p FX(])1501 394 y FY(~)1516
415 y FP(t)1549 349 y FE(0)1760 415 y FX([)p FP(t)p FY(=)p
FP(x)p FX(])22 b F3(\001)g FY(\033)p 2213 451 V 601 455
1614 4 v 601 573 a F4(Suppose)31 b FY(\032)g F4(is)g(a)h(mgu)f(of)g
(the)g(remainder)h(after)f(the)h(transition.)48 b(It)32
b(is)f(enough)f(to)h(sho)n(w)601 722 y(that)i FY(\032)c
F3(\001)g FX([)p FP(t)p FY(=)p FP(x)p FX(])34 b F4(is)g(a)g(mgu)f(of)h
(the)g(remainder)g(beforehand,)j(with)c(the)h(in)l(v)n(ariant)e
(forcing)601 871 y FY(\032)22 b F3(\001)g FX([)p FP(t)p
FY(=)p FP(x)p FX(])g F3(\001)g FY(\033)29 b F4(to)24
b(be)h(a)g(mgu)f(of)1652 864 y FY(~)1665 871 y FP(s)p
F3(')1766 850 y FY(~)1781 871 y FP(t)q F4(.)601 1062
y(Clearly)h FY(\032)d F3(\001)g FX([)p FP(t)p FY(=)p
FP(x)p FX(])j F4(uni\002es)g FP(x)o FX(;)1623 1055 y
FY(~)1636 1062 y FP(s)1675 1011 y FE(0)1698 1062 y F3(')q
FP(t)p FX(;)1837 1041 y FY(~)1853 1062 y FP(t)1886 996
y FE(0)1909 1062 y F4(.)601 1253 y(No)n(w)f(suppose)g
FY(\034)36 b F4(also)24 b(uni\002es)h FP(x)p FX(;)1798
1246 y FY(~)1811 1253 y FP(s)1849 1202 y FE(0)1873 1253
y F3(')p FP(t)p FX(;)2011 1232 y FY(~)2027 1253 y FP(t)2060
1187 y FE(0)2083 1253 y F4(.)31 b(Then)25 b FY(\034)39
b FX(=)27 b FY(\034)34 b F3(\001)22 b FX([)p FP(t)p FY(=)p
FP(x)p FX(])p F4(,)j(because)717 1486 y F0(\226)48 b
FY(\034)34 b F3(\001)22 b FX([)p FP(t)p FY(=)p FP(x)o
FX(])p FP(x)28 b FX(=)g FY(\034)11 b FP(t)28 b FX(=)f
FY(\034)11 b FP(x)26 b F4(by)e(hypothesis)717 1677 y
F0(\226)48 b FY(\034)34 b F3(\001)22 b FX([)p FP(t)p
FY(=)p FP(x)o FX(])p FP(y)28 b FX(=)g FY(\034)11 b FP(y)25
b F4(when)g FP(y)i F3(6)p FX(=)h FP(x)601 1909 y F4(Hence)g
FY(\034)40 b F4(uni\002es)28 b FX([)p FP(t)p FY(=)p FP(x)p
FX(])1432 1902 y FY(~)1445 1909 y FP(s)1483 1858 y FE(0)1507
1909 y F3(')p FX([)p FP(t)q FY(=)p FP(x)o FX(])1755 1888
y FY(~)1770 1909 y FP(t)1803 1843 y FE(0)1855 1909 y
F4(and)g(can)g(thus)g(be)g(f)o(actorised)g FY(\035)g
F3(\001)c FY(\032)p F4(.)41 b(But)28 b FY(\034)45 b FX(=)34
b FY(\034)i F3(\001)24 b FX([)p FP(t)p FY(=)601 2059
y FP(x)o FX(])k(=)g FY(\035)d F3(\001)d FY(\032)g F3(\001)g
FX([)p FP(t)p FY(=)p FP(x)p FX(])p F4(.)31 b(Thus)24
b FY(\032)e F3(\001)g FX([)p FP(t)q FY(=)p FP(x)o FX(])j
F4(is)f(most)g(general)h(as)g(required.)3710 2351 y FC(\003)357
2710 y F4(I)g(feel)g(I)f(should)g(mak)o(e)g(some)g(comment)g(on)g
(these)g(proofs,)g(not)g(that)h(there)f(is)g(an)o(ything)f(unusual)357
2859 y(about)f(them,)g(quite)h(the)f(re)n(v)o(erse.)30
b(I)23 b(ha)n(v)o(e)g(deliberately)f(gi)n(v)o(en)f(a)i(con)l(v)o
(entional)e(`measure')i(proof)357 3009 y(of)k(termination,)f(by)h(w)o
(ay)g(of)h(comparison)e(with)g(the)h(structurally)f(recursi)n(v)o(e)h
(algorithm)f(I)h(shall)357 3158 y(e)o(xhibit)c(later)i(as)g(an)g(e)o
(xample)f(of)g(programming)g(with)g(dependent)g(datatypes.)357
3368 y(No)n(w)k(that)g(we)i(ha)n(v)o(e)e(an)h(algorithm)f(which)h(e)o
(xploits)e(the)h(transition)g(rules,)i(it)e(remains)g(only)h(to)357
3517 y(construct)35 b(proofs)g(of)h(them.)63 b F0(identity)36
b F4(is)g(tri)n(vial.)62 b F0(coalescence)36 b F4(and)g
F0(substitution)h F4(are)f(just)357 3667 y(applications)23
b(of)i FZ(eqSubst)1354 3689 y FM(1)1394 3667 y F4(.)30
b F0(con\003ict)p F4(,)c F0(injecti)o(vity)f F4(and)g
F0(cycle)g F4(all)g(require)g(some)f(w)o(ork.)357 3876
y(Before)32 b(I)g(gi)n(v)o(e)e(the)i(constructions,)f(I)h(w)o(ant)f(to)
g(dra)o(w)h(attention)e(to)h(the)h(computational)d(aspect)357
4026 y(of)c(the)h(proofs)f(b)n(uilt)g(by)g(the)h(uni\002cation)f
(algorithm:)31 b(we)26 b(shall)f(need)h(this)e(technology)h(to)g(b)n
(uild)357 4175 y(programs)f(as)h(well)f(as)h(proofs.)30
b(If)c(the)e(algorithm)g(generates)p 7 setlinewidth np
655 4403 25 135.00 315.00 arc st 7 setlinewidth np 691
4385 18 180.00 360.00 arc st 7 setlinewidth np 745 4385
35 180.00 360.00 arc st 7 setlinewidth np 789 4412 28
251.56 341.56 arc st 7 setlinewidth np 816 4430 27 270.00
450.00 arc st 7 setlinewidth np 780 4457 35 360.00 540.00
arc st 7 setlinewidth np 727 4457 18 360.00 540.00 arc
st 7 setlinewidth np 682 4457 27 360.00 540.00 arc st
7 setlinewidth np 647 4439 19 63.43 243.43 arc st 601
4634 a FX(?)p FN(soFar)h FX(:)47 b F3(8)1034 4627 y FY(~)1041
4634 y FP(x)1091 4582 y FE(0)1114 4634 y FY(:)1150 4627
y(~)1164 4634 y FP(s)1202 4582 y FE(0)1226 4634 y F3(')1288
4612 y FY(~)1303 4634 y FP(t)1336 4568 y FE(0)1387 4634
y F3(!)28 b FX(\010[)p FY(\033)1663 4627 y(~)1671 4634
y FP(x)p FX(])620 4754 y(!)p FN(start)46 b FX(=)h FY(:)17
b(:)g(:)912 4883 y FX(:)47 b F3(8)1034 4876 y FY(~)1041
4883 y FP(x)p FY(:)1127 4876 y(~)1140 4883 y FP(s)p F3(')1241
4861 y FY(~)1256 4883 y FP(t)28 b F3(!)g FX(\010[)1535
4876 y FY(~)1542 4883 y FP(x)p FX(])357 5159 y F4(we)d(shall)f(need)h
(the)g(computational)d(beha)n(viour)j(\(for)g(arbitrary)2622
5152 y FY(~)2629 5159 y FP(x)2679 5107 y FE(0)2702 5159
y F4(\))601 5451 y FN(start)e FY(\033)870 5444 y(~)878
5451 y FP(x)f FX(\()p FZ(re\003)g FY(\033)1199 5444 y(~)1212
5451 y FP(s)p FX(\))1338 5424 y F3(\030)1339 5455 y FX(=)1466
5451 y FN(soFar)1722 5444 y FY(~)1729 5451 y FP(x)1779
5400 y FE(0)1824 5451 y FX(\()p FZ(re\003)2014 5444 y
FY(~)2027 5451 y FP(s)2066 5400 y FE(0)2089 5451 y FX(\))1997
5667 y F4(135)p eop
%%Page: 136 141
136 140 bop 357 -6 a F4(Recall)38 b(that)f(the)h(elimination)d(tactic)j
(supplies)e FZ(re\003)i F4(proofs)f(for)h(the)f(constraints.)68
b(When)38 b(an)357 144 y(elimination)30 b(rule)j(with)f(associated)g
(reductions)g(is)g(applied)g(to)g(a)h(constructor)n(-headed)f(tar)n
(get,)357 293 y(it)37 b(reduces)h(to)g(one)f(of)h(the)g(subgoal)f
(proofs,)k(lik)o(e)c FN(start)q F4(,)k(and)d(the)g FZ(re\003)p
F4(s)f(are)i(passed)e(for)h(the)357 443 y(subgoal')-5
b(s)37 b(constraint)h(ar)n(guments\227this)f(must)h(allo)n(w)g(the)h
(subgoal)f(proof)g(to)h(reduce)g(to)g(its)357 592 y(simpli\002ed)d(v)o
(ersion)g FN(soFar)q F4(,)41 b(and)c(ultimately)e(to)i(the)h(v)n(alue)e
(the)h(user)h(has)f(supplied)f(for)i(that)357 742 y(case.)357
951 y(Once)c(again,)h(we)e(may)h(check)g(this)e(property)h(stepwise.)57
b F0(identity)34 b F4(is)f(implemented)f(by)h(a)h FY(\025)p
F4(-)357 1101 y(abstraction)26 b(with)h(the)g(appropriate)g
FY(\014)6 b F4(-beha)n(viour)l(,)28 b(while)e F0(coalescence)j
F4(and)e F0(substitution)h F4(e)o(x-)357 1250 y(ploit)23
b(the)i(established)e(reduction)h(of)h FZ(eqSubst)2070
1273 y FM(1)2110 1250 y F4(.)30 b(F)o(or)25 b F0(con\003ict)h
F4(and)e F0(cycle)h F4(there)g(is)f(nothing)g(to)357
1399 y(pro)o(v)o(e,)f(b)n(ut)i(we)g(must)e(pay)i(attention)f(in)g(the)h
(case)g(of)g F0(injecti)o(vity)p F4(.)357 1755 y FB(5.2.3)118
b(con\003ict)31 b(and)g(injecti)o(vity)357 2031 y F4(Consider)24
b(an)h(inducti)n(v)o(e)e(f)o(amily)h(of)h(datatypes)601
2324 y FJ(F)n(am)j FX(:)g F3(8)928 2317 y FY(~)946 2324
y FP(\021)11 b FX(:)1008 2298 y FY(~)1023 2324 y FP(I)p
FY(:)23 b FI(Type)357 2616 y F4(with)h FY(n)h F4(constructors)601
2909 y FZ(Con)808 2924 y FL(i)863 2909 y FX(:)j F3(8)963
2902 y FY(~)973 2909 y FP(z)12 b FX(:)1068 2882 y FY(~)1067
2909 y FP(Z)1133 2924 y FL(i)1162 2909 y FY(:)22 b FJ(F)n(am)1425
2887 y FY(~)1441 2909 y FP(t)1474 2924 y FL(i)1502 2909
y FX([)1519 2902 y FY(~)1529 2909 y FP(z)q FX(])357 3201
y F4(W)-8 b(e)25 b(ha)n(v)o(e)f(already)i(seen)e(ho)n(w)g(to)h(compute)
f(the)h(case)g(analysis)f(principle)g FJ(F)n(amCase)q
F4(:)p 601 3402 1441 4 v 601 4368 4 966 v 654 3521 a
FX(\010)k(:)p 807 3435 208 4 v 28 w FJ(F)n(am)g F3(!)f
FI(Type)788 4076 y FY(:)17 b(:)g(:)1238 3828 y(~)1248
3835 y FP(z)28 b FX(:)1375 3809 y FY(~)1374 3835 y FP(Z)1441
3850 y FL(i)1060 3934 y FY(:)17 b(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f
(:)h(:)g(:)f(:)1079 4094 y FX(\010)1162 4087 y FY(~)1172
4094 y FP(z)p FX(;)h(\()p FZ(Con)1505 4109 y FL(i)1545
4087 y FY(~)1555 4094 y FP(z)p FX(\))1814 4076 y FY(:)g(:)g(:)p
788 4157 1141 4 v 1070 4283 a F3(8)p 1125 4164 347 4
v 1125 4310 4 146 v 1138 4262 a FY(~)1153 4283 y FP(t)12
b FX(:)p 1236 4197 208 4 v 11 w FJ(F)n(am)p 1468 4310
4 146 v 1125 4313 347 4 v 29 w FY(:)22 b FX(\010)1598
4262 y FY(~)1614 4283 y FP(t)p 2038 4368 4 966 v 601
4371 1441 4 v 357 4622 a F4(Let)28 b(us)g(no)n(w)g(use)g
FJ(F)n(amCase)h F4(to)f(pro)o(v)o(e)f(con\003ict)i(and)f(injecti)n
(vity)e(theorems)i(for)h(this)e(class)h(of)357 4771 y(datatype.)357
4981 y(The)j(con)l(v)o(entional)f(w)o(ay)i(to)g(pro)o(v)o(e)e(injecti)n
(vity)g(for)i(the)f(constructors)g(of)h(simple)f(datatypes)g(is)357
5130 y(to)h(de\002ne)h(a)f(suite)g(of)h(predecessor)f(functions)g(for)g
(each)h(ar)n(gument)f(of)h(each)g(constructor)e(and)357
5280 y(use)24 b(the)g(f)o(act)h(that)f(equality)f(respects)i(function)e
(application.)30 b(This)23 b(is)h(the)g(presentation)g(used)g(in)357
5429 y([CT95,)i(McB96].)37 b(W)-8 b(e)27 b(cannot)f(do)g(this)g(in)g
(general)h(for)g(dependent)f(types,)h(as)f(it)g(is)h(not)f(al)o(w)o
(ays)1997 5667 y(136)p eop
%%Page: 137 142
137 141 bop 357 -6 a F4(possible)37 b(to)i(supply)e(dummy)h(v)n(alues)g
(for)h(predecessor)g(functions)f(applied)g(to)g(constructors)357
144 y(for)f(which)g(the)o(y)f(were)i(not)f(originally)e(intended.)67
b(It)37 b(is)g(my)g(contention,)i(in)d(an)o(y)h(case,)k(that)357
293 y(predecessor)34 b(functions)f(are)h(immoral:)47
b(the)34 b(whole)f(idea)h(of)g(pattern)g(matching)e(is)i(to)f(e)o
(xpose)357 443 y(the)23 b(`predecessors')h(locally)f(to)g(each)h
(constructor)f(case\227we)h(should)e(ne)n(v)o(er)h(apply)g(techniques)
357 592 y(appropriate)h(for)h(one)g(constructor)f(only)g(to)h
(arbitrary)g(elements)f(of)h(a)g(type.)357 802 y(F)o(ortunately)-6
b(,)32 b(the)f(computational)f(po)n(wer)i(of)g(dependent)f(type)h
(theory)f(comes)h(to)f(our)h(rescue.)357 951 y(Instead)20
b(of)h(pro)o(ving)f FY(n)1157 915 y FM(2)1217 951 y F4(Peano-style)h
(con\003ict)g(or)f(injecti)n(vity)f(theorems,)i(we)g(may)f(manuf)o
(acture)357 1101 y(a)26 b(single)g(`Peano)h(concerto')g(which)f
(eliminates)f(an)o(y)g(constructor)n(-headed)h(equation,)g(comput-)357
1250 y(ing)e(the)h(appropriate)f(rule)h(by)g(case)g(analysis.)359
1459 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5 b(T)t(I)g(O)t(N)r
F4(:)37 b F0(P)n(eano)25 b(concerto)601 1730 y F4(W)-8
b(e)37 b(be)o(gin)e(by)i(establishing)d(the)j(structure)f(of)h(the)f
(de)n(v)o(elopment:)52 b(we)37 b(wish)f(to)601 1880 y(compute)28
b(the)i(Peano)g(theorem)f(appropriate)g(to)g(a)h(gi)n(v)o(en)e(pair)h
(of)h(elements,)g(then)601 2029 y(pro)o(v)o(e)23 b(it)i(for)g(an)g
(equal)f(pair)h(of)g(elements:)815 2272 y FX(?)p FJ(F)n(amPEANO)p
FX(:)e F3(8)1513 2265 y FY(~)1520 2272 y FP(x)p FX(:)p
1619 2186 208 4 v 22 w FJ(F)n(am)1465 2403 y F3(8)1513
2396 y FY(~)1520 2403 y FP(y)p FX(:)p 1619 2316 V 22
w FJ(F)n(am)1520 2523 y FI(Type)815 2656 y FX(?)p FJ(F)n(amP)n(eano)31
b FX(:)23 b F3(8)1502 2649 y FY(~)1520 2656 y FP(\021)110
b FX(:)1692 2630 y FY(~)1708 2656 y FP(I)1465 2777 y
F3(8)p FP(x)88 b FX(:)23 b FJ(F)n(am)1919 2770 y FY(~)1938
2777 y FP(\021)1465 2897 y F3(8)p FP(y)88 b FX(:)23 b
FJ(F)n(am)1919 2890 y FY(~)1938 2897 y FP(\021)p 1520
2936 891 4 v 1465 3017 a F3(8)p 1518 3054 4 121 v 50
w FP(e)49 b FX(:)72 b FP(x)p F3(')q FP(y)p 2409 3054
V 1520 3057 891 4 v 1520 3138 a FJ(F)n(amPEANO)2078 3131
y FY(~)2096 3138 y FP(\021)p FX(;)17 b FP(x)2222 3131
y FY(~)2240 3138 y FP(\021)o FX(;)g FP(y)601 3344 y F4(Note)k(that)h
(it)g(is)g(perfectly)g(reasonable)g(to)g(pro)o(v)o(e)f(the)h(theorem)g
(only)f(for)i FP(x)f F4(and)g FP(y)g F4(in)601 3493 y(the)g(same)h
(instance)f(of)h(the)f(f)o(amily)g FJ(F)n(am)2058 3486
y FY(~)2077 3493 y FP(\021)o F4(,)h(because)g(this)f(is)h(e)o(xactly)f
(the)g(situation)601 3643 y(in)30 b(which)g(the)g(theorem)h(will)e(be)i
(used:)42 b(eliminating)29 b(the)h(leading)g(equation)g(in)g(a)601
3792 y(uni\002cation)24 b(problem,)g(where)h(both)f(terms)g(ha)n(v)o(e)
h(the)f(same)h(type.)601 3979 y(Looking)c(\002rst)j(to)e(the)h
(`statement')g(problem,)f FN(FamPEANO)p F4(,)h(we)h(may)f(eliminate)601
4129 y(each)i(of)909 4122 y FY(~)916 4129 y FP(x)g F4(and)1152
4122 y FY(~)1159 4129 y FP(y)g F4(by)g FJ(F)n(amCase)p
F4(,)g(gi)n(ving)e FY(n)2204 4093 y FM(2)2268 4129 y
F4(subgoals,)h(of)h(tw)o(o)f(v)n(arieties.)601 4316 y(In)i(the)g
(\002rst)g(`of)n(f-diagonal')g(kind,)f(we)i(are)f(ask)o(ed)g(to)g
(compute)g(the)f(con\003ict)i(theo-)601 4466 y(rems)d(for)h(unlik)o(e)f
(constructors)g FZ(Con)1952 4481 y FL(i)2005 4466 y F4(and)h
FZ(Con)2381 4481 y FL(j)p 7 setlinewidth np 870 4650
25 135.00 315.00 arc st 7 setlinewidth np 906 4633 18
180.00 360.00 arc st 7 setlinewidth np 959 4633 35 180.00
360.00 arc st 7 setlinewidth np 1004 4659 28 251.56 341.56
arc st 7 setlinewidth np 1031 4677 27 270.00 450.00 arc
st 7 setlinewidth np 995 4704 35 360.00 540.00 arc st
7 setlinewidth np 941 4704 18 360.00 540.00 arc st 7
setlinewidth np 897 4704 27 360.00 540.00 arc st 7 setlinewidth
np 861 4686 19 63.43 243.43 arc st 815 4875 a FX(?)p
FJ(F)n(amPEANO)1415 4890 y FL(ij)1476 4875 y FX(:)d F3(8)1573
4868 y FY(~)1581 4875 y FP(x)o FX(:)1681 4849 y FY(~)1680
4875 y FP(Z)1746 4890 y FL(i)1525 5009 y F3(8)1573 5002
y FY(~)1581 5009 y FP(y)o FX(:)1681 4982 y FY(~)1680
5009 y FP(Z)1746 5024 y FL(j)1581 5129 y FI(Type)601
5335 y F4(W)-8 b(e)23 b(simply)e(introduce)h(all)g(the)h(premises)e
(and)i(supply)e(the)i(rather)g(useful)f(elimina-)601
5484 y(tion)h(rule)1997 5667 y(137)p eop
%%Page: 138 143
138 142 bop 815 -102 477 4 v 815 355 4 458 v 868 7 a
FX(\010)28 b(:)g FI(Type)p 1003 225 71 4 v 1003 300 a
FX(\010)p 1288 355 4 458 v 815 358 477 4 v 601 518 a
F4(After)e(all,)f(an)h(equation)f(with)g(unlik)o(e)f(constructors)h(at)
h(the)f(head)h(is)f(v)o(ery)h(unlik)o(ely)601 667 y(to)e(be)h(true.)601
858 y(More)e(interestingly)-6 b(,)22 b(on)i(the)f(diagonal,)g(we)i
(must)d(compute)h(the)h(injecti)n(vity)e(theo-)601 1008
y(rems)i(for)h(lik)o(e)g(constructors)p 7 setlinewidth
np 870 1174 25 135.00 315.00 arc st 7 setlinewidth np
906 1156 18 180.00 360.00 arc st 7 setlinewidth np 959
1156 35 180.00 360.00 arc st 7 setlinewidth np 1004 1183
28 251.56 341.56 arc st 7 setlinewidth np 1031 1200 27
270.00 450.00 arc st 7 setlinewidth np 995 1227 35 360.00
540.00 arc st 7 setlinewidth np 941 1227 18 360.00 540.00
arc st 7 setlinewidth np 897 1227 27 360.00 540.00 arc
st 7 setlinewidth np 861 1209 19 63.43 243.43 arc st
815 1399 a FX(?)p FJ(F)n(amPEANO)1415 1414 y FL(ii)1468
1399 y FX(:)d F3(8)1565 1392 y FY(~)1572 1399 y FP(x)p
FX(:)1672 1372 y FY(~)1671 1399 y FP(Z)1738 1414 y FL(i)1517
1532 y F3(8)1565 1525 y FY(~)1572 1532 y FP(y)p FX(:)1672
1506 y FY(~)1671 1532 y FP(Z)1738 1547 y FL(i)1572 1652
y FI(Type)601 1872 y F4(F)o(ortunately)-6 b(,)21 b(the)h(case)h
(analysis)e(has)h(e)o(xposed)f(the)h(predecessors)h(we)f(need,)h(so)f
(all)601 2022 y(we)j(do)f(is)h(pair)f(them)h(of)n(f.)30
b(Introducing)24 b(the)2160 2015 y FY(~)2167 2022 y FP(x)h
F4(and)2404 2015 y FY(~)2411 2022 y FP(y)p F4(,)f(we)i(supply)d(the)i
(rule)p 815 2169 704 4 v 815 2708 4 540 v 868 2278 a
FX(\010)j(:)g FI(Type)996 2535 y FY(~)1003 2542 y FP(x)p
F3(')1123 2535 y FY(~)1130 2542 y FP(y)g F3(!)f FX(\010)p
1003 2578 403 4 v 1169 2653 a(\010)p 1515 2708 4 540
v 815 2711 704 4 v 601 2902 a F4(Crucially)-6 b(,)24
b(the)g(reduction)h(beha)n(viour)f(of)h FJ(F)n(amCase)g
F4(really)g(means)f(that)815 3135 y FJ(F)n(amPEANO)1375
3128 y FY(~)1382 3135 y FP(x)p FX(;)17 b(\()p FZ(Con)1721
3150 y FL(i)1754 3128 y FY(~)1761 3135 y FP(x)1811 3083
y FE(0)1835 3135 y FX(\))1879 3128 y FY(~)1886 3135 y
FP(y)o FX(;)g(\()p FZ(Con)2224 3150 y FL(j)2266 3128
y FY(~)2273 3135 y FP(y)2323 3083 y FE(0)2346 3135 y
FX(\))2424 3107 y F3(\030)2425 3139 y FX(=)2542 3135
y FJ(F)n(amPEANO)3097 3150 y FL(ij)3163 3128 y FY(~)3170
3135 y FP(x)3220 3083 y FE(0)3248 3128 y FY(~)3256 3135
y FP(y)3305 3083 y FE(0)601 3367 y F4(No)n(w)i(let)h(us)g(sho)n(w)f
(that)h(the)h(rule)f(we)g(ha)n(v)o(e)h(assigned)e(to)h(each)h(kind)f
(of)g(constructor)n(-)601 3516 y(headed)25 b(equation)f(really)g(holds)
g(if)h(the)g(equation)f(does.)30 b(Recall)25 b(the)g(goal)p
7 setlinewidth np 870 3709 25 135.00 315.00 arc st 7
setlinewidth np 906 3692 18 180.00 360.00 arc st 7 setlinewidth
np 959 3692 35 180.00 360.00 arc st 7 setlinewidth np
1004 3718 28 251.56 341.56 arc st 7 setlinewidth np 1031
3736 27 270.00 450.00 arc st 7 setlinewidth np 995 3763
35 360.00 540.00 arc st 7 setlinewidth np 941 3763 18
360.00 540.00 arc st 7 setlinewidth np 897 3763 27 360.00
540.00 arc st 7 setlinewidth np 861 3745 19 63.43 243.43
arc st 815 3934 a FX(?)p FJ(F)n(amP)n(eano)q FX(:)d F3(8)1471
3927 y FY(~)1489 3934 y FP(\021)111 b FX(:)1662 3908
y FY(~)1677 3934 y FP(I)1434 4055 y F3(8)p FP(x)89 b
FX(:)22 b FJ(F)n(am)1889 4048 y FY(~)1907 4055 y FP(\021)1434
4175 y F3(8)p FP(y)89 b FX(:)22 b FJ(F)n(am)1889 4168
y FY(~)1907 4175 y FP(\021)p 1489 4214 891 4 v 1434 4295
a F3(8)p 1488 4331 4 121 v 50 w FP(e)50 b FX(:)72 b FP(x)p
F3(')p FP(y)p 2379 4331 V 1489 4335 891 4 v 1489 4416
a FJ(F)n(amPEANO)2048 4409 y FY(~)2066 4416 y FP(\021)p
FX(;)17 b FP(x)2191 4409 y FY(~)2209 4416 y FP(\021)p
FX(;)g FP(y)601 4636 y F4(W)-8 b(e)36 b(ha)n(v)o(e)f(quite)g(a)h
(choice)g(of)f(things)g(to)g(eliminate)g(here,)j(b)n(ut)d(by)h(f)o(ar)g
(the)g(most)601 4785 y(useful)24 b(is)g(the)h(equation)f
FP(e)p F4(.)31 b(Applying)23 b FZ(eqSubst)2354 4808 y
FM(1)2394 4785 y F4(,)h(we)h(are)h(left)f(with)p 7 setlinewidth
np 870 4980 25 135.00 315.00 arc st 7 setlinewidth np
906 4962 18 180.00 360.00 arc st 7 setlinewidth np 959
4962 35 180.00 360.00 arc st 7 setlinewidth np 1004 4988
28 251.56 341.56 arc st 7 setlinewidth np 1031 5006 27
270.00 450.00 arc st 7 setlinewidth np 995 5033 35 360.00
540.00 arc st 7 setlinewidth np 941 5033 18 360.00 540.00
arc st 7 setlinewidth np 897 5033 27 360.00 540.00 arc
st 7 setlinewidth np 861 5015 19 63.43 243.43 arc st
815 5204 a FX(?)p FJ(F)n(amP)n(eano)1385 5219 y FL(l)q(ik)r(e)1506
5204 y FX(:)d F3(8)1593 5197 y FY(~)1611 5204 y FP(\021)g
FX(:)1694 5178 y FY(~)1710 5204 y FP(I)1555 5325 y F3(8)q
FP(x)p FX(:)g FJ(F)n(am)1922 5318 y FY(~)1940 5325 y
FP(\021)1611 5445 y FJ(F)n(amPEANO)2169 5438 y FY(~)2187
5445 y FP(\021)p FX(;)17 b FP(x)2312 5438 y FY(~)2330
5445 y FP(\021)p FX(;)g FP(x)1997 5667 y F4(138)p eop
%%Page: 139 144
139 143 bop 601 -6 a F4(By)31 b(eliminating)e(the)i(equation,)g(we)h
(ha)n(v)o(e)e(restricted)h(our)g(attention)f(e)o(xclusi)n(v)o(ely)601
144 y(to)37 b(the)g(diagonal,)j(sparing)d(ourselv)o(es)f(the)i(trouble)
e(of)i(considering)e(the)i(untrue)601 293 y(equations,)23
b(let)i(alone)f(deducing)h(their)f(untrue)h(consequences.)601
482 y(No)n(w)f(we)h(may)f(eliminate)g FP(x)h F4(with)f
FJ(F)n(amCase)p F4(,)h(yielding)e FY(n)i F4(subgoals)p
7 setlinewidth np 870 666 25 135.00 315.00 arc st 7 setlinewidth
np 906 648 18 180.00 360.00 arc st 7 setlinewidth np
959 648 35 180.00 360.00 arc st 7 setlinewidth np 1004
675 28 251.56 341.56 arc st 7 setlinewidth np 1031 692
27 270.00 450.00 arc st 7 setlinewidth np 995 719 35
360.00 540.00 arc st 7 setlinewidth np 941 719 18 360.00
540.00 arc st 7 setlinewidth np 897 719 27 360.00 540.00
arc st 7 setlinewidth np 861 701 19 63.43 243.43 arc
st 815 891 a FX(?)p FJ(F)n(amP)n(eano)1385 906 y FL(i)1413
891 y FX(:)d F3(8)1508 884 y FY(~)1518 891 y FP(z)p FX(:)1612
864 y FY(~)1611 891 y FP(Z)1678 906 y FL(i)1518 1019
y FJ(F)n(amPEANO)2079 998 y FY(~)2094 1019 y FP(t)2127
1034 y FL(i)2155 1019 y FX([)2172 1012 y FY(~)2182 1019
y FP(z)q FX(];)17 b(\()p FZ(Con)2542 1034 y FL(i)2583
1012 y FY(~)2593 1019 y FP(z)p FX(\))2682 998 y FY(~)2697
1019 y FP(t)2730 1034 y FL(i)2758 1019 y FX([)2775 1012
y FY(~)2785 1019 y FP(z)q FX(];)g(\()p FZ(Con)3145 1034
y FL(i)3186 1012 y FY(~)3196 1019 y FP(z)p FX(\))601
1231 y F4(Reducing)38 b FN(FamPEANO)o F4(,)k(no)n(w)37
b(that)g(its)h(case)g(analyses)g(ha)n(v)o(e)g(been)g(fed)g(con-)601
1381 y(structor)24 b(symbols,)f(we)i(obtain)p 7 setlinewidth
np 870 1564 25 135.00 315.00 arc st 7 setlinewidth np
906 1547 18 180.00 360.00 arc st 7 setlinewidth np 959
1547 35 180.00 360.00 arc st 7 setlinewidth np 1004 1573
28 251.56 341.56 arc st 7 setlinewidth np 1031 1591 27
270.00 450.00 arc st 7 setlinewidth np 995 1618 35 360.00
540.00 arc st 7 setlinewidth np 941 1618 18 360.00 540.00
arc st 7 setlinewidth np 897 1618 27 360.00 540.00 arc
st 7 setlinewidth np 861 1600 19 63.43 243.43 arc st
815 1789 a FX(?)p FJ(F)n(amP)n(eano)1385 1804 y FL(i)1413
1789 y FX(:)d F3(8)1508 1782 y FY(~)1518 1789 y FP(z)105
b FX(:)1717 1763 y FY(~)1716 1789 y FP(Z)1783 1804 y
FL(i)1462 1910 y F3(8)q FX(\010)79 b(:)22 b FI(Type)1462
2030 y F3(8)q FP(hyp)o FX(:)g F3(8)1759 2023 y FY(~)1772
2030 y FP(e)o FX(:)1850 2023 y FY(~)1860 2030 y FP(z)p
F3(')1971 2023 y FY(~)1981 2030 y FP(z)1772 2150 y FX(\010)1518
2271 y(\010)601 2482 y F4(From)i(here,)i(we)f(simply)e(introduce)h(all)
h(the)f(hypotheses)f(and)i(pro)o(v)o(e)f FX(\010)h F4(with)815
2710 y FP(hyp)d FX(\()p FZ(re\003)1180 2703 y FY(~)1189
2710 y FP(z)q FX(\))p F4(.)601 2938 y(Checking)i(the)h(reduction)f
(beha)n(viour)l(,)g(we)h(\002nd)815 3165 y FJ(F)n(amP)n(eano)1343
3158 y FY(~)1361 3165 y FP(\021)p FX(;)17 b(\()p FZ(Con)1677
3180 y FL(j)1729 3158 y FY(~)1736 3165 y FP(x)p FX(\))1828
3158 y FY(~)1846 3165 y FP(\021)p FX(;)g(\()p FZ(Con)2162
3180 y FL(j)2214 3158 y FY(~)2221 3165 y FP(x)p FX(\))22
b(\()p FZ(re\003)f FX(\()p FZ(Con)2778 3180 y FL(j)2830
3158 y FY(~)2837 3165 y FP(x)p FX(\)\))3013 3138 y F3(\030)3013
3170 y FX(=)815 3315 y FJ(F)n(amP)n(eano)1339 3330 y
FL(l)q(ik)r(e)1464 3308 y FY(~)1482 3315 y FP(\021)p
FX(;)c(\()p FZ(Con)1799 3330 y FL(j)1850 3308 y FY(~)1857
3315 y FP(x)p FX(\))1995 3287 y F3(\030)1996 3319 y FX(=)815
3464 y FJ(F)n(amP)n(eano)1339 3479 y FL(j)1390 3457 y
FY(~)1397 3464 y FP(x)1497 3437 y F3(\030)1498 3468 y
FX(=)815 3614 y FY(\025)p FX(\010)12 b(:)f FI(Type)o
FY(:)22 b(\025)p FP(hyp)11 b FX(:)1457 3607 y FY(~)1464
3614 y FP(x)p F3(')1584 3607 y FY(~)1591 3614 y FP(x)28
b F3(!)f FX(\010)p FY(:)c FP(hyp)e FX(\()p FZ(re\003)2283
3607 y FY(~)2290 3614 y FP(x)p FX(\))601 3841 y F4(This)d(ensures)h
(that)g(the)g F0(identity)h F4(transition)e(decomposes)g
FZ(re\003)h F4(proofs)g(as)g(required)601 3991 y(for)25
b(its)f(use)g(in)h(programs.)357 4269 y(Note)f(the)h(critical)f(use)h
(of)g(tar)n(getting)f(in)g(making)g(this)g(rule)h(applicable.)30
b(It)25 b(is)f(not)h(ob)o(vious)d(that)601 4548 y F3(8)638
4541 y FY(~)656 4548 y FP(\021)11 b FX(:)718 4522 y FY(~)733
4548 y FP(I)p FY(:)22 b F3(8)p FP(x)p FY(;)17 b FP(y)11
b FX(:)g FJ(F)n(am)1275 4541 y FY(~)1293 4548 y FP(\021)p
FY(:)p 1370 4473 234 4 v 1370 4600 4 128 v 50 w FP(x)p
F3(')q FP(y)p 1600 4600 V 1370 4603 234 4 v 55 w F3(!)28
b FJ(F)n(amPEANO)2317 4541 y FY(~)2335 4548 y FP(\021)p
FX(;)17 b FP(x)2460 4541 y FY(~)2478 4548 y FP(\021)p
FX(;)g FP(y)357 4827 y F4(is)26 b(an)h(elimination)e(rule,)i(b)n(ut)f
(that)h(does)f(not)g(stop)g(us)h(unifying)e(the)i(tar)n(getter)g(with)f
(a)h(candidate)357 4976 y(equation.)49 b(If)31 b(the)g(equated)h(terms)
e(ha)n(v)o(e)h(constructor)g(heads,)h(then)f(the)g(instantiated)f(rule)
h(will)357 5125 y(reduce,)25 b(re)n(v)o(ealing)f(the)g(scheme)h(v)n
(ariable)f(and)h(subgoals)f(we)h(w)o(ould)f(normally)f(e)o(xpect.)357
5335 y(Although)30 b(the)i(uni\002cation)f(algorithm)g(only)g(requires)
h(us)f(to)h(pro)o(v)o(e)f(the)g(Peano)i(theorems)e(for)357
5484 y(tw)o(o)d(elements)f(of)h(a)h(particular)f(instance)g
FJ(F)n(am)2079 5477 y FY(~)2098 5484 y FP(\021)o F4(,)h(and)g(that)e
(is)h(the)g(construction)f(I)i(ha)n(v)o(e)f(gi)n(v)o(en)1997
5667 y(139)p eop
%%Page: 140 145
140 144 bop 357 -6 a F4(abo)o(v)o(e,)27 b(it)h(is)f(nonetheless)g
(possible)f(to)i(pro)o(v)o(e)e(the)i(stronger)g(theorem)f(which)g
(operates)h(on)g(an)o(y)357 144 y(tw)o(o)c(sequences)h(in)p
1061 58 208 4 v 24 w FJ(F)n(am)q F4(:)601 416 y FJ(F)n(amStr)n(ongP)n
(eano)i FX(:)h F3(8)1559 409 y FY(~)1566 416 y FP(x)p
FY(;)1652 409 y(~)1660 416 y FP(y)11 b FX(:)p 1759 330
V 11 w FJ(F)n(am)q FY(:)p 2016 314 234 4 v 2016 469 4
156 v 2037 409 a(~)2044 416 y FP(x)p F3(')2164 409 y
FY(~)2172 416 y FP(y)p 2246 469 V 2016 472 234 4 v 55
w F3(!)28 b FJ(F)n(amPEANO)2974 409 y FY(~)2981 416 y
FP(x)3046 409 y FY(~)3053 416 y FP(y)357 689 y F4(If)23
b(we)g(eliminate)e(all)i(b)n(ut)f(the)h(last)f(equation,)g(we)h(ha)n(v)
o(e)f(reduced)i(the)e(problem)g(to)g FJ(F)n(amP)n(eano)q
F4(!)357 898 y(It)j(is)g(possible)f(to)g(use)i(this)e(theorem)h(to)g
(eliminate)f(a)h(constructor)n(-headed)g(equation)g(from)g(an)o(y-)357
1048 y(where)h(in)e(a)i(telescopic)f(problem,)f(not)h(just)g(at)g(the)g
(front.)32 b(This)25 b(can)g(impro)o(v)o(e)f(the)h(ef)n(\002cienc)o(y)g
(of)357 1197 y(uni\002cation:)40 b(if)30 b(we)g(can)g(see)h(a)f
(con\003ict)g(later)g(in)f(the)h(telescopic)g(equation,)g(we)g(can)h
(solv)o(e)d(the)357 1347 y(goal)22 b(without)f(\002rst)h(hacking)g
(through)g(the)g(earlier)h(stages)f(of)h(the)f(problem.)29
b(Such)23 b(measures)g(are)357 1496 y(not)i(necessary)h(when)f(e)n(v)o
(erything)f(is)h(in)g(constructor)g(form,)g(b)n(ut)g(increase)h(our)g
(ef)n(\002cac)o(y)g(for)f(the)357 1645 y(wider)30 b(class)h(of)f
(problems)g(polluted)f(by)i(non-constructor)e(terms.)48
b(It)30 b(is)h(much)f(more)g(dif)n(\002cult)357 1795
y(to)i(w)o(ork)g(with)g(inducti)n(v)o(e)e(f)o(amilies)i(in)l(v)n
(olving)e(indices)i(which)g(are)h(not)f(in)g(constructor)g(form.)357
1944 y(Such)38 b(problems)f(are)i(be)o(yond)e(the)h(technology)f(de)n
(v)o(eloped)f(in)i(this)f(thesis\227I)g(shall)g(discuss)357
2094 y(them)24 b(brie\003y)h(in)f(section)g(5.2.5.)357
2443 y FB(5.2.4)118 b(cycle)357 2720 y F4(Sho)n(wing)25
b(that)h(c)o(ycles)g(do)g(not)g(occur)h(in)f(our)g(inducti)n(v)o(e)f
(datatypes)h(is)g(quite)f(a)i(subtle)f(b)n(usiness.)357
2869 y(Ev)o(en)e(pro)o(ving)601 3128 y FX(?)p FP(nNotSn)q
FX(:)e F3(8)p FP(n)q FX(:)g FZ(N)-63 b(N)1072 3248 y
FP(n)q F3(')p FZ(s)p FP(n)28 b F3(!)f(?)357 3470 y F4(requires)d(quite)
h(a)g(lot)f(of)h(technology)-6 b(.)29 b(Let)c(us)f(do)h(it.)30
b(Eliminating)22 b FP(n)q F4(,)601 3729 y FX(?)p FP(0NotS0)122
b FX(:)22 b FZ(0)p F3(')p FZ(s0)28 b F3(!)f(?)601 3849
y FX(?)p FP(SnNotSSn)r FX(:)22 b F3(8)p FP(n)95 b FX(:)22
b FZ(N)-63 b(N)1128 3969 y F3(8)p FP(hyp)p FX(:)22 b
FP(n)p F3(')q FZ(s)o FP(n)28 b F3(!)g(?)1128 4090 y(8)p
FP(e)111 b FX(:)22 b FZ(s)o FP(n)q F3(')p FZ(ss)p FP(n)1183
4210 y F3(?)357 4432 y F4(Applying)f(uni\002cation)i(\(without)f(c)o
(ycle)h(elimination\))e(to)i(both)g(subgoals,)f(we)h(can)h(at)f(least)g
(sim-)357 4581 y(plify)g(the)h(tw)o(o)f(constructor)n(-headed)h
(equations)e(via)i(the)g FZ(N)-63 b(NP)n(eano)24 b F4(theorem.)30
b(This)23 b(eliminates)357 4731 y(the)h FZ(0)h F4(case)h(by)e
(con\003ict,)h(while)f(injecti)n(vity)f(lea)n(v)o(es)h(us)h(with)f(an)h
(immediate)e(step:)p 7 setlinewidth np 655 4925 25 135.00
315.00 arc st 7 setlinewidth np 691 4907 18 180.00 360.00
arc st 7 setlinewidth np 745 4907 35 180.00 360.00 arc
st 7 setlinewidth np 789 4934 28 251.56 341.56 arc st
7 setlinewidth np 816 4952 27 270.00 450.00 arc st 7
setlinewidth np 780 4979 35 360.00 540.00 arc st 7 setlinewidth
np 727 4979 18 360.00 540.00 arc st 7 setlinewidth np
682 4979 27 360.00 540.00 arc st 7 setlinewidth np 647
4961 19 63.43 243.43 arc st 601 5137 a FX(?)p FP(easy)o
FX(:)f F3(8)q FP(n)94 b FX(:)22 b FZ(N)-63 b(N)867 5257
y F3(8)q FP(hyp)o FX(:)22 b FP(n)q F3(')p FZ(s)p FP(n)28
b F3(!)f(?)867 5378 y(8)q FP(e)110 b FX(:)22 b FP(n)q
F3(')p FZ(s)p FP(n)923 5498 y F3(?)1997 5667 y F4(140)p
eop
%%Page: 141 146
141 145 bop 357 -6 a F4(In)22 b(f)o(act,)h(we)g(can)g(follo)n(w)e(the)h
(same)g(structure)g(for)h(an)o(y)f(number)g(of)g FZ(s)p
F4(')-5 b(s,)22 b(b)n(ut)g(this)f(is)h(only)g(because)357
144 y(the)27 b(natural)g(numbers)f(are)i(decepti)n(v)o(ely)d
(symmetrical.)37 b(W)-8 b(atch)27 b(what)g(happens)g(if)g(we)g(thro)n
(w)g(in)357 293 y(a)e(spare)g(successor)g(constructor)l(,)f
FZ(t)o F4(,)h(\(making)f(type)h FZ(N)-63 b(N)2284 245
y FE(0)2307 293 y F4(\))25 b(and)g(try)f(to)h(pro)o(v)o(e)p
7 setlinewidth np 655 517 25 135.00 315.00 arc st 7 setlinewidth
np 691 499 18 180.00 360.00 arc st 7 setlinewidth np
745 499 35 180.00 360.00 arc st 7 setlinewidth np 789
525 28 251.56 341.56 arc st 7 setlinewidth np 816 543
27 270.00 450.00 arc st 7 setlinewidth np 780 570 35
360.00 540.00 arc st 7 setlinewidth np 727 570 18 360.00
540.00 arc st 7 setlinewidth np 682 570 27 360.00 540.00
arc st 7 setlinewidth np 647 552 19 63.43 243.43 arc
st 601 729 a FX(?)p FP(nNotSTn)q FX(:)d F3(8)p FP(n)q
FX(:)g FZ(N)-63 b(N)1323 681 y FE(0)1133 850 y FP(n)q
F3(')p FZ(st)o FP(n)29 b F3(!)e(?)357 1106 y F4(Induction)c(on)i
FP(n)g F4(yields)f FZ(0)h F4(and)g FZ(t)g F4(cases)g(which)f(perish)h
(by)f(con\003ict.)31 b(The)25 b FZ(s)f F4(case)i(is)e(as)h(follo)n(ws:)
p 7 setlinewidth np 655 1330 25 135.00 315.00 arc st
7 setlinewidth np 691 1312 18 180.00 360.00 arc st 7
setlinewidth np 745 1312 35 180.00 360.00 arc st 7 setlinewidth
np 789 1339 28 251.56 341.56 arc st 7 setlinewidth np
816 1356 27 270.00 450.00 arc st 7 setlinewidth np 780
1383 35 360.00 540.00 arc st 7 setlinewidth np 727 1383
18 360.00 540.00 arc st 7 setlinewidth np 682 1383 27
360.00 540.00 arc st 7 setlinewidth np 647 1365 19 63.43
243.43 arc st 601 1542 a FX(?)p FP(SnNotSTSn)q FX(:)e
F3(8)p FP(n)94 b FX(:)23 b FZ(N)-63 b(N)1528 1494 y FE(0)1189
1663 y F3(8)p FP(hyp)o FX(:)23 b FP(n)p F3(')q FZ(s)o(t)p
FP(n)28 b F3(!)f(?)1189 1783 y(8)p FP(e)110 b FX(:)23
b FZ(s)o FP(n)q F3(')p FZ(sts)o FP(n)1244 1903 y F3(?)357
2154 y F4(Injecti)n(vity)g(yields)p 7 setlinewidth np
655 2377 25 135.00 315.00 arc st 7 setlinewidth np 691
2359 18 180.00 360.00 arc st 7 setlinewidth np 745 2359
35 180.00 360.00 arc st 7 setlinewidth np 789 2386 28
251.56 341.56 arc st 7 setlinewidth np 816 2404 27 270.00
450.00 arc st 7 setlinewidth np 780 2431 35 360.00 540.00
arc st 7 setlinewidth np 727 2431 18 360.00 540.00 arc
st 7 setlinewidth np 682 2431 27 360.00 540.00 arc st
7 setlinewidth np 647 2413 19 63.43 243.43 arc st 601
2590 a FX(?)p FP(tricky)o FX(:)f F3(8)p FP(n)95 b FX(:)22
b FZ(N)-63 b(N)1269 2541 y FE(0)930 2710 y F3(8)p FP(hyp)p
FX(:)22 b FP(n)q F3(')p FZ(st)o FP(n)28 b F3(!)g(?)930
2830 y(8)p FP(e)111 b FX(:)22 b FP(n)q F3(')p FZ(ts)o
FP(n)985 2951 y F3(?)357 3201 y F4(Oh)30 b(dear!)50 b(W)-8
b(e)31 b(ha)n(v)o(e)f(the)h(wrong)f(inducti)n(v)o(e)f(hypothesis!)46
b(The)31 b(e)o(xtra)f FZ(s)h F4(appeared)g(at)g(the)g(v)o(ery)357
3351 y(inside,)37 b(rotating)e(the)h(c)o(ycle:)52 b(it)35
b(is)g(only)g(because)i(one)e(successor)h(usually)f(looks)g(much)g(lik)
o(e)357 3500 y(another)24 b(that)h(these)f(theorems)g(are)i(so)f(easy)f
(for)i FZ(N)-63 b(N)o F4(.)357 3710 y(In)25 b(order)g(to)f(pro)o(v)o(e)
g(the)h(result)f(in)g(this)g(style,)g(we)h(must)f(\002rst)h(strengthen)
f(it:)p 7 setlinewidth np 655 3933 25 135.00 315.00 arc
st 7 setlinewidth np 691 3915 18 180.00 360.00 arc st
7 setlinewidth np 745 3915 35 180.00 360.00 arc st 7
setlinewidth np 789 3942 28 251.56 341.56 arc st 7 setlinewidth
np 816 3959 27 270.00 450.00 arc st 7 setlinewidth np
780 3986 35 360.00 540.00 arc st 7 setlinewidth np 727
3986 18 360.00 540.00 arc st 7 setlinewidth np 682 3986
27 360.00 540.00 arc st 7 setlinewidth np 647 3968 19
63.43 243.43 arc st 601 4145 a FX(?)p FP(noCycleST)p
FX(:)e F3(8)p FP(n)q FX(:)g FZ(N)-63 b(N)1380 4097 y
FE(0)1190 4266 y FX(\()p FP(n)q F3(')p FZ(st)p FP(n)28
b F3(!)f(?)p FX(\))p F3(\002)q FX(\()p FP(n)p F3(')q
FZ(t)o(s)p FP(n)h F3(!)f(?)p FX(\))357 4523 y F4(By)j(including)f(not)h
(just)f(the)i FZ(s)o(t)f F4(c)o(ycle,)i(b)n(ut)e(also)g(all)g(its)f
(rotations,)i(we)f(will)g(ha)n(v)o(e)g(more)g(to)g(do:)357
4672 y(there)c(will)g(be)h(w)o(ork)f(in)g(both)g(successor)g(cases,)h
(although)e(one)i(is)f(enough)g(to)g(sho)n(w)f(what)h(hap-)357
4821 y(pens:)p 7 setlinewidth np 655 5045 25 135.00 315.00
arc st 7 setlinewidth np 691 5027 18 180.00 360.00 arc
st 7 setlinewidth np 745 5027 35 180.00 360.00 arc st
7 setlinewidth np 789 5054 28 251.56 341.56 arc st 7
setlinewidth np 816 5071 27 270.00 450.00 arc st 7 setlinewidth
np 780 5098 35 360.00 540.00 arc st 7 setlinewidth np
727 5098 18 360.00 540.00 arc st 7 setlinewidth np 682
5098 27 360.00 540.00 arc st 7 setlinewidth np 647 5080
19 63.43 243.43 arc st 601 5257 a FX(?)p FP(noCycleST)1086
5289 y FL(s)1123 5257 y FX(:)c F3(8)p FP(n)95 b FX(:)22
b FZ(N)-63 b(N)1511 5209 y FE(0)1172 5378 y F3(8)p FP(hyp)p
FX(:)22 b(\()p FP(n)p F3(')q FZ(s)o(t)p FP(n)28 b F3(!)f(?)p
FX(\))p F3(\002)q FX(\()p FP(n)q F3(')p FZ(ts)p FP(n)h
F3(!)f(?)p FX(\))1227 5498 y(\()p FZ(s)p FP(n)p F3(')q
FZ(s)o(ts)p FP(n)h F3(!)f(?)p FX(\))p F3(\002)q FX(\()p
FZ(s)p FP(n)p F3(')p FZ(tss)p FP(n)h F3(!)f(?)p FX(\))1997
5667 y F4(141)p eop
%%Page: 142 147
142 146 bop 357 -6 a F4(The)25 b(right)f(conjunct)g(follo)n(ws)f(by)h
(con\003ict.)31 b(The)25 b(left)g(reduces)g(by)f(injecti)n(vity:)p
7 setlinewidth np 655 219 25 135.00 315.00 arc st 7 setlinewidth
np 691 201 18 180.00 360.00 arc st 7 setlinewidth np
745 201 35 180.00 360.00 arc st 7 setlinewidth np 789
228 28 251.56 341.56 arc st 7 setlinewidth np 816 246
27 270.00 450.00 arc st 7 setlinewidth np 780 273 35
360.00 540.00 arc st 7 setlinewidth np 727 273 18 360.00
540.00 arc st 7 setlinewidth np 682 273 27 360.00 540.00
arc st 7 setlinewidth np 647 255 19 63.43 243.43 arc
st 601 432 a FX(?)p FP(r)n(epair)n(ed)o FX(:)e F3(8)p
FP(n)95 b FX(:)22 b FZ(N)-63 b(N)1358 384 y FE(0)1019
552 y F3(8)p FP(hyp)p FX(:)22 b(\()p FP(n)p F3(')q FZ(s)o(t)p
FP(n)28 b F3(!)f(?)p FX(\))p F3(\002)q FX(\()p FP(n)q
F3(')p FZ(ts)p FP(n)h F3(!)f(?)p FX(\))1074 673 y FP(n)q
F3(')p FZ(ts)p FP(n)h F3(!)f(?)357 925 y F4(The)f(rotated)g(conclusion)
f(follo)n(ws)g(by)h(projecting)f(the)h(appropriately)g(rotated)g
(conjunct)f(of)h(the)357 1074 y(inducti)n(v)o(e)c(hypothesis.)357
1284 y(This)i(technique)g(can)h(be)g(generalised)g(to)f(arbitrary)h(c)o
(ycles)f(in)h(arbitrary)g(datatypes.)30 b(The)24 b(dra)o(w-)357
1433 y(back)d(is)f(that)g(\(up)h(to)f(rotation\),)h(we)g(need)g(a)g(ne)
n(w)f(theorem)h(for)g(e)n(v)o(ery)f(c)o(ycle)h(pattern.)29
b(This)20 b(lea)n(v)o(es)357 1583 y(us)k(little)g(choice)h(b)n(ut)f(to)
g(generate)i(them)e(on)g(the)h(\003y)-6 b(.)357 1792
y(A)27 b(slightly)f(more)i(cunning)e(technique,)i(arising)f(from)h(a)g
(con)l(v)o(ersation)e(with)h(Andre)n(w)g(Adams,)357 1941
y(is)c(mentioned)g(in)h([McB96].)31 b(It)24 b(constructs)f(for)h(a)h
(gi)n(v)o(en)e(c)o(ycle)h(pattern)f FP(x)p F3(')q FP(p)p
FX([)p FP(x)o FX(])3218 1905 y FS(4)3279 1941 y F4(in)h(some)g(type)357
2091 y FJ(Ind)g F4(a)h(quotient)f(function)g FJ(quot)1538
2113 y FK(p)1603 2091 y FX(:)k FJ(Ind)f F3(!)h FZ(N)-63
b(N)601 2364 y FJ(quot)828 2387 y FK(p)888 2364 y FP(p)o
FX([)p FP(x)p FX(])100 b(=)148 b FZ(s)o FX(\()p FJ(quot)1669
2387 y FK(p)1728 2364 y FP(x)p FX(\))601 2489 y FJ(quot)828
2512 y FK(p)p 894 2489 30 4 v 1141 2489 a FX(=)g FZ(0)357
2753 y F4(Applying)23 b FJ(quot)986 2775 y FK(p)1048
2753 y F4(to)h(both)g(sides)g(of)h(the)g(c)o(ycle,)f(we)i(get)601
3042 y FX(\()p FJ(quot)866 3065 y FK(p)926 3042 y FP(x)o
FX(\))p F3(')q FZ(s)o FX(\()p FJ(quot)1395 3065 y FK(p)1454
3042 y FP(x)p FX(\))357 3331 y F4(W)-8 b(e)25 b(ha)n(v)o(e)f(already)i
(seen)e(a)i(disproof)e(of)g(that!)357 3541 y(While)33
b(the)g(guarded)h(recursion)f(principles)f(we)i(ha)n(v)o(e)f
(constructed)g(for)h(each)g(datatype)f(mak)o(e)357 3690
y(these)53 b(functions)g(relati)n(v)o(ely)f(easy)i(to)f(manuf)o
(acture\227indeed)g(I)h(ha)n(v)o(e)f(implemented)f(this)357
3839 y(technique\227we)26 b(ha)n(v)o(e)h(still)e(not)i(escaped)g(from)g
(the)g(b)n(urden)f(substantial)g(on-the-\003y)h(construc-)357
3989 y(tion)d(w)o(ork,)g(c)o(ycle)h(by)f(c)o(ycle.)357
4198 y(Remember)l(,)i(though,)f(that)h(in)g(c)o(ycle)f
FP(x)p F3(')q FP(p)p FX([)p FP(x)o FX(])p F4(,)i FP(p)p
FX([)p FP(x)p FX(])f F4(is)f(a)i(constructor)e(form,)h(and)g(hence)h
(we)f(can)357 4348 y(compute)f(by)h(structural)f(recursion)h(on)g(it:)
32 b(perhaps)26 b(there)g(is)g(a)g(w)o(ay)g(to)g(compute)f(the)h(proof)
g(we)357 4497 y(w)o(ant.)41 b(Unfortunately)-6 b(,)28
b(though,)g(there)g(is)g(no)g(w)o(ay)h(to)f(test)g(whether)g(we)h(ha)n
(v)o(e)f(decomposed)f(as)357 4647 y(f)o(ar)34 b(as)f(a)h(non-canonical)
e(symbol)g(lik)o(e)h FP(x)p F4(:)47 b(our)33 b(programs)g(ha)n(v)o(e)g
(no)g(access)h(to)e(the)h(decidable)357 4796 y(con)l(v)o(ersion)23
b(relation)i(of)f(the)h(type)g(theory)f(which)g(describes)h(them.)357
5006 y(Nonetheless,)34 b(we)f(can)h(adopt)f(blunderb)n(uss)e(tactics:)
47 b(for)34 b(an)o(y)f(element)f FP(x)h F4(of)h(a)f(datatype,)i(we)357
5155 y(can)22 b(construct)g(the)f(property)h(of)g(`not)g(being)g(a)g
(proper)g(subterm)f(of)i FP(x)o F4(')g(in)e(such)h(a)h(w)o(ay)f(that)f
(when)357 5304 y FP(x)33 b F4(has)g(a)h(constructor)e(head,)k(the)d
(property)g(reduces)g(to)g(a)h(product)e(e)o(xplicitly)g(enforcing)h
(`not)p 357 5393 1373 4 v 473 5454 a FR(4)506 5484 y
FQ(W)m(ithout)15 b(loss)h(of)f(generality)-5 b(,)15 b(assume)g
Fk(p)p Fh([)p Fk(x)o Fh(])h FQ(has)g(fresh)f(v)n(ariables)g(in)g(ar)o
(gument)e(positions)i(of)n(f)g(the)h(`c)o(ycle-path'.)1997
5667 y F4(142)p eop
%%Page: 143 148
143 147 bop 357 -6 a F4(being)27 b(an)o(y)g(of)h(the)f(e)o(xposed)g
(subterms'.)38 b(The)27 b(idea)h(w)o(orks)f(in)g(the)h(same)f(as)h(the)
f(auxiliary)g(data)357 144 y(structure)k(with)g(which)g(we)h(earlier)h
(constructed)e(guarded)h(recursion.)51 b(In)32 b(f)o(act,)h(the)f
(predicate)357 293 y(we)25 b(need)g(is)f(just)g(an)h(instance)f(of)h
(that)g(structure.)357 503 y(W)-8 b(e)25 b(may)f(de\002ne)i(this)e
(property)g(for)h FZ(N)-63 b(N)p F4(,)25 b(together)f(with)g(its)g
(non-strict)g(counterpart)h(as)g(follo)n(ws:)601 795
y FX(!)p FZ(N)-63 b(NUnequal)q FX(=)22 b FY(\025)p FP(x)p
FY(;)17 b FP(y)p FX(:)22 b FZ(N)-63 b(N)1277 916 y FP(x)p
F3(')q FP(y)27 b F3(!)g(?)601 1036 y FX(!)p FZ(N)-63
b(NNotPSub)n FX(=)22 b FY(\025)p FP(x)p FX(:)g FZ(N)-63
b(N)1277 1156 y(N)g(NA)n(ux)21 b FX(\()p FZ(N)-63 b(NUnequal)22
b FP(x)o FX(\))601 1277 y(!)p FZ(N)-63 b(NNotSub)57 b
FX(=)22 b FY(\025)p FP(x)p FY(;)17 b FP(y)p FX(:)22 b
FZ(N)-63 b(N)1277 1397 y FX(\()p FZ(N)g(NUnequal)22 b
FP(x)f(y)p FX(\))p F3(\002)q FX(\()p FZ(N)-63 b(NNotPSub)21
b FP(x)g(y)p FX(\))357 1653 y F4(with)j(con)l(v)o(ersion)f(beha)n
(viour)601 1889 y FZ(N)-63 b(NNotPSub)20 b FP(x)i FZ(0)1306
1862 y F3(\030)1306 1894 y FX(=)1433 1889 y FZ(1)-44
b(1)601 2010 y(N)-63 b(NNotPSub)20 b FP(x)i FZ(s)p FP(n)1306
1982 y F3(\030)1306 2014 y FX(=)1433 2010 y FZ(N)-63
b(NNotSub)21 b FP(x)h(n)1306 2102 y F3(\030)1306 2134
y FX(=)1433 2130 y(\()p FZ(N)-63 b(NUnequal)21 b FP(x)h(n)p
FX(\))p F3(\002)q FX(\()p FZ(N)-63 b(NNotPSub)21 b FP(x)h(n)p
FX(\))357 2392 y FZ(N)-63 b(NNotPSub)24 b FP(x)h(y)k
F4(is)g(thus)f(inhabited)g(e)o(xactly)g(when)h FP(x)g
F4(is)g(not)g(a)g(proper)g(subterm)f(of)i FP(y)o F4(,)h(whilst)357
2541 y FZ(N)-63 b(NNotSub)25 b FP(x)h(y)31 b F4(adds)g(the)f
(requirement)h FP(x)38 b F3(6')q FP(y)31 b F4(to)f(indicate)h(that)f
FP(x)h F4(is)f(not)g(an)o(y)h(subterm)f(of)g FP(y)p F4(.)357
2691 y FZ(N)-63 b(NNotPSub)27 b FP(x)g(y)33 b F4(unfolds)f
(computationally)e(to)j(re)n(v)o(eal)f(a)h(proof)g(that)f
FP(x)h F4(is)f(not)h(equal)f(to)h(an)o(y)357 2840 y FU(guar)l(ded)27
b F4(subterm)d(of)g FP(y)p F4(.)31 b(Observ)o(e,)24 b(for)h(e)o
(xample,)601 3103 y FZ(N)-63 b(NNotPSub)20 b FP(x)i FZ(ss)p
FP(x)1366 3076 y F3(\030)1367 3108 y FX(=)1466 3103 y(\()p
FZ(N)-63 b(NUnequal)21 b FP(x)h FZ(s)p FP(x)p FX(\))p
F3(\002)1466 3224 y FX(\()p FZ(N)-63 b(NUnequal)21 b
FP(x)h(x)p FX(\))p F3(\002)p FX(\()p FZ(N)-63 b(NNotPSub)21
b FP(x)h(x)p FX(\))357 3479 y F4(Suppose)i(we)h(can)g(pro)o(v)o(e)601
3772 y F3(8)p FP(x)p FY(;)17 b FP(t)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FP(x)p F3(')p FP(t)28 b F3(!)f FZ(N)-63
b(NNotPSub)21 b FP(x)h(t)357 4064 y F4(Then)36 b(for)h(an)o(y)f
(hypothetical)e(proof)j(of)f FP(x)p F3(')q FP(p)o FX([)p
FP(x)p FX(])p F4(,)k(we)c(ha)n(v)o(e)h(a)f(proof)h(of)f
FZ(N)-63 b(NNotPSub)30 b FP(x)g(p)p FX([)p FP(x)p FX(])p
F4(,)357 4213 y(which)24 b(will)g(e)o(xpand)g(to)h(a)g(product)f
(containing)601 4506 y FZ(N)-63 b(NUnequal)21 b FP(x)h(x)357
4798 y F4(from)i(which)h(contradiction)e(the)i(goal)f(should)g(surely)g
(follo)n(w)-6 b(.)357 5008 y(The)25 b(\002rst)f(step)h(in)f(the)h
(proof)g(is)f(to)g(eliminate)g(the)h(equation,)f(lea)n(ving)g(the)h
(highly)e(plausible)601 5300 y FX(?)p FP(cycle)n FX(:)f
F3(8)q FP(x)o FX(:)h FZ(N)-63 b(N)949 5421 y(N)g(NNotPSub)20
b FP(x)i(x)1997 5667 y F4(143)p eop
%%Page: 144 149
144 148 bop 357 -6 a F4(Y)-11 b(ou)27 b(could)h(be)f(for)n(gi)n(v)o(en)
g(for)h(hoping)f(that)g(we)h(might)f(get)g(a)i(cheap)f(proof)g(by)f
(the)h FZ(N)-63 b(NA)n(uxGen)357 144 y F4(theorem)19
b(we)g(ha)n(v)o(e)g(already)h(b)n(uilt,)f(b)n(ut)g(sadly)-6
b(,)19 b(that)g(only)g(pro)o(v)o(es)f FZ(N)-63 b(NA)n(ux)q
FX(\010)20 b F4(when)g FX(\010)f F4(is)g(a)h(constant)357
293 y(and)j(all)g(we)h(ha)n(v)o(e)f(to)g(do)g(at)h(each)g(stage)f(is)g
(pass)g(on)g(the)g(accumulated)g(information,)g(adding)f(just)357
443 y(the)e(ne)n(w)g(layer)-5 b(.)29 b(Here,)22 b(the)e(scheme)g(v)n
(aries)g(o)o(v)o(er)g(the)g(recursion,)h(so)f(we)g(must)g(be)g(more)g
(cunning.)357 652 y(Our)25 b(ne)o(xt)e(mo)o(v)o(e)h(is)g(unsurprising:)
29 b(induction)23 b(on)i FP(x)o F4(.)p 7 setlinewidth
np 655 905 25 135.00 315.00 arc st 7 setlinewidth np
691 887 18 180.00 360.00 arc st 7 setlinewidth np 745
887 35 180.00 360.00 arc st 7 setlinewidth np 789 914
28 251.56 341.56 arc st 7 setlinewidth np 816 932 27
270.00 450.00 arc st 7 setlinewidth np 780 959 35 360.00
540.00 arc st 7 setlinewidth np 727 959 18 360.00 540.00
arc st 7 setlinewidth np 682 959 27 360.00 540.00 arc
st 7 setlinewidth np 647 941 19 63.43 243.43 arc st 601
1117 a FX(?)p FP(cycle)844 1149 y FM(0)883 1117 y FX(:)e
FZ(N)-63 b(NNotPSub)21 b(0)h(0)601 1237 y FX(?)p FP(cycle)844
1269 y FL(s)883 1237 y FX(:)h F3(8)p FP(x)50 b FX(:)22
b FZ(N)-63 b(N)933 1358 y F3(8)p FP(xh)p FX(:)22 b FZ(N)-63
b(NNotPSub)21 b FP(x)h(x)988 1478 y FZ(N)-63 b(NNotPSub)21
b(s)p FP(x)g FZ(s)p FP(x)357 1765 y F4(The)f(base)h(case)g(is)f(tri)n
(vial)g(as)g(its)g(type)g(reduces)h(to)f FZ(1)-44 b(1)q
F4(.)29 b(Unfortunately)-6 b(,)20 b(the)g(step)h(is)f(genuinely)f(dif-)
357 1914 y(\002cult:)33 b FZ(N)-63 b(NNotPSub)25 b F4(\002x)o(es)h(its)
g(\002rst)g(ar)n(gument,)g(so)g(there)g(is)g(no)g(w)o(ay)-6
b(,)26 b(as)g(things)f(stand,)h(that)g(we)357 2064 y(can)h(reduce)h
(the)f(conclusion)f(to)h(the)g(inducti)n(v)o(e)e(hypothesis.)35
b(Some)28 b(intelligent)d(strengthening)357 2213 y(will)f(be)h
(necessary)-6 b(.)30 b(First)25 b(reduce)g(the)g(conclusion)e(to)i(its)
f(non-strict)g(e)o(xpansion:)p 7 setlinewidth np 655
2466 25 135.00 315.00 arc st 7 setlinewidth np 691 2448
18 180.00 360.00 arc st 7 setlinewidth np 745 2448 35
180.00 360.00 arc st 7 setlinewidth np 789 2475 28 251.56
341.56 arc st 7 setlinewidth np 816 2493 27 270.00 450.00
arc st 7 setlinewidth np 780 2520 35 360.00 540.00 arc
st 7 setlinewidth np 727 2520 18 360.00 540.00 arc st
7 setlinewidth np 682 2520 27 360.00 540.00 arc st 7
setlinewidth np 647 2502 19 63.43 243.43 arc st 601 2678
a FX(?)p FP(cycle)844 2710 y FL(s)881 2678 y FX(:)e F3(8)p
FP(x)50 b FX(:)22 b FZ(N)-63 b(N)930 2799 y F3(8)p FP(xh)p
FX(:)22 b FZ(N)-63 b(NNotPSub)21 b FP(x)h(x)985 2919
y FZ(N)-63 b(NNotSub)21 b(s)p FP(x)h(x)357 3199 y F4(W)-8
b(e)26 b(must)g(pro)o(v)o(e)f(that)h(if)g FP(x)g F4(is)g(not)g(a)g
(proper)h(subterm)e(of)h(itself,)g FZ(s)p FP(x)g F4(is)g(certainly)g
(not)g(a)g(subterm.)357 3349 y(W)-8 b(e)35 b(can)g(see)g(that)f(if)h
FZ(s)p FP(x)f F4(were)i(a)f(subterm,)h FP(x)f F4(w)o(ould)f(be)g(a)h
(proper)g(subterm,)i(nomatter)d(what)357 3498 y(is)c(on)h(the)g(right)f
(hand)h(side.)49 b(Let)31 b(us)f(mak)o(e)h(the)g(corresponding)f
(generalisation.)48 b(That)31 b(is,)h(we)357 3648 y(introduce)c(the)h
(hypotheses,)g(create)h(a)f(hole)g(for)g(the)g(more)g(general)h(v)o
(ersion)e(of)h(the)g(goal,)h(then)357 3797 y(use)24 b(it)h(to)f(solv)o
(e)g(the)g(original:)p 7 setlinewidth np 655 4050 25
135.00 315.00 arc st 7 setlinewidth np 691 4032 18 180.00
360.00 arc st 7 setlinewidth np 745 4032 35 180.00 360.00
arc st 7 setlinewidth np 789 4059 28 251.56 341.56 arc
st 7 setlinewidth np 816 4077 27 270.00 450.00 arc st
7 setlinewidth np 780 4103 35 360.00 540.00 arc st 7
setlinewidth np 727 4103 18 360.00 540.00 arc st 7 setlinewidth
np 682 4103 27 360.00 540.00 arc st 7 setlinewidth np
647 4086 19 63.43 243.43 arc st 601 4262 a FX(?)p FP(cycle)844
4293 y FL(s)881 4262 y F3(\031)e FY(\025)p FP(x)94 b
FX(:)22 b FZ(N)-63 b(N)980 4382 y FY(\025)p FP(xh)44
b FX(:)22 b FZ(N)-63 b(NNotPSub)21 b FP(x)h(x)991 4503
y FX(?)p FP(gen)p FX(:)g F3(8)q FP(y)188 b FX(:)22 b
FZ(N)-63 b(N)1230 4623 y F3(8)q FP(xNPy)o FX(:)22 b FZ(N)-63
b(NNotPSub)21 b FP(x)h(y)1286 4743 y FZ(N)-63 b(NNotSub)21
b(s)o FP(x)h(y)1037 4864 y(gen)g(x)g(xh)357 5144 y F4(Why)g(is)h(this)g
(a)g(good)g(mo)o(v)o(e?)29 b(W)-8 b(ell,)24 b(we)f(ha)n(v)o(e)g(\002x)o
(ed)g(the)h(\002rst)f(ar)n(gument)g(of)h(the)f(predicates,)g(and)357
5293 y(we)29 b(are)h(no)n(w)e(free)i(to)f(let)g(the)g(second)g(v)n(ary)
g(in)f(an)i(induction)d(on)i FP(y)g F4(which)g(corresponds)g(to)f(the)
357 5443 y(computational)23 b(beha)n(viour)h(of)h FZ(N)-63
b(NNotPSub)o F4(.)1997 5667 y(144)p eop
%%Page: 145 150
145 149 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FP(gen)791 194 y FM(0)830 162
y FX(:)22 b F3(8)q FP(xNP0)o FX(:)g FZ(N)-63 b(NNotPSub)21
b FP(x)h FZ(0)935 282 y(N)-63 b(NNotSub)21 b(s)o FP(x)h
FZ(0)601 403 y FX(?)p FP(gen)791 434 y FL(s)830 403 y
FX(:)g F3(8)q FP(y)226 b FX(:)23 b FZ(N)-63 b(N)879 523
y F3(8)q FP(yh)176 b FX(:)23 b F3(8)p FP(xNPy)o FX(:)f
FZ(N)-63 b(NNotPSub)21 b FP(x)h(y)1316 643 y FZ(N)-63
b(NNotSub)21 b(s)p FP(x)g(y)879 764 y F3(8)q FP(xNPsy)n
FX(:)i FZ(N)-63 b(NNotPSub)20 b FP(x)i FZ(s)p FP(y)935
884 y FZ(N)-63 b(NNotSub)21 b(s)o FP(x)h FZ(s)p FP(y)357
1165 y F4(Applying)h(a)i(little)f(computation,)f(the)h(base)h(case)h
(becomes)p 7 setlinewidth np 655 1418 25 135.00 315.00
arc st 7 setlinewidth np 691 1400 18 180.00 360.00 arc
st 7 setlinewidth np 745 1400 35 180.00 360.00 arc st
7 setlinewidth np 789 1426 28 251.56 341.56 arc st 7
setlinewidth np 816 1444 27 270.00 450.00 arc st 7 setlinewidth
np 780 1471 35 360.00 540.00 arc st 7 setlinewidth np
727 1471 18 360.00 540.00 arc st 7 setlinewidth np 682
1471 27 360.00 540.00 arc st 7 setlinewidth np 647 1453
19 63.43 243.43 arc st 601 1629 a FX(?)p FP(gen)791 1661
y FM(0)830 1629 y FX(:)c F3(8)q FP(xNP0)o FX(:)g FZ(1)-44
b(1)935 1750 y FX(\()p FZ(N)-63 b(NUnequal)21 b(s)o FP(x)h
FZ(0)q FX(\))p F3(\002)p FZ(1)-44 b(1)357 2036 y F4(This)24
b(is)g(easily)g(pro)o(v)o(en,)g(with)g(a)h(little)f(help)g(from)h
FZ(N)-63 b(NP)n(eano)o F4(.)357 2246 y(Reducing)24 b(the)h(step)g
(case,)g(we)g(get)p 7 setlinewidth np 655 2499 25 135.00
315.00 arc st 7 setlinewidth np 691 2481 18 180.00 360.00
arc st 7 setlinewidth np 745 2481 35 180.00 360.00 arc
st 7 setlinewidth np 789 2508 28 251.56 341.56 arc st
7 setlinewidth np 816 2526 27 270.00 450.00 arc st 7
setlinewidth np 780 2552 35 360.00 540.00 arc st 7 setlinewidth
np 727 2552 18 360.00 540.00 arc st 7 setlinewidth np
682 2552 27 360.00 540.00 arc st 7 setlinewidth np 647
2535 19 63.43 243.43 arc st 601 2711 a FX(?)p FP(gen)791
2742 y FL(s)827 2711 y FX(:)e F3(8)p FP(y)227 b FX(:)22
b FZ(N)-63 b(N)877 2831 y F3(8)p FP(yh)177 b FX(:)22
b F3(8)p FP(xNPy)o FX(:)h FZ(N)-63 b(NNotPSub)20 b FP(x)i(y)1313
2952 y FZ(N)-63 b(NNotSub)21 b(s)p FP(x)h(y)877 3072
y F3(8)p FP(xNPsy)o FX(:)g(\()p FZ(N)-63 b(NUnequal)21
b FP(x)h(y)p FX(\))p F3(\002)p FX(\()p FZ(N)-63 b(NNotPSub)21
b FP(x)h(y)p FX(\))932 3192 y(\()p FZ(N)-63 b(NUnequal)21
b(s)p FP(x)h FZ(s)o FP(y)p FX(\))p F3(\002)q FX(\()p
FZ(N)-63 b(NNotSub)21 b(s)o FP(x)h(y)p FX(\))357 3473
y F4(The)27 b(implication)f(between)h(the)h(tw)o(o)f(right)g(conjuncts)
f(is)h(e)o(xactly)g(gi)n(v)o(en)f(by)h(the)g(inducti)n(v)o(e)f(hy-)357
3622 y(pothesis.)34 b(As)26 b(for)g(the)g(left)h(conjuncts,)e(e)o
(xpanding)g(the)h(conclusion')-5 b(s)25 b FZ(N)-63 b(NUnequal)25
b F4(gi)n(v)o(es)g(us)h(a)357 3771 y(proof)h(of)h FZ(s)p
FP(x)o F3(')q FZ(s)p FP(y)f F4(from)g(which)h(we)g(must)e(pro)o(v)o(e)h
F3(?)p F4(.)39 b FZ(N)-63 b(NP)n(eano)28 b F4(e)o(xposes)e(a)i(proof)g
(of)g FP(x)o F3(')q FP(y)p F4(,)g(for)357 3921 y(which)c(we)h(ha)n(v)o
(e)g(a)g(disproof)f(at)h(the)f(ready)-6 b(.)357 4130
y(Ha)n(ving)28 b(established)g(this)g(property)g(for)i(the)e(natural)h
(numbers,)g(there)g(is)g(al)o(w)o(ays)f(the)h(nagging)357
4280 y(suspicion)g(that)g(we)i(ha)n(v)o(e)f(e)o(xploited)f(in)h(some)f
(hidden)h(w)o(ay)g(the)h(symmetry)d(of)j(that)f(datatype,)357
4429 y(just)d(as)i(we)g(w)o(ould)f(be)h(w)o(ary)g(of)g(generalising)e
(to)i(all)f(triangles)g(a)h(property)f(which)h(held)f(in)g(the)357
4579 y(equilateral)38 b(case.)72 b(When)39 b(there)f(is)h(only)e(one)i
(step)f(constructor)l(,)j(with)d(only)g(one)g(recursi)n(v)o(e)357
4728 y(ar)n(gument,)e(the)e(issue)g(of)h(whether)f(phenomena)g(beha)n
(v)o(e)g(conjucti)n(v)o(ely)e(or)j(disjuncti)n(v)o(ely)c(can)357
4878 y(become)24 b(blurred.)31 b(Ho)n(we)n(v)o(er)l(,)23
b(in)i(this)f(case,)h(e)n(v)o(erything)e(\002ts)i(together)f(perfectly)
-6 b(.)359 5087 y(C)t F2(O)t(N)t(S)t(T)t(R)q(U)t(C)5
b(T)t(I)g(O)t(N)r F4(:)37 b F0(cycle)601 5379 y F4(Consider)24
b(type)h(former)1997 5667 y(145)p eop
%%Page: 146 151
146 150 bop 825 -28 402 4 v 825 50 a FJ(Ind)27 b FX(:)h
FI(Type)601 270 y F4(and)c FY(c)h F4(constructors)815
483 y FY(~)825 490 y FP(a)j FX(:)956 463 y FY(~)952 490
y FP(A)1137 483 y FY(~)1144 490 y FP(x)f FX(:)h F3(f)p
FJ(Ind)o F3(g)1527 441 y FL(r)p 825 527 740 4 v 891 608
a FZ(Con)1098 623 y FL(i)1139 601 y FY(~)1149 608 y FP(a)1208
601 y FY(~)1215 608 y FP(x)g FX(:)f FJ(Ind)601 813 y
F4(Note)33 b(that)g(I)h(really)f(should)g(write)g FY(r)1920
828 y FL(i)1948 813 y F4(,)j(as)d(the)h(number)f(of)g(recursi)n(v)o(e)g
(ar)n(guments)601 962 y(may)22 b(v)n(ary)g(from)h(constructor)f(to)g
(constructor)-5 b(.)29 b(Ho)n(we)n(v)o(er)l(,)22 b(the)h(proof)f(will)g
(be)h(e)n(v)o(en)601 1111 y(less)h(readable)h(if)g(I)g(start)g
(subscripting)e(superscripts.)601 1302 y(W)-8 b(e)25
b(may)f(de\002ne)i(the)e(inequality)g(property)815 1535
y FJ(IndUnequal)49 b FX(=)g FY(\025)p FP(x)p FY(;)17
b FP(y)11 b FX(:)g FJ(Ind)o FY(:)23 b FP(x)p F3(')p FP(y)k
F3(!)h(?)601 1917 y F4(W)-8 b(e)25 b(can)g(then)f(add)h(the)g(proper)g
(subterm)f(relation)815 2149 y FJ(IndNotPSub)48 b FX(=)i
FY(\025)p FP(x)11 b FX(:)g FJ(Ind)p FY(:)22 b FJ(IndA)n(ux)f
FX(\()p FJ(Ind)o(Unequal)g FP(x)p FX(\))601 2382 y F4(and)j(the)h
(non-strict)f(subterm)g(relation)815 2553 y FJ(IndNotSub)48
b FX(=)22 b FY(\025)p FP(x)p FY(;)17 b FP(y)11 b FX(:)g
FJ(Ind)o FY(:)1465 2674 y FX(\()p FJ(IndUnequal)21 b
FP(x)h(y)p FX(\))p F3(\002)p FX(\()p FJ(IndNotPSub)f
FP(x)h(y)p FX(\))601 2869 y F4(The)i(computational)f(beha)n(viour)i(of)
g(these)f(de\002nitions)g(is)g(as)h(one)g(w)o(ould)f(hope:)815
3101 y FJ(IndNotPSub)d FP(x)h FX(\()p FZ(Con)1716 3116
y FL(j)1764 3094 y FY(~)1774 3101 y FP(a)1834 3094 y
FY(~)1841 3101 y FP(y)o FX(\))1978 3074 y F3(\030)1979
3106 y FX(=)2106 3101 y(\006)2176 3021 y Fz(\010)2234
3101 y FJ(IndNotSub)f FP(x)h(y)2880 3133 y FL(k)2923
3021 y Fz(\011)2981 3043 y FL(r)2981 3140 y(k)601 3334
y F4(W)-8 b(e)25 b(may)f(no)n(w)g(pro)o(v)o(e)g(the)h(c)o(ycle)f
(theorem:)815 3566 y FX(?)p FJ(IndCycle)p FX(:)f F3(8)p
FP(x)p FY(;)17 b FP(t)11 b FX(:)23 b FJ(Ind)p 1401 3606
739 4 v 1346 3687 a F3(8)p 1399 3723 4 121 v 50 w FP(e)49
b FX(:)72 b FP(x)p F3(')q FP(t)p 2138 3723 V 1401 3726
739 4 v 1401 3807 a FJ(Ind)o(NotPSub)21 b FP(x)h(t)601
4002 y F4(First,)i(we)h(eliminate)f(the)h(equation,)e(lea)n(ving)p
7 setlinewidth np 870 4171 25 135.00 315.00 arc st 7
setlinewidth np 906 4153 18 180.00 360.00 arc st 7 setlinewidth
np 959 4153 35 180.00 360.00 arc st 7 setlinewidth np
1004 4179 28 251.56 341.56 arc st 7 setlinewidth np 1031
4197 27 270.00 450.00 arc st 7 setlinewidth np 995 4224
35 360.00 540.00 arc st 7 setlinewidth np 941 4224 18
360.00 540.00 arc st 7 setlinewidth np 897 4224 27 360.00
540.00 arc st 7 setlinewidth np 861 4206 19 63.43 243.43
arc st 815 4383 a FX(?)p FJ(IndCycle)1296 4335 y FE(0)1320
4383 y FX(:)f F3(8)p FP(x)p FX(:)g FJ(Ind)1424 4503 y(IndNotPSub)f
FP(x)h(x)601 4700 y F4(Ne)o(xt,)i(we)h F0(eliminate)f
F4(the)h FP(x)p F4(.)p 7 setlinewidth np 870 4860 25
135.00 315.00 arc st 7 setlinewidth np 906 4842 18 180.00
360.00 arc st 7 setlinewidth np 959 4842 35 180.00 360.00
arc st 7 setlinewidth np 1004 4869 28 251.56 341.56 arc
st 7 setlinewidth np 1031 4887 27 270.00 450.00 arc st
7 setlinewidth np 995 4914 35 360.00 540.00 arc st 7
setlinewidth np 941 4914 18 360.00 540.00 arc st 7 setlinewidth
np 897 4914 27 360.00 540.00 arc st 7 setlinewidth np
861 4896 19 63.43 243.43 arc st 815 5085 a FX(?)p FN(case)1045
5100 y FL(i)1073 5085 y FX(:)e F3(8)1168 5078 y FY(~)1178
5085 y FP(a)6 b FX(:)1281 5059 y FY(~)1277 5085 y FP(A)1349
5100 y FL(i)1123 5205 y F3(8)1171 5198 y FY(~)1178 5205
y FP(x)p FX(:)22 b F3(f)p FJ(Ind)o F3(g)1528 5157 y FL(r)1123
5342 y F3(8)1171 5312 y FY(~)1178 5342 y FP(h)p FX(:)g
F3(f)p FJ(Ind)o(NotPSub)f FP(x)1960 5357 y FL(k)2025
5342 y FP(x)2075 5357 y FL(k)2117 5342 y F3(g)2167 5293
y FL(r)2167 5371 y(k)1178 5462 y FJ(IndNotPSub)g FX(\()p
FZ(Con)2006 5477 y FL(i)2047 5455 y FY(~)2057 5462 y
FP(a)2116 5455 y FY(~)2123 5462 y FP(x)p FX(\))h(\()p
FZ(Con)2478 5477 y FL(i)2518 5455 y FY(~)2528 5462 y
FP(a)2588 5455 y FY(~)2595 5462 y FP(x)p FX(\))1997 5667
y F4(146)p eop
%%Page: 147 152
147 151 bop 601 -6 a F4(The)24 b(conclusion)g(e)o(xpands,)g(yielding)f
(a)i(product)p 7 setlinewidth np 870 147 25 135.00 315.00
arc st 7 setlinewidth np 906 130 18 180.00 360.00 arc
st 7 setlinewidth np 959 130 35 180.00 360.00 arc st
7 setlinewidth np 1004 156 28 251.56 341.56 arc st 7
setlinewidth np 1031 174 27 270.00 450.00 arc st 7 setlinewidth
np 995 201 35 360.00 540.00 arc st 7 setlinewidth np
941 201 18 360.00 540.00 arc st 7 setlinewidth np 897
201 27 360.00 540.00 arc st 7 setlinewidth np 861 183
19 63.43 243.43 arc st 815 372 a FX(?)p FN(case)1045
387 y FL(i)1073 372 y FX(:)e F3(8)1168 365 y FY(~)1178
372 y FP(a)6 b FX(:)1281 346 y FY(~)1277 372 y FP(A)1349
387 y FL(i)1123 493 y F3(8)1171 486 y FY(~)1178 493 y
FP(x)p FX(:)22 b F3(f)p FJ(Ind)o F3(g)1528 444 y FL(r)1123
629 y F3(8)1171 600 y FY(~)1178 629 y FP(h)p FX(:)g F3(f)p
FJ(Ind)o(NotPSub)f FP(x)1960 644 y FL(k)2025 629 y FP(x)2075
644 y FL(k)2117 629 y F3(g)2167 580 y FL(r)2167 658 y(k)1178
749 y FX(\006)p F3(f)p FJ(IndNotSub)g FX(\()p FZ(Con)2068
764 y FL(i)2108 742 y FY(~)2118 749 y FP(a)2177 742 y
FY(~)2184 749 y FP(x)p FX(\))h FP(x)2344 764 y FL(k)2387
749 y F3(g)2437 698 y FL(r)2437 778 y(k)601 930 y F4(No)n(w)27
b(we)i(come)f(to)g(the)g(strengthening)e(step.)41 b(The)28
b(conclusion)f(we)i(are)f(trying)g(to)601 1079 y(sho)n(w)22
b(is)g FY(r)s F4(-fold)h(no)n(w)-6 b(.)29 b(The)23 b(trick)f(is)h(to)g
(pro)o(v)o(e)f(each)h(separately)-6 b(,)23 b(abstracting)g(a)o(w)o(ay)
601 1228 y(the)h(right)g(hand)h FP(x)1229 1243 y FL(k)1296
1228 y F4(in)g FY(r)i F4(separate)f(lemmas:)p 7 setlinewidth
np 870 1381 25 135.00 315.00 arc st 7 setlinewidth np
906 1364 18 180.00 360.00 arc st 7 setlinewidth np 959
1364 35 180.00 360.00 arc st 7 setlinewidth np 1004 1390
28 251.56 341.56 arc st 7 setlinewidth np 1031 1408 27
270.00 450.00 arc st 7 setlinewidth np 995 1435 35 360.00
540.00 arc st 7 setlinewidth np 941 1435 18 360.00 540.00
arc st 7 setlinewidth np 897 1435 27 360.00 540.00 arc
st 7 setlinewidth np 861 1417 19 63.43 243.43 arc st
815 1606 a FX(?)p FN(case)1045 1621 y FL(i)1073 1606
y F3(\031)d FY(\025)1220 1599 y(~)1230 1606 y FP(a)121
b FX(:)1448 1580 y FY(~)1444 1606 y FP(A)1516 1621 y
FL(i)1173 1727 y FY(\025)1223 1720 y(~)1230 1727 y FP(x)115
b FX(:)22 b F3(f)p FJ(Ind)o F3(g)1695 1678 y FL(r)1173
1863 y FY(\025)1223 1834 y(~)1230 1863 y FP(h)115 b FX(:)22
b F3(f)p FJ(Ind)o(NotPSub)f FP(x)2127 1878 y FL(k)2192
1863 y FP(x)2242 1878 y FL(k)2284 1863 y F3(g)2334 1814
y FL(r)2334 1892 y(k)1184 2225 y FX(?)1280 2196 y FY(~)1230
2225 y FN(lem)p FX(:)1444 1901 y Fz(8)1444 1991 y(>)1444
2021 y(>)1444 2051 y(>)1444 2080 y(>)1444 2110 y(<)1444
2290 y(>)1444 2320 y(>)1444 2349 y(>)1444 2379 y(>)1444
2409 y(:)1532 2225 y F3(8)q FP(y)188 b FX(:)22 b FJ(Ind)1532
2345 y F3(8)q FP(xNPy)o FX(:)g FJ(IndNotPSub)f FP(x)2508
2360 y FL(k)2573 2345 y FP(y)1588 2466 y FJ(Ind)o(NotSub)g
FX(\()p FZ(Con)2357 2481 y FL(i)2398 2459 y FY(~)2408
2466 y FP(a)2467 2459 y FY(~)2474 2466 y FP(x)p FX(\))h
FP(y)2683 1901 y Fz(9)2683 1991 y(>)2683 2021 y(>)2683
2051 y(>)2683 2080 y(>)2683 2110 y(=)2683 2290 y(>)2683
2320 y(>)2683 2349 y(>)2683 2379 y(>)2683 2409 y(;)2772
1927 y FL(r)2772 2506 y(k)1230 2590 y F3(hf)p FN(lem)1483
2605 y FL(k)1548 2590 y FP(x)1598 2605 y FL(k)1663 2590
y FP(h)1712 2605 y FL(k)1755 2590 y F3(g)1805 2542 y
FL(r)1805 2619 y(k)1848 2590 y F3(i)601 2777 y F4(The)k(proof)h(of)g
(each)g(lemma)f(is)g(again)g(inducti)n(v)o(e.)34 b(W)-8
b(e)28 b(apply)e FJ(IndElim)p F4(,)h(Thus)f(for)601 2926
y(each)f(of)g(the)g FY(r)s F4(,)f(lemmas,)g(we)h(acquire)g
FY(c)g F4(constructor)f(cases:)p 7 setlinewidth np 870
3079 25 135.00 315.00 arc st 7 setlinewidth np 906 3062
18 180.00 360.00 arc st 7 setlinewidth np 959 3062 35
180.00 360.00 arc st 7 setlinewidth np 1004 3088 28 251.56
341.56 arc st 7 setlinewidth np 1031 3106 27 270.00 450.00
arc st 7 setlinewidth np 995 3133 35 360.00 540.00 arc
st 7 setlinewidth np 941 3133 18 360.00 540.00 arc st
7 setlinewidth np 897 3133 27 360.00 540.00 arc st 7
setlinewidth np 861 3115 19 63.43 243.43 arc st 815 3304
a FX(?)p FN(lem)1026 3319 y FL(j)1062 3304 y FX(:)f F3(8)1157
3297 y FY(~)1167 3304 y FP(a)1211 3253 y FE(0)1396 3304
y FX(:)1449 3278 y FY(~)1445 3304 y FP(A)1517 3319 y
FL(j)1112 3425 y F3(8)1160 3418 y FY(~)1167 3425 y FP(y)179
b FX(:)22 b F3(f)p FJ(Ind)o F3(g)1696 3376 y FL(r)1112
3667 y F3(8)1160 3638 y FY(~)1167 3667 y FP(h)179 b FX(:)1445
3463 y Fz(8)1445 3553 y(<)1445 3732 y(:)1534 3667 y F3(8)p
FP(xNPy)1827 3699 y FL(l)1853 3667 y FX(:)22 b FJ(IndNotPSub)f
FP(x)2535 3682 y FL(k)2600 3667 y FP(y)2650 3699 y FL(l)1589
3788 y FJ(Ind)o(NotSub)g FX(\()p FZ(Con)2358 3803 y FL(i)2399
3781 y FY(~)2409 3788 y FP(a)2468 3781 y FY(~)2475 3788
y FP(x)p FX(\))h FP(y)2635 3819 y FL(l)2726 3463 y Fz(9)2726
3553 y(=)2726 3732 y(;)2814 3489 y FL(r)2814 3828 y(l)1112
3928 y F3(8)p FP(xNPc)o FX(:)g FJ(IndNotPSub)f FP(x)2078
3943 y FL(k)2143 3928 y FX(\()p FZ(Con)2388 3943 y FL(j)2438
3899 y FY(~)2447 3928 y FP(b)2508 3921 y FY(~)2515 3928
y FP(y)p FX(\))1167 4064 y FJ(IndNotSub)g FX(\()p FZ(Con)1937
4079 y FL(i)1977 4057 y FY(~)1987 4064 y FP(a)2046 4057
y FY(~)2053 4064 y FP(x)p FX(\))h(\()p FZ(Con)2408 4079
y FL(j)2458 4035 y FY(~)2467 4064 y FP(b)2528 4057 y
FY(~)2535 4064 y FP(y)p FX(\))601 4244 y F4(No)n(w)-6
b(,)23 b(a)i(little)f(computation)f(is)h(in)h(order:)p
7 setlinewidth np 870 4397 25 135.00 315.00 arc st 7
setlinewidth np 906 4380 18 180.00 360.00 arc st 7 setlinewidth
np 959 4380 35 180.00 360.00 arc st 7 setlinewidth np
1004 4406 28 251.56 341.56 arc st 7 setlinewidth np 1031
4424 27 270.00 450.00 arc st 7 setlinewidth np 995 4451
35 360.00 540.00 arc st 7 setlinewidth np 941 4451 18
360.00 540.00 arc st 7 setlinewidth np 897 4451 27 360.00
540.00 arc st 7 setlinewidth np 861 4433 19 63.43 243.43
arc st 815 4622 a FX(?)p FN(lem)1026 4637 y FL(j)1062
4622 y FX(:)38 b F3(8)1172 4615 y FY(~)1182 4622 y FP(a)1226
4571 y FE(0)1411 4622 y FX(:)1464 4596 y FY(~)1460 4622
y FP(A)1532 4637 y FL(j)1127 4743 y F3(8)1175 4736 y
FY(~)1182 4743 y FP(y)179 b FX(:)22 b F3(f)p FJ(Ind)o
F3(g)1711 4694 y FL(r)1127 4985 y F3(8)1175 4956 y FY(~)1182
4985 y FP(h)179 b FX(:)1460 4781 y Fz(8)1460 4871 y(<)1460
5050 y(:)1549 4985 y F3(8)p FP(xNPy)1842 5017 y FL(l)1868
4985 y FX(:)22 b FJ(IndNotPSub)f FP(x)2551 5000 y FL(k)2615
4985 y FP(y)2665 5017 y FL(l)1604 5106 y FJ(IndNotSub)g
FX(\()p FZ(Con)2374 5121 y FL(i)2414 5099 y FY(~)2424
5106 y FP(a)2483 5099 y FY(~)2490 5106 y FP(x)p FX(\))h
FP(y)2650 5137 y FL(l)2741 4781 y Fz(9)2741 4871 y(=)2741
5050 y(;)2830 4807 y FL(r)2830 5146 y(l)1127 5233 y F3(8)p
FP(xNPc)o FX(:)g(\006)1531 5152 y Fz(\010)1589 5233 y
FX(\()p FJ(Ind)o(Unequal)g FP(x)2257 5248 y FL(k)2322
5233 y FP(y)2372 5264 y FL(l)2398 5233 y FX(\))p F3(\002)p
FX(\()p FJ(IndNotPSub)f FP(x)3185 5248 y FL(k)3249 5233
y FP(y)3299 5264 y FL(l)3325 5233 y FX(\))3363 5152 y
Fz(\011)3421 5174 y FL(r)3421 5272 y(l)1112 5372 y FX(\006)p
1188 5372 30 4 v 229 w(:)h FJ(IndUnequal)f FX(\()p FZ(Con)2286
5387 y FL(i)2326 5365 y FY(~)2336 5372 y FP(a)2396 5365
y FY(~)2403 5372 y FP(x)p FX(\))h(\()p FZ(Con)2758 5387
y FL(j)2807 5343 y FY(~)2816 5372 y FP(b)2877 5365 y
FY(~)2884 5372 y FP(y)p FX(\))1182 5495 y(\006)1253 5414
y Fz(\010)1311 5495 y FJ(Ind)o(NotSub)f FX(\()p FZ(Con)2080
5510 y FL(i)2121 5488 y FY(~)2131 5495 y FP(a)2190 5488
y FY(~)2197 5495 y FP(x)p FX(\))h FP(y)2357 5527 y FL(l)2383
5414 y Fz(\011)2441 5437 y FL(r)2441 5534 y(l)1997 5667
y F4(147)p eop
%%Page: 148 153
148 152 bop 601 -6 a F4(Firstly)-6 b(,)23 b(each)815
222 y FJ(IndNotSub)e FX(\()p FZ(Con)1585 237 y FL(i)1625
215 y FY(~)1635 222 y FP(a)1694 215 y FY(~)1701 222 y
FP(x)p FX(\))h FP(y)1861 254 y FL(l)601 450 y F4(follo)n(ws)h(by)h
FP(h)1096 465 y FL(l)1147 450 y F4(applied)g(to)h(the)f(proof)h(of)815
677 y FJ(IndNotPSub)c FP(x)1449 692 y FL(k)1513 677 y
FP(y)1563 709 y FL(l)601 905 y F4(projected)j(from)h
FP(xNPc)n F4(.)601 1093 y(Secondly)-6 b(,)24 b(we)h(must)e(establish)
815 1321 y FJ(IndUnequal)e FX(\()p FZ(Con)1641 1336 y
FL(i)1681 1314 y FY(~)1691 1321 y FP(a)1751 1314 y FY(~)1758
1321 y FP(x)p FX(\))h(\()p FZ(Con)2113 1336 y FL(j)2162
1292 y FY(~)2171 1321 y FP(b)2232 1314 y FY(~)2240 1321
y FP(y)o FX(\))601 1548 y F4(That)i(is,)g(we)h(must)f(pro)o(v)o(e)815
1776 y FX(\()p FZ(Con)1060 1791 y FL(i)1101 1769 y FY(~)1110
1776 y FP(a)1170 1769 y FY(~)1177 1776 y FP(x)p FX(\))p
F3(')p FX(\()p FZ(Con)1587 1791 y FL(j)1637 1747 y FY(~)1646
1776 y FP(b)1707 1769 y FY(~)1714 1776 y FP(y)p FX(\))j
F3(!)h(?)601 2004 y F4(so)d(we)h(apply)f FJ(Ind)o(P)n(eano)p
F4(.)33 b(If)26 b(the)f(constructors)g(are)h(dif)n(ferent)f(\()p
FY(i)30 b F3(6)p FX(=)f FY(j)6 b F4(\),)25 b(the)h(goal)601
2153 y(is)e(pro)o(v)o(ed)g(at)g(once,)h(otherwise)f FY(i)k
FX(=)g FY(j)j F4(and)25 b(we)g(must)e(sho)n(w)805 2374
y FY(~)815 2381 y FP(a)p F3(')928 2352 y FY(~)937 2381
y FP(b)28 b F3(!)1131 2374 y FY(~)1138 2381 y FP(x)p
F3(')1258 2374 y FY(~)1265 2381 y FP(y)g F3(!)f(?)601
2608 y F4(But)d(look!)31 b FP(xPNc)23 b F4(contains)h(proofs)h(for)g
(each)g FY(l)i F4(of)815 2836 y FJ(IndUnequal)21 b FP(x)1446
2851 y FL(k)1511 2836 y FP(y)1561 2867 y FL(l)601 3063
y F4(W)-8 b(e)35 b(may)g(select)h(the)f(proof)g(of)g
FP(x)1812 3078 y FL(k)1855 3063 y F3(')p FP(y)1982 3095
y FL(k)2060 3063 y F4(from)g(the)h(injected)e(equations,)j(and)f(the)
601 3213 y(proof)24 b(of)815 3440 y FJ(IndUnequal)d FP(x)1446
3455 y FL(k)1511 3440 y FP(y)1561 3472 y FL(k)601 3668
y F4(from)j FP(xPNc)g F4(establishing)f(a)i(contradiction)e(and)i
(completing)e(the)i(construction.)357 3946 y(Let)f(me)h(remark)g(only)f
(brie\003y)h(on)g(the)f(e)o(xtension)g(to)g(dependent)g(f)o(amilies.)30
b(F)o(or)601 4224 y FJ(F)n(am)e FX(:)g F3(8)928 4217
y FY(~)946 4224 y FP(\021)11 b FX(:)1008 4197 y FY(~)1023
4224 y FP(I)p FY(:)23 b FI(Type)357 4501 y F4(the)h(appropriate)h
(notion)e(of)i(inequality)f(is)601 4779 y FJ(F)n(amUnequal)49
b FX(=)h FY(\025)1441 4772 y(~)1448 4779 y FP(x)p FY(;)1534
4772 y(~)1542 4779 y FP(y)10 b FX(:)p 1640 4693 208 4
v 11 w FJ(F)n(am)q FY(:)23 b FX(\()1929 4772 y FY(~)1936
4779 y FP(x)o F3(')2056 4772 y FY(~)2063 4779 y FP(y)p
FX(\))k F3(!)h(?)357 5057 y F4(W)-8 b(e)25 b(can)g(then)g(construct)f
FJ(F)n(amNotPSub)g F4(and)h FJ(F)n(amNotSub)g F4(as)g(before:)601
5335 y FJ(F)n(amNotPSub)49 b FX(=)h FY(\025)1444 5328
y(~)1451 5335 y FP(x)11 b FX(:)p 1550 5249 V 11 w FJ(F)n(am)q
FY(:)22 b FJ(F)n(amA)n(ux)g FX(\()p FJ(F)n(amUnequal)2885
5328 y FY(~)2892 5335 y FP(x)p FX(\))601 5484 y FJ(F)n(amNotSub)42
b FX(=)h FY(\025)1371 5477 y(~)1378 5484 y FP(x)p FY(;)1464
5477 y(~)1472 5484 y FP(y)10 b FX(:)p 1570 5398 V 11
w FJ(F)n(am)q FY(:)15 b FX(\()p FJ(F)n(amUnequal)2482
5477 y FY(~)2489 5484 y FP(x)2547 5477 y FY(~)2554 5484
y FP(y)p FX(\))p F3(\002)q FX(\()p FJ(F)n(amNotPSub)3383
5477 y FY(~)3390 5484 y FP(x)3448 5477 y FY(~)3456 5484
y FP(y)o FX(\))1997 5667 y F4(148)p eop
%%Page: 149 154
149 153 bop 357 -6 a F4(Since)27 b(all)f(three)h(of)g(these)f(tak)o(e)h
(tw)o(o)f(sequences)g(in)p 2200 -92 208 4 v 27 w FJ(F)n(am)p
F4(,)h(rather)g(than)g(tw)o(o)f(elements)g(in)g(some)357
144 y FJ(F)n(am)573 137 y FY(~)591 144 y FP(\021)p F4(,)32
b(no)f(problem)e(arises)i(in)g(the)f(strengthening)f(step:)42
b(we)32 b(are)f(free)h(to)e(abstract)h(a)o(w)o(ay)f(the)357
293 y(whole)24 b(right)g(hand)h(sequence,)g(ensuring)f(the)g(induction)
g(is)g(on)h(the)f(entire)h(f)o(amily)-6 b(.)357 503 y(As)45
b(for)g(the)g(equational)f(reasoning,)50 b(suppose)44
b(we)h(are)h(trying)e(to)h(pro)o(v)o(e)f(some)h(inequality)350
645 y FY(~)357 652 y FP(x)p FX(;)17 b FP(x)o F3(')570
645 y FY(~)578 652 y FP(y)o FX(;)g FP(y)46 b F3(!)g(?)35
b F4(where)g(both)f(sequences)h(inhabit)p 2266 566 V
34 w FJ(F)n(am)p F4(,)j(with)c(both)g FP(x)g F4(and)h
FP(y)g F4(constructor)n(-)357 802 y(headed.)j(Rather)28
b(than)f(trying)f(to)h(unify)g(the)1944 795 y FY(~)1951
802 y FP(x)g F4(and)2192 795 y FY(~)2199 802 y FP(y)p
F4(,)h(we)g(may)e(apply)h(the)g(`strong')g(v)o(ersion)f(of)357
951 y(the)k(Peano)h(theorem)f(directly)g(to)g(the)g(telescopic)g
(equation,)h(solving)e(the)h(goal)g(in)g(the)g(case)h(of)357
1101 y(dif)n(ferent)c(constructors,)g(and)h(e)o(xposing)e(the)h
(equations)g(of)g(the)h(predecessors)f(if)h(the)f(construc-)357
1250 y(tors)d(are)i(the)e(same.)357 1459 y(In)h(ef)n(fect,)h(then,)f
(the)h(construction)e(scales)h(up)g(without)f(an)o(y)h(dif)n(\002culty)
g(from)g(elements)g(of)g(sim-)357 1609 y(ple)f(types)h(to)f(sequences)h
(in)f(some)p 1607 1523 V 24 w FJ(F)n(am)q F4(.)357 1818
y(This)e(construction)f(also)h(generalises)h(easily)f(to)h(datatypes)f
(which)g(use)h(higher)n(-order)f(construc-)357 1968 y(tors)j(to)g
(represent)h(in\002nitely-branching)e(structures.)32
b(When)26 b(the)f(higher)n(-order)h(ar)n(guments)f(ap-)357
2117 y(pear)30 b(as)g(hypotheses)f(the)o(y)g(may)h(simply)e(be)i(\002x)
o(ed,)h(so)f(that)f(the)o(y)h(may)f(be)h(used)g(as)g(the)g(appro-)357
2267 y(priate)e(witnesses)g(for)g(higher)n(-order)h(ar)n(guments)f(in)g
(goal)g(positions.)39 b(Ho)n(we)n(v)o(er)l(,)28 b(it)g(is)g(not)g(easy)
357 2416 y(to)23 b(e)o(xploit)g(this)g(proof)g(automatically)-6
b(,)22 b(as)i(it)g(is)f(undecidable)h(whether)g(an)g
(in\002nitely-branching)357 2566 y(structure)k(contains)g(a)i(c)o
(ycle.)42 b(Suppose)29 b(we)g(ha)n(v)o(e)g(a)g(hypothetical)e(ordinal)i
FP(x)o F4(,)h(together)f(with)f(a)357 2715 y(function)c
FP(f)j FX(:)h FZ(N)-63 b(N)27 b F3(!)h FZ(or)o(d)d F4(which)g(yields)f
FP(x)g F4(for)i(input)d FX(37)p F4(.)31 b(If)25 b(we)g(ha)n(v)o(e)f(a)i
(hypothesis)601 2966 y FP(x)o F3(')q FZ(sup)21 b FP(f)357
3217 y F4(we)31 b(acquire)g(a)g(proof)g(of)g FJ(or)o(dNotPSub)26
b FP(x)h FX(\()p FZ(sup)e FP(f)p FX(\))p F4(,)32 b(which)f(e)o(xpands)f
(to)g(unco)o(v)o(er)g(a)h(proof)g(of)357 3367 y F3(8)p
FP(n)17 b FX(:)f FZ(N)-63 b(N)p FY(:)25 b FP(x)p F3(')p
FP(f)33 b F3(!)f(?)d F4(b)n(ut)e(the)g(machine)h(has)f(no)h(reliable)f
(w)o(ay)h(of)g(guessing)f(that)g FX(37)g F4(is)g(the)h(right)357
3516 y(number)33 b(to)h(e)o(xpose)f(the)h(contradiction.)57
b(Of)34 b(course,)j(if)d FU(we)g F4(kno)n(w)f(which)h(branches)g(a)g(c)
o(ycle)357 3666 y(tak)o(es,)24 b(we)h(can)g(still)f(apply)g
FJ(or)o(dCycle)j F4(by)d(hand.)357 4013 y FB(5.2.5)118
b(a)30 b(brief)h(look)f(bey)m(ond)h(constructor)e(f)m(orm)h(pr)n
(oblems)357 4290 y F4(There)23 b(is)g(nothing)f(which)h(restricts)g
(our)g(use)h(of)f(dependent)g(f)o(amilies)f(to)h(indices)g(in)g
(constructor)357 4439 y(form.)33 b(More)26 b(comple)o(x)e(indices)h
(lead)h(to)f(more)h(comple)o(x)e(uni\002cation)h(problems,)g(and)h(the)
f(gen-)357 4589 y(eral)31 b(case)h(is)e(ine)n(vitably)f(undecidable.)49
b(There)31 b(are)h(tw)o(o)e(w)o(ays)h(in)g(which)f(such)h(problems)f
(can)357 4738 y(arise,)25 b(and)f(the)o(y)g(are)i(not)e(mutually)f(e)o
(xclusi)n(v)o(e:)502 5000 y F3(\017)49 b F4(Non-constructor)n(-form)30
b(indices)g(may)h(appear)g(in)g(the)g(type)g(of)g(a)g(constructor)-5
b(.)48 b(F)o(or)31 b(e)o(x-)601 5150 y(ample,)24 b(we)h(might)e
(de\002ne)j FU(sized)h F4(binary)d(trees,)h FZ(stree)h
FX(:)i FZ(N)-63 b(N)27 b F3(!)h FI(Type)c F4(as)h(follo)n(ws:)p
825 5398 705 4 v 825 5476 a FZ(empty)j FX(:)g FZ(stree)21
b(0)1891 5362 y FP(X)27 b FX(:)h FZ(stree)21 b FP(x)120
b(Y)28 b FX(:)g FZ(stree)20 b FP(y)p 1794 5398 1224 4
v 1794 5477 a FZ(node)i FP(X)g(Y)29 b FX(:)e FZ(stree)21
b(s)p FX(\()p FZ(plus)g FP(x)h(y)p FX(\))1997 5667 y
F4(149)p eop
%%Page: 150 155
150 154 bop 502 -6 a F3(\017)49 b F4(Non-constructor)n(-form)21
b(indices)h(may)g(appear)h(in)g(the)f(type)g(of)h(an)g(ar)n(gument)f(o)
o(v)o(er)g(which)601 144 y(case)j(analysis)f(is)g(to)h(be)g(performed.)
30 b(F)o(or)25 b(e)o(xample,)f(we)h(might)e(wish)i(to)f(write)815
376 y FZ(vpre\002x)j FX(:)g F3(8)p FP(A)12 b FX(:)f FI(Type)o
FY(:)23 b F3(8)p FP(m)o FY(;)17 b FP(n)12 b FX(:)f FZ(N)-63
b(N)p FY(:)22 b F3(8)p FP(v)11 b FX(:)g FZ(v)n(ect)2390
391 y FK(A)2465 376 y FX(\()p FZ(plus)21 b FP(m)h(n)p
FX(\))p FY(:)g FZ(v)n(ect)3170 391 y FK(A)3245 376 y
FP(m)357 694 y F4(The)38 b(tractability)f(of)h(such)f(problems,)k(e)n
(v)o(en)c(by)h(hand,)j(depends)c(on)h(the)g FU(types)g
F4(of)g(the)g(non-)357 843 y(constructor)n(-form)24 b(e)o(xpressions:)
502 1161 y F3(\017)49 b F4(Man)o(y)31 b(problems)g(in)l(v)n(olving)f
(the)i(comparison)f(of)i(types)e(or)h(functions)g(are)g(simply)f(be-)
601 1310 y(yond)24 b(us.)33 b(On)25 b(the)g(one)h(hand,)f(we)h(do)f
(not)g(ha)n(v)o(e)g(theorems)g(such)g(as)g F0(con\003ict)i
F4(at)e(the)h(le)n(v)o(el)601 1459 y(of)g(types\227we)g(cannot)g
(dispro)o(v)o(e)e FZ(N)-63 b(N)p F3(')q FZ(2)-44 b(2)p
F4(.)35 b(On)26 b(the)h(other)f(hand,)g(the)g(intensionality)e(of)j
F3(')601 1609 y F4(pre)n(v)o(ents)c(us)h(from)h(solving)e(e)n(v)o(en)h
(such)h(simple)f(higher)n(-order)g(problems)g(as)815
1841 y F3(8)p FP(f)11 b FX(:)g FZ(N)-63 b(N)28 b F3(!)f
FZ(N)-63 b(N)p FY(:)22 b FX(\()p F3(8)p FP(x)12 b FX(:)f
FZ(N)-63 b(N)p FY(:)22 b FP(f)g(x)g F3(')g FZ(s)p FP(x)p
FX(\))49 b F3(!)28 b FY(:)17 b(:)g(:)601 2074 y F4(Ev)o(en)28
b(though)g(the)h(e)o(xtensional)e(beha)n(viour)i(of)g
FP(f)g F4(is)g(completely)f(determined,)h(there)h(are)601
2223 y(man)o(y)23 b(intensionally)g(distinct)g(terms)i(which)f(e)o
(xhibit)f(that)h(beha)n(viour)-5 b(.)502 2456 y F3(\017)49
b F4(Equations)30 b(within)g(datatypes)h(in)l(v)n(olving)f(de\002ned)i
(functions)e(lik)o(e)h FZ(plus)g F4(are)h(less)g(trou-)601
2605 y(blesome,)19 b(especially)g(if)h(we)g(ha)n(v)o(e)f(equipped)g
(those)g(functions)f(with)h(deri)n(v)o(ed)f(elimination)601
2755 y(rules)24 b(which)h(do)f(constructor)n(-based)g(analysis)g(of)h
(the)g(return)f(v)n(alues.)357 3072 y(Let)h(us)f(e)o(xamine)g(the)h(e)o
(xample)f(of)h FZ(vpre\002x)o F4(.)31 b(Induction)24
b(on)g FP(v)h F4(will)f(lea)n(v)o(e)h(subgoals)f(containing)357
3221 y(unsolv)o(ed)f(equational)h(problems,)f(such)i(as)g(the)f
FZ(vnil)h F4(case:)601 3539 y FX(?)p FZ(vpre\002x)960
3561 y FL(n)1035 3539 y FX(:)j F3(8)p FP(A)11 b FX(:)g
FI(Type)p FY(:)22 b F3(8)p FP(m)p FY(;)17 b FP(n)11 b
FX(:)g FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(v)12 b FX(:)f
FZ(v)n(ect)2269 3554 y FK(A)2343 3539 y FX(\()p FZ(plus)21
b FP(m)h(n)p FX(\))p FY(:)1201 3688 y FZ(0)p F3(')p FX(\()p
FZ(plus)f FP(m)h(n)p FX(\))50 b F3(!)g FZ(vnil)o F3(')q
FP(v)g F3(!)f FZ(v)n(ect)2671 3703 y FK(A)2745 3688 y
FP(m)357 4006 y F4(Case)24 b(analysis)f(on)g FP(m)g F4(will)g(get)g(us)
g(out)g(of)h(this)e(predica-)357 4155 y(ment,)f(b)n(ut)g(only)g
(because)h(we)f(kno)n(w)g(ho)n(w)g FZ(plus)f F4(w)o(orks.)357
4304 y(A)31 b(more)h(cunning)e(approach)i(is)f(to)g(address)h(the)f
(trou-)357 4454 y(blesome)d FZ(plus)h F4(directly)-6
b(,)29 b(constructing)f FZ(vpre\002x)h F4(with)357 4603
y FZ(plus)o F4(')-5 b(s)18 b(recursion)h(induction)e(principle,)j(sho)n
(wn)d(on)i(the)357 4753 y(right.)28 b(Note)22 b(that)e(the)h
FZ(plus)g F4(symbol)f(is)g(completely)g(ab-)357 4902
y(sent)k(from)h(the)f(cases.)p 2481 3896 1307 4 v 2481
5089 4 1193 v 2534 4006 a FZ(plusRecI)2534 4246 y FX(\010)k(:)g
F3(8)p FP(x)p FY(;)17 b FP(y)o FY(;)p 2929 4172 101 4
v 2929 4273 4 101 v 45 w FP(z)p 3026 4273 V 2929 4276
101 4 v 40 w FX(:)11 b FZ(N)-63 b(N)p FY(:)22 b FI(Type)2746
4788 y FX(\010)h FZ(0)f FP(y)g(y)3237 4547 y FX(\010)g
FP(x)g(y)g(z)3167 4646 y FY(:)16 b(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)
3198 4806 y FX(\010)23 b FZ(s)o FP(x)f(y)g FZ(s)p FP(z)p
2668 4871 1006 4 v 2668 4978 a F3(8)p FP(x)p FY(;)17
b FP(y)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FX(\010)h
FP(x)f(y)p 3287 4879 388 4 v 3287 5030 4 152 v 50 w FZ(plus)f
FP(x)h(y)p 3671 5030 V 3287 5033 388 4 v 3784 5089 4
1193 v 2481 5092 1307 4 v 357 5235 a F4(T)-8 b(ar)n(getting)24
b(the)h FX(\()p FZ(plus)c FP(m)g(n)q FX(\))k F4(in)f(goal)g
FZ(vpre\002x)g F4(yields)g(subgoals:)1997 5667 y(150)p
eop
%%Page: 151 156
151 155 bop 601 -6 a FX(?)p FZ(vpre\002x)960 17 y FL(z)1028
-6 y FX(:)28 b F3(8)p FP(A)11 b FX(:)g FI(Type)p FY(:)22
b F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p
FP(v)11 b FX(:)g FZ(v)n(ect)2140 9 y FK(A)2215 -6 y FP(n)p
FY(:)22 b FZ(v)n(ect)2536 9 y FK(A)2610 -6 y FZ(0)601
144 y FX(?)p FZ(vpre\002x)960 167 y FL(s)1025 144 y FX(:)28
b F3(8)p FP(A)11 b FX(:)g FI(Type)p FY(:)22 b F3(8)p
FP(m)p FY(;)17 b FP(n)p FY(;)g FP(z)11 b FX(:)g FZ(N)-63
b(N)p FY(:)1201 293 y FX(\()p F3(8)p FP(v)1344 257 y
FE(0)1378 293 y FX(:)11 b FZ(v)n(ect)1632 308 y FK(A)1707
293 y FP(z)p FY(:)22 b FZ(v)n(ect)2016 308 y FK(A)2091
293 y FP(m)o FX(\))50 b F3(!)1201 443 y(8)p FP(v)11 b
FX(:)g FZ(v)n(ect)1571 458 y FK(A)1645 443 y FZ(s)p FP(z)p
FY(:)23 b FZ(v)n(ect)1994 458 y FK(A)2068 443 y FZ(s)p
FP(m)357 910 y F4(The)i(remaining)e(indices)i(are)g(in)g(constructor)f
(form!)357 1119 y(I)40 b(dra)o(w)g(tw)o(o)g(conclusions)f(from)h(this)g
(discussion.)75 b(Firstly)-6 b(,)43 b(dependently)d(typed)f(program-)
357 1269 y(ming)32 b(with)h(non-constructor)n(-form)f(indices)h(is)g
(dif)n(\002cult\227a)g(principled)g(machine)g(treatment)357
1418 y(is)23 b(a)h(long)f(w)o(ay)g(of)n(f.)30 b(Secondly)-6
b(,)23 b(for)h(hand)g(treatments)e(of)i(such)f(problems,)g(deri)n(v)o
(ed)f(elimination)357 1567 y(rules)f(describing)f(the)i(beha)n(viour)e
(of)i(non-constructor)e(functions)h(are)h(of)f(considerable)g
(bene\002t.)1997 5667 y(151)p eop
%%Page: 152 157
152 156 bop 357 719 a F1(Chapter)51 b(6)357 1194 y(P)n(atter)m(n)d
(Matching)i(f)-5 b(or)49 b(Dependent)f(T)-15 b(ypes)357
1735 y F4(W)-8 b(e)34 b(are)h(no)n(w)f(in)g(a)g(position)e(to)i(b)n
(uild)f(tools)h(for)g(programming)f(with)g(dependent)h(datatypes.)357
1885 y(In)i(this)f(chapter)l(,)40 b(I)c(shall)g(\002rst)g(discuss)f
(the)h(interacti)n(v)o(e)f(de)n(v)o(elopment)f(of)i(programs.)65
b(Ho)n(w-)357 2034 y(e)n(v)o(er)l(,)23 b(I)h(belie)n(v)o(e)e(it)h(also)
g(important)f(to)i(consider)f(the)g(translation)f(of)i(functional)f
(programs)g(from)357 2184 y(the)k(con)l(v)o(entional)e(equational)i
(style)f(into)h(real)i(O)t F2(L)t(E)t(G)j F4(terms)27
b(based)g(on)g(the)g(elimination)f(rules)357 2333 y(primiti)n(v)o(e)c
(for)j(each)g(datatype.)357 2543 y(Why)d(should)g(we)i(be)f(interested)
f(in)h(these)g(programs?)30 b(Some)23 b(people)g(lik)o(e)g(to)g(write)g
(programs,)3751 2506 y FS(1)357 2692 y F4(and)j(ra)o(w)h(type)g(theory)
f(is)g(hard)h(to)g(write,)g(especially)f(as)h(it)f(must)g(record)h(e)o
(xplicitly)e(the)i(un\002ca-)357 2841 y(tion)d(attendant)g(to)g(the)h
(elimination)d(of)j(dependent)g(datatypes.)30 b(That)24
b(is)g(why)g(we)h(get)g(machines)357 2991 y(to)f(do)h(it.)357
3200 y(I)k(am)f(an)h(enthusiastic)e(adv)n(ocate)i(of)g(the)g(analytic)f
(style)g(of)h(programming)e(af)n(forded)i(by)f(proof)357
3350 y(editors.)37 b(F)o(or)28 b(me,)g(the)f(k)o(e)o(y)g(point)f(is)h
(that)g(the)g(search)h(for)g(programs)f(is)g(carried)h(out)f(in)g(a)g
(struc-)357 3499 y(tured)j(space)h(of)f(partial)g(objects)g
(constrained)f(to)h(mak)o(e)h(sense:)41 b(the)30 b(machine)g(performs)g
(most)357 3649 y(of)25 b(the)f(bookk)o(eeping)g(and)h(checks)g(for)g
(type)f(errors)h(locally)f(and)h(incrementally)-6 b(.)357
3858 y(Synthesising)19 b(programs)i(in)f(the)h(con)l(v)o(entional)e(w)o
(ay)j(in)l(v)n(olv)o(es)d(unconstrained)h(search)i(amongst)357
4007 y(arbitrary)29 b(sequences)g(of)g(potential)f(gibberish)g(for)h
(completed)f(objects)h(which)f(a)i(compiler)e(ei-)357
4157 y(ther)e(accepts)h(or)f(rejects.)36 b(The)27 b(incremental)f
(programming)f(af)n(forded)h(by)g(interacti)n(v)o(e)f(declare-)357
4306 y(before-use)40 b(en)l(vironments)f(common)g(in)g(the)h(ML)g
(community)e(is)i(almost)e(entirely)i(useless)357 4456
y(because)34 b(it)f(is)g(incremental)g(from)g(the)h(bottom)e(up:)48
b(it)33 b(requires)g(the)h(details)e(to)i(be)f(presented)357
4605 y(before)f(the)g(outline)f(and)h(thus)f(supports)g(only)g(the)h
(kind)f(of)h(lonely)f(obsessi)n(v)o(eness)e(that)j(gi)n(v)o(es)357
4755 y(programming)25 b(a)j(bad)f(name.)38 b(The)27 b(module)g(system)f
(of)n(fers)h(some)g(compensation,)f(at)h(a)h(coarse)357
4904 y(granularity)-6 b(.)357 5114 y(The)33 b(trouble)g(with)g(ra)o(w)h
(type)f(theory)g(is)g(not)g(that)g(it)g(is)g(hard)h(to)f(write,)j(b)n
(ut)d(that)g(it)g(is)g(hard)h(to)357 5263 y(read.)70
b(Ev)o(en)37 b(if)h(a)g(program)g(is)f(generated)i(with)e(machine)g
(help,)k(it)c(is)h(still)e(a)i(good)g(thing)e(if)p 357
5353 1373 4 v 473 5414 a FR(1)506 5444 y FQ(Others)20
b(are)g(merely)g(paid)f(to)i(do)e(it.)1997 5667 y F4(152)p
eop
%%Page: 153 158
153 157 bop 357 -6 a F4(we)27 b(can)h(represent)g(it)f(in)g(a)g(w)o(ay)
h(which)f(is)g(comprehensible)f(to)h(humans.)38 b(Sequences)28
b(of)f(tactic)357 144 y(applications)19 b(are)i(not)f(especially)g
(informati)n(v)o(e)f(and,)i(in)f(an)o(y)h(case,)g(run)g(counter)f(to)h
(the)f(demands)357 293 y(of)25 b(a)g(good)f(user)h(interf)o(ace.)357
503 y(I)37 b(hope,)k(therefore,)g(you)c(will)g(agree)h(that)f(it)g(is)g
(good)g(to)g(ha)n(v)o(e)g(a)h(high-le)n(v)o(el)e(representation)357
652 y(for)31 b(synthesised)e(proofs)h(and)h(programs)f(which)g
(nonetheless)g(e)o(xposes)f(the)i(analysis)f(both)g(by)357
802 y(which)h(it)g(operates)g(and)h(by)f(which)g(it)g(can)h(be)f
(constructed.)51 b(P)o(attern)31 b(matching)f(notation)g(has)357
951 y(been)g(with)g(us)g(for)g(three)h(decades)f(in)g(theory)g(and)h
(in)e(practice)i([Bur69,)g(McB70].)47 b(Perhaps)31 b(it)357
1101 y(is)e(because)g(I)h(ha)n(v)o(e)f(been)h(brought)e(up)h(in)g
(these)g(old)g(w)o(ays)g(that)g(I)h(am)f(so)g(slo)n(w)f(to)h(change,)i
(b)n(ut)357 1250 y(I)c(still)f(prefer)i(equational)e(presentations)g
(of)h(programs)f(to)h(this)f(ne)n(wf)o(angled)g(`pointer)h(derefer)n(-)
357 1399 y(encing')f(or)h(whate)n(v)o(er)f(it)h(is)f(the)h(young)f
(people)g(do)h(these)f(days.)37 b(One)27 b(side)f(ef)n(fect)h(of)g(a)g
(concise)357 1549 y(and)k(readable)h(notation)f(is)g(that)g(we)h(can)g
(still)e(write)h(programs)g(on)h(the)f(backs)h(of)f(quite)g(small)357
1698 y(en)l(v)o(elopes.)357 1908 y(What)j(do)g(these)h(programs)f(look)
f(lik)o(e?)60 b(Let)34 b(us)h(simplify)d(matters)i(for)h(the)f(time)g
(being,)i(and)357 2057 y(consider)24 b(only)g(solitary)g(functions:)601
2352 y FJ(f)99 b FX(:)h F3(8)906 2345 y FY(~)913 2352
y FP(x)11 b FX(:)1008 2326 y FY(~)1012 2352 y FP(S)q
FY(:)307 b FP(T)601 2473 y FJ(f)936 2466 y FY(~)949 2473
y FP(s)987 2488 y FM(1)1217 2473 y FX(=)103 b FP(t)1429
2488 y FM(1)601 2569 y F4(.)601 2602 y(.)601 2635 y(.)975
2569 y(.)975 2602 y(.)975 2635 y(.)1420 2569 y(.)1420
2602 y(.)1420 2635 y(.)601 2755 y FJ(f)932 2748 y FY(~)945
2755 y FP(s)984 2770 y FL(n)1217 2755 y FX(=)c FP(t)1426
2770 y FL(n)357 3065 y F4(Each)564 3058 y FY(~)576 3065
y FP(s)615 3080 y FL(i)664 3065 y F4(will)19 b(contain)h(some)g(`free')
i(v)n(ariables)1997 3058 y FY(~)2003 3065 y FP(y)28 b
FX(:)2137 3039 y FY(~)2136 3065 y FP(Y)2202 3080 y FL(i)2251
3065 y F4(which)20 b(are)h(really)g(uni)n(v)o(ersally)d(quanti\002ed.)
357 3214 y FJ(f)30 b F4(may)f(not)g(appear)h(in)g(an)o(y)f(of)g(the)
1602 3207 y FY(~)1615 3214 y FP(s)1654 3229 y FL(i)1682
3214 y F4(.)45 b(Both)30 b FJ(f)g F4(and)f(the)2355 3207
y FY(~)2362 3214 y FP(y)g F4(may)h(appear)g(in)f FP(t)3078
3229 y FL(i)3106 3214 y F4(.)46 b(It)29 b(is,)i(of)e(course,)357
3364 y(impossible)j(to)j(guess)f(the)1350 3338 y FY(~)1348
3364 y FP(Y)1415 3379 y FL(i)1478 3364 y F4(for)h(arbitrary)2002
3338 y FY(~)2007 3364 y FP(S)g F4(and)2263 3357 y FY(~)2276
3364 y FP(s)2314 3379 y FL(i)2343 3364 y F4(,)i(although)c(it)i(is)f
(not)g(hard)h(to)f(imagine)357 3513 y(classes)25 b(of)h(problem)f(for)i
(which)e(it)g(is)h(routine.)33 b(Let)26 b(us)g(assume)f(the)o(y)g(are)i
(also)e(supplied)g(by)g(the)357 3663 y(programmer)l(,)f(b)n(ut)g
(nonetheless)g(omit)g(them)g(informally)f(when)i(unremarkable.)357
3872 y(What)k(do)h(we)g(mean)f(by)h(such)f(a)h(program?)45
b(I)30 b(suggest)f(that)g(we)h(mean)g(to)f(determine)g(the)h(type)357
4022 y(and)20 b(the)h FU(intensional)e F4(beha)n(viour)h(of)h(the)f
(de\002ned)i(symbol)d FJ(f)p F4(.)29 b(It)21 b(is)f(not)h(enough)f
(that)g(the)h(program)357 4171 y(should)d(determine)g(for)i(each)g
(closed)f(input)1884 4164 y FY(~)1895 4171 y FP(s)27
b FX(:)2012 4145 y FY(~)2016 4171 y FP(S)20 b F4(a)f(unique)g(output)f
FP(t)p F4(:)28 b(that)19 b(is)f(merely)h(to)g(describe)357
4320 y(the)39 b(e)o(xtension)f(of)h(a)g(function\227to)f(gi)n(v)o(e)g
(equations)g(which)h(must)f(co)o(v)o(er)h(all)g(the)g(cases)g(and)357
4470 y(be)31 b(true.)48 b(The)31 b(programs)f(must)f(also)h(re\003ect)i
(a)f(deterministic)e(and)i(terminating)e(computation)357
4619 y(mechanism,)19 b(e)n(v)o(en)g(on)h(open)f(terms,)h(and)g(taking)f
(canonical)h(inputs)e(to)h(canonical)h(outputs.)28 b(That)357
4769 y(is,)e(the)h(equations)e(must)h(ha)n(v)o(e)g(computational,)f
(not)h(just)g(propositional)e(force.)37 b(The)27 b(programs)357
4918 y(must)k(decode)i(internally)f(into)f(combinations)g(of)i
(abstractions,)g(applications,)g(case)g(analysis)357
5068 y(and)i(terminating)f(recursion.)63 b(This)34 b(requirement)h(is)g
(re\003ected)i(to)e(a)h(considerable)f(e)o(xtent)g(in)357
5217 y(the)22 b(task)h(of)f(translating)g(such)g(programs)g(in)h(terms)
f(of)h(the)f(ef)n(fecti)n(v)o(e)g(computational)f(beha)n(viour)357
5367 y(primiti)n(v)o(e)h(to)k(O)t F2(L)t(E)t(G)k F4(datatypes.)1997
5667 y(153)p eop
%%Page: 154 159
154 158 bop 357 -6 a F4(A)21 b(common)e(notion)h(of)h(pattern)g
(matching)f(from)g(functional)h(programming)e(with)h(simple)g(types)357
144 y(requires)j(the)g(patterns)g(\(the)1351 137 y FY(~)1363
144 y FP(s)1402 159 y FL(i)1454 144 y F4(abo)o(v)o(e\))f(to)h(be)h(in)e
(constructor)h(form,)g(nonlinear)l(,)g(e)o(xhausti)n(v)o(e)e(and)357
293 y(disjoint.)61 b(This)34 b(is)h(not)g(suf)n(\002cient)g(to)g
(guarantee)h(the)f(intensional)f(beha)n(viour)h(required)h(here.)357
443 y(The)21 b(classic)g(countere)o(xample)g(\(due,)h(as)f(f)o(ar)i(as)
e(I)h(kno)n(w)-6 b(,)20 b(to)h(Berry\))i(is)e(the)g(three)h(juror)f
FZ(m)n(ajor)r(ity)357 592 y F4(function:)601 796 y FZ(m)n(ajor)r(ity)
100 b FX(:)g FZ(v)n(er)o(dict)28 b F3(!)100 b FZ(v)n(er)o(dict)28
b F3(!)99 b FZ(v)n(er)o(dict)29 b F3(!)219 b FZ(v)n(er)o(dict)601
916 y(m)n(ajor)r(ity)242 b(innocent)130 b(innocent)g(innocent)114
b FX(=)50 b FZ(innocent)601 1037 y(m)n(ajor)r(ity)330
b(guilty)218 b(innocent)323 b FP(z)308 b FX(=)50 b FP(z)601
1157 y FZ(m)n(ajor)r(ity)242 b(innocent)320 b FP(y)409
b FZ(guilty)202 b FX(=)50 b FP(y)601 1277 y FZ(m)n(ajor)r(ity)433
b FP(x)408 b FZ(guilty)218 b(innocent)114 b FX(=)50 b
FP(x)601 1398 y FZ(m)n(ajor)r(ity)330 b(guilty)306 b(guilty)g(guilty)
202 b FX(=)50 b FZ(guilty)357 1620 y F4(No)n(w)-6 b(,)20
b(imagine)h(you)g(are)h(in)f(a)h(lo)n(w-b)n(udget)d(remak)o(e)j(of)f
(the)h(Henry)f(F)o(onda)g(\002lm,)h(`T)-8 b(welv)o(e)21
b(Angry)357 1769 y(Men',)30 b(entitled)f(`Three)h(Mildly)e(Pee)n(v)o
(ed)h(Men',)h(and)g(your)f(task)g(is)g(to)g(\002nd)h(out)f(what)g(the)g
(ma-)357 1919 y(jority)d(v)o(erdict)h(is.)39 b(The)28
b(three)g(jurors)f(do)h(not)f(each)h(kno)n(w)f(what)g(the)h(others)f
(think,)g(so)h(the)f(only)357 2068 y(w)o(ay)k(you)g(can)g(gain)f(an)o
(y)h(information)e(is)i(to)g(ask)g(them)f(indi)n(vidually)f(for)i
(their)g(v)o(erdicts:)42 b(you)357 2218 y(cannot)24 b(ask)h(`should)f
(you)h(ha)n(v)o(e)g(the)g(casting)f(v)n(ote'.)32 b(Represent)25
b(what)g(you)g(kno)n(w)f(by)g(a)i(pattern:)357 2367 y(initially)-6
b(,)22 b(you)i(kno)n(w)g(nothing,)f(so)i(the)g(pattern)f(is)601
2616 y FP(x)e(y)f(z)357 2865 y F4(When)j(you)f(ask)h(a)g(question,)f
(of)h(the)f(\002rst)h(juror)l(,)g(say)-6 b(,)23 b(your)h(state)f(of)h
(kno)n(wledge)f(di)n(vides)f(in)i(tw)o(o)357 3014 y(possibilities)601
3263 y FZ(innocent)d FP(y)h(z)601 3413 y FZ(guilty)f
FP(y)h(z)357 3662 y F4(Based)j(on)g(this)f(choice,)g(you)h(can)g(adopt)
f(dif)n(ferent)h(strate)o(gies)e(of)i(questioning,)e(ultimately)g(gi)n
(v-)357 3811 y(ing)i(you)g(a)g(set)h(of)f(possibilities)e(from)i(each)h
(of)g(which)f(you)g(dra)o(w)g(a)h(conclusion.)32 b(Does)25
b(Berry')-5 b(s)357 3960 y(collection)31 b(of)i(patterns)f(represent)h
(a)g(set)g(of)f(such)h(possibilities,)f(arising)f(from)i(a)g
(conditional)357 4110 y(questioning)23 b(strate)o(gy?)32
b(No:)g(each)26 b(juror)g(appears)f(undeclared)h(in)f(at)h(least)f(one)
g(pattern,)h(and)f(at)357 4259 y(least)f(tw)o(o)h(jurors)f(must)g
(declare)h(in)g(order)g(to)f(determine)g(the)h(answer)-5
b(.)357 4469 y(The)33 b(follo)n(wing)e(shorter)h(and)h(intensionally)e
(realisable)i(function)f(has)g(the)h(same)g(e)o(xtensional)357
4618 y(beha)n(viour:)782 4582 y FS(2)601 4822 y FZ(m)n(ajor)r(ity)100
b FX(:)g FZ(v)n(er)o(dict)28 b F3(!)100 b FZ(v)n(er)o(dict)28
b F3(!)99 b FZ(v)n(er)o(dict)29 b F3(!)219 b FZ(v)n(er)o(dict)601
4942 y(m)n(ajor)r(ity)242 b(innocent)130 b(innocent)323
b FP(z)308 b FX(=)50 b FZ(innocent)601 5063 y(m)n(ajor)r(ity)242
b(innocent)218 b(guilty)411 b FP(z)308 b FX(=)50 b FP(z)601
5183 y FZ(m)n(ajor)r(ity)330 b(guilty)218 b(innocent)323
b FP(z)308 b FX(=)50 b FP(z)601 5303 y FZ(m)n(ajor)r(ity)330
b(guilty)306 b(guilty)411 b FP(z)308 b FX(=)50 b FZ(guilty)p
357 5393 1373 4 v 473 5454 a FR(2)506 5484 y FQ(It)21
b(also)f(has)h(an)f(adv)n(antage)e(in)i(some)g(cases)h(if)g(you)e(are)h
(the)g(third)g(juror)f(and)h(prone)e(to)j(moments)e(of)h(angst.)1997
5667 y F4(154)p eop
%%Page: 155 160
155 159 bop 357 -6 a F4(Extensional)61 b(presentations)g(of)i
(functions)e(are)j(not)e(useless:)105 b(the)o(y)62 b(are)h(merely)g
(non-)357 144 y(computational.)48 b(It)32 b(is)f(highly)f(desirable,)i
(at)g(times,)g(to)f(gi)n(v)o(e)f(such)h(e)o(xtensional)f(properties)h
(in)357 293 y(speci\002cations)25 b(of)h(functions.)33
b(The)25 b(question)g(is)g(then)h(whether)g(the)o(y)f(can)h(be)g
(transformed)f(into)357 443 y(intensional)e(programs,)h(preserving)g
(the)h(e)o(xtensional)e(requirements.)357 652 y(The)36
b(f)o(act)g(that)g(intensionally)e(realisable)i(patterns)f(arise)i
(from)e(such)h(questioning)e(strate)o(gies)357 802 y(militates)40
b(strongly)h(in)h(f)o(a)n(v)n(our)g(of)g(the)g(analytic)g(vie)n(w)g(of)
g(programming:)63 b(generating)42 b(pat-)357 951 y(terns)37
b(by)g(case)i(splitting)c(not)i(only)g(guarantees)h(their)f
(computational)f(meaningfulness,)j(b)n(ut)357 1101 y(also)24
b(gi)n(v)o(es)f(some)i(guidance)f(to)h(the)f(w)o(ay)h(we)g(think)f
(about)g(problems)g(in)g(the)h(\002rst)g(place.)3509
1064 y FS(3)357 1310 y F4(Generating)k F0(co)o(v)o(erings)h
F4(of)g(patterns)f(by)g(splitting)f(is)h(central)h(to)f(Thierry)h
(Coquand')-5 b(s)29 b(charac-)357 1459 y(terisation)j(of)h(pattern)g
(matching)f(for)h(dependent)g(types)f([Coq92],)k(as)d(implemented)e(in)
i(ALF)357 1609 y([Mag94)o(].)38 b(It)27 b(is)g(w)o(orth)g(taking)f(the)
h(time)f(to)h(re)n(vie)n(w)f(this)h(no)n(w)-6 b(,)26
b(not)h(only)f(to)h(place)g(the)g(w)o(ork)g(of)357 1758
y(this)d(chapter)h(in)g(its)f(wider)h(conte)o(xt,)f(b)n(ut)h(also)f
(because)i(it)e(is)h(in)f(his)h(meta-le)n(v)o(el)f(footsteps)f(that)i
(I)357 1908 y(ha)n(v)o(e)f(follo)n(wed)g(with)g(my)g(object-le)n(v)o
(el)f(treatment.)357 2307 y FT(6.1)142 b(patter)n(n)34
b(matching)g(in)i(ALF)357 2620 y F4(Coquand)27 b(proposes)g(to)g(admit)
f(functions)h(de\002ned)h(in)f(pattern)g(matching)g(style)f(directly)h
(to)g(the)357 2769 y(type)d(theory)f(as)i(constants)e(with)g(reduction)
h(rules)g(gi)n(v)o(en)f(by)h(the)g(equations)f(pro)o(vided)g(the)o(y)g
(sat-)357 2919 y(isfy)j(certain)g(safety)g(conditions,)f(more)h
(stringent)g(than)f(necessary)-6 b(,)27 b(b)n(ut)f(nonetheless)f(allo)n
(wing)357 3068 y(considerable)f(freedom)h(of)g(e)o(xpression.)k(F)o(or)
1017 3363 y FJ(f)100 b FX(:)g F3(8)1323 3356 y FY(~)1330
3363 y FP(x)11 b FX(:)1425 3337 y FY(~)1429 3363 y FP(S)q
FY(:)307 b FP(T)608 3497 y F3(8)656 3490 y FY(~)663 3497
y FP(y)11 b FX(:)763 3470 y FY(~)762 3497 y FP(Y)829
3512 y FM(1)868 3497 y FY(:)122 b FJ(f)1353 3490 y FY(~)1365
3497 y FP(s)1404 3512 y FM(1)1634 3497 y FX(=)103 b FP(t)1846
3512 y FM(1)1017 3593 y F4(.)1017 3626 y(.)1017 3659
y(.)1392 3593 y(.)1392 3626 y(.)1392 3659 y(.)1837 3593
y(.)1837 3626 y(.)1837 3659 y(.)601 3792 y F3(8)649 3785
y FY(~)656 3792 y FP(y)11 b FX(:)756 3766 y FY(~)755
3792 y FP(Y)821 3807 y FL(n)868 3792 y FY(:)122 b FJ(f)1349
3785 y FY(~)1362 3792 y FP(s)1400 3807 y FL(n)1634 3792
y FX(=)99 b FP(t)1842 3807 y FL(n)357 4073 y F4(he)25
b(demands)357 4390 y F0(no)g(nesting)49 b F4(:)31 b(for)25
b(each)g FJ(f)1288 4383 y FY(~)1301 4390 y FP(r)f F4(in)h(an)o(y)f
FP(t)1667 4405 y FL(i)1695 4390 y F4(,)h FJ(f)g F4(does)g(not)f(occur)h
(in)g(an)o(y)f FP(r)2716 4405 y FL(j)357 4622 y F0(guarded)i(r)n
(ecursion)50 b F4(:)30 b(for)24 b(some)g FY(j)30 b F4(and)24
b(e)n(v)o(ery)f FY(i)p F4(,)i(e)n(v)o(ery)e(recursi)n(v)o(e)g
FJ(f)2846 4615 y FY(~)2859 4622 y FP(r)g F4(in)h FP(t)3056
4637 y FL(i)3108 4622 y F4(has)g FP(r)3304 4637 y FL(j)3365
4622 y F4(guarded)g(in)601 4772 y FP(s)639 4787 y FL(ij)357
5004 y F0(co)o(v)o(ering)49 b F4(:)30 b(the)961 4997
y FY(~)974 5004 y FP(s)1013 5019 y FL(i)1066 5004 y F4(form)24
b(a)h F0(co)o(v)o(ering)h F4(of)1845 4978 y FY(~)1850
5004 y FP(S)p F4(,)f(in)f(the)h(sense)f(to)h(be)g(de\002ned)g(belo)n(w)
p 357 5093 1373 4 v 473 5154 a FR(3)506 5184 y FQ(When)g(teaching)e
(students)i(ML,)f(I)h(ha)n(v)o(e)f(so)h(frequently)e(found)g(myself)h
(asking)g(`What)h(do)f(you)g(do)g(with)h(the)357 5284
y(empty)19 b(list?)25 b(What)c(do)e(you)g(do)g(with)h
Fi(h)g FQ(cons)f Fi(t)p FQ(?')25 b(that)20 b(it)h(has)f(become)e
(something)g(of)i(a)g(mantra,)e(for)h(me,)h(if)g(not)f(for)357
5383 y(them.)1997 5667 y F4(155)p eop
%%Page: 156 161
156 160 bop 357 -6 a F4(The)32 b(de\002nition)g(of)h(co)o(v)o(ering)e
(captures)i(the)g(notion)e(of)i(successi)n(v)o(e)e(case-splitting.)53
b(W)-8 b(e)33 b(shall)357 144 y(\002rst)26 b(need)h(a)g(de\002nition)e
(of)i(such)f(a)h(split)e(or)i F0(elementary)g(co)o(v)o(ering)p
F4(\227this)f(we)g(iterate)h(to)f(yield)357 293 y(co)o(v)o(ering.)359
503 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r F4(:)35
b F0(elementary)26 b(co)o(v)o(ering)601 774 y F4(The)769
767 y FY(~)781 774 y FP(s)820 789 y FL(i)873 774 y F4(form)f(an)g
F0(elementary)h(co)o(v)o(ering)g F4(of)2210 748 y FY(~)2209
774 y FP(Y)g F4(if)f(there)g(is)g(an)g(ar)n(gument)g(position)601
924 y FY(j)30 b F4(such)25 b(that)717 1149 y F3(\017)48
b FP(s)854 1164 y FL(ij)939 1149 y F4(is)25 b(constructor)n(-headed)f
(for)h(each)h FY(i)717 1333 y F3(\017)48 b F4(for)26
b(an)o(y)g(ar)n(gument)f(sequence)1904 1326 y FY(~)1918
1333 y FP(r)g F4(with)h FP(r)2224 1348 y FL(j)2287 1333
y F4(constructor)n(-headed,)g(there)g(is)g(e)o(x-)815
1483 y(actly)f(one)g FY(i)g F4(and)f(instantiation)f(of)i(the)2194
1476 y FY(~)2202 1483 y FP(y)i FX(:)2335 1456 y FY(~)2334
1483 y FP(Y)2400 1498 y FL(i)2453 1483 y F4(which)e(mak)o(es)2988
1476 y FY(~)3000 1483 y FP(s)3039 1498 y FL(i)3117 1455
y F3(\030)3118 1487 y FX(=)3232 1476 y FY(~)3244 1483
y FP(r)357 1754 y F4(Note)36 b(that,)i(in)e(particular)l(,)j(sequences)
d(with)f(dif)n(ferent)h(constructors)f(heading)h(the)g
FY(j)6 b F4(th)36 b(ar)n(gu-)357 1903 y(ment)26 b(must)g(be)i(co)o(v)o
(ered)f(by)g(dif)n(ferent)f(patterns,)i(and)f(that)g(all)g(possible)f
(constructors)g(must)g(be)357 2053 y(co)o(v)o(ered:)i(we)23
b(ha)n(v)o(e)f(just)g(ask)o(ed)g(the)h FY(j)6 b F4(th)22
b(ar)n(gument)g(to)g(re)n(v)o(eal)g(which)g(constructor)g(is)g(at)g
(its)g(head.)359 2262 y(D)t F2(E)t(FI)t(N)t(I)t(T)t(I)t(O)t(N)r
F4(:)35 b F0(co)o(v)o(ering)717 2534 y F3(\017)48 b F4(the)25
b F0(fr)n(ee)h(patter)o(n)1464 2498 y FS(4)1520 2527
y FY(~)1527 2534 y FP(y)h FX(:)1655 2508 y FY(~)1659
2534 y FP(S)f F4(is)e(a)h(co)o(v)o(ering)f(of)2374 2508
y FY(~)2378 2534 y FP(S)717 2718 y F3(\017)48 b F4(if)887
2711 y FY(~)900 2718 y FP(s)939 2733 y FL(i)990 2718
y F4(\(o)o(v)o(er)1214 2711 y FY(~)1221 2718 y FP(y)28
b FX(:)1355 2691 y FY(~)1354 2718 y FP(Y)1420 2733 y
FL(i)1448 2718 y F4(\))c(is)f(an)h(elementary)g(co)o(v)o(ering)e(of)
2651 2691 y FY(~)2656 2718 y FP(S)i F4(and)2890 2711
y FY(~)2902 2718 y FP(r)2941 2733 y FL(ij)3026 2718 y
F4(\(o)o(v)o(er)3248 2711 y FY(~)3256 2718 y FP(z)k FX(:)3384
2691 y FY(~)3383 2718 y FP(Z)3450 2733 y FL(ij)3510 2718
y F4(\))815 2867 y(are)e(co)o(v)o(erings)d(of)i(the)1627
2841 y FY(~)1626 2867 y FP(Y)1692 2882 y FL(i)1720 2867
y F4(,)g(then)f(the)h FX([)2127 2860 y FY(~)2140 2867
y FP(r)2179 2882 y FL(ij)2239 2867 y FY(=)2281 2860 y(~)2288
2867 y FP(y)p FX(])2352 2860 y FY(~)2365 2867 y FP(s)2404
2882 y FL(i)2457 2867 y F4(also)f(form)h(a)g(co)o(v)o(ering)f(of)3404
2841 y FY(~)3409 2867 y FP(S)357 3139 y F4(Which)33 b(co)o(v)o(erings)e
(we)j(can)f(b)n(uild)f(interacti)n(v)o(ely)g(depends)g(on)h(which)g
(elementary)g(co)o(v)o(erings)357 3288 y(we)27 b(can)g(recognise)f(as)h
(such\227this)e(is)h(where)h(uni\002cation)f(comes)g(in.)36
b(Let)27 b(us)f(suppose)g(that)g(we)357 3437 y(ha)n(v)o(e)d(a)g(f)o
(amily)f(of)i(types)e FJ(F)n(am)q F4(,)h(and)h(that)e(we)i(wish)e(to)h
(form)g(an)g(elementary)g(co)o(v)o(ering)f(of)h(some)357
3587 y(telescope)593 3851 y FY(~)601 3858 y FP(y)k FX(:)734
3832 y FY(~)733 3858 y FP(Y)p FX(;)17 b FP(y)27 b FX(:)h
FJ(F)n(am)1193 3851 y FY(~)1205 3858 y FP(s)p FX(;)1280
3851 y FY(~)1288 3858 y FP(y)1337 3807 y FE(0)1388 3858
y FX(:)1444 3832 y FY(~)1443 3858 y FP(Y)1510 3787 y
FE(0)357 4130 y F4(by)c(case-splitting)f(on)i FP(y)p
F4(.)31 b FJ(F)n(am)25 b F4(has)g(constructors)828 4408
y FY(~)835 4415 y FP(x)i FX(:)971 4388 y FY(~)967 4415
y FP(X)1039 4430 y FL(i)p 611 4438 681 4 v 611 4534 a
FZ(Con)818 4549 y FL(i)861 4527 y FY(~)868 4534 y FP(x)g
FX(:)h FJ(F)n(am)1215 4513 y FY(~)1230 4534 y FP(t)1263
4549 y FL(i)357 4802 y F4(so)21 b(the)h(possible)f(cases)h(are)h(those)
e(where)i(the)1965 4795 y FY(~)1978 4802 y FP(s)f F4(unify)f(with)g
(the)2599 4780 y FY(~)2614 4802 y FP(t)2647 4817 y FL(i)2676
4802 y F4(,)h(the)g(\003e)o(xible)g(v)n(ariables)f(being)350
4944 y FY(~)357 4951 y FP(x)27 b FX(:)493 4925 y FY(~)489
4951 y FP(X)561 4966 y FL(i)589 4951 y FX(;)625 4944
y FY(~)633 4951 y FP(y)g FX(:)766 4925 y FY(~)765 4951
y FP(Y)p F4(.)357 5161 y(W)-8 b(e)21 b(apply)g(an)h(appropriate)f
(uni\002cation)g(algorithm,)f(such)h(as)h(the)f(constructor)g
(uni\002cation)g(from)357 5310 y(last)j(chapter)l(,)h(getting)f(one)g
(of)h(three)g(responses)p 357 5393 1373 4 v 473 5454
a FR(4)506 5484 y FQ(my)20 b(term)1997 5667 y F4(156)p
eop
%%Page: 157 162
157 161 bop 502 -6 a F3(\017)49 b F4(a)25 b(most)e(general)i(uni\002er)
h FY(\033)1547 9 y FL(i)1600 -6 y F4(from)f(v)n(ariables)2194
-13 y FY(~)2201 -6 y FP(x)i FX(:)2337 -32 y FY(~)2333
-6 y FP(X)2405 9 y FL(i)2433 -6 y FX(;)2469 -13 y FY(~)2477
-6 y FP(y)g FX(:)2610 -32 y FY(~)2609 -6 y FP(Y)e F4(to)g(terms)f(o)o
(v)o(er)g(some)3474 -13 y FY(~)3483 -6 y FP(z)k FX(:)3611
-32 y FY(~)3610 -6 y FP(Z)502 226 y F3(\017)49 b F4(indication)23
b(that)h(there)h(is)g(no)f(uni\002er)502 457 y F3(\017)49
b F4(f)o(ailure)24 b(due)h(to)g(ambiguity)e(or)i(getting)e(stuck)357
746 y(If)h(the)g(uni\002cation)g(is)g(conclusi)n(v)o(e)e(for)j(each)f
(constructor)g(case,)h(then)f(our)g(elementary)g(co)o(v)o(ering)357
896 y(has)g(one)h(pattern)g(for)g(each)g(mgu)f FY(\033)1590
911 y FL(i)1619 896 y F4(,)h(gi)n(v)o(en)e(by)601 1185
y FY(\033)656 1200 y FL(i)677 1178 y FY(~)684 1185 y
FP(y)p FX(;)17 b(\()p FZ(Con)1023 1200 y FL(i)1073 1185
y FY(\033)1128 1200 y FL(i)1149 1178 y FY(~)1157 1185
y FP(x)o FX(\);)1280 1178 y FY(~)1288 1185 y FP(y)1338
1133 y FE(0)1506 1185 y F4(\(o)o(v)o(er)1729 1178 y FY(~)1738
1185 y FP(z)28 b FX(:)1866 1159 y FY(~)1865 1185 y FP(Z)p
FX(;)1967 1178 y FY(~)1975 1185 y FP(y)2025 1133 y FE(0)2076
1185 y FX(:)g FY(\033)2186 1200 y FL(i)2215 1159 y FY(~)2214
1185 y FP(Y)2281 1114 y FE(0)2304 1185 y F4(\))357 1474
y(W)-8 b(e)28 b(can)h(no)n(w)f(b)n(uild)f(co)o(v)o(erings)g(by)h
(starting)f(with)g(the)i(free)g(pattern)f(and)g(repeatedly)h(applying)
357 1623 y(case-splitting,)19 b(as)i(allo)n(wed)e(by)h(the)g
(uni\002cation.)29 b(Note)20 b(that)g(uni\002cation)f(is)h(a)h(meta-le)
n(v)o(el)e(notion)357 1773 y(here:)32 b(it)25 b(must)f(be)i(sound)e
(with)h(respect)h(to)f(the)g(computational)e(equality)-6
b(.)31 b(Apart)26 b(from)f(that,)g(we)357 1922 y(can)30
b(mak)o(e)f(it)g(as)h(cle)n(v)o(er)f(or)h(as)g(stupid)e(as)i(we)g(lik)o
(e.)45 b(Constructor)29 b(uni\002cation)g(is)g(already)h(quite)357
2072 y(generous\227this)23 b(is)h(essentially)g(what)g(the)h
(implementation)d(of)j(ALF)g(pro)o(vides.)357 2281 y(Programming)k
(then)g(proceeds)h(in)f(a)h(type-directed)g(w)o(ay)-6
b(,)30 b(b)n(uilding)f(a)h(co)o(v)o(ering)e(for)i(the)g(ar)n(gu-)357
2431 y(ment)18 b(telescope)i(of)f(a)h(function,)g(then)f(\002lling)f
(in)i(the)f(right-hand)f(sides)h(by)g(re\002nement,)i(allo)n(wing)357
2580 y(recursi)n(v)o(e)j(calls,)g(pro)o(vided)g(the)g(appropriate)h
(termination)e(check)j(is)e(satis\002ed.)3163 2544 y
FS(5)357 2789 y F4(It)i(is)h(not)f(hard)g(to)h(see)g(that)f(all)g(the)h
FY(\023)p F4(-reductions)f(so)g(f)o(ar)i(presented)e(in)h(this)e
(thesis)h(f)o(all)g(into)g(this)357 2939 y(class)k(of)g(de\002nable)h
(function)e(\(pro)o(vided)g(we)i(mak)o(e)f(the)g(appropriate)g
(straightforw)o(ard)g(e)o(xten-)357 3088 y(sion)k(for)i(mutually)d
(de\002ned)j(functions)e(on)h(mutually)f(de\002ned)h(datatypes\):)51
b(the)35 b(elimination)357 3238 y(rules)26 b(for)i(datatypes)e(ha)n(v)o
(e)g(been)h(constructed)g(to)f(yield)g(elementary)h(co)o(v)o(erings)e
(of)i(them,)g(with)357 3387 y(one-step)h(guarded)h(recursion.)43
b(In)29 b(f)o(act,)h(we)f(do)g(not)f(e)n(v)o(en)g(need)h(the)g
(uni\002cation)f(algorithm)g(to)357 3537 y(handle)h(con\003ict,)j
(injecti)n(vity)27 b(or)j(c)o(ycles:)41 b(coalescence)31
b(and)f(substitution)d(are)k(enough)e(for)h(the)357 3686
y(datatype)24 b FY(\023)p F4(-reductions,)h(and)f(we)h(must)f(add)h
(identity)e(if)i(we)g(wish)f(to)h(support)e FZ(eqElim)q
F4(.)357 3896 y(What)33 b(about)g(the)g(other)h(w)o(ay)f(around?)57
b(If)34 b(we)f(\002x)h(on)f(constructor)g(form)g(uni\002cation)g(as)h
(that)357 4045 y(which)k(informs)g(the)g(case-splitting)g(process,)k
(then)c(we)h(may)f(follo)n(w)g(this)g(treatment)g(at)g(the)357
4194 y(object-le)n(v)o(el.)357 4593 y FT(6.2)142 b(interacti)o(v)o(e)33
b(patter)n(n)h(matching)f(in)40 b F5(O)8 b FF(L)g(E)g(G)357
4906 y F4(This)28 b(section)h(contains)g(the)g(main)g(metatheoretic)g
(result)g(of)g(this)g(thesis:)39 b(it)29 b(pro)o(v)o(es)f(that)h(func-)
357 5055 y(tions)j(which)h(can)h(be)g(manuf)o(actured)g(interacti)n(v)o
(ely)d(in)j(ALF)g(can)g(be)f(manuf)o(actured)h(interac-)357
5205 y(ti)n(v)o(ely)27 b(in)k(O)t F2(L)t(E)t(G)r F4(.)48
b(Furthermore,)30 b(the)g(simulation)d(is)i(at)g(an)h(intensional)e(le)
n(v)o(el\227the)f(functions)p 357 5293 1373 4 v 473 5355
a FR(5)506 5385 y FQ(In)g(the)h(original)e(ALF)i(implementation,)f
(this)h(w)o(as)g(left)g(as)g(a)g(moral)f(obligation,)g(b)n(ut)h
(Coquand')-5 b(s)26 b(criterion)357 5484 y(abo)o(v)o(e)18
b(is)j(not)f(hard)f(to)i(enforce.)1997 5667 y F4(157)p
eop
%%Page: 158 163
158 162 bop 357 -6 a F4(we)25 b(manuf)o(acture)g(from)i(O)t
F2(L)t(E)t(G)j F4(elimination)23 b(rules)i(ha)n(v)o(e)g(the)g(same)g
(computational)e(beha)n(viour)357 144 y(as)i(those)f(de\002ned)h
(directly)f(in)h(ALF)-8 b(.)357 353 y(Before)21 b(we)f(can)g(progress)g
(to)g(the)f(theorem,)i(we)f(must)f(e)o(xamine)g(computation)f(with)h
(elimination)357 503 y(rules)24 b(in)h(more)f(detail.)357
858 y FB(6.2.1)118 b(computational)31 b(aspects)e(of)g(elimination)357
1135 y F4(Suppose)24 b(a)h(function)f FJ(f)i F4(can)f(be)g(gi)n(v)o(en)
e(in)h(terms)h(of)g(another)f FJ(g)h F4(as)g(follo)n(ws:)601
1427 y FJ(f)50 b FX(=)f FY(\025)857 1420 y(~)864 1427
y FP(x)11 b FX(:)967 1401 y FY(~)963 1427 y FP(X)p FY(:)22
b FJ(g)1161 1420 y FY(~)1174 1427 y FP(s)357 1720 y F4(What)i(can)i(we)
f(infer)g(about)f(the)h(computational)e(beha)n(viour)h(of)h
FJ(f)g F4(from)g(that)f(of)h FJ(g)p F4(?)357 1929 y(This)34
b(is)h(a)g(v)o(ery)g(common)f(situation.)60 b(If)36 b
FJ(g)f F4(is)g(an)g(elimination)f(rule)h(and)g(we)g(construct)g
FJ(f)h F4(by)357 2078 y(eliminating)19 b(some)h(of)i(its)e(ar)n
(guments)h(with)f FJ(g)p F4(,)i(this)e(is)h(e)o(xactly)g(the)g
(structure)g(which)f FJ(f)i F4(will)e(tak)o(e.)357 2228
y(If)26 b FJ(g)g F4(has)g(a)g(reduction)f(beha)n(viour)h(gi)n(v)o(en)e
(by)i FY(\023)p F4(-reductions)f(or)h(a)g(pattern)g(matching)f
(function)g(in)357 2377 y(the)35 b(Coquand)g(style,)i(we)f(may)f(be)g
(able)g(to)g(infer)h(the)f(corresponding)f(beha)n(viour)h(for)h
FJ(f)p F4(.)62 b(F)o(or)357 2527 y(e)o(xample,)37 b(we)f(ha)n(v)o(e)g
(already)g(seen)g(ho)n(w)f(to)h(construct)f FZ(N)-63
b(NCase)35 b F4(from)h FZ(N)-63 b(NElim)36 b F4(in)g(this)f(w)o(ay:)357
2676 y(ho)n(w)24 b(does)g FZ(N)-63 b(NCase)24 b F4(reduce)h(when)g(it)f
(is)g(fed)h(constructor)n(-headed)g(numbers?)30 b(It)25
b(is)f(not)g(hard)h(to)357 2826 y(check)g(that)f(it)h(inherits)e(the)i
(appropriate)g(beha)n(viour)f(from)g FZ(N)-63 b(NElim)q
F4(:)601 3143 y FZ(N)g(NCase)21 b FX(\010)i FY(\036)1111
3158 y Fq(0)1182 3143 y FY(\036)1240 3158 y Fq(s)1300
3143 y FZ(0)1405 3115 y F3(\030)1406 3147 y FX(=)1533
3143 y FY(\036)1591 3158 y Fq(0)601 3292 y FZ(N)-63 b(NCase)21
b FX(\010)i FY(\036)1111 3307 y Fq(0)1182 3292 y FY(\036)1240
3307 y Fq(s)1300 3292 y FZ(s)p FP(n)1444 3265 y F3(\030)1445
3297 y FX(=)1572 3292 y FY(\036)1630 3307 y Fq(s)1690
3292 y FP(n)357 3610 y F4(Similarly)-6 b(,)27 b(if)i(we)f(w)o(ant)h(to)
f(implement)e(the)i(pattern)h(matching)e(v)o(ersion)g(of)i
FZ(plus)e F4(by)h(means)g(of)357 3759 y FZ(N)-63 b(NElim)p
F4(,)34 b(we)f(need)f(to)g(be)g(sure)h(that)e(the)i(de\002ning)e
(equations)h(are)h(intensionally)d(reco)o(v)o(erable.)357
3909 y(In)24 b(particular)l(,)h(we)g(need)f(to)h(sho)n(w)e(that)h(an)o
(y)g(recursi)n(v)o(e)g(calls)h(to)f FZ(N)-63 b(NElim)25
b F4(in)f(the)h(implementation)357 4058 y(can)34 b(be)f(replaced)i(by)e
(recursi)n(v)o(e)g(calls)g(to)g FZ(plus)g F4(con)l(v)o(ertible)g(to)g
(them.)56 b(W)-8 b(e)34 b(can)g(achie)n(v)o(e)f(this)357
4208 y(by)27 b(a)h(process)f(of)h(unfold/fold)e(transformation)g(on)h
(functional)g(programs)g(which)g(respects)g(the)357 4357
y(computational)c(equality)h(of)i(O)t F2(L)t(E)t(G)r
F4(.)357 4566 y(Let)e(us)h(consider)f(unfolding)g(\002rst.)357
4776 y(Suppose)g FJ(g)h F4(is)g(gi)n(v)o(en)e(by)h(a)i(pattern)e
(matching)g(program)601 5068 y FJ(g)j FX(:)h F3(8)798
5061 y FY(~)805 5068 y FP(y)11 b FX(:)900 5042 y FY(~)904
5068 y FP(S)q FY(:)22 b FP(T)601 5218 y FJ(g)677 5211
y FY(~)690 5218 y FP(s)729 5233 y FL(i)806 5218 y FX(=)50
b FP(t)965 5233 y FL(i)1138 5218 y F4(\(o)o(v)o(er)25
b(pattern)f(v)n(ariables)2047 5211 y FY(~)2054 5218 y
FP(y)k FX(:)2188 5192 y FY(~)2186 5218 y FP(Y)2253 5233
y FL(i)2281 5218 y F4(\))1997 5667 y(158)p eop
%%Page: 159 164
159 163 bop 357 -6 a F4(From)24 b(the)h(de\002nition)f(of)h
FJ(f)p F4(,)g(we)g(can)g(infer)g(the)g(lengthened)f(equation)601
256 y FJ(f)647 249 y FY(~)654 256 y FP(x)754 228 y F3(\030)754
260 y FX(=)881 256 y FJ(g)957 249 y FY(~)970 256 y FP(s)145
b F4(\(an)o(y)1347 249 y FY(~)1354 256 y FP(x)28 b FX(:)1490
229 y FY(~)1486 256 y FP(X)p F4(\))357 517 y(F)o(or)c(each)712
510 y FY(~)726 517 y FP(s)765 532 y FL(i)793 517 y F4(,)h(there)g(are)g
(tw)o(o)g(possibilities)502 778 y F3(\017)588 771 y FY(~)601
778 y FP(s)f F4(is)h(at)f(least)h(as)g(long)f(as)1465
771 y FY(~)1478 778 y FP(s)1517 793 y FL(i)502 1000 y
F3(\017)588 993 y FY(~)601 1000 y FP(s)g F4(is)h(shorter)f(than)1241
993 y FY(~)1254 1000 y FP(s)1292 1015 y FL(i)357 1261
y F4(In)29 b(the)g(former)h(case,)h(we)e(may)g(split)1682
1254 y FY(~)1695 1261 y FP(s)g F4(as)1863 1254 y FY(~)1876
1261 y FP(r)o FX(;)1945 1254 y FY(~)1958 1261 y FP(r)1997
1210 y FE(0)2020 1261 y F4(,)i(so)e(that)2360 1254 y
FY(~)2372 1261 y FP(r)p FY(;)2442 1254 y(~)2455 1261
y FP(s)2494 1276 y FL(i)2558 1261 y FX(:)2616 1235 y
FY(~)2621 1261 y FP(S)p F4(.)44 b(If)30 b FY(\033)k F4(is)28
b(a)i(substitution)d(from)350 1404 y FY(~)357 1411 y
FP(x)p FX(;)443 1404 y FY(~)451 1411 y FP(y)d F4(to)g(terms)h(o)o(v)o
(er)1064 1404 y FY(~)1073 1411 y FP(z)i FX(:)1200 1384
y FY(~)1199 1411 y FP(Z)f F4(which)e(uni\002es)1837 1404
y FY(~)1850 1411 y FP(s)1888 1426 y FL(i)1941 1411 y
F4(and)2097 1404 y FY(~)2110 1411 y FP(r)p F4(,)h(then)f(we)h(ha)n(v)o
(e)601 1672 y FJ(f)d FY(\033)705 1665 y(~)713 1672 y
FP(x)813 1644 y F3(\030)813 1676 y FX(=)940 1672 y FJ(g)g
FY(\033)t FX(\()1113 1665 y FY(~)1126 1672 y FP(r)p FX(;)1196
1665 y FY(~)1209 1672 y FP(r)1247 1620 y FE(0)1271 1672
y FX(\))49 b F3(\021)i FJ(g)22 b FY(\033)1621 1665 y(~)1634
1672 y FP(s)1673 1687 y FL(i)1701 1672 y FX(;)17 b FY(\033)1791
1665 y(~)1804 1672 y FP(r)1842 1620 y FE(0)1915 1644
y F3(\030)1916 1676 y FX(=)2043 1672 y(\()p FY(\033)t
FP(t)2173 1687 y FL(i)2201 1672 y FX(\))22 b FY(\033)2307
1665 y(~)2320 1672 y FP(r)2359 1620 y FE(0)2527 1672
y F4(\(o)o(v)o(er)2750 1665 y FY(~)2759 1672 y FP(z)28
b FX(:)2887 1645 y FY(~)2886 1672 y FP(Z)p F4(\))357
1933 y(In)d(the)g(latter)f(case,)i(it)e(is)1222 1926
y FY(~)1235 1933 y FP(s)1274 1948 y FL(i)1327 1933 y
F4(which)h(we)g(split)f(as)2029 1926 y FY(~)2042 1933
y FP(r)o FX(;)2111 1926 y FY(~)2124 1933 y FP(r)2163
1881 y FE(0)2211 1933 y F4(so)h(that)2487 1926 y FY(~)2500
1933 y FP(s)o FY(;)2569 1926 y(~)2582 1933 y FP(r)j FX(:)2705
1907 y FY(~)2704 1933 y FP(R)p F4(,)d(where)3090 1907
y FY(~)3089 1933 y FP(R)g F4(is)g(a)g(pre\002x)h(of)3703
1907 y FY(~)3707 1933 y FP(S)p F4(.)357 2082 y(If)f FY(\033)k
F4(is)24 b(a)h(unifying)f(substitution,)e(then)i(we)h(ha)n(v)o(e)601
2343 y FJ(f)d FY(\033)705 2336 y(~)713 2343 y FP(x)813
2316 y F3(\030)813 2348 y FX(=)940 2343 y FJ(g)g FY(\033)1075
2336 y(~)1088 2343 y FP(s)50 b F3(\021)g FJ(g)22 b FY(\033)1439
2336 y(~)1452 2343 y FP(r)357 2605 y F4(and)i(therefore)601
2866 y FJ(f)e FY(\033)705 2859 y(~)713 2866 y FP(x)p
FX(;)17 b FY(\033)853 2859 y(~)866 2866 y FP(r)904 2814
y FE(0)977 2838 y F3(\030)978 2870 y FX(=)1105 2866 y
FJ(g)22 b FY(\033)t FX(\()1278 2859 y FY(~)1291 2866
y FP(r)p FX(;)1361 2859 y FY(~)1374 2866 y FP(r)1412
2814 y FE(0)1435 2866 y FX(\))50 b F3(\021)g FJ(g)23
b FY(\033)1786 2859 y(~)1799 2866 y FP(s)1837 2881 y
FL(i)1915 2838 y F3(\030)1916 2870 y FX(=)2043 2866 y
FY(\033)t FP(t)2135 2881 y FL(i)357 3127 y F4(Note)31
b(that)g(we)g(may)g(not,)i(in)d(general,)k(pad)d(out)g(the)g
(application)f(of)h FJ(f)h F4(before)g(the)f(uni\002cation,)357
3276 y(because)25 b FJ(f)743 3269 y FY(~)750 3276 y FP(x)g
F4(may)g(not)f(ha)n(v)o(e)g(functional)g(type)h(until)e(the)2356
3269 y FY(~)2363 3276 y FP(x)i F4(ha)n(v)o(e)f(been)h(instantiated.)357
3486 y(F)o(olding)e(is)h(more)h(straightforw)o(ard.)30
b(If)25 b(we)g(kno)n(w)f(that)601 3747 y FJ(f)647 3740
y FY(~)654 3747 y FP(x)754 3719 y F3(\030)754 3751 y
FX(=)881 3747 y FP(r)145 b F4(where)1326 3740 y FY(~)1333
3747 y FP(x)25 b F4(is)f(the)h(free)g(pattern,)g(and)601
3933 y FJ(f)641 3926 y FY(~)654 3933 y FP(s)743 3905
y F3(\030)743 3937 y FX(=)870 3933 y FP(t)p FX([)p FY(\033)t
FP(r)p FX(])145 b F4(\(o)o(v)o(er)1425 3926 y FY(~)1432
3933 y FP(y)28 b FX(:)1565 3906 y FY(~)1564 3933 y FP(Y)q
F4(\))357 4194 y(then)601 4455 y FJ(f)641 4448 y FY(~)654
4455 y FP(s)743 4427 y F3(\030)743 4459 y FX(=)870 4455
y FP(t)p FX([)p FJ(f)23 b FY(\033)1035 4448 y(~)1043
4455 y FP(x)o FX(])145 b F4(\(o)o(v)o(er)1489 4448 y
FY(~)1497 4455 y FP(y)27 b FX(:)1630 4429 y FY(~)1629
4455 y FP(Y)p F4(\))357 4716 y(I)36 b(ha)n(v)o(e)f(not)h(e)o(xplained)e
(where)j(these)e(substitutions)e FY(\033)40 b F4(come)c(from,)2857
4680 y FS(6)2932 4716 y F4(b)n(ut)g(I)g(do)f(not)g(ha)n(v)o(e)h(to:)357
4865 y(unfolding)22 b(and)i(folding)f(are)i(a)f(pair)h(of)f(techniques)
f(by)h(which)f(we)i(can)f(deri)n(v)o(e)f(ne)n(w)h(intensional)357
5015 y(equations)29 b(from)h(old)g(ones.)47 b(I)31 b(do)f(not)g
(propose)g(to)g(use)h(them)e(to)h(construct)g(pattern)g(matching)357
5164 y(programs,)21 b(b)n(ut)g(rather)h(to)f(con\002rm)g(their)h
(intensional)d(status.)29 b(F)o(or)22 b(e)o(xample,)f(the)g(program)g
FZ(plus)357 5314 y F4(may)j(be)h(written)f(in)h(pattern)f(matching)g
(notation)p 357 5393 1373 4 v 473 5454 a FR(6)506 5484
y FQ(Perhaps)c(you)f(can)h(guess.)1997 5667 y F4(159)p
eop
%%Page: 160 165
160 164 bop 601 -21 a FZ(plus)132 b(0)99 b FP(y)h FX(=)147
b FP(y)601 100 y FZ(plus)98 b(s)p FP(x)h(y)h FX(=)147
b FZ(s)p FX(\()p FZ(plus)21 b FP(x)h(y)p FX(\))357 380
y F4(This)g(quite)h(clearly)g(f)o(alls)g(within)f(Coquand')-5
b(s)22 b(class)h(of)g(de\002nable)h(functions.)29 b(W)-8
b(e)23 b(ha)n(v)o(e)g(already)357 529 y(seen)i FZ(plus)f
F4(de\002ned)h(some)n(what)e(less)i(perspicuously)e(in)j(O)t
F2(L)t(E)t(G)r F4(:)601 811 y FZ(plus)146 b FX(=)i FZ(N)-63
b(NElim)100 b FX(\()p FY(\025)p FP(x)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FZ(N)-63 b(N)28 b F3(!)f FZ(N)-63 b(N)p
FX(\))1530 932 y(\()p FY(\025)p FP(y)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FP(y)p FX(\))1530 1052 y(\()p FY(\025)p
FP(x)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b(\025)p FZ(plus)2102
1075 y FL(n)2160 1052 y FX(:)11 b FZ(N)-63 b(N)28 b F3(!)f
FZ(N)-63 b(N)p FY(:)22 b(\025)p FP(y)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FZ(s)p FX(\()p FZ(plus)3126 1075 y FL(n)3195
1052 y FP(y)p FX(\)\))357 1332 y F4(W)-8 b(e)38 b(can)g(check)g(that)f
(the)g(pattern)h(matching)e(equations)h(hold)g(intensionally)e(for)j
(the)i(O)t F2(L)t(E)t(G)357 1482 y F4(de\002nition.)29
b(First)c(unfolding)e(with)h(respect)i(to)e(each)h FY(\023)p
F4(-reduction)g(of)g FZ(N)-63 b(NElim)q F4(:)601 1764
y FZ(plus)132 b(0)99 b FX(=)148 b FY(\025)p FP(y)11 b
FX(:)g FZ(N)-63 b(N)p FY(:)22 b FP(y)601 1884 y FZ(plus)98
b(s)p FP(x)h FX(=)148 b FY(\025)p FP(y)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FZ(s)p FX(\()p FZ(N)-63 b(NElim)17 b
FY(:)g(:)g(:)f FP(x)22 b(y)p FX(\))357 2165 y F4(F)o(olding)h(with)h
(respect)h(to)g(the)h(O)t F2(L)t(E)t(G)k F4(de\002nition:)601
2447 y FZ(plus)132 b(0)99 b FX(=)148 b FY(\025)p FP(y)11
b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FP(y)601 2567 y FZ(plus)98
b(s)p FP(x)h FX(=)148 b FY(\025)p FP(y)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FZ(s)p FX(\()p FZ(plus)f FP(x)h(y)p FX(\))357
2847 y F4(Lengthening:)601 3129 y FZ(plus)132 b(0)99
b FP(y)h FX(=)147 b FP(y)601 3250 y FZ(plus)98 b(s)p
FP(x)h(y)h FX(=)147 b FZ(s)p FX(\()p FZ(plus)21 b FP(x)h(y)p
FX(\))357 3530 y F4(W)-8 b(e)25 b(ha)n(v)o(e)f(check)o(ed)i(our)e
(implementation)f(of)i(the)f(pattern)h(matching)f(program!)357
3739 y(In)k(f)o(act,)g(we)h(can)f(use)f(lengthening,)g(unfolding)g(and)
g(folding)g(to)h(check)g(all)f(the)h(dervi)n(v)o(ed)e(com-)357
3889 y(putation)19 b(la)o(ws)h(in)g(this)g(thesis,)h(and)f(we)h(shall)f
(use)h(them)f(in)h(particular)f(to)h(ensure)f(the)h(intensional)357
4038 y(v)n(alidity)i(of)h(the)h(pattern)g(matching)e(programs)i(we)g
(shall)f(shortly)f(construct.)357 4248 y(Of)28 b(particular)g(interest)
f(is)h(the)f(computational)f(ef)n(fect)j(of)f(case)g(analysis)f(follo)n
(wed)g(by)h(uni\002ca-)357 4397 y(tion.)357 4607 y(Suppose)c(we)h(f)o
(ace)h(the)f(goal)p 7 setlinewidth np 655 4835 25 135.00
315.00 arc st 7 setlinewidth np 691 4817 18 180.00 360.00
arc st 7 setlinewidth np 745 4817 35 180.00 360.00 arc
st 7 setlinewidth np 789 4844 28 251.56 341.56 arc st
7 setlinewidth np 816 4862 27 270.00 450.00 arc st 7
setlinewidth np 780 4888 35 360.00 540.00 arc st 7 setlinewidth
np 727 4888 18 360.00 540.00 arc st 7 setlinewidth np
682 4888 27 360.00 540.00 arc st 7 setlinewidth np 647
4870 19 63.43 243.43 arc st 601 5060 a FX(?)p FJ(f)p
FX(:)d F3(8)775 5053 y FY(~)782 5060 y FP(x)11 b FX(:)877
5033 y FY(~)881 5060 y FP(S)q FY(:)22 b FP(T)357 5325
y F4(where)j FP(S)680 5340 y FL(i)733 5325 y F4(is)g(some)f
FJ(F)n(am)1283 5318 y FY(~)1290 5325 y FP(p)p F4(,)h(with)f(the)1731
5318 y FY(~)1738 5325 y FP(p)h F4(in)f(constructor)h(form.)30
b(Let)25 b FJ(F)n(am)g F4(ha)n(v)o(e)g(constructors)1997
5667 y(160)p eop
%%Page: 161 166
161 165 bop 840 15 a FY(~)850 22 y FP(z)28 b FX(:)978
-4 y FY(~)977 22 y FP(Z)1043 37 y FL(j)p 611 58 709 4
v 611 140 a FZ(Con)818 155 y FL(j)866 133 y FY(~)876
140 y FP(z)g FX(:)g FJ(F)n(am)1226 133 y FY(~)1233 140
y FP(p)1283 171 y FL(j)357 440 y F4(Eliminating)22 b
FP(x)902 455 y FL(i)955 440 y F4(by)j FJ(F)n(amCase)g
F4(yields,)f(in)g(general:)p 7 setlinewidth np 655 668
25 135.00 315.00 arc st 7 setlinewidth np 691 650 18
180.00 360.00 arc st 7 setlinewidth np 745 650 35 180.00
360.00 arc st 7 setlinewidth np 789 677 28 251.56 341.56
arc st 7 setlinewidth np 816 695 27 270.00 450.00 arc
st 7 setlinewidth np 780 722 35 360.00 540.00 arc st
7 setlinewidth np 727 722 18 360.00 540.00 arc st 7 setlinewidth
np 682 722 27 360.00 540.00 arc st 7 setlinewidth np
647 704 19 63.43 243.43 arc st 620 890 a FX(!\010=)e
FY(\025)865 883 y(~)872 890 y FP(y)p FX(:)p 971 804 208
4 v 22 w FJ(F)n(am)817 1023 y F3(8)865 1016 y FY(~)872
1023 y FP(x)p FX(:)967 997 y FY(~)971 1023 y FP(S)817
1144 y F3(8)859 1137 y FY(~)872 1144 y FP(e)11 b FX(:)964
1137 y FY(~)971 1144 y FP(y)22 b F3(')1135 1137 y FY(~)1143
1144 y FP(p)o FX(;)17 b FP(x)1286 1159 y FL(i)872 1264
y FP(T)601 1360 y F4(.)601 1393 y(.)601 1426 y(.)601
1560 y FX(?)p FJ(f)678 1575 y FL(j)741 1560 y FX(:)47
b F3(8)861 1553 y FY(~)870 1560 y FP(z)6 b FX(:)971 1534
y FY(~)969 1560 y FP(Z)1036 1575 y FL(j)815 1693 y F3(8)863
1686 y FY(~)870 1693 y FP(x)p FX(:)965 1667 y FY(~)969
1693 y FP(S)815 1813 y F3(8)858 1806 y FY(~)870 1813
y FP(e)11 b FX(:)962 1806 y FY(~)969 1813 y FP(p)1019
1845 y FL(j)1056 1813 y FX(;)17 b(\()p FZ(Con)1344 1828
y FL(j)1393 1806 y FY(~)1403 1813 y FP(z)p FX(\))22 b
F3(')1600 1806 y FY(~)1607 1813 y FP(p)p FX(;)17 b FP(x)1750
1828 y FL(i)870 1942 y FP(T)601 2038 y F4(.)601 2072
y(.)601 2105 y(.)620 2238 y FX(!)p FJ(f)39 b FX(=)22
b FY(\025)865 2231 y(~)872 2238 y FP(x)p FX(:)967 2212
y FY(~)971 2238 y FP(S)872 2358 y FJ(F)n(amCase)g FX(\010)40
b FY(:)17 b(:)g(:)f FJ(f)1626 2373 y FL(j)1679 2358 y
FY(:)h(:)g(:)1825 2351 y(~)1832 2358 y FP(p)p FX(;)g
FP(x)1976 2373 y FL(i)2026 2358 y FX(\()p FZ(re\003)2222
2351 y FY(~)2229 2358 y FP(p)p FX(\);)g(\()p FZ(re\003)k
FP(x)2613 2373 y FL(i)2641 2358 y FX(\))357 2620 y F4(No)n(w)32
b(let)g(us)g(apply)g(the)h(uni\002cation)e(algorithm)g(to)i
FJ(f)2263 2635 y FL(j)2299 2620 y F4(.)55 b(Either)32
b(there)g(is)h(no)f(uni\002er)l(,)j(in)d(which)357 2770
y(case)23 b(we)g(ha)n(v)o(e)g(no)f(need)i(of)f(a)g(computational)e(e)o
(xplanation,)g(or)i(there)h(is)e(a)h(most)f(general)h(uni\002er)357
2919 y FY(\033)412 2934 y FL(j)449 2919 y F4(.)30 b(In)25
b(this)f(case,)h(the)g(ne)n(w)g(subgoal)e(looks)h(lik)o(e)p
7 setlinewidth np 655 3178 25 135.00 315.00 arc st 7
setlinewidth np 691 3161 18 180.00 360.00 arc st 7 setlinewidth
np 745 3161 35 180.00 360.00 arc st 7 setlinewidth np
789 3187 28 251.56 341.56 arc st 7 setlinewidth np 816
3205 27 270.00 450.00 arc st 7 setlinewidth np 780 3232
35 360.00 540.00 arc st 7 setlinewidth np 727 3232 18
360.00 540.00 arc st 7 setlinewidth np 682 3232 27 360.00
540.00 arc st 7 setlinewidth np 647 3214 19 63.43 243.43
arc st 601 3403 a FX(?)p FJ(f)678 3355 y FE(0)678 3428
y FL(j)714 3403 y FX(:)f F3(8)812 3396 y FY(~)819 3403
y FP(y)p FX(:)919 3377 y FY(~)918 3403 y FP(Y)985 3418
y FL(j)819 3524 y FY(\033)874 3539 y FL(j)911 3524 y
FP(T)357 3810 y F4(Furthermore,)31 b(ha)n(ving)f(found)f
FY(\033)1528 3825 y FL(j)1565 3810 y F4(,)j(we)e(may)g(also)g(unfold)f
(the)h(de\002nition)f(of)h FJ(f)h F4(with)e(respect)i(to)357
3960 y FJ(F)n(amCase)p F4(,)25 b(disco)o(v)o(ering)e(that)h(for)h(all)
1786 3953 y FY(~)1793 3960 y FP(y)601 4223 y FJ(f)d FY(\033)709
4238 y FL(j)739 4216 y FY(~)746 4223 y FP(x)846 4195
y F3(\030)846 4227 y FX(=)945 4223 y FJ(f)976 4238 y
FL(j)1035 4223 y FY(\033)1090 4238 y FL(j)1117 4216 y
FY(~)1127 4223 y FP(z)p FX(;)17 b FY(\033)1270 4238 y
FL(j)1300 4216 y FY(~)1307 4223 y FP(x)p FX(;)g(\()p
FZ(re\003)k FY(\033)1658 4238 y FL(j)1695 4223 y FX(\()1726
4216 y FY(~)1733 4223 y FP(p)p FX(;)c FP(x)1876 4238
y FL(i)1905 4223 y FX(\)\))846 4316 y F3(\030)846 4348
y FX(=)945 4344 y FJ(f)976 4296 y FE(0)976 4369 y FL(j)1028
4337 y FY(~)1035 4344 y FP(y)357 4601 y F4(The)j(latter)g(con)l(v)o
(ersion)f(holds)g(by)h(the)g(computational)e(properties)i(of)g(the)g
(proof)g(term)g(generated)357 4750 y(by)k(the)h(uni\002cation)f
(algorithm)f(established)h(in)g(the)h(pre)n(vious)f(chapter)-5
b(.)357 4960 y(This)31 b(sho)n(ws)f(us)i(that)f(case)i(analysis)e(with)
g(constructor)g(form)h(uni\002cation)f(really)h(does)f(corre-)357
5109 y(spond)21 b(intensionally)e(to)j(Coquand')-5 b(s)21
b(case-splitting)f(step.)29 b(W)-8 b(e)22 b(are)h(no)n(w)e(in)g(a)h
(position)e(to)h(pro)o(v)o(e)357 5258 y(a)k(crucial)g(metatheorem.)1997
5667 y(161)p eop
%%Page: 162 167
162 166 bop 357 -6 a FB(6.2.2)118 b(conser)o(v)o(ati)o(vity)29
b(of)g(patter)n(n-matching)i(o)o(v)o(er)h Fb(O)6 b Fc(L)g(E)g(G)359
271 y F4(T)t F2(H)t(E)t(O)t(R)t(E)t(M)r F4(:)35 b F0(conser)o(v)o(ati)o
(vity)25 b(of)g(patter)o(n-matching)h(o)o(v)o(er)h F4(O)t
F2(L)t(E)t(G)601 542 y F4(Suppose)1232 745 y FJ(f)100
b FX(:)f F3(8)1537 738 y FY(~)1544 745 y FP(x)12 b FX(:)1640
719 y FY(~)1644 745 y FP(S)p FY(:)307 b FP(T)823 878
y F3(8)871 871 y FY(~)878 878 y FP(y)11 b FX(:)978 852
y FY(~)977 878 y FP(Y)1044 893 y FM(1)1083 878 y FY(:)122
b FJ(f)1567 871 y FY(~)1580 878 y FP(s)1619 893 y FM(1)1848
878 y FX(=)103 b FP(t)2061 893 y FM(1)1232 974 y F4(.)1232
1008 y(.)1232 1041 y(.)1607 974 y(.)1607 1008 y(.)1607
1041 y(.)2051 974 y(.)2051 1008 y(.)2051 1041 y(.)815
1174 y F3(8)863 1167 y FY(~)870 1174 y FP(y)11 b FX(:)970
1148 y FY(~)969 1174 y FP(Y)1036 1189 y FL(n)1083 1174
y FY(:)122 b FJ(f)1563 1167 y FY(~)1576 1174 y FP(s)1615
1189 y FL(n)1848 1174 y FX(=)100 b FP(t)2057 1189 y FL(n)601
1362 y F4(is)24 b(an)h(admissible)e(program)i(according)g(to)f(the)h
(characterisation)g(of)g(the)g(pre)n(vious)601 1512 y(section,)f(with)
717 1755 y F3(\017)48 b F4(the)946 1748 y FY(~)959 1755
y FP(s)997 1770 y FL(i)1047 1755 y F4(\(o)o(v)o(er)1270
1748 y FY(~)1276 1755 y FP(y)28 b FX(:)1409 1729 y FY(~)1408
1755 y FP(Y)1475 1770 y FL(i)1503 1755 y F4(\))22 b(a)g(co)o(v)o(ering)
e(of)2091 1729 y FY(~)2096 1755 y FP(S)i F4(b)n(uilt)e(interacti)n(v)o
(ely)g(by)h(case-splitting)815 1904 y(with)j(constructor)g(form)h
(uni\002cation)717 2088 y F3(\017)48 b F4(recursi)n(v)o(e)24
b(calls)h(structurally)e(smaller)i(on)f(the)h FY(r)s
F4(th)f(ar)n(gument)601 2331 y(Then)c(there)i(is)e(an)j(O)t
F2(L)t(E)t(G)j F4(term)21 b FJ(f)28 b FX(:)f F3(8)1882
2324 y FY(~)1889 2331 y FP(x)12 b FX(:)1985 2305 y FY(~)1989
2331 y FP(S)p FY(:)c FP(T)21 b F4(satisfying)f(for)h(each)h
FY(i)p F4(,)g(for)f(an)o(y)3285 2324 y FY(~)3292 2331
y FP(y)27 b FX(:)3425 2305 y FY(~)3424 2331 y FP(Y)3490
2346 y FL(i)3518 2331 y F4(,)815 2556 y FJ(f)856 2549
y FY(~)869 2556 y FP(s)907 2571 y FL(i)985 2529 y F3(\030)986
2560 y FX(=)1113 2556 y FP(t)1146 2571 y FL(i)359 2827
y F4(P)t F2(R)q(O)t(O)t(F)357 3037 y F4(Let)d(us)h(present)f(the)h
(main)f(problem)g(as)h(one)g(of)g(theorem)f(pro)o(ving.)29
b(W)-8 b(e)26 b(must)d(pro)o(v)o(e)h(goal)p 7 setlinewidth
np 655 3243 25 135.00 315.00 arc st 7 setlinewidth np
691 3225 18 180.00 360.00 arc st 7 setlinewidth np 745
3225 35 180.00 360.00 arc st 7 setlinewidth np 789 3252
28 251.56 341.56 arc st 7 setlinewidth np 816 3270 27
270.00 450.00 arc st 7 setlinewidth np 780 3297 35 360.00
540.00 arc st 7 setlinewidth np 727 3297 18 360.00 540.00
arc st 7 setlinewidth np 682 3297 27 360.00 540.00 arc
st 7 setlinewidth np 647 3279 19 63.43 243.43 arc st
601 3468 a FX(?)p FJ(f)p FX(:)e F3(8)775 3461 y FY(~)782
3468 y FP(x)11 b FX(:)877 3442 y FY(~)881 3468 y FP(S)q
FY(:)22 b FP(T)357 3708 y F4(Ho)n(we)n(v)o(er)l(,)29
b(we)i(must)d(check)i(that)g(ho)n(we)n(v)o(er)e(we)i(implement)e
FJ(f)q F4(,)j(it)e(satis\002es)g(the)h(computational)357
3858 y(la)o(ws)24 b(intended)g(by)g(the)h(pattern)f(matching)g
(equations.)357 4067 y(One)d(of)h(the)f(k)o(e)o(y)g(aspects)h(of)f
(this)g(construction)f(is)h(justifying)e(the)j(recursi)n(v)o(e)f
(calls.)29 b(W)-8 b(e)22 b(can)g(help)357 4217 y(ourselv)o(es)29
b(in)i(this)e(re)o(gard)i(if)f(we)h(gi)n(v)o(e)f(them)g(highly)f
(distincti)n(v)o(e)f(types.)48 b(As)31 b(the)o(y)f(stand,)h(the)o(y)357
4366 y(just)23 b(ha)n(v)o(e)i(whate)n(v)o(er)f(type)g(it)g(is)h(the)f
(function)g(returns)h(for)g(the)f(gi)n(v)o(en)f(ar)n(guments,)h(which)h
(might)357 4516 y(be)g(something)e(dull.)29 b(W)-8 b(e)26
b(can)f(introduce)f(a)h(much)g(more)f(informati)n(v)o(e)f(type)h(as)h
(follo)n(ws)p 7 setlinewidth np 655 4740 25 135.00 315.00
arc st 7 setlinewidth np 691 4722 18 180.00 360.00 arc
st 7 setlinewidth np 745 4722 35 180.00 360.00 arc st
7 setlinewidth np 789 4749 28 251.56 341.56 arc st 7
setlinewidth np 816 4767 27 270.00 450.00 arc st 7 setlinewidth
np 780 4793 35 360.00 540.00 arc st 7 setlinewidth np
727 4793 18 360.00 540.00 arc st 7 setlinewidth np 682
4793 27 360.00 540.00 arc st 7 setlinewidth np 647 4776
19 63.43 243.43 arc st 601 4965 a FX(?)p FJ(G)219 b FX(:)46
b F3(8)1074 4958 y FY(~)1081 4965 y FP(x)11 b FX(:)1176
4938 y FY(~)1180 4965 y FP(S)q FY(:)22 b FI(Type)601
5098 y FX(?)p FJ(call)134 b FX(:)46 b F3(8)1074 5091
y FY(~)1081 5098 y FP(x)11 b FX(:)1176 5072 y FY(~)1180
5098 y FP(S)q FY(:)22 b FX(\()p FJ(G)1425 5091 y FY(~)1432
5098 y FP(x)p FX(\))28 b F3(!)f FP(T)601 5231 y FX(?)p
FJ(retur)r(n)c FX(:)46 b F3(8)1074 5224 y FY(~)1081 5231
y FP(x)11 b FX(:)1176 5205 y FY(~)1180 5231 y FP(S)q
FY(:)22 b FP(T)28 b F3(!)f FJ(G)1603 5224 y FY(~)1610
5231 y FP(x)601 5365 y FX(?)p FJ(g)239 b FX(:)46 b F3(8)1074
5358 y FY(~)1081 5365 y FP(x)11 b FX(:)1176 5338 y FY(~)1180
5365 y FP(S)q FY(:)22 b FJ(G)1387 5358 y FY(~)1394 5365
y FP(x)620 5498 y FX(!)p FJ(f)250 b FX(=)22 b FY(\025)1076
5491 y(~)1083 5498 y FP(x)11 b FX(:)1178 5472 y FY(~)1182
5498 y FP(S)q FY(:)22 b FJ(call)g FX(\()p FJ(g)1601 5491
y FY(~)1608 5498 y FP(x)p FX(\))1997 5667 y F4(162)p
eop
%%Page: 163 168
163 167 bop 357 -6 a F4(What)25 b(has)g(happened?)33
b(I)25 b(ha)n(v)o(e)g(de\002ned)h FJ(f)g F4(in)f(terms)g(of)g
FJ(g)p F4(,)h(a)f(function)g(which)g(returns)g(elements)357
144 y(of)j(an)h(as)g(yet)g(unkno)n(wn)1246 118 y FY(~)1251
144 y FP(S)p F4(-inde)o(x)o(ed)f FI(Type)o F4(-f)o(amily)-6
b(,)28 b FJ(G)p F4(.)43 b(Of)29 b(course,)g FJ(G)g F4(is)f(going)g(to)g
(turn)h(out)f(to)357 293 y(be)k FY(\025)533 286 y(~)540
293 y FP(x)24 b FX(:)661 267 y FY(~)665 293 y FP(S)p
FY(:)k FP(T)p F4(,)33 b(in)f(the)g(style)f(of)h(the)f(decorati)n(v)o(e)
g FX(!)p F4(-bindings)g(from)h(pre)n(vious)e(chapters,)k(b)n(ut)d(for)
357 443 y(no)n(w)-6 b(,)26 b(it)h(remains)f(obscure:)36
b(we)27 b(transfer)h(v)n(alues)e(between)h FP(T)g F4(and)h
FJ(G)2847 436 y FY(~)2854 443 y FP(x)f F4(by)g(means)g(of)g(a)h(pair)f
(of)357 592 y(unkno)n(wns)c FJ(call)j F4(and)f FJ(retur)r(n)o
F4(,)g(both)g(of)g(which)g(will)g(turn)g(out)g(to)f(be)i(the)f
(identity)f(function.)32 b(As)357 742 y(things)c(stand,)j(though,)f
(the)g(type)f(of)h(a)h(call)f(to)f FJ(g)h F4(identi\002es)g(precisely)f
(its)h(ar)n(guments\227when)357 891 y(we)25 b(wish)f(to)h(mak)o(e)g(a)g
(recursi)n(v)o(e)f(call,)h(we,)h(and)f(also)f(the)h F0(blunderb)n(uss)i
F4(tactic,)e(shall)f(be)i(able)f(to)357 1041 y(\002nd)g(the)f
(hypothesis)f(we)i(need)g(just)f(by)g(looking)g(at)h(its)f(type!)357
1250 y(The)f(ne)o(xt)f(step)h(is)g(to)g(eliminate)f(the)h
FY(r)s F4(th)g(ar)n(gument)g(of)g FJ(g)g F4(with)g(the)g(appropriate)g
(guarded)g(recur)n(-)357 1399 y(sion)h(principle.)30
b(Suppose)25 b FP(S)1376 1414 y FL(r)1439 1399 y F4(is)f
FJ(F)n(am)1753 1392 y FY(~)1760 1399 y FP(p)p F4(,)h(where)h
FJ(F)n(am)f F4(is)g(a)g(dependent)g(f)o(amily)f(of)h(datatypes.)3751
1363 y FS(7)357 1549 y F4(The)k(guarded)f(recursion)h(principle)f(we)h
(need)g(is)f(thus)g FJ(F)n(amFix)q F4(.)43 b(Eliminating,)27
b(we)i(obtain)f(the)357 1698 y(scheme)601 1981 y FX(\010)50
b(=)g FY(\025)894 1974 y(~)904 1981 y FP(z)11 b FX(:)p
997 1895 208 4 v 11 w FJ(F)n(am)q FY(:)22 b F3(8)1302
1974 y FY(~)1309 1981 y FP(x)11 b FX(:)1404 1955 y FY(~)1408
1981 y FP(S)q FY(:)1503 1974 y(~)1513 1981 y FP(z)p F3(')1628
1974 y FY(~)1635 1981 y FP(p)p FX(;)17 b FP(x)1778 1996
y FL(r)1866 1981 y F3(!)49 b FJ(G)2117 1974 y FY(~)2124
1981 y FP(x)357 2263 y F4(In)21 b(f)o(act,)i(this)d(scheme)h(will)g(ha)
n(v)o(e)g(had)g(its)g(constraints)f(optimised)f(in)i(the)g(usual)g(w)o
(ay\227there)g(will)357 2413 y(be)30 b(none)f(at)h(all)g(if)f
FJ(F)n(am)i F4(is)f(a)g(simple)e(type.)46 b(Let)29 b(us)h(nonetheless)f
(consider)g(the)h(general)g(case.)357 2562 y(The)25 b(immediate)e
(subgoal)h(is)p 7 setlinewidth np 655 2780 25 135.00
315.00 arc st 7 setlinewidth np 691 2762 18 180.00 360.00
arc st 7 setlinewidth np 745 2762 35 180.00 360.00 arc
st 7 setlinewidth np 789 2789 28 251.56 341.56 arc st
7 setlinewidth np 816 2807 27 270.00 450.00 arc st 7
setlinewidth np 780 2834 35 360.00 540.00 arc st 7 setlinewidth
np 727 2834 18 360.00 540.00 arc st 7 setlinewidth np
682 2834 27 360.00 540.00 arc st 7 setlinewidth np 647
2816 19 63.43 243.43 arc st 601 3002 a FX(?)p FJ(g)714
3027 y FL(g)r(uar)r(ded)971 3002 y FX(:)f F3(8)1066 2995
y FY(~)1076 3002 y FP(z)111 b FX(:)p 1280 2916 V 22 w
FJ(F)n(am)1021 3123 y F3(8)p FP(r)n(ecs)o FX(:)22 b FJ(F)n(amA)n(ux)g
FX(\010)1773 3116 y FY(~)1783 3123 y FP(z)1021 3256 y
F3(8)1069 3249 y FY(~)1076 3256 y FP(x)105 b FX(:)1276
3230 y FY(~)1280 3256 y FP(S)1021 3376 y F3(8)1063 3369
y FY(~)1076 3376 y FP(e)116 b FX(:)1270 3369 y FY(~)1280
3376 y FP(z)23 b F3(')1439 3369 y FY(~)1446 3376 y FP(p)p
FX(;)17 b FP(x)1589 3391 y FL(r)1076 3497 y FJ(G)1178
3490 y FY(~)1185 3497 y FP(x)357 3749 y F4(Intensionally)29
b(speaking,)j(unfolding)d(the)i(de\002nition)f(of)h FJ(g)g
F4(with)g(respect)g(to)f FJ(F)n(amFix)i F4(tells)f(us)357
3898 y(that)601 4102 y FJ(g)683 4095 y FY(~)690 4102
y FP(x)789 4074 y F3(\030)790 4106 y FX(=)889 4102 y
FJ(F)n(amFix)23 b FX(\010)g FJ(g)1395 4126 y FL(g)r(uar)r(ded)1667
4095 y FY(~)1674 4102 y FP(p)p FX(;)17 b FP(x)1818 4117
y FL(r)1871 4095 y FY(~)1878 4102 y FP(x)22 b FX(\()p
FZ(re\003)2145 4095 y FY(~)2153 4102 y FP(p)o FX(;)17
b FP(x)2296 4117 y FL(r)2334 4102 y FX(\))789 4196 y
F3(\030)790 4228 y FX(=)889 4224 y FJ(g)956 4248 y FL(g)r(uar)r(ded)
1229 4217 y FY(~)1236 4224 y FP(p)p FX(;)g FP(x)1379
4239 y FL(r)1439 4224 y FX(\()p FJ(F)n(amA)n(uxGen)22
b FX(\010)g FJ(g)2259 4248 y FL(g)r(uar)r(ded)2532 4217
y FY(~)2539 4224 y FP(p)p FX(;)17 b FP(x)2682 4239 y
FL(r)2720 4224 y FX(\))2773 4217 y FY(~)2780 4224 y FP(x)22
b FX(\()p FZ(re\003)3048 4217 y FY(~)3055 4224 y FP(p)p
FX(;)17 b FP(x)3198 4239 y FL(r)3236 4224 y FX(\))357
4464 y F4(The)32 b(subgoal)f(constraints)g(require)h(e)o(xactly)g(that)
g(the)2311 4457 y FY(~)2318 4464 y FP(x)h F4(are)f(well)g(typed)g(ar)n
(guments)f(of)i FJ(g)p F4(,)h(so)357 4614 y(the)o(y)24
b(reduce)h(by)g(uni\002cation)f(to)p 7 setlinewidth np
655 4832 25 135.00 315.00 arc st 7 setlinewidth np 691
4814 18 180.00 360.00 arc st 7 setlinewidth np 745 4814
35 180.00 360.00 arc st 7 setlinewidth np 789 4841 28
251.56 341.56 arc st 7 setlinewidth np 816 4859 27 270.00
450.00 arc st 7 setlinewidth np 780 4885 35 360.00 540.00
arc st 7 setlinewidth np 727 4885 18 360.00 540.00 arc
st 7 setlinewidth np 682 4885 27 360.00 540.00 arc st
7 setlinewidth np 647 4868 19 63.43 243.43 arc st 601
5057 a FX(?)p FJ(g)714 5082 y FL(f)7 b(r)r(ee)858 5057
y FX(:)23 b F3(8)956 5050 y FY(~)963 5057 y FP(x)105
b FX(:)1163 5031 y FY(~)1167 5057 y FP(S)908 5177 y F3(8)p
FP(r)n(ecs)o FX(:)22 b FJ(F)n(amA)n(ux)g FX(\010)1663
5170 y FY(~)1670 5177 y FP(p)p FX(;)17 b FP(x)1813 5192
y FL(r)963 5297 y FJ(G)1065 5290 y FY(~)1072 5297 y FP(x)p
357 5393 1373 4 v 473 5454 a FR(7)506 5484 y FQ(W)-7
b(e)21 b(may)f(consider)f(an)o(y)h(parameters)f(\002x)o(ed.)1997
5667 y F4(163)p eop
%%Page: 164 169
164 168 bop 357 -6 a F4(That)22 b(is,)h(we)g(ha)n(v)o(e)g(the)g(same)g
(goal)g(as)g(before,)g(b)n(ut)g(with)f(the)h(addition)f(of)h(the)g
(auxiliary)f(premise)357 144 y(which)39 b(is)h(ready)g(to)g(unfold)f
(re)n(v)o(ealing)g(the)g(a)n(v)n(ailable)h(recursi)n(v)o(e)f(calls)g
(as)h(we)h(split)d FP(x)3554 159 y FL(r)3632 144 y F4(into)357
293 y(cases\227it)24 b(may)g(not)h(be)f(the)h(last)f(ar)n(gument,)h(as)
g(sho)n(wn)e(here,)i(b)n(ut)g(its)f(position)f(is)h(immaterial.)357
503 y(Note)g(also)h(that)f(the)h(computational)e(beha)n(viour)h(of)h
(terms)f(generated)h(by)g(uni\002cation)f(gi)n(v)o(es)601
795 y FJ(g)683 788 y FY(~)690 795 y FP(x)789 768 y F3(\030)790
799 y FX(=)917 795 y FJ(g)984 820 y FL(f)7 b(r)r(ee)1143
788 y FY(~)1151 795 y FP(x)21 b FX(\()p FJ(F)n(amA)n(uxGen)h
FX(\010)g FJ(g)2043 820 y FL(g)r(uar)r(ded)2315 788 y
FY(~)2322 795 y FP(p)p FX(;)17 b FP(x)2466 810 y FL(r)2504
795 y FX(\))357 1088 y F4(No)n(w)34 b(we)h(replay)f(the)h(interacti)n
(v)o(e)e(case-splitting)g(process)i(which)f(justi\002ed)g(the)g(co)o(v)
o(ering)3683 1081 y FY(~)3695 1088 y FP(s)3734 1103 y
FL(i)3762 1088 y F4(.)357 1237 y(Splitting)c(an)i(ar)n(gument)f(means)g
(eliminating)f(it)h(by)h(the)f(case)h(analysis)f(rule)h(for)g(its)f
(datatype,)357 1387 y(then)c(applying)f(the)h(uni\002cation)f(tactic)i
(to)f(the)g(subgoals.)37 b(Because)28 b(the)f(uni\002cation)g(tactic)g
(im-)357 1536 y(plements)20 b(the)h(same)g(uni\002cation)f(algorithm)g
(as)i(that)e(which)h(justi\002es)g(the)g(elementary)g(co)o(v)o(ering)
357 1686 y(induced)j(by)h(the)f(split,)g(we)h(kno)n(w)f(we)h(will)f
(achie)n(v)o(e)g(e)o(xactly)g(the)g(same)h(ef)n(fect.)357
1895 y(W)-8 b(e)25 b(are)g(left)g(with)f(subgoals)g(corresponding)g(to)
g(the)h(co)o(v)o(ering)p 7 setlinewidth np 655 2148 25
135.00 315.00 arc st 7 setlinewidth np 691 2130 18 180.00
360.00 arc st 7 setlinewidth np 745 2130 35 180.00 360.00
arc st 7 setlinewidth np 789 2157 28 251.56 341.56 arc
st 7 setlinewidth np 816 2175 27 270.00 450.00 arc st
7 setlinewidth np 780 2201 35 360.00 540.00 arc st 7
setlinewidth np 727 2201 18 360.00 540.00 arc st 7 setlinewidth
np 682 2201 27 360.00 540.00 arc st 7 setlinewidth np
647 2184 19 63.43 243.43 arc st 601 2373 a FX(?)p FJ(g)714
2398 y FL(i)742 2373 y FX(:)d F3(8)839 2366 y FY(~)846
2373 y FP(y)105 b FX(:)1052 2347 y FY(~)1051 2373 y FP(Y)1117
2388 y FL(i)791 2493 y F3(8)p FP(r)n(ecs)o FX(:)23 b
FJ(F)n(amA)n(ux)f FX(\010)1546 2486 y FY(~)1553 2493
y FP(p)1603 2525 y FL(i)1631 2493 y FX(;)17 b FP(s)1714
2508 y FL(ir)846 2614 y FJ(G)943 2607 y FY(~)955 2614
y FP(s)994 2629 y FL(i)357 2894 y F4(What)35 b(is)f(more,)j(we)f(kno)n
(w)d(that)i(case)h(analysis)e(with)g(uni\002cation)g(has)h(the)g(right)
f(intensional)357 3043 y(ef)n(fect,)25 b(so)f(that)601
3336 y FJ(g)677 3329 y FY(~)690 3336 y FP(s)729 3351
y FL(i)806 3308 y F3(\030)807 3340 y FX(=)934 3336 y
FJ(g)1001 3361 y FL(i)1044 3329 y FY(~)1051 3336 y FP(y)e
FX(\()p FJ(F)n(amA)n(uxGen)g FX(\010)g FJ(g)1943 3361
y FL(g)r(uar)r(ded)2216 3329 y FY(~)2223 3336 y FP(p)2273
3367 y FL(i)2301 3336 y FX(;)17 b FP(s)2383 3351 y FL(ir)2445
3336 y FX(\))357 3628 y F4(It)35 b(is)g(time)f(to)h(\002ll)h(in)f(the)g
(right-hand)f(side.)62 b(Let)35 b(us)g(introduce)g(the)g(premises)g
(and)g(re\002ne)i(by)357 3778 y FJ(retur)r(n)n F4(:)p
7 setlinewidth np 655 4004 25 135.00 315.00 arc st 7
setlinewidth np 691 3986 18 180.00 360.00 arc st 7 setlinewidth
np 745 3986 35 180.00 360.00 arc st 7 setlinewidth np
789 4012 28 251.56 341.56 arc st 7 setlinewidth np 816
4030 27 270.00 450.00 arc st 7 setlinewidth np 780 4057
35 360.00 540.00 arc st 7 setlinewidth np 727 4057 18
360.00 540.00 arc st 7 setlinewidth np 682 4057 27 360.00
540.00 arc st 7 setlinewidth np 647 4039 19 63.43 243.43
arc st 601 4228 a FX(?)p FJ(g)714 4253 y FL(i)742 4228
y F3(\031)22 b FY(\025)891 4221 y(~)898 4228 y FP(y)105
b FX(:)1104 4202 y FY(~)1103 4228 y FP(Y)1169 4243 y
FL(i)841 4349 y FY(\025)p FP(r)n(ecs)o FX(:)23 b FJ(F)n(amA)n(ux)f
FX(\010)1598 4342 y FY(~)1605 4349 y FP(p)1655 4380 y
FL(i)1683 4349 y FX(;)17 b FP(s)1766 4364 y FL(ir)852
4469 y FX(?)p FP(r)937 4484 y FL(i)1053 4469 y FX(:)23
b([)1117 4462 y FY(~)1130 4469 y FP(s)1168 4484 y FL(i)1197
4469 y FY(=)1239 4462 y(~)1246 4469 y FP(x)o FX(])p FP(T)898
4589 y FJ(retur)r(n)1189 4582 y FY(~)1202 4589 y FP(s)1241
4604 y FL(i)1291 4589 y FP(r)1330 4604 y FL(i)357 4880
y FP(t)390 4895 y FL(i)443 4880 y F4(is)i(the)g(e)o(xpression)f(we)i(w)
o(ant)f(to)g(supply)f(for)h FP(r)2066 4895 y FL(i)2094
4880 y F4(,)h(b)n(ut)e(it)h(may)g(contain)g(some)f(recursi)n(v)o(e)h
FJ(f)3558 4873 y FY(~)3568 4880 y FP(z)3612 4895 y FL(j)3648
4880 y F4(,)h(so)357 5029 y(we)g(cannot)f(just)g(re\002ne)i(by)e(it.)34
b(W)-8 b(e)26 b(must)f(replace)h(those)f(applications)g(by)g
FJ(call)q F4(s)g(to)h(fresh)g(holes)357 5179 y(of)f(type)g
FJ(G)762 5172 y FY(~)772 5179 y FP(z)816 5194 y FL(j)878
5179 y F4(\002rst.)32 b(Since)26 b(there)g(is)f(no)g(nesting,)f(we)i
(may)f(write)g(them)g(in)g(an)o(y)g(order)l(,)h(although)357
5328 y(if)i(nesting)f(w)o(as)h(permitted,)g(we)h(w)o(ould)e(still)g(be)
h(able)g(to)g(choose)g(an)g(order)-5 b(.)41 b(I)29 b(shall)e(only)g
(write)357 5477 y(one)d(of)h(them)g(in.)1997 5667 y(164)p
eop
%%Page: 165 170
165 169 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 175 a FX(?)p FJ(g)714 200 y FL(i)742 175 y
F3(\031)22 b FY(\025)891 168 y(~)898 175 y FP(y)105 b
FX(:)1104 149 y FY(~)1103 175 y FP(Y)1169 190 y FL(i)841
295 y FY(\025)p FP(r)n(ecs)o FX(:)23 b FJ(F)n(amA)n(ux)f
FX(\010)1598 288 y FY(~)1605 295 y FP(p)1655 327 y FL(i)1683
295 y FX(;)17 b FP(s)1766 310 y FL(ir)852 416 y FX(?)p
FJ(g)965 440 y FL(ij)1053 416 y FX(:)23 b FJ(G)1202 409
y FY(~)1212 416 y FP(z)1256 431 y FL(j)898 538 y FJ(retur)r(n)1189
531 y FY(~)1202 538 y FP(s)1241 553 y FL(i)1291 538 y
FP(t)1324 553 y FL(i)1352 538 y FX([)p FY(:)17 b(:)g(:)g
FJ(call)22 b(g)1772 562 y FL(ij)1849 538 y FY(:)17 b(:)g(:)f
FX(])357 829 y F4(Where)30 b(are)h(we)f(to)g(\002nd)g(these)g(elements)
f(of)h FJ(G)2078 822 y FY(~)2088 829 y FP(z)2132 844
y FL(j)2168 829 y F4(?)47 b(From)30 b FP(r)n(ecs)o F4(,)h(of)f(course!)
47 b(Since)30 b FP(z)3464 844 y FL(j)t(r)3565 829 y F4(is,)h(by)357
979 y(assumption,)c(structurally)g(smaller)g(than)h FP(s)1907
994 y FL(ir)1969 979 y F4(,)h(and)f(must)f(ha)n(v)o(e)h(some)g(type)g
FJ(F)n(am)3294 972 y FY(~)3301 979 y FP(p)3351 1011 y
FL(ij)3412 979 y F4(,)h(the)f(type)357 1128 y FJ(F)n(amA)n(ux)22
b FX(\010)852 1121 y FY(~)859 1128 y FP(p)909 1160 y
FL(i)937 1128 y FX(;)17 b FP(s)1020 1143 y FL(r)1083
1128 y F4(e)o(xpands)24 b(to)g(a)h(product)f(containing)g
FX(\010)2464 1121 y FY(~)2471 1128 y FP(p)2521 1160 y
FL(ij)2582 1128 y FX(;)17 b FP(z)2670 1143 y FL(j)t(r)2740
1128 y F4(,)25 b(ie)601 1446 y F3(8)649 1439 y FY(~)656
1446 y FP(x)11 b FX(:)751 1419 y FY(~)755 1446 y FP(S)p
FY(:)852 1439 y(~)860 1446 y FP(p)909 1477 y FL(ij)970
1446 y FX(;)17 b FP(z)1058 1461 y FL(j)t(r)1150 1446
y F3(')1243 1439 y FY(~)1250 1446 y FP(p)p FX(;)g FP(x)1393
1461 y FL(r)1481 1446 y F3(!)50 b FJ(G)1732 1439 y FY(~)1740
1446 y FP(x)357 1763 y F4(Let)24 b(us)g(project)g(this)f(out)h(and)g
(call)h(it)e FP(r)p F4(.)31 b(Because)25 b FJ(g)2192
1756 y FY(~)2202 1763 y FP(z)2247 1778 y FL(j)2308 1763
y F4(is)e(well)h(typed,)g(we)h(can)f(\002nd)h(a)f(matching)357
1912 y(substitution)e(which)i(solv)o(es)g(the)g(constraints.)30
b(Hence)25 b(we)g(may)g(form)601 2205 y FP(r)652 2198
y FY(~)661 2205 y FP(z)706 2220 y FL(j)764 2205 y FX(\()p
FZ(re\003)960 2198 y FY(~)967 2205 y FP(p)1017 2237 y
FL(ij)1077 2205 y FX(;)17 b FP(z)1165 2220 y FL(j)t(r)1236
2205 y FX(\))27 b(:)h FJ(G)1455 2198 y FY(~)1465 2205
y FP(z)1509 2220 y FL(j)357 2497 y F4(and)c(thus)g(instantiate)g
FJ(g)1218 2522 y FL(ij)1278 2497 y F4(.)357 2707 y(In)33
b(point)f(of)h(f)o(act,)j F0(blunderb)n(uss)f F4(with)d
FP(r)n(ecs)h F4(is)f(enough)h(to)g(solv)o(e)f FJ(g)2838
2732 y FL(ij)2898 2707 y F4(,)k(because)d(it)g(solv)o(es)f(re-)357
2856 y(\003e)o(xi)n(v)o(e)23 b(equations)h(and)h(searches)g(through)f
FX(\006)p F4(-types.)30 b(Since)c FJ(G)2634 2849 y FY(~)2644
2856 y FP(z)2689 2871 y FL(j)2750 2856 y F4(is)e(uniquely)g(the)g(type)
h(of)f(the)357 3006 y(recursi)n(v)o(e)j(call)i(on)f(those)g(ar)n
(guments,)h(there)f(is)h(no)f(w)o(ay)g(the)h(search)g(can)g(come)f
(back)h(with)e(the)357 3155 y(wrong)d(v)n(alue.)357 3365
y(Let)h(us)h(check)g(that)g(this)f(type-directed)g(folding)g(really)h
(\002nds)f(the)h(recursi)n(v)o(e)f(call.)34 b(The)26
b(point)f(is)357 3514 y(that)601 3807 y FJ(F)n(amA)n(uxGen)c
FX(\010)i FJ(g)1383 3831 y FL(g)r(uar)r(ded)1655 3800
y FY(~)1662 3807 y FP(p)1712 3838 y FL(i)1740 3807 y
FX(;)17 b FP(s)1823 3822 y FL(ir)1935 3779 y F3(\030)1935
3811 y FX(=)601 3857 y Fz(D)661 3967 y FY(:)g(:)g(:)793
3857 y Fz(D)853 3967 y FJ(F)n(amFix)23 b FX(\010)g FJ(g)1359
3992 y FL(g)r(uar)r(ded)1632 3960 y FY(~)1639 3967 y
FP(p)1689 3999 y FL(ij)1749 3967 y FX(;)17 b FP(z)1837
3982 y FL(j)t(r)1907 3967 y FX(;)g FY(:)g(:)g(:)2082
3857 y Fz(E)2160 3967 y FY(:)g(:)g(:)2291 3857 y Fz(E)357
4260 y F4(Projecting)24 b(this)g(out)g(and)h(applying)f(it)g(as)h(sho)n
(wn)e(abo)o(v)o(e)h(gi)n(v)o(es)601 4552 y FJ(F)n(amFix)f
FX(\010)f FJ(g)1106 4577 y FL(g)r(uar)r(ded)1379 4545
y FY(~)1386 4552 y FP(p)1436 4584 y FL(ij)1496 4552 y
FX(;)17 b FP(z)1584 4567 y FL(j)t(r)1667 4545 y FY(~)1677
4552 y FP(z)1721 4567 y FL(j)1780 4552 y FX(\()p FZ(re\003)1975
4545 y FY(~)1982 4552 y FP(p)2032 4584 y FL(ij)2093 4552
y FX(;)g FP(z)2181 4567 y FL(j)t(r)2251 4552 y FX(\))357
4845 y F4(Compare)25 b(this)f(with)g(the)g(de\002nition)g(of)h
FJ(g)g F4(abo)o(v)o(e:)30 b(it)24 b(folds)g(\(by)h(the)f(matching)g
(substitution\))e(to)601 5137 y FJ(g)680 5130 y FY(~)690
5137 y FP(z)734 5152 y FL(j)357 5429 y F4(Hence)j(we)g(kno)n(w)f(that)g
(for)h(all)1454 5422 y FY(~)1461 5429 y FP(y)1997 5667
y F4(165)p eop
%%Page: 166 171
166 170 bop 601 -6 a FJ(g)677 -13 y FY(~)690 -6 y FP(s)729
9 y FL(i)806 -33 y F3(\030)807 -1 y FX(=)934 -6 y FJ(retur)r(n)20
b FP(t)1271 9 y FL(i)1299 -6 y FX([)p FY(:)d(:)g(:)f
FJ(call)23 b FX(\()p FJ(g)1769 -13 y FY(~)1779 -6 y FP(z)1823
9 y FL(j)1859 -6 y FX(\))17 b FY(:)g(:)g(:)f FX(])357
260 y F4(All)28 b(that)g(remains)g(is)g(to)h(solv)o(e)e(and)i(cut)g
FJ(G)o F4(,)h FJ(call)f F4(and)g FJ(retur)r(n)e F4(as)i(suggested)f
(earlier)-5 b(.)42 b(W)-8 b(e)29 b(\002nd)357 410 y(that)e
FJ(f)583 403 y FY(~)590 410 y FP(x)h F4(is)g(e)o(xactly)g
FJ(g)1162 403 y FY(~)1169 410 y FP(x)p F4(.)41 b(Hence)29
b(\(tri)n(vially)d(unfolding)h(and)h(folding\),)g(the)g
FJ(call)q F4(s)g(and)g FJ(retur)r(n)n F4(s)357 559 y(disappear)c(and)h
(the)g FJ(g)p F4(')-5 b(s)24 b(turn)h(into)f FJ(f)p F4(')-5
b(s.)30 b(As)25 b(required,)f(for)h(each)h FY(i)f F4(and)g(all)2966
552 y FY(~)2973 559 y FP(y)j FX(:)3107 533 y FY(~)3106
559 y FP(Y)3172 574 y FL(i)601 825 y FJ(f)641 818 y FY(~)654
825 y FP(s)693 840 y FL(i)771 797 y F3(\030)772 829 y
FX(=)898 825 y FP(t)931 840 y FL(i)959 825 y FX([)p FY(:)17
b(:)g(:)g FJ(f)1161 818 y FY(~)1171 825 y FP(z)1215 840
y FL(j)1268 825 y FY(:)g(:)g(:)f FX(])3710 1091 y FC(\003)357
1591 y FB(6.2.3)118 b(constructing)31 b(pr)n(ograms)601
1844 y FU(A)f(man)h(bought)f(a)h(full)e(size)i(r)l(eplica)f(of)h(Mic)o
(helang)o(elo')l(s)e(`David'.)49 b(He)31 b(put)f(it)h(in)601
1994 y(his)24 b(bac)n(k)h(gar)l(den)f(and)h(in)l(vited)f(his)g(friends)
f(r)l(ound)h(to)g(see)o(.)601 2180 y(`It')l(s)g(just)g(a)h(big)f(bloc)n
(k)h(of)f(white)h(marble)o(.)-14 b(')30 b(said)24 b(the)m(y)-5
b(.)601 2367 y(His)24 b(r)l(eply:)31 b(`I)25 b(haven')m(t)g(unwr)o
(apped)f(it)g(yet.)-14 b(')357 2649 y F4(The)28 b(abo)o(v)o(e)g
(theorem)g(mak)o(es)g(use)g(of)h(the)f(guarded)h(recursion,)g(case)g
(analysis)f(and)g(uni\002cation)357 2798 y(technology)37
b(from)h(the)g(pre)n(vious)g(tw)o(o)g(chapters)g(to)g(`replay')h(the)f
(justi\002cation)f(of)i(a)g(pattern)357 2947 y(matching)27
b(function)g(kno)n(wn)g(to)g(lie)h(within)f(Coquand')-5
b(s)27 b(class)h(of)g(admissible)f(de\002nitions.)39
b(W)-8 b(e)357 3097 y(had)30 b(the)f(adv)n(antage)h(of)g(kno)n(wing)e
(the)i(equations)e(in)i(adv)n(ance,)h(and)f(indeed)f(the)h(deri)n(v)n
(ation)e(of)357 3246 y(the)h(co)o(v)o(ering\227we)f(merely)h(had)g(to)g
(check)h(that)f(we)g(could)g(b)n(uild)f(a)i(term)f(with)g(the)g(right)g
(type)357 3396 y(and)22 b(computational)f(beha)n(viour)-5
b(.)29 b(As)22 b(we)h(shall)f(shortly)f(see,)j(this)d(is)h(only)g(a)h
(slight)e(adv)n(antage\227)357 3545 y(we)32 b(can)h(use)f(essentially)f
(the)h(same)g(technique)g(and)g(construct)f(the)i(pattern)f(equations)f
(as)h(we)357 3695 y(go.)357 3904 y(I)i(propose)f(to)h(supply)f(a)h
(collection)f(of)h(tactics)g(for)g(programming.)57 b(As)33
b(well)h(as)g(performing)357 4053 y(theorem-pro)o(ving)d(actions)h(on)h
(the)i(O)t F2(L)t(E)t(G)i F4(state,)e(these)e(tactics)g(will)f(create)i
(and)e(manipulate)357 4203 y(associated)23 b(pattern-matching)g
(programs)g(in)g(such)h(a)g(w)o(ay)f(that)h(the)o(y)f(are)h(al)o(w)o
(ays)g(justi\002able)f(by)357 4352 y(Coquand')-5 b(s)24
b(criteria)h(and,)g(once)g(the)f(holes)g(are)i(\002lled,)f
(intensionally)d(correct.)357 4562 y(By)g(w)o(ay)h(of)f(a)h(running)e
(e)o(xample,)h(I)g(propose)g(to)g(construct)f FZ(vlast)p
F4(,)i(the)f(function)f(which)h(e)o(xtracts)357 4711
y(the)i(last)h(element)f(of)h(a)g(nonempty)e(v)o(ector)-5
b(.)30 b(Let)25 b(us)f(\002x)h(and)g(suppress)f(the)h(element)f(type)h
FP(A)t F4(.)601 4993 y FZ(vlast)i FX(:)h F3(8)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b F3(8)p FP(x)11 b FX(:)g
FZ(v)n(ect)22 b(s)p FP(n)p FY(:)h FP(A)357 5275 y F4(I)i(shall)f(not)g
(tell)g(you)h(what)f(the)h(pattern)f(matching)g(program)h(is,)f(for)h
(the)g(point)e(is)i(to)f(unwrap)h(it.)357 5484 y(W)-8
b(e)25 b(be)o(gin)f(with)g(a)h(goal)1997 5667 y(166)p
eop
%%Page: 167 172
167 171 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FP(goal)p FX(:)22 b F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(x)11 b FX(:)g
FZ(v)n(ect)23 b(s)o FP(n)q FY(:)f FP(A)357 442 y F4(Here)i(is)f(a)h
(tactic)f(which)g(indicates)g(that)g(a)h(gi)n(v)o(en)e(goal)h(should)g
(be)g(re)o(garded)g(as)h(a)g(programming)357 592 y(problem.)359
801 y(T)l F2(A)q(C)t(T)t(I)t(C)r F4(:)34 b F0(pr)n(ogram)p
601 1845 899 4 v 601 2884 4 1039 v 7 setlinewidth np
684 1925 25 135.00 315.00 arc st 7 setlinewidth np 719
1907 18 180.00 360.00 arc st 7 setlinewidth np 773 1907
35 180.00 360.00 arc st 7 setlinewidth np 818 1934 28
251.56 341.56 arc st 7 setlinewidth np 844 1952 27 270.00
450.00 arc st 7 setlinewidth np 809 1979 35 360.00 540.00
arc st 7 setlinewidth np 755 1979 18 360.00 540.00 arc
st 7 setlinewidth np 710 1979 27 360.00 540.00 arc st
7 setlinewidth np 675 1961 19 63.43 243.43 arc st 629
2137 a FX(?)p FP(goal)p FX(:)22 b F3(8)p FP(x)995 2152
y FM(1)1042 2137 y FX(:)g FP(S)1147 2152 y FM(1)890 2233
y F4(.)890 2266 y(.)890 2299 y(.)890 2420 y F3(8)p FP(x)995
2435 y FL(r)1042 2420 y FX(:)g FJ(F)n(am)1314 2413 y
FY(~)1321 2420 y FP(p)890 2516 y F4(.)890 2549 y(.)890
2582 y(.)890 2703 y F3(8)p FP(x)995 2718 y FL(n)1042
2703 y FX(:)g FP(S)1147 2718 y FL(n)945 2823 y FP(T)p
FX([)1026 2816 y FY(~)1033 2823 y FP(x)p FX(])p 1496
2884 V 601 2887 899 4 v 1527 2017 a F3(\))p 1654 976
1818 4 v 1654 2754 4 1778 v 7 setlinewidth np 1737 1056
25 135.00 315.00 arc st 7 setlinewidth np 1773 1038 18
180.00 360.00 arc st 7 setlinewidth np 1826 1038 35 180.00
360.00 arc st 7 setlinewidth np 1871 1065 28 251.56 341.56
arc st 7 setlinewidth np 1898 1083 27 270.00 450.00 arc
st 7 setlinewidth np 1862 1110 35 360.00 540.00 arc st
7 setlinewidth np 1809 1110 18 360.00 540.00 arc st 7
setlinewidth np 1764 1110 27 360.00 540.00 arc st 7 setlinewidth
np 1728 1092 19 63.43 243.43 arc st 1682 1281 a FX(?)p
FJ(F)258 b FX(:)47 b F3(8)2156 1274 y FY(~)2163 1281
y FP(x)11 b FX(:)2258 1255 y FY(~)2262 1281 y FP(S)q
FY(:)22 b FI(Type)1682 1414 y FX(?)p FJ(call)134 b FX(:)47
b F3(8)2156 1407 y FY(~)2163 1414 y FP(x)11 b FX(:)2258
1388 y FY(~)2262 1414 y FP(S)q FY(:)22 b FX(\()p FJ(F)2468
1407 y FY(~)2475 1414 y FP(x)p FX(\))28 b F3(!)f FP(T)p
FX([)2799 1407 y FY(~)2806 1414 y FP(x)p FX(])1682 1548
y(?)p FJ(retur)r(n)c FX(:)47 b F3(8)2156 1541 y FY(~)2163
1548 y FP(x)11 b FX(:)2258 1521 y FY(~)2262 1548 y FP(S)q
FY(:)22 b FP(T)p FX([)2448 1541 y FY(~)2455 1548 y FP(x)p
FX(])27 b F3(!)h FJ(F)2750 1541 y FY(~)2757 1548 y FP(x)1701
1678 y FX(!\010)212 b(=)22 b FY(\025)2155 1671 y(~)2165
1678 y FP(z)6 b FX(:)p 2264 1592 208 4 v 22 w FJ(F)n(am)2109
1811 y F3(8)2158 1804 y FY(~)2165 1811 y FP(x)p FX(:)2259
1785 y FY(~)2264 1811 y FP(S)2109 1932 y F3(8)2152 1925
y FY(~)2165 1932 y FP(e)11 b FX(:)2254 1925 y FY(~)2264
1932 y FP(z)22 b F3(')2423 1925 y FY(~)2430 1932 y FP(p)p
FX(;)17 b FP(x)2573 1947 y FL(r)2165 2052 y FJ(F)2228
2045 y FY(~)2235 2052 y FP(x)1682 2185 y FX(?)p FJ(f)1760
2200 y FM(0)2034 2185 y FX(:)47 b F3(8)2156 2178 y FY(~)2163
2185 y FP(x)105 b FX(:)2363 2159 y FY(~)2367 2185 y FP(S)2108
2306 y F3(8)p FP(r)n(ecs)o FX(:)22 b FJ(F)n(amA)n(ux)h
FX(\010)2863 2299 y FY(~)2870 2306 y FP(p)p FX(;)17 b
FP(x)3013 2321 y FL(r)2163 2426 y FJ(F)2227 2419 y FY(~)2234
2426 y FP(x)1701 2559 y FX(!)p FJ(f)251 b FX(=)22 b FY(\025)2158
2552 y(~)2165 2559 y FP(x)11 b FX(:)2260 2533 y FY(~)2264
2559 y FP(S)p FY(:)22 b FJ(F)n(amFix)h FX(\010)g FJ(f)2838
2574 y FM(0)2893 2552 y FY(~)2900 2559 y FP(x)f FX(\()p
FZ(re\003)3167 2552 y FY(~)3175 2559 y FP(p)o FX(;)17
b FP(x)3318 2574 y FL(r)3356 2559 y FX(\))1701 2693 y(!)p
FP(goal)116 b FX(=)22 b FY(\025)2158 2686 y(~)2165 2693
y FP(x)11 b FX(:)2260 2667 y FY(~)2264 2693 y FP(S)p
FY(:)22 b FJ(call)h FX(\()p FJ(f)2647 2686 y FY(~)2654
2693 y FP(x)p FX(\))p 3469 2754 4 1778 v 1654 2757 1818
4 v 1654 2975 a([)p FJ(f)1712 2990 y FM(0)1752 2975 y
FX(])i FJ(f)1850 2968 y FY(~)1857 2975 y FP(x)50 b FX(=)22
b(?)120 b(\()2252 2968 y FY(~)2259 2975 y FP(x)27 b FX(:)2387
2949 y FY(~)2391 2975 y FP(S)q FX(\))359 3228 y F4(P)t
F2(R)q(O)t(O)t(F)357 3438 y F4(The)e(tactic)601 3730
y F0(pr)n(ogram)g FY(n)g FP(x)1133 3745 y FL(r)357 4023
y F4(turns)h FP(goal)p F4(,)i(which)f(must)f(ha)n(v)o(e)h(at)h(least)f
FY(n)g F4(premises,)g(into)g(a)g(programming)f(problem.)37
b FP(goal)28 b F4(is)357 4172 y(solv)o(ed)23 b(by)i(appeal)g(to)f(a)h
(function)f FJ(f)h F4(of)g(arity)g FY(n)p F4(,)g(recursi)n(v)o(e)f(on)g
(its)g FY(r)s F4(th)h(ar)n(gument.)357 4382 y(As)33 b(before,)i(the)e
(more)g(informati)n(v)o(e)f(type)g(f)o(amily)h FJ(F)g
F4(is)g(introduced,)i(together)d(with)h FJ(call)g F4(and)357
4531 y FJ(retur)r(n)n F4(,)25 b(then)e FP(x)933 4546
y FL(r)995 4531 y F4(is)h(eliminated)f(with)g(the)h(rele)n(v)n(ant)f
(guarded)h(recursion)g(theorem.)30 b(This)24 b(lea)n(v)o(es)357
4681 y(us)g(\002lling)h(in)f(the)h(body)g(of)g(the)g(function)f
FJ(f)1851 4696 y FM(0)1890 4681 y F4(.)32 b(Associated)24
b(with)g FJ(f)2643 4696 y FM(0)2707 4681 y F4(is)h(a)g(pattern)g
(matching)f(equa-)357 4830 y(tion)31 b(labelled)g FX([)p
FJ(f)949 4845 y FM(0)989 4830 y FX(])p F4(,)i(with)e(its)g(pattern)h(v)
n(ariables)f(listed)g(in)g(parentheses,)i(which)f(describes)f(the)357
4979 y(aspects)21 b(of)h FJ(f)p F4(')-5 b(s)21 b(beha)n(viour)g(for)h
(which)g FJ(f)1743 4994 y FM(0)1804 4979 y F4(accounts.)29
b(The)22 b(left-hand)f(side)g(of)h(this)f(equation)g(is)g
FJ(f)3705 4972 y FY(~)3712 4979 y FP(x)p F4(,)357 5129
y(indicating)26 b(that)h FJ(f)991 5144 y FM(0)1058 5129
y F4(describes)g(the)g(ef)n(fect)h(of)g FJ(f)f F4(for)h(an)o(y)f(ar)n
(guments)g(matching)f(the)h(free)i(pattern)350 5271 y
FY(~)357 5278 y FP(x)p F4(\227that)24 b(is,)h(an)o(y)g(ar)n(guments)f
(at)i(all.)32 b(The)25 b(right-hand)g(side)g(is)f(a)i(placeholder)f
FX(?)p F4(,)h(indicating)e(that)357 5428 y(we)h(ha)n(v)o(e)f(not)h(yet)
f(decided)h(what)f FJ(f)i F4(returns)e(for)h(ar)n(guments)f(matching)
2885 5421 y FY(~)2892 5428 y FP(x)p F4(.)1997 5667 y(167)p
eop
%%Page: 168 173
168 172 bop 357 -6 a F4(As)36 b(we)g(split)f(the)h(goal)f
FJ(f)1261 9 y FM(0)1336 -6 y F4(to)h(yield)g(subgoals)e(for)j
(speci\002c)f(constructor)g(cases,)j(so)d(we)g(shall)357
144 y(split)22 b(the)h(equation)g FX([)p FJ(f)1122 159
y FM(0)1162 144 y FX(])g F4(into)g(the)g(corresponding)g(equations)f
(with)h(more)g(instantiated)f(patterns.)357 293 y(These)41
b(equations)g(constitute)f(the)i(pattern)f(matching)g(program)g(we)h
(are)g(b)n(uilding,)i(and)e(we)357 443 y(shall)22 b(maintain)g(the)h
(in)l(v)n(ariant)f(that)h(their)g(patterns)f(constitute)g(a)i
F0(co)o(v)o(ering)f F4(in)g(accordance)h(with)357 592
y(Coquand')-5 b(s)24 b(de\002nition.)30 b(This)24 b(is)g(tri)n(vially)f
(the)i(case)g(for)g FX([)p FJ(f)2419 607 y FM(0)2459
592 y FX(])p F4(.)1199 b FC(\003)357 951 y F4(By)23 b(the)f(w)o(ay)-6
b(,)23 b(if)g(the)g(program)f(is)g(not)g(recursi)n(v)o(e,)h(let)f(us)h
(allo)n(w)e(the)i(omission)e(of)i(the)f FP(x)3388 966
y FL(r)3449 951 y F4(from)g(the)357 1101 y(tactic)28
b(call.)43 b(Correspondingly)-6 b(,)28 b(we)i(do)e(not)h(need)g(to)f
(apply)h(the)f(guarded)h(recursion)g(theorem.)357 1250
y(The)c(type)f(of)h FJ(f)872 1265 y FM(0)936 1250 y F4(is)g(then)f(the)
h(same)g(as)f(that)h(of)g FJ(f)p F4(.)31 b(The)25 b(rest)f(of)h(the)g
(techique)f(is)h(unaf)n(fected.)357 1459 y(No)n(w)-6
b(,)20 b FZ(vlast)h F4(is)f(structurally)g(recursi)n(v)o(e)g(on)h
(either)g(of)g(its)f(ar)n(guments,)h(so)g(it)f(is)h(immaterial)f(which)
357 1609 y(we)25 b(choose.)30 b(I)25 b(shall)f(pick)h(the)g(v)o(ector)
-5 b(.)29 b(Let)c(us)f(see)i(the)e(ef)n(fect)h(of)g(the)g(tactic:)p
7 setlinewidth np 655 1862 25 135.00 315.00 arc st 7
setlinewidth np 691 1844 18 180.00 360.00 arc st 7 setlinewidth
np 745 1844 35 180.00 360.00 arc st 7 setlinewidth np
789 1871 28 251.56 341.56 arc st 7 setlinewidth np 816
1889 27 270.00 450.00 arc st 7 setlinewidth np 780 1915
35 360.00 540.00 arc st 7 setlinewidth np 727 1915 18
360.00 540.00 arc st 7 setlinewidth np 682 1915 27 360.00
540.00 arc st 7 setlinewidth np 647 1898 19 63.43 243.43
arc st 601 2074 a FX(?)p FZ(Vlast)75 b FX(:)46 b F3(8)p
FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(x)12
b FX(:)f FZ(v)n(ect)22 b(s)p FP(n)p FY(:)g FI(Type)601
2194 y FX(?)p FJ(call)134 b FX(:)46 b F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(x)12 b FX(:)f
FZ(v)n(ect)22 b(s)p FP(n)p FY(:)g FX(\()p FZ(Vlast)2125
2209 y FK(n)2188 2194 y FP(x)p FX(\))27 b F3(!)g FP(A)601
2315 y FX(?)p FJ(retur)r(n)c FX(:)46 b F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b F3(8)p FP(x)12 b FX(:)f
FZ(v)n(ect)22 b(s)p FP(n)p FY(:)g FP(A)32 b F3(!)27 b
FZ(Vlast)2318 2330 y FK(n)2381 2315 y FP(x)620 2435 y
FX(!\010)211 b(=)22 b FY(\025)p FP(m)p FX(:)h FZ(N)-63
b(N)1026 2555 y FY(\025)p FP(y)28 b FX(:)23 b FZ(v)n(ect)f
FP(m)1028 2676 y F3(8)p FP(n)h FX(:)g FZ(N)-63 b(N)1028
2796 y F3(8)p FP(x)28 b FX(:)23 b FZ(v)n(ect)f(s)o FP(n)1028
2916 y F3(8)p FP(e)1122 2931 y FM(1)1161 2916 y FX(:)h
FP(m)e F3(')i FZ(s)o FP(n)1028 3037 y F3(8)p FP(e)1122
3052 y FM(2)1161 3037 y FX(:)g FP(y)e F3(')i FP(x)1083
3157 y FZ(Vlast)1313 3172 y FK(n)1377 3157 y FP(x)601
3278 y FX(?)p FJ(f)678 3293 y FM(0)953 3278 y FX(:)46
b F3(8)q FP(n)100 b FX(:)22 b FZ(N)-63 b(N)1026 3398
y F3(8)q FP(x)105 b FX(:)22 b FZ(v)n(ect)g(s)p FP(n)1026
3518 y F3(8)q FP(r)n(ecs)o FX(:)g FZ(v)n(ectA)n(ux)f
FX(\010)i FP(n)f(x)1082 3639 y FZ(Vlast)1312 3654 y FK(n)1375
3639 y FP(x)620 3759 y FX(!)p FZ(vlast)65 b FX(=)22 b
FY(\025)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b(\025)p
FP(x)11 b FX(:)g FZ(v)n(ect)22 b(s)p FP(n)p FY(:)g FZ(v)n(ectFix)h
FX(\010)f FJ(f)2338 3774 y FM(0)2399 3759 y FZ(s)p FP(n)g(x)g
FX(\()p FZ(re\003)g(s)p FP(n)p FX(\))g(\()p FZ(re\003)g
FP(x)p FX(\))620 3879 y(!)p FP(goal)115 b FX(=)22 b FY(\025)p
FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b(\025)p FP(x)11
b FX(:)g FZ(v)n(ect)22 b(s)p FP(n)p FY(:)g FJ(call)h
FX(\()p FZ(vlast)2307 3894 y FK(n)2371 3879 y FP(x)o
FX(\))601 4040 y([)p FJ(f)659 4055 y FM(0)698 4040 y
FX(])i FZ(vlast)966 4055 y FK(n)1029 4040 y FP(x)50 b
FX(=)22 b(?)120 b(\()p FP(n)28 b FX(:)g FZ(N)-63 b(N)p
FX(;)17 b FP(x)27 b FX(:)h FZ(v)n(ect)22 b(s)o FP(n)q
FX(\))357 4358 y F4(No)n(w)g(that)g(we)g(kno)n(w)g(ho)n(w)g(to)g(start)
g(the)g(process,)h(we)g(must)f(\002gure)h(out)f(ho)n(w)f(to)h(b)n(uild)
g(co)o(v)o(erings.)359 4567 y(T)l F2(A)q(C)t(T)t(I)t(C)r
F4(:)34 b F0(split)1997 5667 y F4(168)p eop
%%Page: 169 174
169 173 bop 601 61 1296 4 v 601 667 4 607 v 7 setlinewidth
np 684 141 25 135.00 315.00 arc st 7 setlinewidth np
719 123 18 180.00 360.00 arc st 7 setlinewidth np 773
123 35 180.00 360.00 arc st 7 setlinewidth np 818 150
28 251.56 341.56 arc st 7 setlinewidth np 844 167 27
270.00 450.00 arc st 7 setlinewidth np 809 194 35 360.00
540.00 arc st 7 setlinewidth np 755 194 18 360.00 540.00
arc st 7 setlinewidth np 710 194 27 360.00 540.00 arc
st 7 setlinewidth np 675 176 19 63.43 243.43 arc st 629
365 a FX(?)p FJ(f)706 380 y FL(i)734 365 y FX(:)23 b
F3(8)832 358 y FY(~)839 365 y FP(y)105 b FX(:)1044 339
y FY(~)1043 365 y FP(Y)1110 380 y FL(i)784 486 y F3(8)p
FP(r)n(ecs)o FX(:)22 b FJ(F)n(amA)n(ux)g FX(\010)1539
479 y FY(~)1546 486 y FP(p)1596 518 y FL(i)1624 486 y
FX(;)17 b FP(s)1706 501 y FL(ir)839 606 y FJ(F)897 599
y FY(~)909 606 y FP(s)948 621 y FL(i)p 1893 667 V 601
670 1296 4 v 601 888 a FX([)p FJ(f)659 903 y FL(i)687
888 y FX(])25 b FJ(f)780 881 y FY(~)793 888 y FP(s)831
903 y FL(i)909 888 y FX(=)d(?)120 b(\()1204 881 y FY(~)1211
888 y FP(y)28 b FX(:)1345 862 y FY(~)1344 888 y FP(Y)1410
903 y FL(i)1438 888 y FX(\))1924 516 y F3(\))p 2051 -102
1472 4 v 2051 667 4 770 v 7 setlinewidth np 2134 -22
25 135.00 315.00 arc st 7 setlinewidth np 2170 -40 18
180.00 360.00 arc st 7 setlinewidth np 2223 -40 35 180.00
360.00 arc st 7 setlinewidth np 2268 -13 28 251.56 341.56
arc st 7 setlinewidth np 2295 5 27 270.00 450.00 arc
st 7 setlinewidth np 2259 32 35 360.00 540.00 arc st
7 setlinewidth np 2206 32 18 360.00 540.00 arc st 7 setlinewidth
np 2161 32 27 360.00 540.00 arc st 7 setlinewidth np
2125 14 19 63.43 243.43 arc st 2079 203 a FX(?)p FJ(f)2157
218 y FL(j)2193 203 y FX(:)22 b F3(8)2288 196 y FY(~)2298
203 y FP(z)111 b FX(:)2503 177 y FY(~)2502 203 y FP(Z)2568
218 y FL(j)2242 323 y F3(8)q FP(r)n(ecs)o FX(:)22 b FJ(F)n(amA)n(ux)g
FX(\010)h FY(\033)3060 338 y FL(j)3097 323 y FX(\()3128
316 y FY(~)3135 323 y FP(p)3184 355 y FL(i)3213 323 y
FX(;)17 b FP(s)3295 338 y FL(ir)3357 323 y FX(\))2298
444 y FJ(F)22 b FY(\033)2423 459 y FL(j)2448 437 y FY(~)2460
444 y FP(s)2499 459 y FL(i)2079 540 y F4(.)2079 573 y(.)2079
606 y(.)p 3519 667 V 2051 670 1472 4 v 2051 888 a FX([)p
FJ(f)2109 903 y FL(j)2146 888 y FX(])j FJ(f)d FY(\033)2306
903 y FL(j)2331 881 y FY(~)2343 888 y FP(s)2382 903 y
FL(i)2460 888 y FX(=)g(?)120 b(\()2752 881 y FY(~)2762
888 y FP(z)28 b FX(:)2890 862 y FY(~)2889 888 y FP(Z)2955
903 y FL(j)2992 888 y FX(\))2051 984 y F4(.)2051 1017
y(.)2051 1051 y(.)601 1222 y(where)d FP(y)919 1253 y
FL(k)989 1222 y FX(:)j FJ(F)n(am)1252 1173 y FE(0)1284
1215 y FY(~)1297 1222 y FP(r)601 1371 y F4(and)c FZ(Con)976
1386 y FL(j)1041 1371 y FX(:)j F3(8)1143 1364 y FY(~)1150
1371 y FP(x)12 b FX(:)1254 1345 y FY(~)1250 1371 y FP(X)p
FY(:)22 b FJ(F)n(am)1579 1323 y FE(0)1609 1349 y FY(~)1624
1371 y FP(t)601 1520 y F4(and)35 b FY(\033)835 1535 y
FL(j)907 1520 y F4(is)f(a)i(most)d(general)j(uni\002er)f(\(from)2195
1513 y FY(~)2202 1520 y FP(y)p FX(;)2288 1513 y FY(~)2296
1520 y FP(x)f F4(to)h(terms)g(o)o(v)o(er)2949 1513 y
FY(~)2959 1520 y FP(z)p F4(\))g(of)3177 1513 y FY(~)3189
1520 y FP(r)p FX(;)17 b FP(y)3322 1552 y FL(k)3399 1520
y F4(and)585 1648 y FY(~)601 1670 y FP(t)p FX(;)g(\()p
FZ(Con)922 1685 y FL(j)974 1663 y FY(~)981 1670 y FP(x)p
FX(\))p F4(,)25 b(both)f(in)p 1423 1584 208 4 v 24 w
FJ(F)n(am)1631 1602 y FE(0)359 1962 y F4(P)t F2(R)q(O)t(O)t(F)357
2172 y F4(The)h(tactic)601 2464 y F0(split)f FP(y)858
2496 y FL(k)357 2757 y F4(performs)f(a)h(case)g(split)e(on)h
FP(y)1371 2788 y FL(k)1437 2757 y F4(in)h(subgoal)e FJ(f)1903
2772 y FL(i)1932 2757 y F4(,)h(yielding)g(a)g(b)n(unch)h(of)f(subgoals)
f FJ(f)3174 2772 y FL(j)3210 2757 y F4(.)31 b(The)23
b(equation)357 2906 y(for)i FJ(f)529 2921 y FL(i)582
2906 y F4(is)f(split)g(correspondingly)f(into)h(equations)g(for)h(the)g
FJ(f)2448 2921 y FL(j)2485 2906 y F4(.)357 3116 y(As)k(abo)o(v)o(e,)i
(we)f(eliminate)f FP(y)1386 3147 y FL(k)1458 3116 y F4(in)h(subgoal)f
FJ(f)1937 3131 y FL(i)1995 3116 y F4(via)h(the)g(case)h(analysis)e
(principle)g(for)h FJ(F)n(am)3590 3067 y FE(0)3643 3116
y F4(and)357 3265 y(then)35 b(apply)h(uni\002cation.)63
b(The)36 b(tactic)g(succeeds)g(pro)o(vided)f(uni\002cation)g(in)g(each)
i(case)f(either)357 3414 y(sho)n(ws)g(that)h(there)h(is)g(no)f
(uni\002er)h(or)g(\002nds)f(a)h(mgu)f FY(\033)2309 3429
y FL(j)2346 3414 y F4(.)70 b(The)37 b(resulting)g(collection)g(of)g
(mgus)357 3564 y(justi\002es)f(the)h(ne)n(w)g(co)o(v)o(ering,)i(and)e
(it)g(also)g(justi\002es)f(the)h(unfoldings)f(which)h(sho)n(w)f(that)g
FJ(f)3661 3579 y FL(i)3708 3557 y FY(~)3720 3564 y FP(s)3759
3579 y FL(i)357 3713 y F4(reduces)25 b(in)f(each)i(case)f(to)f
FJ(f)1326 3728 y FL(j)1384 3713 y FY(\033)1439 3728 y
FL(j)1464 3706 y FY(~)1476 3713 y FP(s)1515 3728 y FL(i)1543
3713 y F4(.)357 3923 y(The)35 b(in)l(v)n(ariant)f(that)h(the)g
(patterns)g(of)g(the)g(equations)f(associated)h(with)g(the)g(subgoals)f
(form)h(a)357 4072 y(co)o(v)o(ering)23 b(is)i(maintained.)2422
b FC(\003)357 4431 y F4(In)32 b(our)h(e)o(xample,)g(we)g(shall)f
(certainly)g(need)h(to)f(split)g(on)g(the)g(v)o(ector)h
FP(x)o F4(.)55 b(There)33 b(is)f(no)g(w)o(ay)h(to)357
4581 y(mak)o(e)24 b(a)i(nonempty)d(v)o(ector)h(with)g
FZ(vnil)p F4(,)h(so)f(only)h(the)f FZ(vcons)h F4(case)h(survi)n(v)o
(es:)1997 5667 y(169)p eop
%%Page: 170 175
170 174 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FJ(f)678 177 y FL(c)713 162 y
FX(:)22 b F3(8)p FP(n)100 b FX(:)22 b FZ(N)-63 b(N)762
282 y F3(8)p FP(h)105 b FX(:)22 b FP(A)762 403 y F3(8)p
FP(t)122 b FX(:)22 b FZ(v)n(ect)h FP(n)762 523 y F3(8)p
FP(r)n(ecs)o FX(:)f(\006)q FP(t)1125 538 y FL(r)r(ec)1226
523 y FX(:)h F3(8)p FP(m)p FX(:)f FZ(N)-63 b(N)1276 643
y F3(8)p FP(x)28 b FX(:)22 b FZ(v)n(ect)h(s)o FP(m)1276
764 y F3(8)p FP(e)1370 779 y FM(1)1409 764 y FX(:)f FP(n)h
F3(')g FZ(s)o FP(m)1276 884 y F3(8)p FP(e)1370 899 y
FM(2)1409 884 y FX(:)f FP(t)h F3(')f FP(x)1331 1005 y
FZ(Vlast)1561 1020 y FK(m)1639 1005 y FP(x)1092 1125
y FZ(v)n(ectA)n(ux)f FX(\010)i FP(n)f(t)817 1245 y FZ(Vlast)g
FP(n)g FX(\()p FZ(vcons)h FP(h)f(t)p FX(\))601 1398 y([)p
FJ(f)659 1413 y FL(c)694 1398 y FX(])j FZ(vlast)961 1413
y FK(n)1024 1398 y FX(\()p FZ(vcons)e FP(h)f(t)p FX(\))50
b(=)22 b(?)120 b(\()p FP(n)28 b FX(:)g FZ(N)-63 b(N)o
FX(;)17 b FP(h)28 b FX(:)f FP(A)5 b FX(;)17 b FP(t)27
b FX(:)h FZ(v)n(ect)22 b FP(n)q FX(\))357 1655 y F4(Note)28
b(that)h(the)g(w)o(allet)f(of)h(recursions)g(has)g(unfolded)f(by)h(one)
g(step,)g(sho)n(wing)f(us)g(the)h(recursi)n(v)o(e)357
1804 y(call)21 b(we)g(could)g(mak)o(e)g(for)g FP(t)q
F4(,)h(b)n(ut)e(for)i(the)f(f)o(act)g(that)g(it)g(is)f(not)h(kno)n(wn)f
(to)h(be)g(nonempty)-6 b(.)28 b(The)21 b(ef)n(fect)357
1953 y(of)i(our)g(informati)n(v)o(e)f(retyping)g(has)i(been)f(to)g(mak)
o(e)g(the)h(conclusion)e(of)h FJ(f)2905 1968 y FL(c)2963
1953 y F4(tell)g(us)g(the)g(patterns)g(in)357 2103 y(the)h
(corresponding)g(equation.)357 2312 y(W)-8 b(e)29 b(must)e(mak)o(e)i
(one)g(more)f(split)g(before)h(we)g(can)g(\002nish)f(the)h(job)l(.)41
b(If)30 b(this)d(were)j(simply)d(typed)357 2462 y(programming,)i(we)h
(w)o(ould)e(split)h FP(t)h F4(to)f(see)h(whether)f FP(h)h
F4(is)f(the)g(last)g(element)h(or)f(not.)45 b(Ho)n(we)n(v)o(er)l(,)357
2611 y(we)25 b(do)f(not)h(need)g(to)f(destructure)g FP(t)q
F4(\227splitting)e FP(n)j F4(will)f(tell)g(us)h(all)f(we)h(need.)p
7 setlinewidth np 655 2803 25 135.00 315.00 arc st 7
setlinewidth np 691 2785 18 180.00 360.00 arc st 7 setlinewidth
np 745 2785 35 180.00 360.00 arc st 7 setlinewidth np
789 2812 28 251.56 341.56 arc st 7 setlinewidth np 816
2830 27 270.00 450.00 arc st 7 setlinewidth np 780 2857
35 360.00 540.00 arc st 7 setlinewidth np 727 2857 18
360.00 540.00 arc st 7 setlinewidth np 682 2857 27 360.00
540.00 arc st 7 setlinewidth np 647 2839 19 63.43 243.43
arc st 601 3015 a FX(?)p FJ(f)678 3030 y FL(cz)748 3015
y FX(:)d F3(8)q FP(h)105 b FX(:)22 b FP(A)797 3135 y
F3(8)q FP(t)122 b FX(:)22 b FZ(v)n(ect)g(0)797 3256 y
F3(8)q FP(r)n(ecs)o FX(:)g(\006)q FP(t)1161 3271 y FL(r)r(ec)1262
3256 y FX(:)g F3(8)q FP(m)p FX(:)g FZ(N)-63 b(N)1311
3376 y F3(8)q FP(x)28 b FX(:)22 b FZ(v)n(ect)g(s)p FP(m)1311
3496 y F3(8)q FP(e)1405 3511 y FM(1)1445 3496 y FX(:)g
FZ(0)g F3(')h FZ(s)p FP(m)1311 3617 y F3(8)q FP(e)1405
3632 y FM(2)1445 3617 y FX(:)f FP(t)g F3(')h FP(x)1367
3737 y FZ(Vlast)1597 3752 y FK(m)1675 3737 y FP(x)1128
3858 y FZ(v)n(ectA)n(ux)e FX(\010)i FZ(0)f FP(t)853 3978
y FZ(Vlast)f(0)i FX(\()p FZ(vcons)f FP(h)g(t)p FX(\))601
4098 y(?)p FJ(f)678 4113 y FL(cs)748 4098 y FX(:)g F3(8)q
FP(n)100 b FX(:)22 b FZ(N)-63 b(N)797 4219 y F3(8)q FP(h)105
b FX(:)22 b FP(A)797 4339 y F3(8)q FP(t)122 b FX(:)22
b FZ(v)n(ect)g(s)p FP(n)797 4460 y F3(8)q FP(r)n(ecs)o
FX(:)g(\006)q FP(t)1161 4475 y FL(r)r(ec)1262 4460 y
FX(:)g F3(8)q FP(m)p FX(:)g FZ(N)-63 b(N)1311 4580 y
F3(8)q FP(x)28 b FX(:)22 b FZ(v)n(ect)g(s)p FP(m)1311
4700 y F3(8)q FP(e)1405 4715 y FM(1)1445 4700 y FX(:)g
FZ(s)p FP(n)g F3(')h FZ(s)o FP(m)1311 4821 y F3(8)q FP(e)1405
4836 y FM(2)1445 4821 y FX(:)f FP(t)g F3(')h FP(x)1367
4941 y FZ(Vlast)1597 4956 y FK(m)1675 4941 y FP(x)1128
5061 y FZ(v)n(ectA)n(ux)e FX(\010)i FZ(s)o FP(n)g(t)853
5182 y FZ(Vlast)e(s)p FP(n)i FX(\()p FZ(vcons)f FP(h)g(t)p
FX(\))601 5335 y([)p FJ(f)659 5350 y FL(cz)729 5335 y
FX(])j FZ(vlast)997 5350 y Fg(0)1060 5335 y FX(\()p FZ(vcons)d
FP(h)g(t)q FX(\))49 b(=)22 b(?)120 b(\()p FP(h)28 b FX(:)g
FP(A)t FX(;)17 b FP(t)27 b FX(:)h FZ(v)n(ect)22 b(0)p
FX(\))601 5484 y([)p FJ(f)659 5499 y FL(cs)726 5484 y
FX(])j FZ(vlast)994 5499 y Fg(s)p FK(n)1083 5484 y FX(\()p
FZ(vcons)d FP(h)g(t)p FX(\))50 b(=)22 b(?)120 b(\()p
FP(n)28 b FX(:)g FZ(N)-63 b(N)p FX(;)17 b FP(h)27 b FX(:)h
FP(A)t FX(;)17 b FP(t)27 b FX(:)h FZ(v)n(ect)23 b(s)o
FP(n)q FX(\))1997 5667 y F4(170)p eop
%%Page: 171 176
171 175 bop 357 -6 a F4(Observ)o(e)34 b(that)h(in)f(the)h(former)h
(case,)i(there)d(is)f(no)h(w)o(ay)g(the)g(matching)f(problem)g(can)i(e)
n(v)o(er)e(be)357 144 y(solv)o(ed)23 b(to)i(allo)n(w)e(access)j(to)e(a)
h(recursi)n(v)o(e)f(call,)h(whilst)f(in)g(the)h(latter)l(,)f(the)h(w)o
(ay)g(is)f(clear)-5 b(.)357 353 y(Ha)n(ving)24 b(split)f(as)i(f)o(ar)h
(as)f(is)f(necessary)-6 b(,)25 b(we)g(should)e(lik)o(e)i(to)f(\002ll)h
(in)f(the)h(right-hand)f(sides.)359 563 y(T)l F2(A)q(C)t(T)t(I)t(C)r
F4(:)34 b F0(r)n(etur)o(n)p 601 692 1296 4 v 601 1299
4 607 v 7 setlinewidth np 684 772 25 135.00 315.00 arc
st 7 setlinewidth np 719 755 18 180.00 360.00 arc st
7 setlinewidth np 773 755 35 180.00 360.00 arc st 7 setlinewidth
np 818 781 28 251.56 341.56 arc st 7 setlinewidth np
844 799 27 270.00 450.00 arc st 7 setlinewidth np 809
826 35 360.00 540.00 arc st 7 setlinewidth np 755 826
18 360.00 540.00 arc st 7 setlinewidth np 710 826 27
360.00 540.00 arc st 7 setlinewidth np 675 808 19 63.43
243.43 arc st 629 997 a FX(?)p FJ(f)706 1012 y FL(i)734
997 y FX(:)23 b F3(8)832 990 y FY(~)839 997 y FP(y)105
b FX(:)1044 971 y FY(~)1043 997 y FP(Y)1110 1012 y FL(i)784
1118 y F3(8)p FP(r)n(ecs)o FX(:)22 b FJ(F)n(amA)n(ux)g
FX(\010)1539 1111 y FY(~)1546 1118 y FP(p)1596 1149 y
FL(i)1624 1118 y FX(;)17 b FP(s)1706 1133 y FL(ir)839
1238 y FJ(F)897 1231 y FY(~)909 1238 y FP(s)948 1253
y FL(i)p 1893 1299 V 601 1302 1296 4 v 601 1520 a FX([)p
FJ(f)659 1535 y FL(i)687 1520 y FX(])25 b FJ(f)780 1513
y FY(~)793 1520 y FP(s)831 1535 y FL(i)909 1520 y FX(=)d(?)120
b(\()1204 1513 y FY(~)1211 1520 y FP(y)28 b FX(:)1345
1494 y FY(~)1344 1520 y FP(Y)1410 1535 y FL(i)1438 1520
y FX(\))1924 1147 y F3(\))p 2051 692 1327 4 v 2051 1299
4 607 v 7 setlinewidth np 2134 772 25 135.00 315.00 arc
st 7 setlinewidth np 2170 755 18 180.00 360.00 arc st
7 setlinewidth np 2223 755 35 180.00 360.00 arc st 7
setlinewidth np 2268 781 28 251.56 341.56 arc st 7 setlinewidth
np 2295 799 27 270.00 450.00 arc st 7 setlinewidth np
2259 826 35 360.00 540.00 arc st 7 setlinewidth np 2206
826 18 360.00 540.00 arc st 7 setlinewidth np 2161 826
27 360.00 540.00 arc st 7 setlinewidth np 2125 808 19
63.43 243.43 arc st 2079 997 a FX(!)p FJ(f)2138 1012
y FL(i)2166 997 y FX(=)22 b FY(\025)2314 990 y(~)2321
997 y FP(y)105 b FX(:)2526 971 y FY(~)2525 997 y FP(Y)2591
1012 y FL(i)2264 1118 y FY(\025)p FP(r)n(ecs)o FX(:)22
b FJ(F)n(amA)n(ux)g FX(\010)3021 1111 y FY(~)3028 1118
y FP(p)3078 1149 y FL(i)3106 1118 y FX(;)17 b FP(s)3188
1133 y FL(ir)2321 1238 y FJ(retur)r(n)j FP(t)2658 1200
y FE(0)2658 1263 y FL(i)p 3375 1299 V 2051 1302 1327
4 v 2051 1520 a FX([)p FJ(f)2109 1535 y FL(i)2138 1520
y FX(])25 b FJ(f)2230 1513 y FY(~)2243 1520 y FP(s)2282
1535 y FL(i)2360 1520 y FX(=)49 b FJ(retur)r(n)21 b FP(t)2822
1482 y FE(0)2822 1545 y FL(i)2971 1520 y FX(\()3002 1513
y FY(~)3009 1520 y FP(y)27 b FX(:)3142 1494 y FY(~)3141
1520 y FP(Y)3207 1535 y FL(i)3235 1520 y FX(\))359 1747
y F4(P)t F2(R)q(O)t(O)t(F)357 1956 y F4(Gi)n(v)o(en)601
2222 y F0(r)n(etur)o(n)f FP(t)932 2237 y FL(i)357 2488
y F4(we)f(may)-6 b(,)23 b(as)i(before,)g(form)g FP(t)1376
2450 y FE(0)1376 2513 y FL(i)1429 2488 y F4(by)f(replacing)h(the)f
(recursi)n(v)o(e)g(calls)g FJ(f)2731 2481 y FY(~)2741
2488 y FP(z)h F4(by)g FJ(call)p F4(s)g(to)f(holes)g(of)h(type)357
2637 y FJ(F)419 2630 y FY(~)428 2637 y FP(z)q F4(.)36
b(If)27 b(these)f(calls)h(are)g(structurally)e(smaller)h(at)h(ar)n
(gument)f FY(r)s F4(,)h(we)g(will)f(once)g(again)g(be)h(able)g(to)357
2787 y(solv)o(e)c(these)i(holes)f(by)h(appeal)g(to)f(appropriate)h
(projections)e(from)i FP(r)n(ecs)o F4(.)357 2996 y(The)38
b(structural)g(condition)f(ensures)h(that)g(the)g(ne)n(w)g(equation)f
(is)h(acceptable,)k(and)c(the)g(same)357 3146 y(ar)n(gument)24
b(as)h(that)f(in)h(the)f(abo)o(v)o(e)g(theorem)h(sho)n(ws)e(that)h(it)h
(holds)f(intensionally)-6 b(.)508 b FC(\003)357 3505
y F4(Our)20 b(e)o(xample)g(has)g(tw)o(o)g(cases.)30 b(F)o(or)20
b(the)h(singleton,)e(the)i(v)n(alue)f(should)f(just)g(be)i(the)f(head.)
30 b F0(r)n(etur)o(n)357 3654 y FP(h)24 b F4(gi)n(v)o(es)g(us)p
7 setlinewidth np 655 3871 25 135.00 315.00 arc st 7
setlinewidth np 691 3854 18 180.00 360.00 arc st 7 setlinewidth
np 745 3854 35 180.00 360.00 arc st 7 setlinewidth np
789 3880 28 251.56 341.56 arc st 7 setlinewidth np 816
3898 27 270.00 450.00 arc st 7 setlinewidth np 780 3925
35 360.00 540.00 arc st 7 setlinewidth np 727 3925 18
360.00 540.00 arc st 7 setlinewidth np 682 3925 27 360.00
540.00 arc st 7 setlinewidth np 647 3907 19 63.43 243.43
arc st 601 4083 a FX(!)p FJ(f)659 4098 y FL(cz)751 4083
y FY(\025)p FP(h)105 b FX(:)23 b FP(A)751 4204 y FY(\025)p
FP(t)122 b FX(:)23 b FZ(v)n(ect)f(0)751 4324 y FY(\025)p
FP(r)n(ecs)o FX(:)h(\006)p FP(t)1116 4339 y FL(r)r(ec)1217
4324 y FX(:)g F3(8)p FP(m)p FX(:)f FZ(N)-63 b(N)1267
4444 y F3(8)p FP(x)28 b FX(:)22 b FZ(v)n(ect)h(s)o FP(m)1267
4565 y F3(8)p FP(e)1361 4580 y FM(1)1400 4565 y FX(:)f
FZ(0)h F3(')f FZ(s)p FP(m)1267 4685 y F3(8)p FP(e)1361
4700 y FM(2)1400 4685 y FX(:)g FP(t)h F3(')f FP(x)1322
4806 y FZ(Vlast)1552 4821 y FK(m)1630 4806 y FP(x)1083
4926 y FZ(v)n(ectA)n(ux)f FX(\010)i FZ(0)f FP(t)808 5046
y FJ(retur)r(n)f FP(h)601 5203 y FX([)p FJ(f)659 5218
y FL(cz)729 5203 y FX(])k FZ(vlast)997 5218 y Fg(0)1060
5203 y FX(\()p FZ(vcons)d FP(h)g(t)q FX(\))49 b(=)h FJ(retur)r(n)21
b FP(h)119 b FX(\()p FP(h)28 b FX(:)g FP(A)t FX(;)17
b FP(t)27 b FX(:)h FZ(v)n(ect)22 b(0)q FX(\))357 5484
y F4(In)j(the)f(case)i(with)e(the)g(nonempty)g(tail,)g(we)h(mak)o(e)g
(the)f(recursi)n(v)o(e)g(call)1997 5667 y(171)p eop
%%Page: 172 177
172 176 bop 601 -6 a F0(r)n(etur)o(n)26 b FZ(vlast)1114
9 y FK(n)1178 -6 y FP(t)357 287 y F4(This)e(becomes)p
7 setlinewidth np 655 513 25 135.00 315.00 arc st 7 setlinewidth
np 691 495 18 180.00 360.00 arc st 7 setlinewidth np
745 495 35 180.00 360.00 arc st 7 setlinewidth np 789
522 28 251.56 341.56 arc st 7 setlinewidth np 816 540
27 270.00 450.00 arc st 7 setlinewidth np 780 566 35
360.00 540.00 arc st 7 setlinewidth np 727 566 18 360.00
540.00 arc st 7 setlinewidth np 682 566 27 360.00 540.00
arc st 7 setlinewidth np 647 549 19 63.43 243.43 arc
st 601 725 a FX(?)p FJ(f)678 740 y FL(cs)745 725 y FX(:)f
FY(\025)o FP(n)100 b FX(:)23 b FZ(N)-63 b(N)795 845 y
FY(\025)o FP(h)105 b FX(:)23 b FP(A)795 965 y FY(\025)o
FP(t)122 b FX(:)23 b FZ(v)n(ect)f(s)p FP(n)795 1086 y
FY(\025)o FP(r)n(ecs)o FX(:)h(\006)p FP(t)1159 1101 y
FL(r)r(ec)1261 1086 y FX(:)f F3(8)p FP(m)p FX(:)h FZ(N)-63
b(N)1310 1206 y F3(8)p FP(x)28 b FX(:)23 b FZ(v)n(ect)f(s)p
FP(m)1310 1327 y F3(8)p FP(e)1404 1342 y FM(1)1443 1327
y FX(:)h FZ(s)o FP(n)g F3(')f FZ(s)p FP(m)1310 1447 y
F3(8)p FP(e)1404 1462 y FM(2)1443 1447 y FX(:)h FP(t)f
F3(')g FP(x)1365 1567 y FZ(Vlast)1595 1582 y FK(m)1673
1567 y FP(x)1126 1688 y FZ(v)n(ectA)n(ux)g FX(\010)g
FZ(s)p FP(n)g(t)805 1808 y FX(?)p FP(v)901 1823 y FL(t)1006
1808 y FX(:)h FZ(Vlast)1286 1823 y FK(n)1349 1808 y FP(t)851
1929 y FJ(retur)r(n)e FX(\()p FJ(call)i FP(v)1437 1944
y FL(t)1467 1929 y FX(\))357 2209 y F4(A)i(quick)f(search)h(re)n(v)o
(eals)f(the)h(appropriate)f(recursion)p 7 setlinewidth
np 655 2437 25 135.00 315.00 arc st 7 setlinewidth np
691 2419 18 180.00 360.00 arc st 7 setlinewidth np 745
2419 35 180.00 360.00 arc st 7 setlinewidth np 789 2446
28 251.56 341.56 arc st 7 setlinewidth np 816 2464 27
270.00 450.00 arc st 7 setlinewidth np 780 2490 35 360.00
540.00 arc st 7 setlinewidth np 727 2490 18 360.00 540.00
arc st 7 setlinewidth np 682 2490 27 360.00 540.00 arc
st 7 setlinewidth np 647 2473 19 63.43 243.43 arc st
601 2649 a FX(!)p FP(v)677 2664 y FL(t)707 2649 y FX(=)e
FP(r)n(ecs)o FY(:)p FZ(1)h FP(n)f(t)g FX(\()p FZ(re\003)g(s)p
FP(n)p FX(\))g(\()p FZ(re\003)g FP(t)p FX(\))357 2904
y F4(justifying)h(the)h(equation)601 3197 y FX([)p FJ(f)659
3212 y FL(cs)726 3197 y FX(])h FZ(vlast)994 3212 y Fg(s)p
FK(n)1083 3197 y FX(\()p FZ(vcons)d FP(h)g(t)p FX(\))50
b(=)g FJ(retur)r(n)21 b FX(\()p FJ(call)h FX(\()p FZ(vlast)2535
3212 y FK(n)2599 3197 y FP(t)p FX(\)\))1501 3346 y(\()p
FP(n)28 b FX(:)f FZ(N)-63 b(N)p FX(;)17 b FP(h)27 b FX(:)h
FP(A)t FX(;)17 b FP(t)28 b FX(:)g FZ(v)n(ect)22 b(s)p
FP(n)p FX(\))357 3639 y F4(W)-8 b(e)29 b(can)f(tell)g(when)h(a)f
(program)g(is)g(\002nished\227once)g(all)g(the)h(placeholding)e
FX(?)p F4(s)h(ha)n(v)o(e)g(gone.)42 b(W)-8 b(e)357 3788
y(may)28 b(no)n(w)g(solv)o(e)g FJ(F)q F4(,)i FJ(call)f
F4(and)g FJ(retur)r(n)e F4(as)i(in)g(the)g(pre)n(vious)e(case.)44
b(This)28 b(lea)n(v)o(es)h(us)f(with)h(a)g(real)357 3937
y(term)c FJ(f)i F4(whose)e(intensional)g(beha)n(viour)g(corresponds)h
(to)f(the)h(associated)g(equational)f(program,)357 4087
y(which)f(satis\002es)h(Coquand')-5 b(s)24 b(conditions)f(by)h
(construction.)357 4296 y(Our)h(e)o(xample)e(becomes)601
4589 y FZ(vlast)816 4604 y Fg(0)879 4589 y FX(\()p FZ(vcons)g
FP(h)f(t)p FX(\))50 b(=)f FP(h)601 4738 y FZ(vlast)816
4753 y Fg(s)p FK(n)905 4738 y FX(\()p FZ(vcons)23 b FP(h)f(t)p
FX(\))49 b(=)h FZ(vlast)1784 4753 y FK(n)1847 4738 y
FP(t)357 5031 y F4(This)21 b(is)h(a)h(rather)g(subtle)e(w)o(ay)h(to)g
(write)h FZ(vlast)f F4(which)g(mak)o(es)g(crucial)g(use)g(of)h(the)f(e)
o(xtra)g(inde)o(xing)357 5180 y(information.)67 b(Na)m(\250)-30
b(\021v)o(ely)36 b(erasing)h(the)g(indices)g(in)g(the)g(hope)g(of)h
(reco)o(v)o(ering)e(a)i(function)e(o)o(v)o(er)357 5330
y(ordinary)24 b FZ(list)o F4(s)h(yields)1997 5667 y(172)p
eop
%%Page: 173 178
173 177 bop 601 -6 a FZ(last)21 b FX(\()p FZ(cons)h FP(h)g(t)p
FX(\))50 b(=)g FP(h)601 144 y FZ(last)21 b FX(\()p FZ(cons)h
FP(h)g(t)p FX(\))50 b(=)g FZ(last)21 b FP(t)1793 b F4(\()p
F3(\002)q F4(\))357 436 y(This)24 b(is)g(clearly)h(not)f(the)h(right)f
(function,)g(or)h(indeed)f(a)h(function)f(at)h(all.)357
646 y(Of)g(course,)g(we)g(could)f(ha)n(v)o(e)g(split)g
FP(t)h F4(and)g(b)n(uilt)e(the)i(usual)601 938 y FZ(vlast)816
954 y Fg(0)879 938 y FX(\()p FZ(vcons)e FP(h)f FZ(vnil)o
FX(\))50 b(=)g FP(h)601 1088 y FZ(vlast)816 1103 y Fg(s)p
FK(n)905 1088 y FX(\()p FZ(vcons)23 b FP(h)f FX(\()p
FZ(vcons)g FP(h)1716 1042 y FE(0)1761 1088 y FP(t)p FX(\)\))50
b(=)g FZ(vlast)2261 1103 y FK(n)2324 1088 y FX(\()p FZ(vcons)23
b FP(h)2719 1042 y FE(0)2764 1088 y FP(t)p FX(\))357
1380 y F4(I)f(do)g(not)f(wish)g(to)h(embark)g(on)f(a)i(discussion)d(of)
i(the)g(relati)n(v)o(e)f(merits)g(of)h(these)g(tw)o(o)f(programs\227I)
357 1530 y(will)e(merely)h(point)g(out)g(that)g(computation)e(on)j(the)
f(indices)g(of)g(a)h(type)f(beha)n(v)o(es)g(dif)n(ferently)g(from)357
1679 y(computation)j(on)h(the)h(type)f(directly)-6 b(,)24
b(and)h(sometimes)e(interestingly)g(so.)357 1889 y(The)29
b(combined)f(ef)n(fect)h(of)g(these)g(tactics)g(is)f(to)h(allo)n(w)f(a)
h(similar)f(style)g(of)h(interacti)n(v)o(e)f(program)357
2038 y(de)n(v)o(elopment)d(to)i(that)g(a)n(v)n(ailable)f(in)h
(ALF\227not)g(only)g(can)g(we)h(b)n(uild)e(the)h(same)h(programs,)f(b)n
(ut)357 2187 y(we)e(can)g(do)f(so)h(in)f(the)h(same)g(w)o(ay)-6
b(.)357 2397 y(Ho)n(we)n(v)o(er)l(,)37 b(this)d(is)h(not)g(enough.)62
b(Ha)n(ving)35 b(b)n(uilt)f(these)h(programs,)j(ho)n(w)d(do)g(we)g
(store)h(them?)357 2546 y(F)o(or)30 b(O)t F2(L)t(E)t(G)r
F4(,)h(the)d(representation)f(of)i(the)e(program)h(is)g(still)e(a)j
(ghastly)d(term)i(in)l(v)n(olving)e(guarded)357 2696
y(recursion,)42 b(case)d(analysis)f(and)h(uni\002cation,)j(all)c
(painstakingly)f(recorded.)74 b(Why)38 b(can')n(t)h(we)357
2845 y(just)26 b(write)h(the)g(pattern)g(matching)f(equations)h(do)n
(wn?)37 b(The)27 b(construction)f(of)i(programs)e(in)h(this)357
2995 y(section)19 b(has)i(relied)f(on)g(kno)n(wing)f(more)h(than)g
(just)g(the)g(equations\227we)f(ha)n(v)o(e)i(also)f(e)o(xploited)e(the)
357 3144 y(justi\002cation)26 b(that)g(the)i(equations)e(satisfy)g
(Coquand')-5 b(s)27 b(conditions,)f(and)h(we)h(ha)n(v)o(e)f(reco)o(v)o
(ered)g(a)357 3293 y(process)d(for)h(b)n(uilding)f(those)g
(justi\002cations)f(interacti)n(v)o(ely)-6 b(.)357 3503
y(In)25 b(the)f(ne)o(xt)g(section,)g(I)h(consider)g(ho)n(w)f(much)g(we)
h(can)g(do)g(with)f(just)g(the)g(equations.)357 3903
y FT(6.3)142 b(r)m(ecognising)34 b(pr)m(ograms)357 4215
y F4(The)i(question)f(ask)o(ed)h(in)g(this)f(section)g(is)h(`for)g
(which)g(pattern)g(matching)f(programs)h(can)g(we)357
4365 y(reco)o(v)o(er)i(the)h(justi\002cation?'.)71 b(Sadly)-6
b(,)42 b(as)d(we)g(shall)f(see,)k(the)d(answer)g(is)f(not)g(`all)h(of)g
(them'.)357 4514 y(Nonetheless,)f(it)e(is)g(w)o(orth)g(analysing)f(at)i
(what)f(point)f(the)h(problem)g(becomes)g(undecidable,)357
4663 y(with)h(a)i(vie)n(w)e(to)h(b)n(uilding)f(a)i(system)e(where)i(we)
f(can)h(store)f(enough)g(information)e(to)i(allo)n(w)357
4813 y(the)31 b(reco)o(v)o(ery)-6 b(.)50 b(The)31 b(aim)g(is)g(to)g
(describe)g(a)h(class)f(of)h F0(r)n(ecognisable)g F4(programs.)50
b(I)31 b(ha)n(v)o(e)g(made)357 4962 y(some)i(progress)g(in)g(this)g
(direction,)i(although)d(there)i(is)f(w)o(ork)h(still)e(to)h(be)h
(done.)57 b(I)34 b(feel)g(some)357 5112 y(discussion)e(of)i(the)g
(problem)g(is)g(w)o(orthwhile,)h(not)e(least)h(because)h(the)f
(techniques)f(described)357 5261 y(here)28 b(are)h(suf)n(\002cient)f
(to)g(recognise)g(all)g(the)g(e)o(xamples)f(in)g(this)h(thesis,)g
(which)f(will)h(sa)n(v)o(e)f(me)h(the)357 5411 y(trouble)c(of)h
(describing)f(the)g(construction.)1997 5667 y(173)p eop
%%Page: 174 179
174 178 bop 357 -6 a F4(Our)29 b(e)o(xisting)e(tactical)i(presentation)
g(of)g(program)g(construction)f(will)g(be)i(of)f(assistance)g(to)g(us.)
357 144 y(W)-8 b(e)19 b(ha)n(v)o(e)g(b)n(uilt)f(ourselv)o(es)f(a)j
(structural)e(editor)h(for)g(acceptable)g(programs.)29
b(Let)18 b(us)h(no)n(w)f(imagine)357 293 y(this)25 b(editor)g(being)h
(used)f(not)h(by)f(humans)g(b)n(ut)h(by)f(a)h(mechanical)g
F0(r)n(ecogniser)h F4(whose)f(task)f(is)h(to)357 443
y(tak)o(e)i(a)g(set)g(of)g(pattern)g(matching)f(equations)g(and)h(b)n
(uild)f(the)h(program.)40 b(This)27 b(echoes)h(the)g(vie)n(w)357
592 y(I)e(ha)n(v)o(e)g(tak)o(en)f(of)h(the)g(constructions)f(with)g
(which)g(we)i(may)e(equip)h(our)f(datatypes\227the)o(y)f(mak)o(e)357
742 y(use)34 b(of)h(the)f(tools)g(we)h(ha)n(v)o(e)f(de)n(v)o(eloped)f
(for)i(theorem-pro)o(ving,)h(ie)e(the)h(structural)f(editing)f(of)359
891 y(O)t F2(L)t(E)t(G)d F4(terms.)h(I)25 b(kno)n(w)g(relati)n(v)o(ely)
e(little)h(about)h(writing)f(compilers,)g(b)n(ut)h(it)g(seems)f(to)h
(me)g(that)g(a)357 1041 y(promising)e(\002rst)i(mo)o(v)o(e)e(is)h(to)h
(b)n(uild)e(a)j(structural)e(editor)g(for)h(the)g(tar)n(get)g
(language.)357 1250 y(The)g(three)g(tactics)f(from)h(the)f(pre)n(vious)
g(section)g(di)n(vide)f(recognition)h(into)g(three)h(phases:)502
1562 y F3(\017)49 b F4(identify)26 b(an)h(ar)n(gument)g(position)e(on)i
(which)g(the)g(recursion)g(in)g(the)g(program)g(is)f(guarded)601
1711 y(\(and)f(apply)f F0(pr)n(ogram)p F4(\))502 1942
y F3(\017)49 b F4(sho)n(w)23 b(that)i(the)f(patterns)h(form)f(a)h(co)o
(v)o(ering)f(\(by)h(applying)e F0(split)p F4(\))502 2173
y F3(\017)49 b F4(\002ll)24 b(in)h(the)f(right-hand)g(sides)g(\(with)h
F0(r)n(etur)o(n)p F4(\))357 2485 y(The)34 b(\002rst)g(and)f(third)h(of)
g(these)f(are)i(easy)-6 b(.)58 b(W)-8 b(e)34 b(may)g(simply)e(check)i
(each)h(ar)n(gument)e(position)357 2634 y(in)h(turn)g(for)h(one)f
(which)g(satis\002es)g(the)h(guardedness)f(condition)f(before)i
(applying)e F0(pr)n(ogram)p F4(.)357 2783 y(Meanwhile,)i
F0(r)n(etur)o(n)g F4(codes)f(up)f(e)o(xactly)h(the)f(operation)g(we)h
(need.)58 b(It)34 b(is)f(the)h(second)f(phase,)357 2933
y(checking)24 b(the)h(co)o(v)o(ering,)e(where)j(undecidability)d
(creeps)i(in.)357 3287 y FB(6.3.1)118 b(r)n(ecursion)31
b(spotting)357 3564 y F4(Gi)n(v)o(en)23 b(a)i(goal)p
7 setlinewidth np 655 3811 25 135.00 315.00 arc st 7
setlinewidth np 691 3793 18 180.00 360.00 arc st 7 setlinewidth
np 745 3793 35 180.00 360.00 arc st 7 setlinewidth np
789 3820 28 251.56 341.56 arc st 7 setlinewidth np 816
3838 27 270.00 450.00 arc st 7 setlinewidth np 780 3865
35 360.00 540.00 arc st 7 setlinewidth np 727 3865 18
360.00 540.00 arc st 7 setlinewidth np 682 3865 27 360.00
540.00 arc st 7 setlinewidth np 647 3847 19 63.43 243.43
arc st 601 4036 a FX(?)p FP(goal)p FX(:)d F3(8)910 4029
y FY(~)917 4036 y FP(x)11 b FX(:)1012 4010 y FY(~)1016
4036 y FP(S)q FY(:)22 b FP(T)357 4310 y F4(and)i(a)i(pattern)e
(matching)g(program)g(of)h(arity)g FY(n)601 4598 y FJ(f)632
4613 y FL(i)669 4591 y FY(~)682 4598 y FP(s)721 4613
y FL(i)799 4598 y FX(=)50 b FP(t)958 4613 y FL(i)1106
4598 y FX(\()1137 4591 y FY(~)1144 4598 y FP(y)27 b FX(:)1277
4572 y FY(~)1276 4598 y FP(Y)1343 4613 y FL(i)1371 4598
y FX(\))357 4887 y F4(It)19 b(is)g(easy)h(to)f(check)h(for)g(recursi)n
(v)o(e)f(calls)g(to)h FJ(f)f F4(in)h(the)f FP(t)2208
4902 y FL(i)2236 4887 y F4(.)30 b(It)19 b(is)g(also)g(easy)h(to)f
(\002nd)h(for)g(each)g(equation)357 5036 y(the)25 b(set)f
FP(R)706 5051 y FL(i)759 5036 y F4(of)h(ar)n(gument)g(positions)e
(which)h(satisfy)g(the)h(guardedness)g(condition.)k(W)-8
b(e)26 b(may)e(say)357 5185 y(that)33 b(non-recursi)n(v)o(e)g
(equations)h(are)h(guarded)f(in)g(all)f(their)h(ar)n(gument)g
(positions.)57 b(Coquand')-5 b(s)357 5335 y(criterion)26
b(requires)h(that)f(the)h(intersection)f(of)h(the)g FP(R)2211
5350 y FL(i)2266 5335 y F4(be)g(nonempty)-6 b(.)35 b(If)28
b(so,)e(we)i(may)e(apply)g(the)357 5484 y F0(pr)n(ogram)f
F4(tactic)g(for)g(an)o(y)f(of)h(the)g(indicated)f(positions.)1997
5667 y(174)p eop
%%Page: 175 180
175 179 bop 357 -6 a F4(It)20 b(is)g(possible)f(that)h(this)f
(procedure)i(will)e(yield)h(a)g(choice)h(of)f(positions.)27
b(While)20 b(an)o(y)g(of)h(them)e(will)357 144 y(do,)26
b(we)h(may)g(still)e(ha)n(v)o(e)h(a)h(preference.)38
b(F)o(or)27 b(e)o(xample,)f(structurally)f(recursi)n(v)o(e)h(programs)g
(o)o(v)o(er)357 293 y FZ(v)n(ect)p F4(s)f(or)g FZ(\002n)o
F4(s)g(are)h(necessarily)e(also)h(guarded)g(on)g(their)f(natural)h
(number)g(indices.)30 b(It)25 b(does)g(not)357 443 y(really)g(matter)g
(which)g(we)h(choose,)f(b)n(ut)f(I)i(w)o(ould)f(prefer)h(the)f
(recursion)g(to)g(be)h(on)f(the)g(datatypes)357 592 y(themselv)o(es,)g
(rather)h(than)g(the)g(indices,)g(as)h(this)e(produces)h(a)h
(justi\002cation)e(which)h(seems)g(to)f(me)357 742 y(more)f(intuiti)n
(v)o(e.)357 951 y(No)n(w)g(we)h(ha)n(v)o(e)f(found)h
FY(r)s F4(,)f(we)h(may)g(apply)601 1219 y F0(pr)n(ogram)g
FY(n)g FP(x)1133 1234 y FL(r)357 1486 y F4(This)f(lea)n(v)o(es)g(us)h
(with)f(subgoal)f FJ(f)1511 1501 y FM(0)1575 1486 y F4(and)i(its)f
(associated)g(equation)601 1753 y FX([)p FJ(f)659 1768
y FM(0)698 1753 y FX(])h FJ(f)797 1746 y FY(~)804 1753
y FP(x)49 b FX(=)22 b(?)121 b(\()1199 1746 y FY(~)1206
1753 y FP(x)27 b FX(:)1333 1727 y FY(~)1338 1753 y FP(S)p
FX(\))357 2021 y F4(No)n(w)-6 b(,)35 b(let)f(us)g(relate)h(the)f
F0(pr)n(ogram)h(equations)g F4(we)f(are)h(trying)e(to)h(construct)g
(with)f(the)h(asso-)357 2170 y(ciated)i(equations)f(in)h(the)h(current)
f(state)g(of)h(the)f(construction.)64 b(I)36 b(call)h(the)f(latter)g
(the)g F0(co)o(v)o(er)l(-)357 2320 y(ing)27 b(equations)i
F4(because)f(their)f(patterns)g(are)i(guaranteed)e(to)h(form)f(a)h(co)o
(v)o(ering.)38 b(In)28 b(particular)l(,)357 2469 y(we)j(are)h(certain)f
(that)f(each)i(program)e(equation)g(is)h F0(co)o(v)o(er)n(ed)h
F4(by)f(e)o(xactly)f(one)h(of)g(the)g(co)o(v)o(ering)357
2618 y(equations\227only)20 b(one)j(of)f(the)h(co)o(v)o(ering)e
(patterns)h(may)g(be)h(instantiated)e(to)h(gi)n(v)o(e)f(each)j(program)
357 2768 y(pattern.)357 2977 y(F)o(or)31 b(each)h(co)o(v)o(ering)e
(equation,)j(we)e(may)h(collect)f(the)g(program)g(equations)g(it)g(co)o
(v)o(ers\227this)e(is)357 3127 y(just)24 b(a)h(\002rst-order)g
(matching)f(problem.)30 b(There)25 b(are)g(three)g(possibilities:)502
3394 y F3(\017)49 b F4(there)27 b(is)g(one)h(equation,)f(and)g(it)g(is)
g(co)o(v)o(ered)g F0(exactly)p F4(,)h(meaning)f(that)g(the)g(co)o(v)o
(ered)g(equa-)601 3544 y(tion)i(also)h(co)o(v)o(ers)f(its)g(co)o(v)o
(erer)n(\227the)h(patterns)f(are)i(the)f(same,)h(up)f(to)g(renaming)f
(of)i(v)n(ari-)601 3693 y(ables)24 b(and)h F0(r)n(etur)o(n)h
F4(is)f(no)n(w)f(applicable)502 3917 y F3(\017)49 b F4(there)26
b(is)f(at)h(least)f(one)h(co)o(v)o(ered)f(equation,)g(b)n(ut)g(none)g
(co)o(v)o(ered)h(e)o(xactly)-6 b(,)24 b(so)i(splitting)d(will)601
4067 y(be)i(necessary)502 4291 y F3(\017)49 b F4(there)35
b(are)h(no)f(equations)g(co)o(v)o(ered\227this)e(means)i(either)g(that)
g(the)g(program)g(is)g(incom-)601 4440 y(plete,)c(or)f(that)f(there)i
(is)e(nothing)g(to)h(co)o(v)o(er)n(\227an)f(undecidable)g(type)h
(inhabitation)e(prob-)601 4590 y(lem)357 4857 y(Let)c(us)h(look)f(at)h
(each)g(case)h(in)e(turn.)357 5208 y FB(6.3.2)118 b(exact)30
b(pr)n(oblems)357 5484 y F4(If)25 b(we)g(ha)n(v)o(e)g(reached)g(the)g
(stage)f(where)i(a)f(co)o(v)o(ering)e(equation)1997 5667
y(175)p eop
%%Page: 176 181
176 180 bop 601 -6 a FX([)p FJ(f)659 9 y FL(i)687 -6
y FX(])25 b FJ(f)780 -13 y FY(~)793 -6 y FP(s)831 9 y
FL(i)909 -6 y FX(=)d(?)120 b(\()1204 -13 y FY(~)1211
-6 y FP(y)28 b FX(:)1345 -32 y FY(~)1344 -6 y FP(Y)1410
9 y FL(i)1438 -6 y FX(\))357 268 y F4(e)o(xactly)c(co)o(v)o(ers)g(a)h
(program)f(equation)601 541 y FJ(f)641 534 y FY(~)654
541 y FP(s)693 556 y FL(i)771 541 y FX(=)49 b FP(t)930
556 y FL(i)1078 541 y FX(\()1109 534 y FY(~)1116 541
y FP(y)27 b FX(:)1249 515 y FY(~)1248 541 y FP(Y)1314
556 y FL(i)1343 541 y FX(\))357 815 y F4(then)d(we)h(may)g(apply)f
(tactic)601 1088 y F0(r)n(etur)o(n)i FP(t)932 1103 y
FL(i)357 1362 y F4(W)-8 b(e)29 b(kno)n(w)f(that)g(the)h(guarded)g
(recursi)n(v)o(e)f(calls)h(will)f(be)h(a)n(v)n(ailable)f(to)h(us,)g(so)
g(we)g(complete)f(this)357 1511 y(branch)d(of)g(the)f(justi\002cation.)
357 1863 y FB(6.3.3)118 b(splitting)31 b(pr)n(oblems)357
2140 y F4(W)-8 b(e)25 b(ha)n(v)o(e)f(a)i(co)o(v)o(ering)d(equation)601
2413 y FX([)p FJ(f)659 2428 y FL(j)695 2413 y FX(])i
FJ(f)788 2406 y FY(~)801 2413 y FP(s)840 2428 y FL(j)926
2413 y FX(=)d(?)120 b(\()1221 2406 y FY(~)1228 2413 y
FP(y)27 b FX(:)1361 2387 y FY(~)1360 2413 y FP(Y)q FX(\))357
2687 y F4(which)d(co)o(v)o(ers)g(se)n(v)o(eral)g(program)h(equations)
601 2960 y FJ(f)d FY(\033)709 2975 y FL(i)725 2953 y
FY(~)738 2960 y FP(s)776 2975 y FL(j)863 2960 y FX(=)49
b FP(t)1022 2975 y FL(i)1170 2960 y FX(\()1201 2953 y
FY(~)1208 2960 y FP(y)1257 2992 y FL(i)1313 2960 y FX(:)1369
2934 y FY(~)1368 2960 y FP(Y)1435 2975 y FL(i)1463 2960
y FX(\))601 3148 y F4(where)25 b FY(\033)924 3163 y FL(i)977
3148 y F4(is)g(a)g(\(matching\))f(substitution)e(from)i(the)2448
3141 y FY(~)2455 3148 y FP(y)h F4(to)f(terms)h(o)o(v)o(er)e(the)3217
3141 y FY(~)3224 3148 y FP(y)3274 3180 y FL(i)3302 3148
y F4(.)357 3422 y(Each)35 b(time)g(we)h(split)e(a)i(co)o(v)o(ering)e
(equation,)j(we)f(introduce)f(at)g(least)g(one)h(more)f(constructor)357
3571 y(symbol)27 b(into)h(its)g(patterns)g(\(since)h(patterns)f(may)g
(be)h(nonlinear)l(,)g(replacing)f(a)h(pattern)g(v)n(ariable)357
3720 y(by)e(a)h(constructor)g(form)f(may)h(add)g(more)f(than)h(one)g
(constructor)f(symbol)f(to)h(the)h(pattern\).)40 b(W)-8
b(e)357 3870 y(may)22 b(e)o(xploit)g(this)g(property)g(to)h(measure)g
(ho)n(w)f(f)o(ar)i(a)o(w)o(ay)e(the)h(program)g(equations)f(are)h(from)
g(be-)357 4019 y(ing)h(co)o(v)o(ered)h(e)o(xactly)-6
b(.)31 b(In)25 b(order)g(for)h(a)f(matching)f(to)h(e)o(xist,)f(a)i
(program)e(equation)h(must)f(contain)357 4169 y(at)d(least)h(as)g(man)o
(y)e(constructor)h(symbols)f(as)i(the)f(co)o(v)o(ering)g(equation,)g
(so)h(we)f(may)h(simply)e(count)357 4318 y(the)k(e)o(xcess.)357
4528 y(Suppose)j FJ(f)754 4543 y FL(j)818 4528 y F4(co)o(v)o(ers)g
(equation)g FY(i)i F4(and)e(is)h(then)f(split)g(into)g(se)n(v)o(eral)g
(cases,)i(one)f(of)g(which,)g FJ(f)3565 4543 y FL(k)3636
4528 y F4(say)-6 b(,)357 4677 y(co)o(v)o(ers)24 b FY(i)h
F4(also.)30 b(W)-8 b(e)26 b(kno)n(w)e(the)g(constructor)g(e)o(xcess)h
(of)g(equation)f FY(i)h F4(o)o(v)o(er)f FJ(f)2980 4692
y FL(k)3048 4677 y F4(is)h(strictly)e(less)i(than)357
4827 y(that)e(o)o(v)o(er)g FJ(f)759 4842 y FL(j)796 4827
y F4(,)h(because)g(the)g FJ(f)1361 4842 y FL(k)1427 4827
y F4(patterns)g(contain)f(more)g(constructor)h(symbols.)k(Hence,)d(we)f
(may)357 4976 y(k)o(eep)i(splitting)e(problems)h(until)g(the)o(y)h
(become)g(e)o(xact)g(or)g(empty)g(and)g(be)g(sure)h(that)e(the)h
(process)357 5125 y(will)e(terminate.)357 5335 y(Which)e(split)e
(should)h(we)i(mak)o(e?)30 b(In)22 b(order)h(to)e(see)i(this,)f(we)g
(must)f(e)o(xpand)h(each)g(of)h(the)f(program)357 5484
y(equations)h(in)i(terms)f(of)h FJ(f)1251 5499 y FL(j)1288
5484 y F4(.)31 b(W)-8 b(e)25 b(kno)n(w)1997 5667 y(176)p
eop
%%Page: 177 182
177 181 bop 601 -6 a FJ(f)22 b FY(\033)709 9 y FL(i)725
-13 y FY(~)738 -6 y FP(s)776 9 y FL(j)863 -33 y F3(\030)864
-1 y FX(=)990 -6 y FJ(f)1021 9 y FL(j)1080 -6 y FY(\033)1135
9 y FL(i)1156 -13 y FY(~)1164 -6 y FP(y)38 b F3(h)p FY(:)17
b(:)g(:)f F3(i)601 185 y F4(where)25 b(the)g(tuple)f(is)g(just)g(the)h
(collection)e(of)i(accessible)g(recursi)n(v)o(e)f(call)h(v)n(alues)357
478 y(If)34 b(there)g(is)g(a)g FP(y)919 510 y FL(k)995
478 y F4(such)g(that)f(each)i FY(\033)1667 493 y FL(i)1695
478 y FP(y)1745 510 y FL(k)1822 478 y F4(is)e(constructor)n(-headed,)j
(then)d FP(y)3000 510 y FL(k)3077 478 y F4(is)g(a)h(candidate)g(for)357
627 y(splitting.)63 b(If)37 b(that)f(split)f(is)h(successful,)j
(constructor)d(symbols)f(will)g(appear)i(at)g FP(y)3354
659 y FL(k)3396 627 y F4(,)j(yielding)357 777 y(simpler)23
b(subproblems.)357 986 y(Ideally)-6 b(,)27 b(e)n(v)o(erything)f(will)h
(be)h(in)f(constructor)g(form,)h(splits)f(will)f(al)o(w)o(ays)i(yield)f
(solv)n(able)f(uni\002-)357 1136 y(cation)e(problems,)g(so)g(we)h(may)g
(split)f(an)o(y)g(of)h(the)f(candidates)h(and)g(carry)g(on.)31
b(Which)24 b(candidate)357 1285 y(should)32 b(we)h(choose?)56
b(I)33 b(w)o(ould)f(suggest)h(we)g(prefer)h(candidates)f(higher)g(up)f
(the)h(type)g(depen-)357 1435 y(denc)o(y)j(hierarchy)-6
b(,)40 b(as)d(these)g(may)g(induce)g(splits)f(in)h(other)g(ar)n
(guments)f(by)h(uni\002cation.)67 b(F)o(or)357 1584 y(e)o(xample,)29
b(if)g(we)g(are)h(b)n(uilding)e(a)h(co)o(v)o(ering)f(of)h(the)g
FZ(v)n(ect)p F4(s,)h(splitting)d(a)i(v)o(ector)g(will)f(automati-)357
1733 y(cally)f(split)g(its)g(length)g(into)g FZ(0)h F4(and)g
FZ(s)g F4(cases,)h(while)e(merely)h(splitting)d(the)j(length)f(will)g
(lea)n(v)o(e)h(us)357 1883 y(with)c(w)o(ork)g(still)g(to)g(do)h(on)f
(the)h(v)o(ector)-5 b(.)357 2092 y(Ev)o(en)35 b(if)h(there)g(are)g(a)o
(wkw)o(ard)g(non-constructor)e(e)o(xpressions)h(in)l(v)n(olv)o(ed,)h
(there)g(will)f(only)g(be)357 2242 y(a)f(\002nite)h(number)e(of)i
(candidates)f(at)g(an)o(y)g(stage,)i(so)e(we)h(may)e(k)o(eep)i(trying)e
(to)h(split)f(until)g(one)357 2391 y(w)o(orks.)51 b(It)32
b(is)g(concei)n(v)n(able)f(that,)i(in)f(an)g(impure)f(w)o(orld,)i
(splitting)d(something)g(too)h(early)i(may)357 2541 y(yield)h(unsolv)n
(able)g(un\002cation)h(problems)f(later)-5 b(.)62 b(F)o(or)35
b(the)g(sak)o(e)h(of)f(ar)n(gument,)j(we)d(may)g(con-)357
2690 y(sider)25 b(the)h(recogniser)g(to)g(be)g(nondeterministic\227an)o
(y)c(justi\002cation)j(will)g(do.)33 b(This)26 b(is)f(f)o(ar)i(from)357
2840 y(satisf)o(actory)-6 b(,)23 b(b)n(ut)i(it)f(is)g(safe.)357
3195 y FB(6.3.4)118 b(empty)30 b(pr)n(oblems)357 3471
y F4(W)-8 b(e)25 b(ha)n(v)o(e)f(a)i(subgoal)p 7 setlinewidth
np 655 3699 25 135.00 315.00 arc st 7 setlinewidth np
691 3682 18 180.00 360.00 arc st 7 setlinewidth np 745
3682 35 180.00 360.00 arc st 7 setlinewidth np 789 3708
28 251.56 341.56 arc st 7 setlinewidth np 816 3726 27
270.00 450.00 arc st 7 setlinewidth np 780 3753 35 360.00
540.00 arc st 7 setlinewidth np 727 3753 18 360.00 540.00
arc st 7 setlinewidth np 682 3753 27 360.00 540.00 arc
st 7 setlinewidth np 647 3735 19 63.43 243.43 arc st
601 3924 a FX(?)p FJ(f)678 3939 y FL(i)706 3924 y FX(:)c
F3(8)803 3917 y FY(~)810 3924 y FP(y)12 b FX(:)911 3898
y FY(~)910 3924 y FP(Y)976 3939 y FL(i)1004 3924 y FY(:)23
b F3(8)p FP(r)n(ecs)10 b FX(:)h FY(:)17 b(:)g(:)f(:)23
b FJ(F)1551 3917 y FY(~)1564 3924 y FP(s)1603 3939 y
FL(i)357 4180 y F4(b)n(ut)36 b(no)i(program)e(equations)h(to)g(gi)n(v)o
(e)f(us)h(a)g(clue)h(what)f(should)f(go)h(on)g(the)g(right-hand)g
(side,)357 4329 y(or)d(ho)n(w)g(to)g(do)g(an)o(y)g(further)h(case)g
(splitting.)58 b(This)33 b(either)i(means)f(that)g(the)g(programmer)g
(has)357 4479 y(for)n(gotten)21 b(a)i(case,)g(or)f(else)h(one)f(of)g
(the)g FP(Y)1793 4494 y FL(ij)1876 4479 y F4(is)f(empty)-6
b(,)22 b(and)g(there)g(is)g(morally)f(no)h(need)h(to)e(e)o(xplain)357
4628 y(what)j(should)g(happen,)g(as)h(the)g(case)g(cannot)g(arise.)357
4837 y(T)-8 b(ypes)35 b(can)h(be)g(empty)f(for)h(arbitrarily)g(subtle)e
(reasons\227the)h(type)h(inhabitation)e(problem)h(is)357
4987 y(undecidable.)j(Ev)o(en)27 b(if)g(we)h(restrict)f(e)n(v)o
(erything)f(in)h(sight)f(to)h(constructor)g(forms,)g(we)h(will)f(still)
357 5136 y(be)k(able)h(to)f(code)h(up)f(the)g(halting)g(problem)f(as)i
(a)g(datatype)f(inhabitation)e(question)i(\(see)h(table)357
5286 y(6.1\).)64 b(Some)36 b(empty)g(types,)i(such)e(as)g(the)g(simple)
f(type)h(with)f(one)h(step)g(constructor)f(and)i(no)357
5435 y(base)e(constructors,)i(require)f(an)f(inducti)n(v)o(e)e(ar)n
(gument)i(to)g(pro)o(v)o(e)f(them)h(empty)-6 b(.)61 b(Others)35
b(may)1997 5667 y(177)p eop
%%Page: 178 183
178 182 bop 357 -6 a F4(e)n(v)o(entually)34 b(disappear)i(after)h
(enough)f(case)h(splitting,)g(b)n(ut)f(there)g(is)g(no)g(w)o(ay)h(of)f
(telling)f(ho)n(w)357 144 y(much)24 b(is)g(required.)357
353 y(If)32 b(we)f(cannot)h(be)f(totally)f(cle)n(v)o(er)l(,)j(can)f(we)
g(be)f(totally)f(stupid?)50 b(That)31 b(is,)i(can)f(we)g(reject)f
(these)357 503 y(problems)c(out)h(of)h(hand?)42 b(Unfortunately)27
b(not.)42 b(The)28 b(elimination)f(rule)i(for)f(the)h
FZ(0)-44 b(0)29 b F4(type)f(has)h(no)357 652 y FY(\023)p
F4(-reductions)34 b(and)h(thus)f(corresponds)g(to)h(an)g(empty)f
(program\227if)g(we)h(are)g(to)g(recognise)f(the)357
802 y(recursion)27 b(operators)g(pro)o(vided)f(for)h(datatypes)g(as)g
(bona)g(\002de)h(programs,)f(we)h(shall)e(ha)n(v)o(e)h(to)g(be)357
951 y(able)e(to)f(solv)o(e)g(some)g(empty)g(problems.)357
1161 y(Ha)n(ving)c(rejected)g(trying)g(zero)h(and)f(in\002nity)g(steps)
g(of)g(case)h(splitting,)e(the)i(only)e(other)i(intuiti)n(v)o(ely)357
1310 y(plausible)27 b(option)g(is)h(one.)40 b(Let)29
b(us)e(try)h(one)h(case)f(split)f(on)h(each)h(ar)n(gument)f(in)g(turn,)
g(and)h(if)f(an)o(y)357 1459 y(pro)o(v)o(es)i(the)h(goal,)i(we)f(ha)n
(v)o(e)f(success.)51 b(Otherwise,)32 b(the)g(problem)e(is)h(too)g(hard)
h(and)g(we)f(f)o(ail)h(to)357 1609 y(recognise)d(the)h(program.)45
b(This)29 b(is)g(enough)g(to)g(allo)n(w)g(us)g(to)g(ignore)h(cases)g
(with)f(ar)n(guments)g(in)357 1758 y(types)d(lik)o(e)g
FZ(0)-44 b(0)q F4(,)27 b FZ(\002n)c(0)k F4(and)g(so)f(on.)37
b(The)27 b(idea)f(is)h(that)f(a)h(type)g(is)f F0(ob)o(viously)g(empty)h
F4(if)g(there)g(is)g(no)357 1908 y(constructor)n(-headed)d(e)o
(xpression)g(which)g(inhabits)f(it.)357 2117 y(Ef)n(fecti)n(v)o(ely)-6
b(,)28 b(the)h(programmer)g(must)g(deal)g(with)g(non-ob)o(viously)e
(empty)i(types)f(e)o(xplicitly)-6 b(,)29 b(by)357 2267
y(calling)34 b(subprograms)h(which)g(eliminate)f(them.)62
b(If)36 b(we)g(construct)e(a)i(program)f(interacti)n(v)o(ely)357
2416 y(which)c(tak)o(es)h(se)n(v)o(eral)f(steps)h(of)g(splitting)e(to)h
(dispose)g(of)h(a)h(type,)g(we)f(may)g(represent)g(the)g(last)357
2566 y(step)i(by)g(an)h(ob)o(viously)d(empty)h(subprogram)h(which)g
(gets)g(called)g(from)h(the)f(last)g(case)h(where)357
2715 y(a)j(pattern)f(e)o(xisted.)69 b(This)37 b(ef)n(fecti)n(v)o(ely)f
(records)i(the)g(splitting)d(process)j(used)f(to)h(dismiss)d(the)357
2864 y(type.)49 b(If)31 b(we)h(\002nd)f(ourselv)o(es)f(repeating)g
(ourselv)o(es,)i(perhaps)f(we)g(should)f(be)h(able)g(to)g(re)o(gister)
357 3014 y(commonly)23 b(used)i(emptiness)e(proofs)i(in)f(such)h(a)g(w)
o(ay)g(that)g(the)o(y)f(are)h(tried)g(along)f(with)h(splitting)357
3163 y(whene)n(v)o(er)f(an)h(empty)f(problem)g(is)g(encountered.)357
3373 y(It)33 b(is)f(concei)n(v)n(able)g(that)g(one)h(search)g(path)g
(through)f(checking)g(a)i(co)o(v)o(ering)d(may)i(lead)g(to)f(only)357
3522 y(ob)o(vious)h(empty)h(problems,)j(while)d(another)h(may)g(lead)g
(to)g(a)g(non-ob)o(vious)e(empty)h(problem.)357 3672
y(Once)h(again,)i(we)f(may)f(sa)n(v)o(e)g(ourselv)o(es)f(by)h(crude)g
(nondeterminism.)60 b(Whether)35 b(we)h(can)g(do)357
3821 y(better)24 b(remains)h(to)f(be)h(seen.)357 4221
y FT(6.4)142 b(extensions)357 4533 y F4(I)31 b(feel)g(I)g(should)f(mak)
o(e)h(brief)g(mention)f(of)h(a)g(number)f(of)h(ob)o(vious)e(e)o
(xtensions)g(to)i(the)g(class)f(of)357 4683 y(programs)22
b(we)g(should)g(be)g(willing)f(to)i(consider)l(,)f(none)g(of)h(which)f
(is)g(particularly)g(contro)o(v)o(ersial.)357 5038 y
FB(6.4.1)118 b(functions)31 b(with)g(v)o(arying)e(arity)357
5314 y F4(In)38 b(simply)f(typed)g(languages,)k(we)e(are)f(not)g(used)g
(to)g(seeing)g(functions)f(with)g(v)n(arying)g(arity)-6
b(.)357 5464 y(Certainly)g(,)36 b(the)f(use)f(of)h(curried)g(functions)
f(is)g(commonplace,)i(b)n(ut)e(there)h(is)g(nothing)e(serious)1997
5667 y(178)p eop
%%Page: 179 184
179 183 bop 502 90 a F3(\017)49 b F4(basic)24 b(datatypes)p
611 229 528 4 v 611 308 a FZ(star)r(t)i FX(:)i FZ(state)p
1403 229 504 4 v 264 w(halt)f FX(:)h FZ(state)2037 252
y F3(\001)17 b(\001)g(\001)39 b F4(other)25 b FZ(state)p
F4(s)p 611 440 688 4 v 611 518 a FZ(blank)i FX(:)h FZ(symbol)1428
463 y F3(\001)17 b(\001)g(\001)40 b F4(other)25 b FZ(symbol)p
F4(s)p 611 663 506 4 v 611 741 a FZ(left)i FX(:)h FZ(mo)m(v)n(e)p
1381 663 570 4 v 265 w(r)r(ight)f FX(:)h FZ(mo)m(v)n(e)502
951 y F3(\017)49 b F4(describing)24 b(the)g(machine)814
1107 y FZ(tr)n(ansition)d FX(=)h FZ(state)o F3(\002)q
FZ(symbol)p F3(\002)q FZ(state)o F3(\002)p FZ(symbol)q
F3(\002)p FZ(mo)m(v)n(e)775 1227 y(tr)n(ansitions)f FX(=)h
FZ(list)g(tr)n(ansition)1006 1348 y(ta)r(pe)g FX(=)g(\()p
FZ(tsil)f(symbol)q FX(\))p F3(\002)q FZ(symbol)p F3(\002)q
FX(\()p FZ(list)g(symbol)q FX(\))601 1468 y FZ(con\002gur)n(ation)g
FX(=)h FZ(state)o F3(\002)q FZ(ta)r(pe)601 1628 y F4(\()p
FZ(tsil)31 b F4(is)h(the)f(type)h(of)g(lists)f(b)n(uilt)f(by)i(adding)f
(elements)h(at)f(the)h(right-hand)f(end)h(with)f(the)601
1749 y(constructor)24 b FZ(snoc)p F4(.)31 b(I)25 b(o)o(v)o(erload)e
FZ(nil)p F4(.\))502 1952 y F3(\017)49 b F4(list)23 b(membership)h
(\(for)h(an)o(y)f(element)h(type)f FP(A)t F4(\))947 2128
y FP(h)k FX(:)g FP(A)124 b(t)27 b FX(:)h FZ(list)22 b
FP(A)p 611 2151 1328 4 v 611 2229 a FZ(\002nd)f FP(h)h(t)28
b FX(:)g FZ(member)22 b FP(h)g FX(\()p FZ(cons)g FP(h)g(t)q
FX(\))2394 2128 y FP(h)28 b FX(:)g FP(A)124 b(T)27 b
FX(:)h FZ(member)23 b FP(x)f(t)p 2203 2151 1397 4 v 2203
2229 a FZ(seek)f FP(h)h(T)28 b FX(:)g FZ(member)22 b
FP(x)g FX(\()p FZ(cons)g FP(h)g(t)p FX(\))502 2450 y
F3(\017)49 b F4(updating)23 b(the)i(tape)g(\()p FZ(update)i
FX(:)h FZ(ta)r(pe)f F3(!)g FZ(mo)m(v)n(e)h F3(!)g FZ(ta)r(pe)f
F3(!)g FI(Type)p F4(\))1197 2635 y FP(s)g FX(:)h FZ(symbol)120
b FP(r)28 b FX(:)g FZ(list)21 b(symbol)p 611 2661 2347
4 v 611 2740 a(lblank)g FP(s)h(r)28 b FX(:)f FZ(update)38
b F3(h)p FZ(nil)p FX(;)17 b FP(s)o FX(;)g FP(r)p F3(i)38
b FZ(left)h F3(h)o FZ(nil)p FX(;)17 b FZ(blank)o FX(;)g
FZ(cons)22 b FP(s)g(r)p F3(i)826 2949 y FP(l)28 b FX(:)f
FZ(tsil)22 b(symbol)120 b FP(t)q FY(;)17 b FP(s)27 b
FX(:)h FZ(symbol)120 b FP(r)28 b FX(:)f FZ(list)22 b(symbol)p
611 2976 2386 4 v 611 3055 a(lmo)m(v)n(e)g FP(l)g(t)g(s)g(r)28
b FX(:)g FZ(update)38 b F3(h)o FZ(snoc)23 b FP(l)e(t)q
FX(;)c FP(s)o FX(;)g FP(r)p F3(i)38 b FZ(left)g F3(h)p
FP(l)p FX(;)17 b FP(t)p FX(;)g FZ(cons)22 b FP(s)g(r)o
F3(i)1223 3264 y FP(l)27 b FX(:)h FZ(tsil)21 b(symbol)121
b FP(s)27 b FX(:)h FZ(symbol)p 611 3291 2387 4 v 611
3369 a(rblank)21 b FP(l)h(s)28 b FX(:)f FZ(update)38
b F3(h)p FP(l)p FX(;)17 b FP(s)o FX(;)g FZ(nil)p F3(i)38
b FZ(r)r(ight)g F3(h)p FZ(snoc)22 b FP(l)g(s)p FX(;)17
b FZ(blank)o FX(;)g FZ(nil)p F3(i)865 3578 y FP(l)27
b FX(:)h FZ(tsil)21 b(symbol)121 b FP(s)p FY(;)17 b FP(t)27
b FX(:)h FZ(symbol)120 b FP(r)28 b FX(:)g FZ(list)21
b(symbol)p 611 3606 2463 4 v 611 3685 a(r)s(mo)m(v)n(e)h
FP(l)g(s)g(t)g(r)28 b FX(:)f FZ(update)38 b F3(h)p FP(l)p
FX(;)17 b FP(s)o FX(;)g FZ(cons)22 b FP(t)h(r)o F3(i)39
b FZ(r)r(ight)f F3(h)p FZ(snoc)22 b FP(l)g(s)p FX(;)17
b FP(t)p FX(;)g FP(r)o F3(i)502 3905 y(\017)49 b F4(one)24
b(step)h(\()p FZ(step)i FX(:)g FZ(tr)n(ansitions)g F3(!)g
FZ(con\002gur)n(ation)g F3(!)g FZ(con\002gur)n(ation)g
F3(!)h FI(Type)o F4(\))611 4090 y FP(tr)f FX(:)h FZ(member)39
b F3(h)p FP(q)p FX(;)17 b FP(s)o FX(;)g FP(q)1475 4054
y FE(0)1498 4090 y FX(;)g FP(s)1581 4054 y FE(0)1604
4090 y FX(;)g FP(d)p F3(i)38 b FP(trs)120 b(u)28 b FX(:)g
FZ(update)38 b F3(h)p FP(l)o FX(;)17 b FP(s)2695 4054
y FE(0)2718 4090 y FX(;)g FP(r)o F3(i)39 b FP(d)22 b(tape)p
611 4126 2506 4 v 1065 4204 a FZ(do)g FP(tr)g(u)28 b
FX(:)g FZ(step)22 b FP(trs)38 b F3(h)p FP(q)p FX(;)17
b F3(h)o FP(l)p FX(;)g FP(s)o FX(;)g FP(r)p F3(ii)38
b(h)p FP(q)2390 4168 y FE(0)2413 4204 y FX(;)17 b FP(tape)p
F3(i)502 4428 y(\017)49 b F4(halting)23 b(problem)h(\()p
FZ(halts)j FX(:)h FZ(tr)n(ansitions)e F3(!)h FZ(con\002gur)n(ation)h
F3(!)f FZ(ta)r(pe)g F3(!)g FI(Type)p F4(\))816 4612 y
FP(trs)g FX(:)h FZ(tr)n(ansitions)118 b FP(tape)28 b
FX(:)g FZ(ta)r(pe)p 611 4648 1677 4 v 611 4727 a(stop)21
b FP(trs)h(tape)28 b FX(:)g FZ(halts)21 b FP(trs)38 b
F3(h)p FZ(halt)p FX(;)17 b FP(tape)o F3(i)39 b FP(tape)611
4938 y(step)27 b FX(:)g FZ(step)22 b FP(trs)g(X)g(Y)120
b(halts)27 b FX(:)h FZ(halts)21 b FP(trs)h(Y)h(tape)p
611 4974 1791 4 v 881 5052 a FZ(go)f FP(step)g(halts)27
b FX(:)h FZ(halts)22 b FP(trs)f(X)h(tape)1320 5377 y
F4(T)-8 b(able)25 b(6.1:)30 b(coding)24 b(the)h(halting)f(problem)1997
5667 y(179)p eop
%%Page: 180 185
180 184 bop 357 -6 a F4(happening)25 b(that)g FY(\014)6
b(\021)t F4(-equi)n(v)n(alence)25 b(cannot)g(e)o(xplain.)33
b(There)26 b(seems)g(to)f(be)i(little)d(moti)n(v)n(ation)f(for)357
144 y(allo)n(wing)g(functions)h(to)g(be)h FU(de\002ned)i
F4(with)d(arity)h(v)n(arying)f(between)g(pattern)h(equations.)357
353 y(By)e(contrast,)g(there)g(are)h(some)e(dependently)h(typed)f
(functions)g(for)h(which)g(such)g(a)g(relaxation)g(in)357
503 y(the)d(syntax)h(w)o(ould)f(be)h(of)g(genuine)f(bene\002t.)30
b(These)21 b(tend)g(to)f(arise)h(when)g(we)g(write)g(one)g(function)357
652 y(to)j(compute)g(types)g(in)l(v)n(olv)o(ed)f(in)i(another)-5
b(.)30 b(F)o(or)25 b(e)o(xample)601 970 y FZ(Sum)i FX(:)h
FZ(N)-63 b(N)27 b F3(!)g FI(Type)601 1119 y FZ(Sum)21
b(0)50 b FX(=)g FZ(N)-63 b(N)601 1269 y(Sum)21 b(s)p
FP(n)50 b FX(=)g FZ(N)-63 b(N)27 b F3(!)h FZ(Sum)22 b
FP(n)601 1459 y FZ(sum)27 b FX(:)h F3(8)p FP(n)11 b FX(:)g
FZ(N)-63 b(N)q FY(:)22 b FZ(Sum)g FP(n)601 1609 y FZ(sum)f(0)50
b FX(=)g FZ(0)601 1758 y(sum)21 b(s0)h FP(x)50 b FX(=)g
FP(x)601 1908 y FZ(sum)21 b(ss)p FP(n)h(x)g(y)50 b FX(=)f
FZ(sum)22 b(s)p FP(n)g FX(\()p FZ(plus)g FP(x)g(y)o FX(\))357
2225 y F4(The)32 b(\002rst)f(ar)n(gument)h(of)g FZ(sum)f
F4(is)h(the)f(number)g(of)h(subsequent)f(ar)n(guments,)i(and)f(the)f
(function)357 2375 y(computes)g(their)h(sum.)52 b(Y)-11
b(ou)32 b(might)f(well)h(point)f(out)g(that)h(I)h(could)e(mak)o(e)h
(the)g(arities)g(uniform)357 2524 y(by)23 b FY(\025)p
F4(-abstraction,)h(b)n(ut)f(that)h(is)f(because)h(I)h(am)e(not)h(doing)
f(an)o(y)g(pattern)h(matching)f(on)g(the)h(ne)n(wly)357
2673 y(e)o(xposed)30 b(ar)n(guments.)50 b(Of)31 b(course,)i(in)e(an)o
(y)g(case)g(I)h(can)g(al)o(w)o(ays)f(introduce)f(subprograms,)i(b)n(ut)
357 2823 y(why)24 b(should)f(I)i(ha)n(v)o(e)g(to?)357
3032 y(Y)-11 b(ou)34 b(might)g(also)g(suspect)g(that)g(such)h
(functions)f(are)h(uncommon)e(in)i(practice,)i(and)e(thus)f(not)357
3182 y(w)o(orth)24 b(the)h(trouble.)30 b(There)25 b(are)g(three)h
(things)d(to)h(say)h(to)g(that:)502 3474 y F3(\017)49
b F4(Dependently)28 b(typed)h(programming)f(is)h(still)f(in)h(its)g
(inf)o(anc)o(y\227we)f(do)h(not)g(kno)n(w)g(which)601
3624 y(techniques)24 b(will)f(turn)i(out)f(to)h(be)f(common)g(in)h
(practice.)502 3856 y F3(\017)49 b F4(This)27 b(is)h(the)h(kind)e(of)i
(technique)f(which)g(is)g(used)g(some)n(what)f(less)h(fri)n(v)n
(olously)e(in)i(strong)601 4006 y(normalisation)i(proofs\227we)j
(compute)f(a)h(meta-le)n(v)o(el)e(function)h(type)h(from)g(an)g
(object-)601 4155 y(le)n(v)o(el)25 b(function)h(type,)h(then)g(we)g
(compute)f(the)h(appropriate)g(metal-le)n(v)o(el)e(function)h(to)h(in-)
601 4304 y(habit)d(it.)502 4537 y F3(\017)49 b F4(This)28
b(sort)g(of)i(beha)n(viour)e(is)h(already)g(supported)f(in)h(as)g
(industrial)e(a)j(programming)d(lan-)601 4686 y(guage)39
b(as)h(C.)g(The)g(remarkably)f(common)f FW(printf)h F4(command)f(tak)o
(es)i(a)g(formatting)601 4836 y(string,)24 b(follo)n(wed)g(by)h(ar)n
(guments)g(appropriate)g(to)g(the)g(\002elds)g(to)g(be)h
(printed\227you)e(hope.)601 4985 y(Of)h(course,)f(there)h(is)g(no)f
(check)h(to)g(see)g(that)f(it)h(mak)o(es)f(sense.)31
b(C)25 b(compilers)f(do)g(not)g(blink)601 5135 y(twice)g(at)815
5367 y FW(printf\(``\045s\045s\045s''\);)1997 5667 y
F4(180)p eop
%%Page: 181 186
181 185 bop 601 -6 a F4(b)n(ut)20 b(the)i(ef)n(fect)f(is)g(seldom)f
(benign.)29 b(Dependent)21 b(types)g(sanitise)f(these)i(rather)f
(frightening)601 144 y(functions.)357 431 y(W)-8 b(e)28
b(may)g(accommodate)g(this)g(beha)n(viour)f(by)i(adjusting)d(the)i
(de\002nition)g(of)g(co)o(v)o(ering)f(to)h(allo)n(w)357
581 y F0(lengthening)k F4(of)f(pattern)g(sequences)g(by)g(fresh)g
(pattern)g(v)n(ariables,)g(pro)o(vided)f(the)h(result)g(type)357
730 y(beforehand)g(is)f(functional.)47 b(These)31 b(e)o(xtended)f
(patterns)g(may)h(then)f(be)h(split)e(as)i(before.)49
b(Each)357 880 y(lengthening)28 b(can,)j(of)f(course,)h(be)f(replaced)h
(by)e(a)h(call)g(to)g(a)g(subprogram)f(in)g(order)h(to)g(reco)o(v)o(er)
357 1029 y(the)i(uniform)f(arity)g(of)h(the)g(original.)51
b(The)32 b(treatment)g(of)g(recursion)f(is)h(as)g(before.)53
b(Recursi)n(v)o(e)357 1179 y(calls)24 b(can)h(be)f(recognised)h(pro)o
(vided)e(the)o(y)h(ha)n(v)o(e)g(at)g(least)h(the)f(arity)g(of)h(the)f
(pattern)g(to)g(which)g(the)357 1328 y(guarded)f(recursion)h(principle)
f(w)o(as)h(applied.)30 b(Longer)23 b(sequences)h(of)g(ar)n(guments)f
(can)h(be)g(cut)g(in)357 1478 y(tw)o(o,)g(lea)n(ving)g(a)h(recursi)n(v)
o(e)f FJ(call)i F4(of)f(the)f(right)g(length)g(which)h(is)f(then)g
(applied)h(further)-5 b(.)357 1832 y FB(6.4.2)118 b(mor)n(e)30
b(exotic)f(r)n(ecursion)357 2108 y F4(While)f(it)h(is)g(suf)n
(\002cient)f(to)h(f)o(acilitate)g(functions)f(which)g(are)i(only)e
(recursi)n(v)o(e)h(on)g(one)g(ar)n(gument)357 2258 y(position,)23
b(it)i(is)f(nonetheless)h(con)l(v)o(enient)f(to)g(allo)n(w)h(more)g
(comple)o(x)e(structures)i(to)g(be)g(b)n(uilt)f(into)357
2407 y(a)e(single)g(function,)f(rather)i(than)f(forcing)g(the)g
(programmer)g(to)g(break)g(them)g(up.)29 b(The)23 b(traditional)357
2557 y(e)o(xample)h(is)g(Ack)o(ermann')-5 b(s)24 b(function:)601
2868 y FZ(ac)o(k)j FX(:)h FZ(N)-63 b(N)28 b F3(!)f FZ(N)-63
b(N)27 b F3(!)h FZ(N)-63 b(N)601 3017 y(ac)o(k)22 b(0)g
FP(n)50 b FX(=)g FZ(s)p FP(n)601 3166 y FZ(ac)o(k)22
b(s)o FP(m)g FZ(0)50 b FX(=)g FZ(ac)o(k)22 b FP(m)g FZ(s)o(0)601
3316 y(ac)o(k)g(s)o FP(m)g FZ(s)p FP(n)50 b FX(=)g FZ(ac)o(k)22
b FP(m)f FX(\()p FZ(ac)o(k)h(s)p FP(m)g(n)p FX(\))357
3627 y F4(The)d(recursion)g(in)g(this)g(function)f(is)h
F0(lexicographic)g F4(in)g(the)h(sense)f(that)g(either)g(the)g(\002rst)
h(ar)n(gument)357 3776 y(decreases)28 b(structurally)-6
b(,)26 b(or)h(else)g(it)g(stays)g(the)g(same,)g(b)n(ut)g(the)g(second)g
(ar)n(gument)g(decreases.)38 b(It)357 3925 y(can)23 b(be)g(split)f
(into)g(a)h(pair)g(of)g(Coquand-accepted)g(primiti)n(v)o(e)d(recursi)n
(v)o(e)i(functionals)g(as)h(follo)n(ws:)601 4236 y FZ(ac)o(k)782
4251 y FL(sm)908 4236 y FX(:)28 b(\()p FZ(N)-63 b(N)28
b F3(!)f FZ(N)-63 b(N)p FX(\))28 b F3(!)f FZ(N)-63 b(N)27
b F3(!)h FZ(N)-63 b(N)601 4386 y(ac)o(k)782 4401 y FL(sm)903
4386 y FP(ack)1032 4401 y FL(m)1121 4386 y FZ(0)50 b
FX(=)f FP(ack)1480 4401 y FL(m)1569 4386 y FZ(s0)601
4535 y(ac)o(k)782 4550 y FL(sm)903 4535 y FP(ack)1032
4550 y FL(m)1121 4535 y FZ(s)o FP(n)i FX(=)e FP(ack)1519
4550 y FL(m)1608 4535 y FX(\()p FZ(ac)o(k)1827 4550 y
FL(sm)1948 4535 y FP(ack)2077 4550 y FL(m)2166 4535 y
FP(n)p FX(\))601 4725 y FZ(ac)o(k)27 b FX(:)h FZ(N)-63
b(N)28 b F3(!)f FZ(N)-63 b(N)27 b F3(!)h FZ(N)-63 b(N)601
4875 y(ac)o(k)22 b(0)50 b FX(=)f FZ(s)601 5024 y(ac)o(k)22
b(s)o FP(m)50 b FX(=)f FZ(ac)o(k)1276 5039 y FL(sm)1398
5024 y FX(\()p FZ(ac)o(k)22 b FP(m)o FX(\))357 5335 y
F4(What)38 b(has)h(happened)g(here?)74 b(F)o(or)39 b(a)g(start,)j(the)d
(main)f FZ(ac)o(k)h F4(function)f(has)h(been)g FY(\021)t
F4(')-5 b(d)39 b(into)f(a)357 5484 y(functional.)g(This)27
b(enables)h(the)g FZ(s)o FP(m)g F4(case)g(to)f(be)h(dele)o(gated)f(to)g
(the)h(auxiliary)f(function)g FZ(ac)o(k)3663 5499 y FL(sm)3762
5484 y F4(.)1997 5667 y(181)p eop
%%Page: 182 187
182 186 bop 357 -6 a F4(This)23 b(recei)n(v)o(es)h(as)g(an)g(ar)n
(gument)g(the)g(function)f FZ(ac)o(k)c FP(m)p F4(,)24
b(a)n(v)n(ailable)f(by)h(structural)f(recursion\227it)357
144 y(is)h(thus)g(free)i(to)e(apply)g(this)g(function,)g(as)h(well)g
(as)f(making)g(its)g(o)n(wn)g(guarded)h(calls.)3321 108
y FS(8)357 353 y F4(W)-8 b(ould)28 b(not)h(all)g(b)n(ut)g(the)g(most)f
(die-hard)h(of)h(origami)e(programmers)2809 317 y FS(9)2874
353 y F4(prefer)j(to)e(write)g(the)g(le)o(x-)357 503
y(icographic)j(v)o(ersion?)53 b(In)33 b(f)o(act,)i(we)e(already)g(ha)n
(v)o(e)f(the)h(tools)e(to)h(construct)g(it)h(interacti)n(v)o(ely\227)
357 652 y(suppose)24 b(we)h(ha)n(v)o(e)f(reached)i(the)e(follo)n(wing)f
(stage:)p 7 setlinewidth np 655 905 25 135.00 315.00
arc st 7 setlinewidth np 691 887 18 180.00 360.00 arc
st 7 setlinewidth np 745 887 35 180.00 360.00 arc st
7 setlinewidth np 789 914 28 251.56 341.56 arc st 7 setlinewidth
np 816 932 27 270.00 450.00 arc st 7 setlinewidth np
780 959 35 360.00 540.00 arc st 7 setlinewidth np 727
959 18 360.00 540.00 arc st 7 setlinewidth np 682 959
27 360.00 540.00 arc st 7 setlinewidth np 647 941 19
63.43 243.43 arc st 601 1117 a FX(?)p FZ(Ac)o(k)119 b
FX(:)46 b F3(8)p FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63
b(N)p FY(:)22 b FI(Type)601 1237 y FX(?)p FJ(call)134
b FX(:)46 b F3(8)p FP(m)p FY(;)17 b FP(n)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)22 b FX(\()p FZ(Ac)o(k)g FP(m)g(n)p
FX(\))28 b F3(!)f FZ(N)-63 b(N)601 1358 y FX(?)p FJ(retur)r(n)23
b FX(:)46 b F3(8)p FP(m)p FY(;)17 b FP(n)11 b FX(:)g
FZ(N)-63 b(N)p FY(:)22 b FZ(N)-63 b(N)28 b F3(!)f FZ(Ac)o(k)22
b FP(m)g(n)620 1478 y FX(!)p FZ(ac)o(k)828 1493 y FM(0)928
1478 y FX(=)g FY(\025)p FP(r)n(ecs)o FX(:)g FZ(1)-44
b(1)1026 1599 y FY(\025)p FP(n)100 b FX(:)22 b FZ(N)-63
b(N)1083 1719 y(s)p FP(n)601 1839 y FX(?)p FZ(ac)o(k)828
1854 y FL(s)953 1839 y FX(:)46 b F3(8)q FP(m)77 b FX(:)22
b FZ(N)-63 b(N)1026 1960 y F3(8)q FP(r)n(ecs)o FX(:)22
b(\()p F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22
b FZ(Ac)o(k)g FP(m)f(n)q FX(\))p F3(\002)p FX(\()p FZ(N)-63
b(NA)n(ux)38 b FY(:)17 b(:)g(:)38 b FP(m)p FX(\))1026
2080 y F3(8)q FP(n)100 b FX(:)22 b FZ(N)-63 b(N)1082
2201 y(Ac)o(k)21 b(s)p FP(m)h(n)620 2321 y FX(!)p FZ(ac)o(k)100
b FX(=)22 b FZ(N)-63 b(NFix)17 b FY(:)g(:)g(:)357 2601
y F4(The)24 b FP(r)n(ecs)g F4(ar)n(gument)g(gi)n(v)o(es)f(us)h(access)h
(to)f(guarded)g(recursion)h(on)f(the)g(\002rst)h(ar)n(gument.)30
b(W)-8 b(e)25 b(may)357 2751 y(no)n(w)g(add)g(guarded)h(recursion)g(on)
f(the)h(second)f(\(for)h(the)g(same)f(\002rst)h(ar)n(gument\))g(by)f
(eliminating)357 2900 y FP(n)g F4(with)f FZ(N)-63 b(NFix)p
F4(,)25 b(\002xing)f FP(m)h F4(and)f FP(r)n(ecs)o F4(:)p
7 setlinewidth np 655 3153 25 135.00 315.00 arc st 7
setlinewidth np 691 3135 18 180.00 360.00 arc st 7 setlinewidth
np 745 3135 35 180.00 360.00 arc st 7 setlinewidth np
789 3162 28 251.56 341.56 arc st 7 setlinewidth np 816
3180 27 270.00 450.00 arc st 7 setlinewidth np 780 3207
35 360.00 540.00 arc st 7 setlinewidth np 727 3207 18
360.00 540.00 arc st 7 setlinewidth np 682 3207 27 360.00
540.00 arc st 7 setlinewidth np 647 3189 19 63.43 243.43
arc st 601 3365 a FX(?)p FZ(ac)o(k)828 3380 y FL(s)864
3365 y FX(:)f F3(8)p FP(m)100 b FX(:)23 b FZ(N)-63 b(N)914
3485 y F3(8)p FP(r)n(ecs)22 b FX(:)h(\()p F3(8)p FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b FZ(Ac)o(k)e FP(m)h(n)p
FX(\))p F3(\002)q FX(\()p FZ(N)-63 b(NA)n(ux)38 b FY(:)17
b(:)g(:)38 b FP(m)o FX(\))914 3606 y F3(8)p FP(n)123
b FX(:)23 b FZ(N)-63 b(N)914 3726 y F3(8)p FP(r)n(ecs)1124
3690 y FE(0)1147 3726 y FX(:)23 b FZ(N)-63 b(NA)n(ux)21
b FX(\()p FZ(Ac)o(k)g(s)p FP(m)p FX(\))h FP(n)969 3846
y FZ(Ac)o(k)g(s)p FP(m)f(n)357 4127 y F4(Case)k(splitting)e(on)h
FP(n)i F4(no)n(w)e(gi)n(v)o(es)f(us)p 357 4216 1373 4
v 473 4278 a FR(8)506 4308 y FQ(W)-7 b(e)22 b(w)o(ould)e(not)g(need)g
(to)g(pass)h Fk(ack)1526 4320 y Fj(m)1610 4308 y FQ(e)o(xplicitly)f
(through)e(the)j(recursion)e(if)h(we)h(could)f(de\002ne)g
Fo(ac)o(k)3446 4320 y Fj(sm)3561 4308 y FQ(locally)357
4407 y(to)g(the)g(successor)g(case)h(of)f Fo(ac)o(k)o
FQ(.)473 4477 y FR(9)506 4507 y FQ(An)g(origami)f(programmer)e(only)i
(uses)i(pattern)e(matching)g(to)i(de\002ne)e(fold)h(operators.)1997
5667 y F4(182)p eop
%%Page: 183 188
183 187 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FZ(ac)o(k)828 177 y FL(s)p FM(0)900
162 y FX(:)22 b F3(8)p FP(m)101 b FX(:)22 b FZ(N)-63
b(N)949 282 y F3(8)p FP(r)n(ecs)23 b FX(:)f(\()p F3(8)p
FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FZ(Ac)o(k)g
FP(m)f(n)q FX(\))p F3(\002)p FX(\()p FZ(N)-63 b(NA)n(ux)38
b FY(:)17 b(:)g(:)38 b FP(m)p FX(\))949 403 y F3(8)p
FP(r)n(ecs)1159 367 y FE(0)1183 403 y FX(:)22 b FZ(1)-44
b(1)1004 523 y(Ac)o(k)22 b(s)p FP(m)f FZ(0)601 643 y
FX(?)p FZ(ac)o(k)828 658 y FL(ss)900 643 y FX(:)h F3(8)p
FP(m)101 b FX(:)22 b FZ(N)-63 b(N)949 764 y F3(8)p FP(r)n(ecs)23
b FX(:)f(\()p F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p
FY(:)22 b FZ(Ac)o(k)g FP(m)f(n)q FX(\))p F3(\002)p FX(\()p
FZ(N)-63 b(NA)n(ux)38 b FY(:)17 b(:)g(:)38 b FP(m)p FX(\))949
884 y F3(8)p FP(n)124 b FX(:)22 b FZ(N)-63 b(N)949 1005
y F3(8)p FP(r)n(ecs)1159 968 y FE(0)1183 1005 y FX(:)22
b(\()p FZ(Ac)o(k)g(s)o FP(m)g(n)p FX(\))p F3(\002)q FX(\()p
FZ(N)-63 b(NA)n(ux)21 b FX(\()p FZ(Ac)o(k)h(s)o FP(m)p
FX(\))g FP(n)p FX(\))1004 1125 y FZ(Ac)o(k)g(s)p FP(m)f
FZ(s)p FP(n)357 1364 y F4(F)o(or)34 b(the)f FZ(ac)o(k)864
1379 y FL(s)p FM(0)970 1364 y F4(case,)k(we)d(may)f(project)h(the)g
(appropriate)f(component)g(of)h FP(r)n(ecs)o F4(.)58
b(Looking)32 b(at)357 1514 y FZ(ac)o(k)538 1529 y FL(ss)632
1514 y F4(in)24 b(more)h(detail,)f(the)h(nested)f(right-hand)g(side)h
(translates)f(by)g FJ(call)i F4(and)e FJ(retur)r(n)g
F4(to)p 7 setlinewidth np 655 1719 25 135.00 315.00 arc
st 7 setlinewidth np 691 1702 18 180.00 360.00 arc st
7 setlinewidth np 745 1702 35 180.00 360.00 arc st 7
setlinewidth np 789 1728 28 251.56 341.56 arc st 7 setlinewidth
np 816 1746 27 270.00 450.00 arc st 7 setlinewidth np
780 1773 35 360.00 540.00 arc st 7 setlinewidth np 727
1773 18 360.00 540.00 arc st 7 setlinewidth np 682 1773
27 360.00 540.00 arc st 7 setlinewidth np 647 1755 19
63.43 243.43 arc st 601 1931 a FX(?)p FZ(ac)o(k)828 1946
y FL(ss)897 1931 y FX(:)e FY(\025)p FP(m)101 b FX(:)22
b FZ(N)-63 b(N)946 2052 y FY(\025)p FP(r)n(ecs)23 b FX(:)f(\()p
F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FZ(Ac)o(k)g
FP(m)f(n)q FX(\))p F3(\002)p FX(\()p FZ(N)-63 b(NA)n(ux)38
b FY(:)17 b(:)g(:)38 b FP(m)p FX(\))946 2172 y FY(\025)p
FP(n)124 b FX(:)22 b FZ(N)-63 b(N)946 2292 y FY(\025)p
FP(r)n(ecs)1158 2256 y FE(0)1182 2292 y FX(:)22 b(\()p
FZ(Ac)o(k)g(s)o FP(m)g(n)p FX(\))p F3(\002)q FX(\()p
FZ(N)-63 b(NA)n(ux)21 b FX(\()p FZ(Ac)o(k)g(s)p FP(m)p
FX(\))h FP(n)p FX(\))957 2413 y(?)p FP(r)n(ec)1119 2428
y FM(1)1182 2413 y FX(:)g FZ(Ac)o(k)g(s)o FP(m)g(n)957
2533 y FX(?)p FP(r)n(ec)1119 2548 y FM(2)1182 2533 y
FX(:)g FZ(Ac)o(k)g FP(m)f FX(\()p FJ(call)i FP(r)n(ec)1888
2548 y FM(1)1927 2533 y FX(\))1003 2654 y FJ(retur)r(n)e
FX(\()p FJ(call)h FP(r)n(ec)1656 2669 y FM(2)1695 2654
y FX(\))357 2892 y FP(r)n(ec)473 2907 y FM(1)537 2892
y F4(is)j(solv)o(ed)e(from)i FP(r)n(ecs)1286 2856 y FE(0)1334
2892 y F4(and)g FP(r)n(ec)1619 2907 y FM(2)1683 2892
y F4(is)g(solv)o(ed)e(from)i FP(r)n(ecs)o F4(.)31 b(The)24
b(de\002nition)g(is)h(complete.)357 3101 y(W)-8 b(e)61
b(can)g(b)n(uild)f(quite)g(comple)o(x)f(structures)h(with)g(multiple)f
(eliminations)g(by)h(guarded)357 3251 y(recursion\227more)37
b(e)n(v)o(en)h(than)f(le)o(xicographic)h(recursion)g(on)g(a)g(number)g
(of)g(ar)n(gument)g(posi-)357 3400 y(tions.)c(F)o(or)26
b(e)o(xample,)g(we)h(may)f(de\002ne)h(a)f(function)g(on)g(lists)f(of)i
(trees)f(which)g(at)h(each)f(recursion)357 3549 y(replaces)33
b(the)g(head)g(tree)g(by)g(its)f(subtrees\227some)f(steps)h(may)h(mak)o
(e)f(the)h(list)f(longer)l(,)i(b)n(ut)e(the)357 3699
y(decomposition)22 b(of)j(the)g(head)g(tree)g(guarantees)g
(termination.)357 3908 y(The)34 b(question)g(of)h(ho)n(w)f(to)g(e)o
(xtend)g(the)h(class)f(of)h(recognisable)g(pattern)f(matching)g
(programs)357 4058 y(into)26 b(this)g(more)h(e)o(xotic)f(territory)h
(is)f(an)h(important)f(and)h(interesting)f(one.)37 b(Much)27
b(attention)e(has)357 4207 y(already)32 b(been)g(paid)g(to)g(the)g
(simply)e(typed)h(case,)k(for)d(e)o(xample,)h(in)f(Manoury)f(and)h
(Simonot')-5 b(s)357 4357 y(`ProPre')21 b([MS94])f(system.)27
b(Further)l(,)21 b(Cristina)f(Cornes)g(has)f(equipped)i(C)t
F2(O)t(Q)j F4(with)19 b(a)h(substantial)357 4506 y(package)27
b(translating)e(equational)g(programs)h(with)g(relati)n(v)o(ely)f
(interesting)g(recursi)n(v)o(e)h(structure)357 4656 y(into)e
(constructor)g(guarded)h(\002xpoint)e(e)o(xpressions)h([Cor97].)357
4865 y(Further)30 b(in)l(v)o(estigation)d(is)i(be)o(yond)g(the)h(scope)
f(of)h(this)f(thesis.)45 b(Ho)n(we)n(v)o(er)l(,)30 b(I)g(shall)f
(nonetheless)357 5014 y(write)36 b(such)f(equational)h(programs)f(in)h
(the)f(follo)n(wing)g(chapter)l(,)k(since)d(the)o(y)f(are)i(shorter)e
(and)357 5164 y(clearer)j(than)e(their)h(e)o(xpanded)f(v)o(ersions)f
(where)j(each)f(recursion)g(has)g(its)f(o)n(wn)g(subfunction.)357
5313 y(When)24 b(I)g(do)f(so,)h(I)g(shall)f(al)o(w)o(ays)h(be)g
(careful)g(to)f(point)g(out)g(the)h(justi\002cation,)f(imagining)f
(that)h(we)357 5463 y(are)i(deri)n(ving)f(the)g(function)g(interacti)n
(v)o(ely)-6 b(.)1997 5667 y(183)p eop
%%Page: 184 189
184 188 bop 357 719 a F1(Chapter)51 b(7)357 1194 y(Some)g(Pr)l(ograms)i
(and)f(Pr)l(oofs)357 1735 y F4(W)-8 b(e)39 b(ha)n(v)o(e)h(no)n(w)e(de)n
(v)o(eloped)g(substantial)g(technology)g(for)h(constructing)f
(dependently)h(typed)357 1885 y(functional)18 b(programs,)i(and)f(also)
g(for)g(reasoning)g(about)f(them.)29 b(Let)19 b(us)g(no)n(w)f(put)h
(that)f(technology)357 2034 y(to)24 b(w)o(ork.)357 2244
y(In)30 b(the)g(course)h(of)f(this)f(chapter)l(,)j(I)f(of)n(fer)f(some)
g(e)o(xamples)f(which)h(I)h(belie)n(v)o(e)e(illustrate)g(the)h(ad-)357
2393 y(v)n(antages)23 b(af)n(forded)i(by)f(w)o(orking)g(with)f(more)i
(informati)n(v)o(e)d(types.)30 b(W)-8 b(e)25 b(shall)f(see)h(ne)n(w)f
(v)o(ersions)357 2543 y(of)h(old)g(programs)f(which)h(are)h(tidier)f
(and)g(easier)h(to)f(pro)o(v)o(e)f(correct.)33 b(W)-8
b(e)26 b(shall)e(see)i(applications)357 2692 y(of)21
b(our)h(elimination)e(rule)h(technology)g(which)g(aid)h(program)f
(disco)o(v)o(ery)f(as)i(well)f(as)h(v)o(eri\002cation.)357
2841 y(Hopefully)-6 b(,)23 b(we)i(shall)f(see)h(sense.)357
3051 y(Later)l(,)38 b(I)d(shall)f(focus)h(on)g(the)g(manipulation)e(of)
i(syntax)g(as)g(a)g(programming)f(domain)g(which)357
3200 y(sho)n(ws)27 b(of)n(f)g(to)h(great)h(ef)n(fect)f(the)g(e)o
(xpressi)n(v)o(e)e(po)n(wer)i(of)g(dependent)g(pattern)g(matching.)40
b(In)28 b(par)n(-)357 3350 y(ticular)l(,)c(I)g(shall)g(construct)f(and)
h(pro)o(v)o(e)f(correct)i(a)g(\002rst-order)f(uni\002cation)g
(algorithm)f(which)g(has)357 3499 y(the)h(no)o(v)o(el)g(merit)g(of)h
(being)f(structurally)g(recursi)n(v)o(e.)357 3899 y FT(7.1)142
b(concr)m(ete)35 b(categories,)e(functors)h(and)h(monads)357
4211 y F4(In)29 b(the)g(e)o(xamples)f(which)g(follo)n(w)-6
b(,)29 b(we)g(shall)f(e)o(xamine)h(methods)e(of)j(w)o(orking)e(with)g
(syntax)g(via)357 4361 y(dependently)h(typed)h(functional)f
(programming.)45 b(The)30 b(beha)n(viour)g(of)g(the)g(functions)g(we)g
(shall)357 4510 y(de)n(v)o(elop)23 b(\002ts)h(neatly)g(into)g(a)h(cate)
o(gorical)f(treatment,)g(so)g(it)g(is)g(w)o(orthwhile)g(b)n(uilding)e
(some)i(tools)357 4660 y(for)h(packaging)f(these)h(functions)e(and)i
(their)g(properties)f(cate)o(gorically)-6 b(.)357 4869
y(W)e(e)28 b(shall)f(not)g(need)h(an)o(y)f(particularly)g(hea)n(vy)h
(cate)o(gory)f(theory)-6 b(,)28 b(which)f(is)g(just)g(as)h(well,)g(as)g
(f)o(ar)357 5018 y(as)g(I)g(am)g(concerned.)42 b(F)o(or)28
b(a)g(substantial)f(formalisation)f(of)j(cate)o(gory)e(theory)-6
b(,)29 b(see)f([SH95].)41 b(In)357 5168 y(f)o(act,)d(we)d(may)g
(restrict)f(our)h(attention)f(to)h F0(concr)n(ete)h F4(cate)o
(gories\227those)e(whose)h(objects)f(can)357 5317 y(be)d(interpreted)g
(as)h(a)f(f)o(amily)g(of)g(types)g(and)h(whose)f(arro)n(ws)g(can)g(be)h
(interpreted)f(as)g(functions)357 5467 y(between)25 b(types)f(in)g(the)
h(f)o(amily)-6 b(.)1997 5667 y(184)p eop
%%Page: 185 190
185 189 bop 357 -6 a FB(7.1.1)118 b(r)n(ecords)30 b(f)m(or)g
(categories)357 271 y F4(So,)25 b(what)f(shall)g(we)h(say)g(is)g(a)g
(cate)o(gory?)357 481 y(The)d(idea)h(is)f(not)g(that)f(objects)h(are)h
(types)f(and)h(arro)n(ws)f(functions,)g(b)n(ut)f(that)h(both)g(are)h
(data)g(which)357 630 y(can)29 b(be)g FU(interpr)l(eted)f
F4(as)h(such.)42 b(Imagine)28 b(we)h(are)h(modelling)d(a)i(programming)
e(language)i(cate-)357 780 y(gorically:)j(we)26 b(might)f(ha)n(v)o(e)j
(O)t F2(L)t(E)t(G)i F4(datatypes)c(representing)f(the)h(types)g(and)g
(functions)f(of)h(that)357 929 y(language,)k(together)f(with)f
(translations)g(which)h(model)g(those)g(types)f(and)i(functions)e(as)k
(O)t F2(L)t(E)t(G)357 1078 y F4(types)37 b(and)h(functions.)68
b(Those)37 b(datatypes)g(gi)n(v)o(e)g(us)g(the)h(objects)f(and)g(arro)n
(ws)h(of)g(a)g(concrete)357 1228 y(cate)o(gory)-6 b(,)24
b(and)g(the)h(translations)e(their)i(interpretations.)357
1437 y(Let)f(us)h(\002x)g(the)g(types)f(of)h(objects)f(and)h(arro)n
(ws.)601 1734 y FP(O)i FX(:)h FI(Type)601 1884 y FC(\032)p
FX(:)f FP(O)g F3(!)h FP(O)f F3(!)g FI(Type)357 2181 y
F4(No)n(w)-6 b(,)31 b(let)f(us)h(de\002ne)g(a)g(record)h(type)e
FZ(Concrete)g F4(to)h(contain)f(the)h(things)e(we)i(must)f(supply)g(to)
357 2331 y(ha)n(v)o(e)24 b(a)h(meaningful)f(cate)o(gory:)879
2573 y FY(\023)p FX(:)p F3(8)p FP(S)12 b FX(:)f FP(O)p
FY(:)22 b FP(S)28 b FC(\032)g FP(S)864 2693 y F3(\016)p
FX(:)o F3(8)p FP(R)q FY(;)17 b FP(S)p FY(;)g FP(T)11
b FX(:)g FP(O)p FY(:)22 b FX(\()p FP(S)28 b FC(\032)f
FP(T)p FX(\))50 b F3(!)f FX(\()p FP(R)28 b FC(\032)g
FP(S)p FX(\))50 b F3(!)f FX(\()p FP(R)28 b FC(\032)g
FP(T)p FX(\))811 2813 y([)-17 b([)p F3(\001)p FX(])g(]:)p
FP(O)50 b F3(!)f FI(Type)811 2934 y FX([)-17 b([)p F3(\001)p
FX(])g(]:)p F3(8)p FP(S)q FY(;)17 b FP(T)11 b FX(:)g
FP(O)p FY(:)22 b FX(\()p FP(S)28 b FC(\032)f FP(T)p FX(\))50
b F3(!)f FX([)-16 b([)p FP(S)p FX(])g(])50 b F3(!)f FX([)-16
b([)p FP(T)o FX(])g(])659 3054 y FZ(RespI)o FX(:)p F3(8)p
FP(S)12 b FX(:)f FP(O)p FY(:)22 b F3(8)p FP(s)11 b FX(:)g([)-16
b([)p FP(S)q FX(])f(])17 b FY(:)39 b FX([)-17 b([)p FY(\023)1655
3069 y FK(S)1697 3054 y FX(])g(])39 b FP(s)22 b F3(')h
FP(s)601 3175 y FZ(RespC)o FX(:)p F3(8)p FP(R)q FY(;)17
b FP(S)p FY(;)g FP(T)11 b FX(:)g FP(O)p FY(:)22 b F3(8)p
FP(f)11 b FX(:)g FP(S)28 b FC(\032)g FP(T)p FY(:)22 b
F3(8)p FP(g)11 b FX(:)g FP(R)28 b FC(\032)g FP(S)p FY(:)22
b F3(8)p FP(r)11 b FX(:)g([)-16 b([)p FP(R)q FX(])f(])17
b FY(:)39 b FX([)-17 b([)p FP(f)22 b F3(\016)g FP(g)p
FX(])-17 b(])39 b FP(r)22 b F3(')39 b FX([)-16 b([)p
FP(f)p FX(])f(])39 b(\([)-17 b([)p FP(g)p FX(])h(])39
b FP(r)o FX(\))357 3422 y F4(I)28 b(think)f(it)g(is)h(safe)g(to)g(o)o
(v)o(erload)f FX([)-17 b([)p F3(\001)p FX(])h(])p F4(.)40
b(Confusion)27 b(between)h(the)g(interpretations)f(of)h(objects)f(and)
357 3571 y(arro)n(ws)d(will)g(not)g(arise)h(in)g(these)f(e)o(xamples.)
357 3780 y(Saunders)34 b(MacLane)g([Mac71])g(de\002nes)g(a)h
F0(concr)n(ete)g(category)g F4(to)e(be)h(a)g(cate)o(gory)g(equipped)357
3930 y(with)g(a)i F0(faithful)f F4(functor)g(into)g F0(Set)p
F4(.)62 b(That)35 b(is,)i(the)e(interpretations)f(must)g(not)h(only)f
(preserv)o(e)357 4079 y(identity)29 b(and)i(composition,)f(b)n(ut)h
(must)f(also)g FU(embed)i F4(the)e(objects)h(and)g(arro)n(ws)f(in)h
F0(Set)p F4(.)50 b(I)32 b(ha)n(v)o(e)357 4229 y(gi)n(v)o(en)37
b(no)h(such)h(condition.)71 b(It)39 b(be)o(gs)f(the)g(question)g(`what)
g(is)h(the)f(appropriate)h(equality)f(on)357 4378 y(objects)24
b(and)h(arro)n(ws?'.)357 4588 y(In)g(type)g(theory)-6
b(,)24 b(as)h(in)g(marriage,)g(\002delity)g(comes)g(do)n(wn)f(to)g(the)
h(w)o(ay)h(you)e(see)i(things.)32 b(O)t F2(L)t(E)t(G)r
F4(')-5 b(s)357 4737 y(intensional)26 b(equality)h(is)h(too)g
(discriminating)d(to)j(be)g(useful)g(here.)41 b(I)29
b(propose)e(to)h(consider)g(tw)o(o)357 4887 y(arro)n(ws)22
b(the)h(same)f(if)h(their)f(interpretations)g(are)h(e)o(xtensionally)e
(equal:)29 b(interpretations)22 b(are)h(thus)357 5036
y(tri)n(vially)35 b(f)o(aithful.)65 b(Consequently)-6
b(,)39 b(it)d(mak)o(es)g(little)g(sense)g(to)h(consider)f(the)h(cate)o
(gory)f(sepa-)357 5185 y(rately)c(from)h(the)f(functor)g(which)h
(interprets)f(it\227the)f(functor)h(properties)g(are)i(ho)n(w)d(we)i
(kno)n(w)357 5335 y(the)e(cate)o(gory)g(has)h(the)g(traditional)e
(absorption)g(and)i(associati)n(vity)d(la)o(ws)i(with)g(respect)h(to)f
(this)357 5484 y(e)o(xtensional)23 b(notion)g(of)i(equality)-6
b(.)1997 5667 y(185)p eop
%%Page: 186 191
186 190 bop 357 -6 a F4(Correspondingly)-6 b(,)23 b(if)h
FP(f)p FY(;)17 b FP(g)27 b FX(:)h FP(S)g FC(\032)g FP(T)o
F4(,)d(let)g(us)f(mak)o(e)h(the)g(abbre)n(viation)601
272 y FP(f)i F3(\031)h FP(g)50 b FX(=)-17 b F3(\))49
b(8)p FP(s)12 b FX(:)f([)-17 b([)p FP(S)q FX(])g(])17
b FY(:)39 b FX([)-17 b([)p FP(f)p FX(])h(])38 b FP(s)22
b F3(')40 b FX([)-17 b([)p FP(g)p FX(])g(])39 b FP(s)357
549 y F4(The)25 b(usual)f(absorption)f(and)i(associti)n(vity)d
(properties)836 810 y FP(f)g F3(\016)f FY(\023)i F3(\031)g
FP(f)814 931 y FY(\023)f F3(\016)g FP(g)g F3(\031)h FP(g)601
1051 y FX(\()p FP(f)e F3(\016)h FP(g)p FX(\))g F3(\016)g
FP(h)g F3(\031)h FP(f)f F3(\016)f FX(\()p FP(g)h F3(\016)g
FP(h)p FX(\))357 1311 y F4(all)i(follo)n(w)g(by)g(re\003e)o(xi)n(vity)
-6 b(.)357 1521 y(Dischar)n(ging)24 b(the)g(parameters,)h(we)g(ha)n(v)o
(e)g(our)g(notion)e(of)i(cate)o(gory)-6 b(.)30 b(I)25
b(shall)f(typically)g(write)601 1798 y FZ(Concrete)49
b FC(\032)357 2075 y F4(to)24 b(mean)h(a)g(cate)o(gory)f(for)h(a)h(gi)n
(v)o(en)d(notion)g(of)i(arro)n(w)-6 b(,)24 b(lea)n(ving)h(the)f(object)
h(type)f(implicit.)357 2284 y(F)o(or)g(an)o(y)h(type)f(f)o(amily)g
FP(Fam)k FX(:)g FP(O)f F3(!)g FI(Type)p F4(,)d(we)i(may)e(de\002ne)634
2535 y FC(\032)601 2655 y FP(Fam)50 b FX(=)f FY(\025)p
FP(S)p FY(;)17 b FP(T)11 b FX(:)g FP(O)p FY(:)22 b FP(Fam)g(S)51
b F3(!)e FP(Fam)22 b(T)148 b FX(:)g FP(O)27 b F3(!)g
FP(O)g F3(!)h FI(Type)357 2933 y F4(W)-8 b(e)25 b(may)f(easily)h
(de\002ne)g(an)g(operation)f FX([)p F3(\001)p FX(])h
F4(on)g(such)f(f)o(amilies)g(such)g(that)601 3298 y FX([)p
FP(Fam)p FX(])k(:)f FZ(Concrete)1434 3178 y FC(\032)1401
3298 y FP(Fam)357 3575 y F4(with)g(objects)h(interpreted)g(via)g
FP(Fam)h F4(and)f(arro)n(ws,)h(identity)d(and)j(composition)d(as)i
(themselv)o(es.)357 3725 y(This)c(is)h(the)h(usual)f(notion)f(of)h
(functions)g(between)g(types)g(in)g(a)h(f)o(amily)-6
b(,)24 b(represented)i(within)e(our)357 3874 y(de\002ned)h(class)f(of)h
(cate)o(gory)-6 b(.)357 4084 y(In)21 b(particular)l(,)g(if)g(we)g(let)g
FN(T)-9 b(ype)21 b F4(be)g(the)g(identity)f(function)g(on)g
FI(Type)p F4(,)h(then)g FX([)p FN(T)-9 b(ype)p FX(])21
b F4(is)g(the)g(cate)o(gory)357 4233 y(of)27 b(O)t F2(L)t(E)t(G)i
F4(types.)357 4443 y(As)22 b(a)i(special)e(case,)i(we)f(may)g(pretend)g
(an)o(y)f(type)h FP(T)g F4(is)f(a)h FZ(1)-44 b(1)q F4(-inde)o(x)o(ed)21
b(type)i(f)o(amily)f(and)h(manuf)o(ac-)357 4592 y(ture)i(the)f
(one-object)h(cate)o(gory)f FX([)p FP(T)p FX(])h F4(of)g(its)f
(endofunctions.)357 4801 y(W)-8 b(e)23 b(will)f(encounter)g(cate)o
(gories)h(whose)f(arro)n(ws)h(are)g(not)f(represented)h(directly)g(as)i
(O)t F2(L)t(E)t(G)i F4(func-)357 5036 y(tions.)49 b(A)31
b(rather)h(glib)f(e)o(xample)f(is)h(the)g FZ(Concrete)2290
4916 y FC(\032)2303 5036 y FZ(N)-63 b(N)44 b F4(whose)31
b(arro)n(ws)g(li)n(v)o(e)f(in)h FZ(N)-63 b(N)31 b F4(\(actually)-6
b(,)357 5185 y FZ(1)-44 b(1)42 b F3(!)f FZ(1)-44 b(1)42
b F3(!)f FZ(N)-63 b(N)p F4(,)34 b(b)n(ut)d(ne)n(v)o(er)h(mind\),)h
(with)f FP(n)g F4(interpreted)g(as)h FZ(plus)27 b FP(n)p
F4(.)53 b(The)32 b(identity)f(is)h FZ(0)p F4(,)i(the)357
5335 y(composition)21 b(is)i FZ(plus)o F4(,)g(and)h(hence)f(the)g
(property)g(that)g(interpretation)f(respects)i(composition)d(is)357
5484 y(just)j(associati)n(vity)-6 b(.)1997 5667 y(186)p
eop
%%Page: 187 192
187 191 bop 357 -6 a FB(7.1.2)118 b(r)n(ecords)30 b(f)m(or)g(functors)
357 271 y F4(A)20 b F0(functor)j F4(tak)o(es)d(objects)g(and)h(arro)n
(ws)f(from)h(one)f(cate)o(gory)g(to)h(objects)f(and)g(arro)n(ws)h(of)g
(another)l(,)357 421 y(preserving)26 b(identity)f(and)i(composition.)34
b(W)-8 b(e)28 b(can)f(certainly)f(write)h(these)f(requirements)g(do)n
(wn)357 570 y(as)f(a)g(parameterised)f(record.)357 780
y(Let)g(us)h(\002x)g(source)g(and)g(tar)n(get)g(cate)o(gories,)f(then)g
(open)h(them:)601 1072 y FP(O)678 1029 y FL(s)743 1072
y FX(:)i FI(Type)601 1221 y FC(\032)712 1185 y FL(s)748
1221 y FX(:)h FP(O)880 1179 y FL(s)945 1221 y F3(!)f
FP(O)1150 1179 y FL(s)1214 1221 y F3(!)g FI(Type)601
1371 y FP(C)667 1328 y FL(s)731 1371 y FX(:)h FZ(Concrete)49
b FC(\032)1411 1335 y FL(s)601 1520 y FP(O)678 1477 y
FL(t)735 1520 y FX(:)28 b FI(Type)601 1670 y FC(\032)712
1634 y FL(t)741 1670 y FX(:)g FP(O)873 1627 y FL(t)930
1670 y F3(!)g FP(O)1135 1627 y FL(t)1193 1670 y F3(!)f
FI(Type)601 1819 y FP(C)667 1776 y FL(t)724 1819 y FX(:)h
FZ(Concrete)49 b FC(\032)1404 1783 y FL(t)601 2160 y
FP(C)667 2117 y FL(s)704 2160 y FX([)p FY(\023)765 2123
y FL(s)802 2160 y FX(;)17 b F3(\016)896 2123 y FL(s)932
2160 y FX(;)g([)-16 b([)p F3(\001)p FX(])f(])1079 2111
y FL(s)1132 2160 y FX(;)17 b([)-16 b([)p F3(\001)p FX(])f(])1279
2111 y FL(s)1332 2160 y FX(;)17 b FZ(RespI)1630 2111
y FL(s)1667 2160 y FX(;)g FZ(RespC)2024 2111 y FL(s)2060
2160 y FX(])j FP(C)2173 2117 y FL(t)2203 2160 y FX([)p
FY(\023)2264 2123 y FL(t)2294 2160 y FX(;)d F3(\016)2388
2123 y FL(t)2417 2160 y FX(;)g([)-17 b([)p F3(\001)p
FX(])g(])2564 2111 y FL(t)2610 2160 y FX(;)17 b([)-17
b([)p F3(\001)p FX(])g(])2756 2111 y FL(t)2803 2160 y
FX(;)17 b FZ(RespI)3101 2111 y FL(t)3130 2160 y FX(;)g
FZ(RespC)3487 2111 y FL(t)3516 2160 y FX(])357 2601 y
F4(Relati)n(v)o(e)24 b(to)g(these,)h(let)f(us)h(de\002ne)g(a)g(record)h
(type)e FZ(Functor)h F4(with)f(\002elds)800 2859 y FZ(Fo)q
FX(:)p FP(O)1018 2816 y FL(s)1105 2859 y F3(!)50 b FP(O)1332
2816 y FL(t)800 2979 y FZ(F)n(a)p FX(:)p FY(:)17 b(:)g(:)f
FX(\()p FP(S)28 b FC(\032)1304 2943 y FL(s)1368 2979
y FP(T)p FX(\))50 b F3(!)f FX(\()p FZ(Fo)23 b FP(S)p
FX(\))28 b FC(\032)2072 2943 y FL(t)2129 2979 y FX(\()p
FZ(Fo)23 b FP(T)o FX(\))601 3099 y FZ(PresEq)o FX(:)p
FY(:)17 b(:)g(:)f FP(f)27 b F3(\031)i FP(g)49 b F3(!)h
FZ(F)n(a)22 b FP(f)50 b F3(\031)g FZ(F)n(a)23 b FP(g)699
3220 y FZ(PresI)o FX(:)p FY(:)17 b(:)g(:)f FZ(F)n(a)23
b FY(\023)1243 3184 y FL(s)1243 3246 y FK(S)1334 3220
y F3(\031)50 b FY(\023)1495 3184 y FL(t)1495 3249 y FM(\()p
Fg(Fo)17 b FK(S)p FM(\))641 3350 y FZ(PresC)o FX(:)p
FY(:)g(:)g(:)f FZ(F)n(a)23 b FX(\()p FP(f)e F3(\016)1346
3314 y FL(s)1405 3350 y FP(g)p FX(\))50 b F3(\031)g FX(\()p
FZ(F)n(a)22 b FP(f)p FX(\))g F3(\016)1982 3314 y FL(t)2034
3350 y FX(\()p FZ(F)n(a)g FP(g)p FX(\))357 3606 y F4(Note)32
b(that)h(I)g(ha)n(v)o(e)g(left)f(out)h(some)f(human-inferrable)g(uni)n
(v)o(ersal)g(quanti\002ers)g(for)h(the)g(sak)o(e)g(of)357
3755 y(readability)-6 b(.)357 3965 y(The)19 b(e)o(xtra)g
(condition\227preserv)n(ation)e(of)i(e)o(xtensional)f(equality)h(of)g
(arro)n(ws\227is)g(necessary)-6 b(.)28 b(It)20 b(is)357
4114 y(possible)e(for)i(tw)o(o)f(e)o(xtensionally)e(equal)j(source)f
(arro)n(ws)g(to)h(be)f(distinguished)e(computationally)-6
b(,)357 4263 y(and)21 b(hence)i(mapped)e(to)g(dif)n(ferent)h(arro)n(ws)
f(in)g(the)h(tar)n(get)g(cate)o(gory)-6 b(,)21 b(unless)g(we)h(e)o
(xpressly)f(forbid)357 4413 y(it.)357 4622 y(Of)33 b(course,)j(when)d
(writing)g(functor)g(types,)i(I)e(shall)g(suppress)g(all)g(the)g
(details)g(and)g(just)f(lea)n(v)o(e)357 4772 y FZ(Functor)22
b FP(C)808 4729 y FL(s)867 4772 y FP(C)934 4729 y FL(t)963
4772 y F4(.)357 4981 y(By)39 b(w)o(ay)g(of)g(e)o(xample,)j(e)n(v)o(ery)
c(polymorphic)2009 4945 y FS(1)2084 4981 y F4(type)g(f)o(amily)g(has)h
(an)g(associated)g(functor)-5 b(.)72 b(It)357 5131 y(w)o(ould)24
b(be)h(nice)g(if)g(these)g(were)g(manuf)o(actured)g(automatically)-6
b(.)29 b(I)c(shall)g(outline)e(the)i(functor)g(for)357
5280 y FZ(m)n(aybe)p F4(.)p 357 5367 1373 4 v 473 5428
a FR(1)506 5458 y FQ(in)20 b(the)h(ML)f(sense)1997 5667
y F4(187)p eop
%%Page: 188 193
188 192 bop 601 -6 a FZ(m)n(aybeF)28 b FX(:)g FZ(Functor)22
b FX([)p FN(T)-9 b(ype)p FX(])23 b([)p FN(T)-9 b(ype)p
FX(])601 185 y FZ(m)n(aybeF)50 b FX(=)78 b F3(h)309 b
FZ(Fo)22 b F4(=)h FZ(m)n(aybe)1545 306 y(F)n(a)f F4(=)h
FY(\025)p FP(S)p FY(;)17 b FP(T)11 b FX(:)g FI(Type)o
FY(:)22 b(\025)p FP(f)11 b FX(:)g FP(S)28 b F3(!)g FP(T)p
FY(:)22 b(\025)p FP(x)11 b FX(:)g FZ(m)n(aybe)22 b FP(S)q
FY(:)p 1760 345 316 4 v 1758 462 4 121 v 1893 426 a FP(x)p
2073 462 V 1760 466 757 4 v 1758 586 4 121 v 1810 550
a FZ(y)n(es)g FP(s)p 2073 586 V 99 w FZ(y)n(es)g FX(\()p
FP(f)g(s)o FX(\))p 2514 586 V 1758 706 V 1816 670 a FZ(no)g
FP(S)p 2073 706 V 106 w FZ(no)g FP(T)p 2514 706 V 1760
710 757 4 v 1346 794 a FZ(PresEq)f F4(=)48 b FY(:)17
b(:)g(:)1445 914 y FZ(PresI)j F4(=)48 b FY(:)17 b(:)g(:)1386
1035 y FZ(PresC)k F4(=)48 b FY(:)17 b(:)g(:)1535 b F3(i)357
1315 y F4(This)28 b(functor)h(just)f(lifts)g(functions)g(to)h(their)f
(e)o(xception-propagating)f(images.)43 b(I)29 b(use)g(a)g(`table')357
1464 y(notation)c(for)i(case)g(e)o(xpressions:)33 b(the)27
b(column)f(heading)g FP(x)h F4(indicates)f(what)g(is)g(being)h
(analysed,)357 1614 y(underneath)k(it)g(are)i(the)e(patterns,)i(and)f
(to)f(the)g(right)g(are)i(the)e(corresponding)g(return)h(v)n(alues\227)
357 1763 y(this)24 b(notation)g(is)h(easily)g(interpreted)g(by)g
(pattern)g(matching.)31 b(The)25 b(three)h(remaining)e(\002elds)i(may)
357 1913 y(easily)39 b(be)g(pro)o(v)o(en)f(by)h(in)l(v)o(erting)f
FZ(F)n(a)p F4(,)43 b(ie)d(case)f(analysis)g(on)g(the)g
FZ(m)n(aybe)q F4(-typed)g(ar)n(gument)357 2062 y(implicit)23
b(in)h(the)h(e)o(xtensional)e(equations.)357 2272 y(Finally)-6
b(,)34 b(one)g(irritating)e(aspect)i(of)f(intensional)f(type)h(theory)g
(is)g(that)g(we)h(may)f(ha)n(v)o(e)g(to)g(w)o(ork)357
2421 y(with)27 b(se)n(v)o(eral)h(implementations)e(of,)k(e)o
(xtensionally)c(speaking,)j(the)f(same)h(function.)41
b(Suppose)357 2571 y(we)26 b(ha)n(v)o(e)g(another)f(candidate)h
FZ(F)n(a)1557 2522 y FE(0)1606 2571 y F4(for)g(the)g(arro)n(w)g(part)g
FZ(F)n(a)h F4(of)f(a)g(gi)n(v)o(en)e(functor)l(,)i(with)g(the)f(same)
357 2720 y(type)36 b(and)h(e)o(xtensional)f(beha)n(viour)-5
b(.)66 b(It)37 b(w)o(ould)f(be)i(really)e(anno)o(ying)g(if)h(we)h(had)f
(to)f(redo)h(the)357 2869 y(proofs)32 b(of)g(the)h(properties)e(for)i
(the)f(functor)h(with)e FZ(F)n(a)i F4(replaced)g(by)f
FZ(F)n(a)2941 2821 y FE(0)2964 2869 y F4(,)i(b)n(ut)e(fortunately)-6
b(,)33 b(we)357 3019 y(may)24 b(mak)o(e)h(this)f(ar)n(gument)g(once)h
(and)g(for)g(all.)357 3228 y(The)i(point)g(is)g(that)h(the)f(functor)h
(properties)f(concern)h(only)f(the)h(e)o(xtensional)e(beha)n(viour)h
(of)h FZ(F)n(a)p F4(,)357 3378 y(so)k(we)h(may)g(construct)f(a)i
(function)e FZ(sameFunctor)h F4(which)f(tak)o(es)h(our)g(source)g
(functor)l(,)i FZ(F)n(a)3764 3330 y FE(0)357 3527 y F4(and)23
b(a)h(proof)f(that)g FZ(F)n(a)h F4(and)f FZ(F)n(a)1423
3479 y FE(0)1470 3527 y F4(ha)n(v)o(e)g(the)h(same)f(e)o(xtension,)f
(returning)g(the)i(functor)f(with)f FZ(F)n(a)3641 3479
y FE(0)3688 3527 y F4(on)357 3677 y(arro)n(ws)i(and)h(all)f(the)h(same)
f(properties.)30 b(I)25 b(shall)f(not)h(gi)n(v)o(e)e(the)i(details)e
(here\227the)o(y)h(amount)g(only)357 3826 y(to)g(unremarkable)h(re)n
(writing.)357 4181 y FB(7.1.3)118 b(r)n(ecords)30 b(f)m(or)g(`concr)n
(ete')g(monads)357 4458 y F4(The)k(formalisation)e(of)i(monads)f(I)h
(shall)f(gi)n(v)o(e)f(is)i(a)g(`concrete')h(v)o(ersion)e(of)h(the)f
(Kleisli)g(triple)357 4607 y(presentation)i(due)g(to)h(Manes)f([Man76)o
(],)k(which)c(he)h(sho)n(wed)f(equi)n(v)n(alent)f(to)h(the)h(con)l(v)o
(ention)357 4757 y(de\002nition)24 b([Mac71)o(])h(by)g(an)g
(endofunctor)f FY(T)39 b F4(with)24 b(natural)h(transformations)e
FY(\021)28 b F4(and)d FY(\026)p F4(.)359 4966 y(D)t F2(E)t(FI)t(N)t(I)t
(T)t(I)t(O)t(N)r F4(:)35 b F0(Kleisli)24 b(triple)601
5259 y F4(A)g F0(Kleisli)g(triple)h FX(\()p FY(T)8 b(;)17
b(\021)t(;)j F3(h)-17 b(j)o FX(\))1584 5223 y FS(2)1647
5259 y F4(on)24 b(a)h(cate)o(gory)g FY(C)32 b F4(is)24
b(gi)n(v)o(en)f(by)p 357 5352 1373 4 v 473 5413 a FR(2)512
5443 y Fy(h)-13 b(j)20 b FQ(is)i(pronounced)16 b(`bind'.)1997
5667 y F4(188)p eop
%%Page: 189 194
189 193 bop 717 -6 a F3(\017)48 b F4(a)25 b(function)f
FY(T)39 b F4(from)24 b FY(C)7 b F4(-objects)25 b(to)f
FY(C)7 b F4(-objects)717 185 y F3(\017)48 b F4(an)22
b(object-inde)o(x)o(ed)f(f)o(amily)g(of)h(morphisms)e
FY(\021)43 b F3(2)d FY(C)7 b FX(\()p FY(X)r(;)17 b(T)d(X)8
b FX(\))p F4(,)22 b(interpreting)815 335 y(the)j(elements)f(of)h
FY(X)32 b F4(in)25 b(its)f FY(T)14 b F4(-image)717 526
y F3(\017)48 b F4(a)41 b(f)o(amily)e(of)i(functions)h
F3(h)-17 b(j)p F4(,)44 b(inde)o(x)o(ed)39 b(by)h(a)h(pair)f(of)g
(objects)g FY(X)r(;)17 b(Y)k F4(,)45 b(from)815 675 y
FY(C)7 b FX(\()p FY(X)r(;)17 b(T)d(Y)21 b FX(\))k F4(to)f
FY(C)7 b FX(\()p FY(T)14 b(X)r(;)j(T)d(Y)21 b FX(\))601
908 y F4(satisfying)i(the)i(equations)717 1165 y F3(\017)51
b FY(\021)t F3(h)-17 b(j)50 b FX(=)g FP(id)717 1356 y
F3(\017)e FX(\()s FP(f)p F3(h)-17 b(j)p FX(\))22 b F3(\016)g
FY(\021)53 b FX(=)d FP(f)717 1547 y F3(\017)h FX(\(\()s
FP(f)p F3(h)-16 b(j)o FX(\))22 b F3(\016)g FP(g)p FX(\))p
F3(h)-17 b(j)50 b FX(=)f(\()s FP(f)p F3(h)-17 b(j)p FX(\))22
b F3(\016)g FX(\()s FP(g)p F3(h)-17 b(j)p FX(\))601 1804
y F4(The)33 b F0(Kleisli)f(category)i F4(arising)e(from)i(such)f(a)h
(structure)f(has)g(the)h(same)f(objects)601 1954 y(as)27
b FY(C)7 b F4(,)29 b(and)f FY(X)35 b F4(to)28 b FY(Y)49
b F4(arro)n(ws)27 b(gi)n(v)o(en)f(by)i(the)f FY(C)7 b
FX(\()p FY(X)r(;)17 b(T)d(Y)21 b FX(\))p F4(.)40 b FY(\021)31
b F4(gi)n(v)o(es)c(each)h(object)f(its)601 2103 y(identity)-6
b(,)22 b(and)j(the)g(composition)d F3(\005)i F4(is)815
2336 y FP(f)e F3(\005)f FP(g)50 b FX(=)j FP(f)o F3(h)-17
b(j)22 b(\016)g FP(g)357 2628 y F4(Consequently)-6 b(,)20
b FY(\021)12 b F3(\016)d(\001)21 b F4(gi)n(v)o(es)f(a)h(functor)g(from)
g FY(C)28 b F4(to)21 b(the)g(Kleisli)f(cate)o(gory)-6
b(,)21 b(and)k F3(\001h)-18 b(j)21 b F4(gi)n(v)o(es)f(a)h(functor)357
2778 y(from)30 b(the)h(Kleisli)f(cate)o(gory)h(to)f(the)h(image)g(of)g
FY(C)38 b F4(under)31 b FY(T)14 b F4(.)49 b(The)31 b(composition)d(of)j
(the)g(tw)o(o)g(is)357 2927 y(thus)24 b(a)h(functor)f(which)h(does)f
FY(T)39 b F4(to)24 b(objects.)357 3137 y(The)e(presentation)g(of)g
(monads)g(gi)n(v)o(en)e(belo)n(w)i(is)g(based)g(on)g(the)h(idea)f(of)h
(a)f(functor)h(which)f(is)g(split)357 3286 y(into)i FY(\021)h
F3(\016)d(\001)j F4(\(belo)n(w)f F3(j)-17 b(i\001)s F4(\))25
b(and)j F3(\001h)-17 b(j)p F4(.)357 3495 y(Gi)n(v)o(en)29
b(tw)o(o)i(concrete)g(cate)o(gories)g(and)f(a)i(functor)l(,)g(we)f(may)
g(describe)g(what)f(it)h(means)f(to)h(be)g(a)357 3645
y F0(concr)n(ete)37 b(monad)g F4(which)e F0(splits)g
F4(that)g(functor)-5 b(.)63 b(Let)36 b(us)f(k)o(eep)h(the)g(same)g(tar)
n(get)f(and)h(source)357 3794 y(cate)o(gories)24 b(opened)h(as)g(abo)o
(v)o(e)e(and)i(\002x)g(further)601 4112 y FJ(F)j FX(:)f
FZ(Functor)c FP(C)1183 4069 y FL(s)1242 4112 y FP(C)1308
4069 y FL(t)357 4429 y F4(Let)h(us)h(open)f FJ(F)i F4(with)e(the)g
(names)h(gi)n(v)o(en)e(by)i(the)f(\002elds.)357 4638
y(A)h(concrete)g(monad)f(splitting)f FJ(F)i F4(captures)g(a)g(class)g
(of)g(`diagonal)f(arro)n(ws',)h FP(S)j F3(&)f FP(T)e
F4(\()p FP(S)q FY(;)17 b FP(T)27 b FX(:)h FP(O)3692 4596
y FL(s)3729 4638 y F4(\),)357 4788 y(which)38 b(are)i(interpreted)f(in)
g FX([)-16 b([)p FP(S)p FX(])g(])1519 4739 y FL(s)1610
4788 y F3(!)54 b FX([)-17 b([)p FZ(Fo)23 b FP(T)p FX(])-16
b(])2036 4739 y FL(t)2065 4788 y F4(.)74 b(These)39 b(will)g(be)g(the)g
(arro)n(ws)g(of)g(the)h(Kleisli)357 4937 y(cate)o(gory)-6
b(,)35 b(and)e(the)o(y)g(must)g(be)g(equipped)g(with)g(a)h(notion)f(of)
h(composition)d F3(\005)i F4(which)g(beha)n(v)o(es)357
5087 y(under)24 b(interpretation)g(lik)o(e)g(the)h(composition)e(in)h
(the)h(Kleisli)e(cate)o(gory)-6 b(.)357 5296 y(Think)22
b(of)i(the)f FZ(m)n(aybeF)i F4(functor)l(,)f(vie)n(wing)e
FZ(y)n(es)h F4(as)h(packaging)f(data)h(and)f FZ(no)h
F4(as)g(representing)357 5446 y(an)35 b(error)g(condition.)59
b(Arro)n(ws)34 b(in)g(the)h(source)g(cate)o(gory)f(are)i(`reliable')f
(functions)e(acting)i(on)1997 5667 y(189)p eop
%%Page: 190 195
190 194 bop 357 -6 a F4(actual)29 b(data;)j(arro)n(ws)d(in)g(the)g(tar)
n(get)h(cate)o(gory)f(are)h(`error)n(-a)o(w)o(are')h(functions\227the)o
(y)c(may)i(han-)357 144 y(dle)i(errors)i(or)f(create)g(them.)52
b(The)31 b(functor)h(tak)o(es)g(reliable)f(functions)g(to)h(`error)n
(-propagating')357 293 y(functions\227the)o(y)26 b(will)h(gi)n(v)o(e)g
(actual)h(output)f(for)i(actual)f(input)f(and)h(transmit)f(error)i
(conditions.)357 443 y(A)e(`diagonal)g(arro)n(w')g(is)g(an)g
(unreliable)g(function\227it)e(accepts)j(actual)f(data,)h(b)n(ut)e(may)
h(result)g(in)357 592 y(an)20 b(error)-5 b(.)29 b(A)20
b(monad)f(splitting)f FZ(m)n(aybeF)j F4(characterises)g(a)f(class)g(of)
g(these)g(unreliable)f(functions)357 742 y(such)24 b(that)502
1016 y F3(\017)49 b F4(e)n(v)o(ery)22 b(reliable)h(function)g
FP(f)g F4(has)g(an)g(unreliable)g(image)g(\(which)g(just)f(packages)h
(the)h(output)601 1165 y(with)g FZ(y)n(es)o F4(\))i(gi)n(v)o(en)d(by)h
F3(j)-17 b(i)p FP(f)601 1353 y F4(if)24 b FP(f)k FX(:)f
FP(S)i F3(!)e FP(T)e F4(then)f F3(j)-17 b(i)p FP(f)31
b FX(:)c FP(S)h F3(!)g FZ(m)n(aybe)22 b FP(T)502 1580
y F3(\017)49 b F4(e)n(v)o(ery)26 b(unreliable)h(function)g
FP(g)g F4(in)g(the)g(class)g(has)g(an)h(error)n(-a)o(w)o(are)g(image)f
(\(which)g(propa-)601 1729 y(gates)d(input)f(errors,)j(b)n(ut)e(may)g
(mak)o(e)h(ne)n(w)f(output)g(errors\))h(gi)n(v)o(en)f(by)j
FP(g)p F3(h)-17 b(j)601 1917 y F4(if)24 b FP(g)k FX(:)g
FP(S)g F3(!)f FZ(m)n(aybe)c FP(T)h F4(then)k FP(g)p F3(h)-17
b(j)28 b FX(:)f FZ(m)n(aybe)c FP(S)28 b F3(!)f FZ(m)n(aybe)c
FP(T)502 2143 y F3(\017)49 b F4(the)24 b(combination)f
F3(j)-17 b(i)p FP(f)p F3(h)g(j)24 b F4(does)h(the)g(same)f(thing)g(to)g
(source)h(arro)n(ws)g(as)g FZ(m)n(aybeF)601 2331 y F4(if)f
FP(f)k FX(:)f FP(S)i F3(!)e FP(T)e F4(then)f F3(j)-17
b(i)p FP(f)p F3(h)g(j)27 b FX(:)h FZ(m)n(aybe)23 b FP(S)28
b F3(!)f FZ(m)n(aybe)c FP(T)357 2606 y F4(More)h(formally)-6
b(,)24 b(let)g(us)h(\002x)g(the)g(carrier)g(type)g(for)g(diagonal)f
(arro)n(ws)601 2880 y F3(&)p FX(:)j FP(O)832 2837 y FL(s)897
2880 y F3(!)g FP(O)1102 2837 y FL(s)1166 2880 y F3(!)g
FI(Type)357 3154 y F4(and)d(collect)h(the)g(rele)n(v)n(ant)e(details)h
(in)h(a)g(record)g(type)g FZ(Monad)g F4(with)f(\002elds)955
3412 y F3(j)-17 b(i)o(\001)s FX(:)q FY(:)17 b(:)g(:)f
FX(\()p FP(S)28 b FC(\032)1426 3376 y FL(s)1490 3412
y FP(T)p FX(\))49 b F3(!)h FP(S)28 b F3(&)f FP(T)958
3532 y F3(\001h)-17 b(j)o FX(:)q FY(:)17 b(:)g(:)f FX(\()p
FP(S)28 b F3(&)f FP(T)p FX(\))50 b F3(!)f FX(\()p FZ(Fo)23
b FP(S)p FX(\))28 b FC(\032)2146 3496 y FL(t)2203 3532
y FX(\()p FZ(Fo)22 b FP(T)p FX(\))986 3652 y F3(\005)p
FX(:)o FY(:)17 b(:)g(:)f FX(\()p FP(S)28 b F3(&)f FP(T)p
FX(\))50 b F3(!)f FX(\()p FP(R)28 b F3(&)f FP(S)q FX(\))49
b F3(!)h FX(\()p FP(R)28 b F3(&)f FP(T)p FX(\))933 3778
y([)-17 b([)p F3(\001)p FX(])g(]:)q FY(:)17 b(:)g(:)f
FX(\()p FP(S)28 b F3(&)f FP(T)p FX(\))50 b F3(!)f FX([)-17
b([)q FP(S)p FX(])g(])1871 3729 y FL(s)1957 3778 y F3(!)50
b FX([)-17 b([)p FP(T)p FX(])h(])2243 3729 y FL(t)659
3903 y FZ(MonadI)o FX(:)q FY(:)17 b(:)g(:)f FX([)-17
b([)t FP(f)o F3(h)g(j)p FX(])h(])1350 3855 y FL(t)1418
3903 y FX(\([)f([)q F3(j)g(i)o FY(\023)1577 3867 y FL(s)1577
3929 y FK(S)1622 3903 y FX(])h(])39 b FP(s)o FX(\))22
b F3(')40 b FX([)-17 b([)p FP(f)p FX(])g(])39 b FP(s)601
4029 y FZ(MonadC)o FX(:)q FY(:)17 b(:)g(:)f FX([)-17
b([)p FP(f)22 b F3(\005)f FP(g)p FX(])-17 b(])39 b FP(r)22
b F3(')39 b FX([)-16 b([)s FP(f)p F3(h)f(j)p FX(])g(])1812
3980 y FL(t)1881 4029 y FX(\([)g([)p FP(g)p FX(])h(])38
b FP(r)p FX(\))844 4149 y FZ(Split)o FX(:)q FY(:)17 b(:)g(:)f
F3(j)-17 b(i)o FP(f)p F3(h)g(j)50 b(\031)g FZ(F)n(a)23
b FP(f)678 4269 y FZ(Fr)n(ontEq)p FX(:)q FY(:)17 b(:)g(:)f
FP(f)27 b F3(\031)h FP(g)50 b F3(!)f(j)-17 b(i)p FP(f)53
b F3(\031)d(j)-17 b(i)p FP(g)718 4390 y FZ(Fr)n(ontC)p
FX(:)q FY(:)17 b(:)g(:)f F3(j)-17 b(i)o FX(\()p FP(f)22
b F3(\016)1381 4354 y FL(s)1440 4390 y FP(g)p FX(\))53
b F3(\031)d FX(\()p F3(j)-17 b(i)p FP(f)s FX(\))22 b
F3(\005)f FX(\()p F3(j)-17 b(i)p FP(g)s FX(\))676 4510
y FZ(Bac)o(kEq)p FX(:)q FY(:)17 b(:)g(:)f FP(f)27 b F3(\031)h
FP(g)50 b F3(!)j FP(f)o F3(h)-17 b(j)50 b(\031)j FP(g)p
F3(h)-17 b(j)716 4631 y FZ(Bac)o(kC)p FX(:)q FY(:)17
b(:)g(:)i FX(\()p FP(f)j F3(\005)f FP(g)o FX(\))p F3(h)-16
b(j)49 b(\031)h FX(\()s FP(f)p F3(h)-17 b(j)p FX(\))22
b F3(\016)1900 4594 y FL(t)1952 4631 y FX(\()s FP(g)p
F3(h)-17 b(j)p FX(\))357 4887 y F4(This)35 b(may)h(look)f(lik)o(e)h(a)h
(lot)e(of)h(stuf)n(f,)i(b)n(ut)e(remember)g(that)g(the)g(diagonal)f
(arro)n(ws)h(might)f(not)357 5036 y(be)25 b(represented)h
(functionally\227the)o(y)c(might)i(be)i(something)d(really)j(concrete)g
(lik)o(e)e(association)357 5185 y(lists.)29 b(The)23
b(operations)f F3(j)-17 b(i\001)s F4(,)26 b F3(\001h)-17
b(j)23 b F4(and)g F3(\005)f F4(should)g(be)h(vie)n(wed)g(as)g
(syntactic.)29 b(W)-8 b(e)24 b(ha)n(v)o(e)f(to)g(ensure)g(that)357
5335 y(the)o(y)g(ha)n(v)o(e)h(the)h(right)e(semantics.)30
b(Of)24 b(course,)h(if)f(the)o(y)g(are)h(just)e(functions)h(and)g
(their)g(interpreta-)357 5484 y(tion)g(is)g(application,)g(then)g(this)
g(is)g(v)o(ery)h(easy)g(to)f(do.)1997 5667 y(190)p eop
%%Page: 191 196
191 195 bop 357 -6 a F4(The)19 b FZ(m)n(aybeF)h F4(functor)f(has)h(tri)
n(vial)d(functional)i(representations)f(of)i(arro)n(ws)f(source)g(and)g
(tar)n(get.)357 144 y(F)o(or)33 b(the)h(corresponding)f
FZ(m)n(aybeM)44 b FX(:)g FZ(Monad)29 b(m)n(aybeF)p F4(,)36
b(we)e(tak)o(e)g(the)f(diagonal)g(arro)n(w)357 293 y(type)25
b(to)h(be)f FP(S)30 b F3(!)f FZ(m)n(aybe)24 b FP(T)i
F4(and)f(the)h(interpretation)f(as)h(application.)32
b F3(j)-17 b(i\001)29 b F4(just)c(composes)f FZ(y)n(es)357
443 y F4(on)g(the)h(back)g(of)g(its)f(ar)n(gument)g(whilst)j
F3(\001h)-17 b(j)24 b F4(is)h(de\002ned)g(by)g(case)g(analysis:)604
735 y FP(f)p F3(h)-17 b(j)38 b FX(\()p FZ(y)n(es)22 b
FP(s)p FX(\))27 b(=)h FP(f)22 b(s)604 885 y(f)p F3(h)-17
b(j)38 b FX(\()p FZ(no)22 b FP(S)q FX(\))27 b(=)h FZ(no)22
b FP(T)357 1177 y F4(Composition)g(is)j(de\002ned)g(in)f(accordance)i
(with)e(the)h(requirement)f(on)h(its)f(interpretation:)601
1470 y FX(\()p FP(f)d F3(\005)g FP(g)p FX(\))h FP(r)50
b FX(=)j FP(f)o F3(h)-16 b(j)38 b FX(\()p FP(g)22 b(r)p
FX(\))357 1762 y F4(As)i(for)h(the)g(properties)502 2055
y F3(\017)49 b FZ(MonadI)o F4(,)25 b FZ(MonadC)g F4(and)f
FZ(Fr)n(ontC)h F4(hold)f(by)h(re\003e)o(xi)n(vity)-6
b(.)502 2287 y F3(\017)49 b FZ(Split)24 b F4(and)g FZ(Bac)o(kC)i
F4(hold)e(by)g(case)h(analysis)f(then)h(re\003e)o(xi)n(vity)-6
b(.)502 2520 y F3(\017)49 b FZ(Fr)n(ontEq)25 b F4(holds,)f(re)n
(writing)f(by)i(the)f(premise.)502 2752 y F3(\017)49
b FZ(Bac)o(kEq)24 b F4(holds)f(by)h(case)h(analysis,)e(then)h(re\003e)o
(xi)n(vity)e(in)i(the)g FZ(no)g F4(case)h(and)f(re)n(writing)f(by)601
2901 y(the)h(premise)h(in)f(the)h FZ(y)n(es)f F4(case.)357
3194 y(There)c(is)f(a)g(function)g(which)g(constructs)g(the)g
(\(concrete\))h F0(Kleisli)e F4(cate)o(gory)h(for)h(a)g(gi)n(v)o(en)e
(concrete)357 3343 y(monad.)601 3636 y FZ(Kleisli)26
b FX(:)i FZ(Monad)50 b F3(&)21 b(!)50 b FZ(Concrete)f
F3(&)357 3928 y F4(The)25 b FZ(Concrete)f F4(so)g(constructed)g(has)h
(operations:)601 4221 y FY(\023)635 4185 y FL(k)635 4247
y FK(S)728 4221 y FX(=)49 b F3(j)-17 b(i)p FY(\023)937
4185 y FL(s)937 4247 y FK(S)601 4370 y F3(\016)651 4334
y FL(k)743 4370 y FX(=)50 b F3(\005)601 4520 y FX([)-17
b([)p FP(S)q FX(])g(])731 4471 y FL(k)824 4520 y FX(=)49
b([)-16 b([)p FZ(Fo)23 b FP(S)p FX(])-17 b(])1216 4471
y FL(t)601 4669 y FX([)g([)p FP(f)p FX(])g(])703 4621
y FL(k)796 4669 y FX(=)50 b([)-17 b([)t FP(f)o F3(h)g(j)p
FX(])h(])1078 4621 y FL(t)357 5111 y F4(Observ)o(e)1997
5667 y(191)p eop
%%Page: 192 197
192 196 bop 788 -81 a Fz(\002)-18 b(\002)854 -1 y FY(\023)888
-37 y FL(k)888 25 y FK(S)931 -81 y Fz(\003)h(\003)997
-59 y FL(k)1079 -1 y FP(s)22 b F3(')45 b FX([)-17 b([)p
F3(j)g(i)p FY(\023)1383 -37 y FL(s)1383 25 y FK(S)1428
-1 y FX(])g(])1465 -49 y FL(k)1547 -1 y FP(s)497 b F4(\(de\002nition)24
b(of)h FY(\023)2665 -37 y FL(k)2708 -1 y F4(\))1140 130
y F3(')45 b FX([)-17 b([)p F3(j)g(i)p FY(\023)1383 94
y FL(s)1383 156 y FK(S)1425 130 y F3(h)g(j)o FX(])h(])1512
82 y FL(t)1580 130 y FP(s)464 b F4(\(de\002nition)24
b(of)h FX([)-16 b([)p F3(\001)p FX(])f(])2734 82 y FL(k)2777
130 y F4(\))1140 255 y F3(')45 b FX([)-17 b([)p FZ(F)n(a)23
b FY(\023)1470 219 y FL(s)1470 281 y FK(S)1511 255 y
FX(])-16 b(])1549 207 y FL(t)1617 255 y FP(s)427 b F4(\()p
FZ(Split)o F4(\))1140 421 y F3(')1262 310 y Fz(h)-17
b(h)1339 421 y FY(\023)1373 385 y FL(t)1373 450 y FM(\()p
Fg(Fo)16 b FK(S)p FM(\))1561 310 y Fz(i)-17 b(i)1638
332 y FL(t)1707 421 y FP(s)337 b F4(\()p FZ(PresI)o F4(\))1140
574 y F3(')45 b FP(s)782 b F4(\()p FZ(RespI)2371 526
y FL(t)2400 574 y F4(\))650 755 y Fz(\002)-17 b(\002)717
835 y FP(f)22 b F3(\016)817 799 y FL(k)881 835 y FP(g)931
755 y Fz(\003)-17 b(\003)997 777 y FL(k)1079 835 y FP(r)22
b F3(')45 b FX([)-17 b([)p FP(f)22 b F3(\005)f FP(g)p
FX(])-17 b(])1508 787 y FL(k)1590 835 y FP(r)454 b F4(\(de\002nition)24
b(of)h F3(\016)2681 799 y FL(k)2724 835 y F4(\))1140
966 y F3(')45 b FX([)-17 b([)s(\()p FP(f)22 b F3(\005)f
FP(g)p FX(\))p F3(h)-17 b(j)p FX(])g(])1637 918 y FL(t)1706
966 y FP(r)338 b F4(\(de\002nition)24 b(of)h FX([)-16
b([)p F3(\001)p FX(])f(])2734 918 y FL(k)2777 966 y F4(\))1140
1094 y F3(')45 b FX([)-17 b([\()s FP(f)p F3(h)g(j)p FX(\))22
b F3(\016)1528 1058 y FL(t)1580 1094 y FX(\()s FP(g)p
F3(h)-17 b(j)o FX(\)])h(])1796 1043 y FL(t)1864 1094
y FP(r)180 b F4(\()p FZ(Bac)o(kC)p F4(\))1140 1219 y
F3(')45 b FX([)-17 b([)s FP(f)p F3(h)g(j)p FX(])g(])1418
1171 y FL(t)1486 1219 y FX(\([)g([)t FP(g)p F3(h)g(j)o
FX(])h(])1702 1171 y FL(t)1770 1219 y FP(r)p FX(\))236
b F4(\()p FZ(RespC)2429 1171 y FL(t)2459 1219 y F4(\))1140
1350 y F3(')45 b FX([)-17 b([)p FP(f)p FX(])g(])1364
1301 y FL(k)1446 1350 y FX(\([)g([)p FP(g)p FX(])h(])1609
1301 y FL(k)1690 1350 y FP(r)p FX(\))316 b F4(\(de\002nition)24
b(of)h FX([)-16 b([)p F3(\001)p FX(])f(])2734 1301 y
FL(k)2777 1350 y F4(\))357 1711 y FT(7.2)142 b(substitution)34
b(f)l(or)h(the)g(untyped)g Fa(\025)p FT(-calculus)357
2023 y F4(In)24 b(this)g(section,)g(I)h(shall)e(de)n(v)o(elop)g(the)i
(technology)e(to)h(gi)n(v)o(e)g(a)g(monadic)g([Man76,)g(Mog91)o(])h
(pre-)357 2173 y(sentation)g(of)h(substitution)e(for)i(terms)g(with)g
(binding\227in)e(particular)l(,)i(the)g(untyped)g FY(\025)p
F4(-calculus)357 2322 y(with)k(de)i(Bruijn)f(indices)g([deB72].)51
b(Belle)o(garde)31 b(and)h(Hook)f([BH94])h(suggest)e(the)h(follo)n
(wing)357 2472 y(datatype,)36 b(which)e(Altenkirch)f(and)h(Reus)h
([AR99])g(describe)f(as)g(`heterogeneous',)j(and)d(Bird)357
2621 y(and)24 b(P)o(aterson)h([BP99)q(])g(describe)g(as)f(`nested'.)725
2912 y FP(X)k FX(:)g FI(Type)p 611 2951 552 4 v 611 3029
a FZ(Lam)22 b FP(X)28 b FX(:)g FI(Type)812 3261 y FP(x)f
FX(:)h FP(X)p 611 3277 607 4 v 611 3355 a FZ(v)m(ar)22
b FP(x)27 b FX(:)h FZ(Lam)23 b FP(X)1489 3250 y(s)p FY(;)17
b FP(t)28 b FX(:)f FZ(Lam)c FP(X)p 1386 3277 707 4 v
1386 3355 a FZ(a)r(pp)f FP(s)g(t)28 b FX(:)g FZ(Lam)22
b FP(X)2262 3244 y(t)27 b FX(:)h FZ(Lam)23 b FX(\()p
FZ(m)n(aybe)g FP(X)p FX(\))p 2262 3277 861 4 v 2382 3355
a FZ(lam)f FP(t)28 b FX(:)g FZ(Lam)23 b FP(X)357 3661
y F4(This)29 b(datatype)h(relati)n(vises)f(terms)g(to)h(an)g(arbitrary)
h(type)e(of)i(v)n(ariables.)2919 3625 y FS(3)3002 3661
y F4(It)f(can)h(be)f(de\002ned)h(in)357 3811 y(SML,)19
b(b)n(ut)f(recursion)h(o)o(v)o(er)g(it)f(is)h(necessarily)g
(polymorphic)e(and)i(hence)h(una)n(v)n(ailable.)28 b(Ho)n(we)n(v)o(er)l
(,)357 3960 y(Hask)o(ell)g(no)n(w)f(allo)n(ws)g(functions)g(o)o(v)o(er)
h(such)g(datatypes,)h(so)f(long)f(as)i(their)f(types)f(are)j(supplied)
357 4110 y(e)o(xplicitly)-6 b(.)357 4319 y(In)30 b(such)g(languages,)g
(terms)g(may)g(not)f(appear)i(in)f(types\227this)e(apartheid)i(polic)o
(y)e(is)i(advisable)357 4469 y(because)23 b(the)f(terms)g(often)g
(engage)h(in)f(such)g(criminal)g(acti)n(vities)e(as)j(nontermination.)
28 b(Hence,)23 b(if)357 4618 y(we)28 b(w)o(ant)h(to)f(mak)o(e)g(some)g
(kind)g(of)g(inde)o(x)o(ed)f(f)o(amily)-6 b(,)28 b(the)g(indices)g
(must)g(themselv)o(es)e(be)j(types.)357 4767 y(This)36
b(presentation)g(w)o(orks)g(by)h(using)f FZ(m)n(aybe)i
F4(as)f(a)g(kind)f(of)h(type-le)n(v)o(el)f FZ(s)o F4(,)k(corresponding)
357 4917 y(to)28 b(the)h(idea)g(that)f(there)i(is)e(some)g(number)h(of)
g(v)n(ariables)f(and)h(that)f(abstraction)g(introduces)g(one)357
5066 y(more.)62 b(Also,)37 b FZ(Lam)31 b(0)-44 b(0)36
b F4(is)f(a)g(type)h(of)f(closed)g(terms.)62 b(Ho)n(we)n(v)o(er)l(,)37
b(this)d(hack)o(ed-up)i(type-le)n(v)o(el)p 357 5156 1373
4 v 473 5217 a FR(3)506 5247 y FQ(In)25 b(f)o(act,)i(our)e(scheme)f(of)
i(de\002nitions)e(restricts)i(the)f(v)n(ariable)g(type)g(to)g(inhabit)g
(a)h(smaller)f(uni)n(v)o(erse)f(than)h(the)357 5347 y(terms)20
b(o)o(v)o(er)f(it.)1997 5667 y F4(192)p eop
%%Page: 193 198
193 197 bop 357 -6 a FZ(N)-63 b(N)34 b F4(has)h(only)f(introduction)f
(rules:)50 b(no)34 b(computation)f(on)i(indices)f(is)g(a)n(v)n
(ailable.)60 b(F)o(ortunately)-6 b(,)357 144 y(substitution)22
b(is)i(structural)g(on)h(terms.)357 353 y(W)-8 b(e)29
b(need)h(no)f(such)f(Group)h(Areas)h(Act.)43 b(In)30
b(our)f(system,)g(terms)f(are)i(as)g(trustw)o(orthy)d(as)i(types.)357
503 y(W)-8 b(e)25 b(can)g(use)g(the)f FZ(N)-63 b(N)25
b F4(God)g(in)l(v)o(ented,)e(and)i(then)f FZ(\002n)h
F4(to)f(mak)o(e)h(sets)f(of)h(v)n(ariables.)767 775 y
FP(n)j FX(:)f FZ(N)-63 b(N)p 611 791 535 4 v 611 870
a(Lam)22 b FP(n)28 b FX(:)g FI(Type)746 1093 y FP(x)f
FX(:)h FZ(\002n)22 b FP(n)p 611 1109 590 4 v 611 1187
a FZ(v)m(ar)g FP(x)27 b FX(:)h FZ(Lam)23 b FP(n)1473
1082 y(s)p FY(;)17 b FP(t)27 b FX(:)h FZ(Lam)23 b FP(n)p
1370 1109 690 4 v 1370 1187 a FZ(a)r(pp)f FP(s)g(t)27
b FX(:)h FZ(Lam)23 b FP(n)2311 1093 y(t)28 b FX(:)g FZ(Lam)22
b(s)p FP(n)p 2229 1109 605 4 v 2229 1187 a FZ(lam)g FP(t)28
b FX(:)g FZ(Lam)22 b FP(n)357 1464 y FZ(Lam)j FP(n)k
F4(is)f(the)g(type)g(of)h FY(\025)p F4(-terms)f(with)f
FP(n)i F4(free)h(v)n(ariables.)40 b(Later)l(,)30 b(we)f(shall)e(see)i
(operations)f(on)357 1613 y(syntax)c(which)g(are)i(made)e(structural)h
(by)f(the)h(a)n(v)n(ailability)d(of)j(recursion)g(on)g(this)e(inde)o
(x.)357 1823 y(Placing)h(these)h(types)f(in)h(our)f(cate)o(gorical)h
(setting,)e(we)i(ha)n(v)o(e)601 2203 y FX([)p FZ(\002n)o
FX(])j(:)f FZ(Concrete)1333 2082 y FC(\032)1334 2203
y FZ(\002n)601 2452 y FX([)p FZ(Lam)p FX(])h(:)g FZ(Concrete)1480
2331 y FC(\032)1431 2452 y FZ(Lam)357 2746 y F4(The)c(objects)f(in)h
(these)g(cate)o(gories)f(are)i(elements)e(of)i FZ(N)-63
b(N)p F4(,)24 b(interpreted)f(via)h FZ(\002n)g F4(and)g
FZ(Lam)h F4(respec-)357 2896 y(ti)n(v)o(ely)-6 b(.)27
b(The)c(arro)n(ws)f(are)h(function)e(spaces)i(interpreted)f(by)g
(application.)29 b(Hence)23 b(we)g(ef)n(fecti)n(v)o(ely)357
3045 y(abbre)n(viate:)601 3340 y FP(m)k FC(\032)817 3304
y FL(f)889 3340 y FP(n)51 b FX(=)-17 b F3(\))49 b FZ(\002n)22
b FP(m)49 b F3(!)h FZ(\002n)21 b FP(n)601 3490 y(m)27
b FC(\032)817 3453 y FL(L)896 3490 y FP(n)50 b FX(=)-17
b F3(\))50 b FZ(Lam)23 b FP(m)49 b F3(!)h FZ(Lam)22 b
FP(n)357 3934 y F4(In)j(this)e(section,)i(we)g(shall)f(be)h(looking)e
(to)h(b)n(uild)g(a)h(functor)601 4209 y FZ(Rename)i FX(:)h
FZ(Functor)23 b FX([)p FZ(\002n)o FX(])f([)p FZ(Lam)q
FX(])357 4485 y F4(which,)f(for)h(e)n(v)o(ery)e(arro)n(w)h(on)g(a)h(v)n
(ariable)e(space)i(in)f FX([)p FZ(\002n)o FX(])p F4(,)h(gi)n(v)o(es)e
(us)g(the)h(operation)g(on)g(terms)g(from)357 4634 y
FX([)p FZ(Lam)p FX(])26 b F4(o)o(v)o(er)e(those)g(v)n(ariables)g
(renaming)h(them)f(as)h(indicated.)31 b(The)25 b(object)f(part)i(of)f
(the)f(functor)357 4784 y(is)g(just)g(the)h(identity)e(on)h
FZ(N)-63 b(N)p F4(.)31 b(W)-8 b(e)25 b(may)g(then)f(vie)n(w)g
(functions)g(in)g(the)h(type)601 5059 y FP(m)i F3(&)g
FP(n)50 b FX(=)-17 b F3(\))50 b FZ(\002n)21 b FP(m)50
b F3(!)f FZ(Lam)23 b FP(n)357 5335 y F4(as)33 b(simultaneous)f
(substitutions)f(from)i FP(m)g F4(v)n(ariables)g(to)h(terms)f(o)o(v)o
(er)f FP(n)j F4(v)n(ariables)e(and)g(seek)h(a)357 5484
y(monadic)24 b(implementation)1997 5667 y(193)p eop
%%Page: 194 199
194 198 bop 601 -6 a FZ(SubstM)25 b FX(:)j FZ(Monad)22
b(Rename)50 b F3(&)357 280 y F4(Note)27 b(that)g FZ(Rename)g
F4(is)g(not)g(an)g(endofunctor)l(,)g(as)h(in)f(the)g(con)l(v)o(entinal)
e(notion)h(of)i(monad,)f(b)n(ut)357 429 y(we)22 b(can)h(still)e(think)g
(of)h(splitting)e(it)i(in)g(a)h(monadic)e(w)o(ay)-6 b(.)29
b(The)23 b(consequent)e(Kleisli)g(cate)o(gory)h(will)357
579 y(thus)29 b(interpret)g(substitutions)d(as)k(functions)f(from)g
(terms)g(o)o(v)o(er)g(one)h(set)f(of)h(v)n(ariables)f(to)g(terms)357
728 y(o)o(v)o(er)24 b(another)-5 b(.)357 938 y(Before)28
b(we)g(can)f(w)o(ork)g(with)g(terms,)g(we)g(need)h(some)f(basic)g
(tools)f(for)h(w)o(orking)g(with)f(v)n(ariables)357 1087
y(in)e(the)h(de)g(Bruijn)f(style.)357 1441 y FB(7.2.1)118
b Fs(lift)p FB(,)30 b Fs(thin)f FB(and)h Fs(thic)n(k)357
1718 y F4(de)22 b(Bruijn')-5 b(s)21 b(insight)g(w)o(as)h(to)f(see)i(a)f
(v)n(ariable)g(not)f(just)g(as)h(an)g(indenti\002er)l(,)h(b)n(ut)e(as)h
(a)h(reference)g(to)f(a)357 1867 y(binding.)30 b(V)-11
b(ariable)26 b(indices)e(count)h(outw)o(ards)g(through)f(the)h
FY(\025)p F4(-bindings,)f(0)h(for)g(the)g(most)g(local,)357
2016 y(1)f(for)h(the)g(ne)o(xt)f(and)h(so)f(on.)31 b(F)o(or)25
b(e)o(xample,)601 2324 y FY(\025)p FJ(f)p FY(:)d(\025)p
FP(x)p FY(:)g FJ(f)g FP(x)j F4(becomes)g FY(\025\025)p
FX(1)c(0)357 2632 y F4(Ev)o(ery)35 b(time)f(we)i(go)f(under)g(a)h
(binder)l(,)h(the)e(ne)n(w)g(v)n(ariable)g(is)g(0)g(and)h(the)f(old)g
(ones)g(get)g(incre-)357 2782 y(mented.)30 b(W)-8 b(e)25
b(may)f(represent)h(this)f(distinction)f(by)i(the)f(constructors)g(of)h
(the)g FZ(\002n)f F4(f)o(amily)-6 b(.)357 2991 y(No)n(w)g(,)28
b(suppose)g(we)h(ha)n(v)o(e)g(a)g F0(r)n(enaming)p F4(\227an)h(arro)n
(w)e FJ(f)36 b FX(:)f FP(m)g FC(\032)2620 2955 y FL(f)2700
2991 y FP(n)p F4(.)43 b(In)29 b(order)h(to)e(apply)g(such)h(a)357
3140 y(renaming)c(across)h(a)g(term,)f(we)h(must)f(e)o(xplain)g(what)g
(to)h(do)f(with)g(the)h(e)o(xpanded)f(v)n(ariable)g(space)357
3290 y(under)f(a)g FZ(lam)p F4(\227it)f(must)g(af)n(fect)h(only)f(the)h
(free)h(v)n(ariables)e(embedded)h(by)f FZ(fs)p F4(,)h(lea)n(ving)f(the)
h(ne)n(wly)357 3439 y(bound)g FZ(fz)h F4(v)n(ariable)g(alone.)601
3747 y FJ(f)632 3699 y FE(0)683 3747 y FX(:)j FZ(s)o
FP(m)f FC(\032)992 3711 y FL(f)1065 3747 y FZ(s)p FP(n)650
3876 y FJ(f)682 3828 y FE(0)805 3876 y FX(\()p FZ(fz)22
b FP(m)p FX(\))99 b(=)148 b FZ(fz)23 b FP(n)650 3997
y FJ(f)682 3949 y FE(0)820 3997 y FX(\()p FZ(fs)f FP(x)p
FX(\))115 b(=)148 b FZ(fs)22 b FX(\()p FJ(f)g FP(x)p
FX(\))357 4268 y F4(This)i(is)g(a)h(recognisable)g(program.)357
4477 y(Dischar)n(ging)33 b(o)o(v)o(er)h(arbitrary)g FP(n)p
F4(,)j FP(m)d F4(and)g FJ(f)p F4(,)j(we)d(obtain)f(the)i(functional)e
FZ(lift)h F4(which)g(tak)o(es)g(an)o(y)357 4627 y(such)24
b FJ(f)h F4(to)g(the)f(appropriate)h FJ(f)1379 4579 y
FE(0)1403 4627 y F4(.)30 b(I)c(suppress)e(the)g(boring)g(ar)n(guments)g
(when)h(I)g(apply)f(it.)601 4934 y FZ(lift)j FX(:)h F3(8)p
FP(m)p FY(;)17 b FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)22
b F3(8)p FJ(f)12 b FX(:)f FZ(\002n)22 b FP(m)49 b F3(!)g
FZ(\002n)22 b FP(n)p FY(:)g FZ(\002n)g(s)o FP(m)50 b
F3(!)f FZ(\002n)22 b(s)o FP(n)601 5087 y FZ(lift)g FJ(f)100
b FX(\()p FZ(fz)22 b FP(m)p FX(\))99 b(=)148 b FZ(fz)23
b FP(n)601 5207 y FZ(lift)f FJ(f)115 b FX(\()p FZ(fs)22
b FP(x)p FX(\))115 b(=)148 b FZ(fs)22 b FX(\()p FJ(f)g
FP(x)p FX(\))357 5484 y FZ(lift)j F4(gi)n(v)o(es)e(us)h(the)h(arro)n(w)
g(part)f(of)h(the)g(functor)1997 5667 y(194)p eop
%%Page: 195 200
195 199 bop 601 -6 a FZ(Lift)27 b FX(:)h FZ(Functor)22
b FX([)p FZ(\002n)p FX(])g([)p FZ(\002n)o FX(])601 185
y FZ(Lift)49 b FX(=)78 b F3(h)309 b FZ(Fo)23 b F4(=)f
FZ(s)1282 306 y(F)n(a)h F4(=)f FZ(lift)1083 426 y(PresEq)g
F4(=)47 b FY(:)17 b(:)g(:)1182 547 y FZ(PresI)k F4(=)47
b FY(:)17 b(:)g(:)1123 667 y FZ(PresC)22 b F4(=)47 b
FY(:)17 b(:)g(:)125 b F3(i)357 954 y F4(There)39 b(is)g(a)h(recursion)f
(induction)e(principle)i(for)g FZ(lift)h F4(which)e(we)i(may)f(re)o
(gard)g(as)g(generated)357 1103 y(automatically)c(from)h(its)f
(equational)h(de\002nition.)65 b FZ(lift)36 b F4(is)g(not)g(a)h
(recursi)n(v)o(e)e(function,)k(so)d(it)g(is)357 1253
y(perhaps)24 b(more)h(informati)n(v)o(e)e(to)h(call)h(it)f(an)h
F0(in)l(v)o(ersion)g F4(principle)f FZ(liftIn)n(v)p F4(:)p
601 1454 1691 4 v 601 2289 4 836 v 654 1563 a FP(m)o
FY(;)17 b FP(n)28 b FX(:)g FZ(N)-63 b(N)654 1683 y FJ(f)28
b FX(:)f FP(m)h FC(\032)984 1647 y FL(f)1056 1683 y FP(n)654
1804 y FX(\010)g(:)g FZ(\002n)21 b(s)p FP(m)27 b F3(!)g
FZ(\002n)22 b(s)o FP(n)28 b F3(!)g FI(Type)788 2065 y
FX(\010)23 b(\()p FZ(fz)f FP(m)p FX(\))g(\()p FZ(fz)h
FP(n)p FX(\))120 b(\010)23 b(\()p FZ(fs)f FP(x)p FX(\))g(\()p
FZ(fs)g FX(\()p FJ(f)g FP(x)p FX(\)\))p 788 2098 1391
4 v 1032 2204 a F3(8)p FP(x)11 b FX(:)g FZ(\002n)22 b(s)p
FP(m)o FY(:)g FX(\010)h FP(x)p 1648 2105 287 4 v 1648
2231 4 126 v 50 w FZ(lift)f FJ(f)h FP(x)p 1931 2231 V
1648 2234 287 4 v 2288 2289 4 836 v 601 2292 1691 4 v
357 2536 a F4(The)i(three)h(functor)f(properties)f(left)i(elliptic)e
(abo)o(v)o(e)g(follo)n(w)g(easily)h(by)g(in)l(v)o(ersion.)30
b(I)c(shall)e(sho)n(w)357 2686 y FZ(PresC)g F4(and)g(lea)n(v)o(e)h(the)
g(other)f(tw)o(o)h(to)f(your)h(imagination.)p 7 setlinewidth
np 655 2914 25 135.00 315.00 arc st 7 setlinewidth np
691 2896 18 180.00 360.00 arc st 7 setlinewidth np 745
2896 35 180.00 360.00 arc st 7 setlinewidth np 789 2923
28 251.56 341.56 arc st 7 setlinewidth np 816 2941 27
270.00 450.00 arc st 7 setlinewidth np 780 2967 35 360.00
540.00 arc st 7 setlinewidth np 727 2967 18 360.00 540.00
arc st 7 setlinewidth np 682 2967 27 360.00 540.00 arc
st 7 setlinewidth np 647 2950 19 63.43 243.43 arc st
601 3126 a FX(?)p FZ(PresC)o FX(:)d F3(8)p FP(r)p FY(;)17
b FP(s)o FY(;)g FP(t)p FX(:)23 b FZ(N)-63 b(N)969 3246
y F3(8)p FJ(f)167 b FX(:)23 b FP(s)k FC(\032)1449 3210
y FL(f)1522 3246 y FP(t)969 3366 y F3(8)p FJ(g)131 b
FX(:)23 b FP(r)k FC(\032)1449 3330 y FL(f)1522 3366 y
FP(s)969 3487 y F3(8)p 1024 3412 107 4 v 1024 3513 4
101 v 28 w FP(x)p 1127 3513 V 1024 3516 107 4 v 120 w
FX(:)c FZ(\002n)e(s)p FP(r)1024 3626 y FZ(lift)h FX(\()p
FJ(f)h F3(\016)f FJ(g)p FX(\))g FP(x)g F3(')g FZ(lift)g
FJ(f)p 1794 3526 326 4 v 1794 3671 4 145 v 51 w FZ(lift)g
FJ(g)k FP(x)p 2116 3671 V 1794 3674 326 4 v 357 3900
a F4(In)l(v)o(erting)d(the)i(box)o(ed)f FZ(lift)h F4(application,)e(we)
i(acquire)g(tw)o(o)g(subgoals)p 7 setlinewidth np 655
4128 25 135.00 315.00 arc st 7 setlinewidth np 691 4110
18 180.00 360.00 arc st 7 setlinewidth np 745 4110 35
180.00 360.00 arc st 7 setlinewidth np 789 4137 28 251.56
341.56 arc st 7 setlinewidth np 816 4155 27 270.00 450.00
arc st 7 setlinewidth np 780 4182 35 360.00 540.00 arc
st 7 setlinewidth np 727 4182 18 360.00 540.00 arc st
7 setlinewidth np 682 4182 27 360.00 540.00 arc st 7
setlinewidth np 647 4164 19 63.43 243.43 arc st 601 4340
a FX(?)p FZ(PresC)920 4355 y FL(z)959 4340 y FX(:)e F3(8)p
FP(r)p FY(;)17 b FP(s)o FY(;)g FP(t)p FX(:)22 b FZ(N)-63
b(N)1009 4460 y F3(8)p FJ(f)167 b FX(:)22 b FP(s)28 b
FC(\032)1489 4424 y FL(f)1561 4460 y FP(t)1009 4581 y
F3(8)p FJ(g)131 b FX(:)22 b FP(r)28 b FC(\032)1489 4545
y FL(f)1561 4581 y FP(s)1009 4701 y F3(8)p FP(x)148 b
FX(:)22 b FZ(\002n)g(s)o FP(r)1064 4822 y FZ(lift)g FX(\()p
FJ(f)g F3(\016)g FJ(g)p FX(\))g(\()p FZ(fz)h FP(r)p FX(\))f
F3(')h FZ(lift)f FJ(f)g FX(\()p FZ(fz)h FP(s)p FX(\))601
4942 y(?)p FZ(PresC)38 b FX(:)23 b F3(8)p FP(r)p FY(;)17
b FP(s)o FY(;)g FP(t)p FX(:)22 b FZ(N)-63 b(N)1009 5062
y F3(8)p FJ(f)167 b FX(:)22 b FP(s)28 b FC(\032)1489
5026 y FL(f)1561 5062 y FP(t)1009 5183 y F3(8)p FJ(g)131
b FX(:)22 b FP(r)28 b FC(\032)1489 5147 y FL(f)1561 5183
y FP(s)1009 5303 y F3(8)p FP(x)148 b FX(:)22 b FZ(\002n)g
FP(r)1064 5424 y FZ(lift)g FX(\()p FJ(f)g F3(\016)g FJ(g)p
FX(\))g(\()p FZ(fs)g FP(x)p FX(\))g F3(')h FZ(lift)f
FJ(f)g FX(\()p FZ(fs)g FX(\()p FJ(g)h FP(x)o FX(\)\))1997
5667 y F4(195)p eop
%%Page: 196 201
196 200 bop 357 -6 a F4(The)25 b(tw)o(o)f(conclusions)f(then)i(reduce)g
(respecti)n(v)o(ely)e(to)601 259 y FZ(fz)f FP(t)h F3(')f
FZ(fz)h FP(t)601 408 y FZ(fs)f FX(\()p FJ(f)g FX(\()p
FJ(g)g FP(x)p FX(\)\))g F3(')h FZ(fs)f FX(\()p FJ(f)g
FX(\()p FJ(g)g FP(x)p FX(\)\))357 672 y F4(As)i(you)h(can)g(see,)g
(these)f(are)i(both)e(re\003e)o(xi)n(v)o(e.)357 881 y(W)-8
b(e)30 b(can)g(use)g FZ(lift)f F4(to)h(de\002ne)g(an)g(important)e
(class)h(of)h(renamings\227the)e F0(thinnings)p F4(.)47
b(These)29 b(add)357 1031 y(a)i(ne)n(w)f(v)n(ariable)g(to)g(the)g(set,)
i(b)n(ut)e(not)g(necessarily)g(at)g(the)h(top.)2598 995
y FS(4)2682 1031 y F4(If)g(there)g(are)g FP(n)g F4(old)f(v)n(ariables,)
357 1180 y(there)e(are)h FZ(s)p FP(n)f F4(choices)g(for)g(the)g(ne)n(w)
g(v)n(ariable)g FP(x)p F4(.)40 b FZ(thin)24 b FP(x)k
F4(is)g(the)g(renaming)f(which)h(shuf)n(\003es)f(the)357
1330 y(old)d(v)n(ariables)g(in)g(around)h(the)g(ne)n(w)f(one,)h
(without)e(changing)h(their)h(order)-5 b(.)357 1539 y(The)25
b(idea)f(is,)h(morally:)601 1768 y FZ(thin)c FP(x)h(y)50
b FX(=)99 b FP(y)p F4(,)25 b(if)f FP(y)k FY(<)f FP(x)1145
1888 y(y)22 b FX(+)g(1)p F4(,)j(if)f FP(y)k F3(\025)g
FP(x)357 2122 y F4(In)d(particular)l(,)f FZ(thin)e FP(x)g(y)49
b F3(6)p FX(=)h FP(x)p F4(.)357 2331 y(No)n(w)-6 b(,)22
b(if)i(the)g(ne)n(w)f(v)n(ariable)g(is)g FZ(fz)c FP(n)p
F4(,)24 b(then)g(thinning)e(is)h(just)g(the)g FZ(fs)h
F4(embedding.)29 b(Otherwise,)24 b(it)f(is)357 2481 y(a)i
FZ(lift)p F4(ed)g(thinning!)601 2760 y FZ(thin)h FX(:)i
F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FZ(\002n)g(s)o
FP(n)51 b F3(!)e FX(\()p FP(n)28 b FC(\032)1809 2724
y FL(f)1882 2760 y FZ(s)o FP(n)q FX(\))601 2909 y F4(ie)601
3059 y FZ(thin)e FX(:)i F3(8)p FP(n)12 b FX(:)f FZ(N)-63
b(N)p FY(:)22 b FZ(\002n)g(s)o FP(n)51 b F3(!)e FZ(\002n)21
b FP(n)51 b F3(!)e FZ(\002n)22 b(s)o FP(n)601 3184 y
FZ(thin)98 b FX(\()p FZ(fz)23 b FP(n)q FX(\))99 b(=)148
b FZ(fs)1496 3199 y FK(n)601 3304 y FZ(thin)103 b FX(\()p
FZ(fs)22 b FP(x)p FX(\))104 b(=)148 b FZ(lift)22 b FX(\()p
FZ(thin)f FP(x)p FX(\))357 3553 y F4(Thinning)e(pro)o(vides)h(us)g
(with)h(an)g(alternati)n(v)o(e)e(vie)n(w)i(of)g FZ(\002n)7
b(s)p FP(n)p F4(.)29 b(Ev)o(ery)21 b(v)n(ariable)f(is)h(either)g(the)g
(ne)n(w)357 3703 y(one,)k FP(x)p F4(,)g(or)h(an)f(embedded)g(old)g
(one,)h FZ(thin)21 b FP(x)i(y)i F4(for)h(some)e FP(y)29
b FX(:)g FZ(\002n)22 b FP(n)p F4(.)33 b(W)-8 b(e)25 b(may)g(imagine)g
(a)h(partial)357 3852 y(in)l(v)o(erse)e(to)g FZ(thin)g
F4(which)g(mak)o(es)g(the)g(distinction,)e(with)i(the)h(follo)n(wing)d
(e)o(xtensional)h(beha)n(viour:)601 4132 y FZ(thic)o(k)k
FX(:)g F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)23
b FZ(\002n)e(s)p FP(n)50 b F3(!)f FZ(\002n)22 b(s)o FP(n)51
b F3(!)e FZ(m)n(aybe)23 b FX(\()p FZ(\002n)e FP(n)p FX(\))601
4286 y FZ(thic)o(k)99 b FP(x)g FX(\()p FZ(thin)21 b FP(x)h(y)p
FX(\))100 b F3(')120 b FZ(y)n(es)22 b FP(y)601 4406 y
FZ(thic)o(k)99 b FP(x)272 b(x)g F3(')120 b FZ(no)22 b
FX(\()p FZ(\002n)g FP(n)p FX(\))357 4655 y FZ(thic)o(k)29
b F4(is)h(a)g(re\002nement)h(of)f(the)g(decidable)g(equality)f(for)h
(the)g(\002nite)g(sets\227it)f(not)g(only)g(tells)h(us)357
4804 y(whether)24 b(tw)o(o)h(elements)f(dif)n(fer)l(,)h(b)n(ut)f(also)g
(in)h(what)f(w)o(ay)-6 b(.)357 5014 y(W)e(e)21 b(can)h(get)f(some)g
(help)g(writing)f FZ(thic)o(k)h F4(if)g(we)g(try)h(to)e(pro)o(v)o(e)h
(the)g(abo)o(v)o(e)f(pair)h(of)h(equational)e(la)o(ws)357
5163 y(\(for)26 b(a)g(common)f(abstracted)h FP(x)p F4(\))g(by)g
(recursion)g(induction)e(on)i FZ(thin)o F4(,)g(as)g(de\002ned)h(in)e
(the)h(ob)o(vious)357 5313 y(w)o(ay)-6 b(.)30 b(W)-8
b(e)25 b(thus)f(seek:)p 357 5393 1373 4 v 473 5454 a
FR(4)506 5484 y FQ(`Thinning')18 b(is)j(a)f(liquid)g(metaphor)-5
b(.)1997 5667 y F4(196)p eop
%%Page: 197 202
197 201 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FZ(thic)o(k)27 b FX(:)22 b F3(8)q
FP(n)88 b FX(:)22 b FZ(N)-63 b(N)951 282 y F3(8)q FP(x)p
FY(;)17 b FP(y)o FX(:)22 b FZ(\002n)g(s)o FP(n)1007 403
y FZ(m)n(aybe)h FX(\()p FZ(\002n)e FP(n)p FX(\))601 523
y(?)p FZ(thic)o(k)874 538 y FL(i)902 523 y FX(:)38 b
F3(8)p 1022 448 112 4 v 1022 549 4 101 v 28 w FP(n)p
1130 549 V 1022 552 112 4 v 186 w FX(:)22 b FZ(N)-63
b(N)967 643 y F3(8)p 1022 569 107 4 v 1022 670 4 101
v 28 w FP(x)p 1125 670 V 1022 673 107 4 v 191 w FX(:)22
b FZ(\002n)f(s)p FP(n)951 764 y FX(\006)q FZ(thic)o(k)1249
779 y FL(y)1291 764 y FX(:)h F3(8)p FP(y)p FX(:)g FZ(\002n)g
FP(n)1395 903 y FZ(thic)o(k)g FP(x)g FX(\()p 1755 803
304 4 v 1755 929 4 126 v 28 w FZ(thin)f FP(x)p 2055 929
V 1755 932 304 4 v 51 w(y)o FX(\))i F3(')f FZ(y)n(es)g
FP(y)1022 1023 y FZ(thic)o(k)g FP(x)f(x)h F3(')h FZ(no)f
FX(\()p FZ(\002n)g FP(n)p FX(\))357 1303 y F4(The)27
b(abstraction)f(of)i FP(x)f F4(outside)f(both)h(equations)f(allo)n(ws)g
(them)h(to)f(be)i(transformed)f(simultane-)357 1453 y(ously)-6
b(.)29 b(The)c(induction)e(yields)h(subgoals:)p 7 setlinewidth
np 655 1706 25 135.00 315.00 arc st 7 setlinewidth np
691 1688 18 180.00 360.00 arc st 7 setlinewidth np 745
1688 35 180.00 360.00 arc st 7 setlinewidth np 789 1715
28 251.56 341.56 arc st 7 setlinewidth np 816 1732 27
270.00 450.00 arc st 7 setlinewidth np 780 1759 35 360.00
540.00 arc st 7 setlinewidth np 727 1759 18 360.00 540.00
arc st 7 setlinewidth np 682 1759 27 360.00 540.00 arc
st 7 setlinewidth np 647 1741 19 63.43 243.43 arc st
601 1918 a FX(?)p FZ(thic)o(k)63 b FX(:)22 b F3(8)p FP(n)89
b FX(:)22 b FZ(N)-63 b(N)987 2038 y F3(8)p FP(x)p FY(;)17
b FP(y)p FX(:)22 b FZ(\002n)f(s)p FP(n)1042 2158 y FZ(m)n(aybe)i
FX(\()p FZ(\002n)f FP(n)p FX(\))601 2279 y(?)p FZ(thic)o(k)874
2294 y FL(iz)938 2279 y FX(:)37 b F3(8)q FP(n)213 b FX(:)23
b FZ(N)-63 b(N)987 2399 y FX(\006)q FZ(thic)o(k)1285
2414 y FL(y)1326 2399 y FX(:)23 b F3(8)p FP(y)p FX(:)f
FZ(\002n)f FP(n)1431 2519 y FZ(thic)o(k)h FX(\()p FZ(fz)g
FP(n)q FX(\))g(\()p FZ(fs)g FP(y)p FX(\))g F3(')g FZ(y)n(es)g
FP(y)1058 2640 y FZ(thic)o(k)f FX(\()p FZ(fz)i FP(n)p
FX(\))f(\()p FZ(fz)h FP(n)p FX(\))f F3(')h FZ(no)f FX(\()p
FZ(\002n)g FP(n)p FX(\))601 2760 y(?)p FZ(thic)o(k)874
2775 y FL(is)938 2760 y FX(:)37 b F3(8)q FP(n)213 b FX(:)23
b FZ(N)-63 b(N)1002 2881 y F3(8)q FP(x)218 b FX(:)23
b FZ(\002n)e(s)p FP(n)1002 3001 y F3(8)q FJ(f)237 b FX(:)23
b FZ(\002n)e FP(n)50 b F3(!)g FZ(\002n)21 b(s)p FP(n)1002
3121 y F3(8)q FP(hyp)118 b FX(:)23 b(\006)p FZ(thic)o(k)1674
3136 y FL(y)1715 3121 y FX(:)f F3(8)q FP(y)o FX(:)h FZ(\002n)e
FP(n)1820 3242 y FZ(thic)o(k)g FP(x)h FX(\()p FJ(f)g
FP(y)p FX(\))g F3(')h FZ(y)n(es)f FP(y)1446 3362 y FZ(thic)o(k)g
FP(x)g(x)g F3(')g FZ(no)g FX(\()p FZ(\002n)g FP(n)p FX(\))987
3482 y(\006)q FZ(thic)o(k)1285 3497 y FL(y)1326 3482
y FX(:)h F3(8)p 1431 3408 107 4 v 1431 3535 4 128 v 28
w FP(y)p 1534 3535 V 1431 3538 107 4 v 28 w FX(:)g FZ(\002n)e(s)p
FP(n)1431 3641 y FZ(thic)o(k)h FX(\()p FZ(fs)g FP(x)o
FX(\))p 1921 3542 301 4 v 1921 3693 4 152 v 51 w FZ(lift)g
FJ(f)36 b FP(y)p 2218 3693 V 1921 3696 301 4 v 50 w F3(')23
b FZ(y)n(es)f FP(y)1058 3781 y FZ(thic)o(k)f FX(\()p
FZ(fs)h FP(x)p FX(\))g(\()p FZ(fs)g FP(x)p FX(\))g F3(')h
FZ(no)f FX(\()p FZ(\002n)f(s)p FP(n)p FX(\))357 4068
y F4(W)-8 b(e)26 b(no)n(w)f(kno)n(w)g(ho)n(w)g(to)g FZ(thic)o(k)h
F4(at)g FZ(fz)d FP(n)q F4(.)34 b(W)-8 b(e)26 b(can)g(gain)f(further)h
(information)f(about)g(the)h FZ(fs)g F4(case)357 4217
y(by)g(in)l(v)o(erting)f(the)h FZ(lift)p F4(.)36 b(Allo)n(wing)25
b(that)h(we)h(can)g(do)f(this)f(inside)h(the)h FX(\006)p
F4(-binding)e(by)i(appropriate)357 4366 y(algebraic)e(manipulation,)d
(we)j(obtain)1997 5667 y(197)p eop
%%Page: 198 203
198 202 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FZ(thic)o(k)874 177 y FL(is)935
162 y FX(:)37 b F3(8)q FP(n)213 b FX(:)23 b FZ(N)-63
b(N)999 282 y F3(8)q FP(x)218 b FX(:)23 b FZ(\002n)e(s)p
FP(n)999 403 y F3(8)q FJ(f)237 b FX(:)23 b FZ(\002n)e
FP(n)50 b F3(!)g FZ(\002n)21 b(s)p FP(n)999 523 y F3(8)q
FP(hyp)118 b FX(:)23 b(\006)p FZ(thic)o(k)1671 538 y
FL(y)1712 523 y FX(:)f F3(8)q FP(y)o FX(:)h FZ(\002n)e
FP(n)1817 643 y FZ(thic)o(k)g FP(x)h FX(\()p FJ(f)g FP(y)p
FX(\))g F3(')h FZ(y)n(es)f FP(y)1443 764 y FZ(thic)o(k)g
FP(x)g(x)g F3(')g FZ(no)g FX(\()p FZ(\002n)g FP(n)p FX(\))984
884 y(\006)q FZ(thic)o(k)1282 899 y FL(y)1323 884 y FX(:)h(\006)p
FZ(thic)o(k)1671 899 y FL(sz)1743 884 y FX(:)f FZ(thic)o(k)g
FX(\()p FZ(fs)g FP(x)p FX(\))g(\()p FZ(fz)g(s)p FP(n)p
FX(\))h F3(')f FZ(y)n(es)g FX(\()p FZ(fz)h FP(n)p FX(\))1388
1005 y F3(8)p FP(y)250 b FX(:)22 b FZ(\002n)g FP(n)1443
1125 y FZ(thic)o(k)g FX(\()p FZ(fs)g FP(x)p FX(\))g(\()p
FZ(fs)g FX(\()p FJ(f)g FP(y)p FX(\)\))g F3(')g FZ(y)n(es)g
FX(\()p FZ(fs)g FP(y)p FX(\))1055 1245 y FZ(thic)o(k)f
FX(\()p FZ(fs)h FP(x)p FX(\))g(\()p FZ(fs)g FP(x)p FX(\))g
F3(')h FZ(no)f FX(\()p FZ(\002n)f(s)p FP(n)p FX(\))357
1483 y F4(Stripping)38 b(a)o(w)o(ay)i(the)f(e)o(xcess)g(notation,)j(we)
e(ha)n(v)o(e)f(certainly)g(found)g(the)h(base)f(cases)h(to)f(our)357
1632 y(function:)601 1851 y FZ(thic)o(k)99 b FX(\()p
FZ(fz)22 b FP(n)q FX(\))119 b(\()p FZ(fz)22 b FP(n)q
FX(\))119 b(=)147 b FZ(no)22 b FX(\()p FZ(\002n)g FP(n)p
FX(\))601 1971 y FZ(thic)o(k)99 b FX(\()p FZ(fz)22 b
FP(n)q FX(\))123 b(\()p FZ(fs)22 b FP(y)p FX(\))124 b(=)147
b FZ(y)n(es)22 b FP(y)601 2092 y FZ(thic)o(k)103 b FX(\()p
FZ(fs)22 b FP(x)p FX(\))104 b(\()p FZ(fz)23 b(s)p FP(n)p
FX(\))100 b(=)147 b FZ(y)n(es)22 b FX(\()p FZ(fz)h FP(n)p
FX(\))697 2212 y FY(:)17 b(:)g(:)357 2449 y F4(W)-8 b(e)25
b(ha)n(v)o(e)f(also)h(found)f(out)g(some)h(useful)f(information)f
(about)i(the)f(step)h(case.)31 b(It)25 b(must)e(satisfy:)862
2705 y Fz(V)962 2718 y F3(8)p FP(y)11 b FX(:)g FZ(\002n)22
b FP(n)p FY(:)h FZ(thic)o(k)e FP(x)h FX(\()p FJ(f)g FP(y)p
FX(\))g F3(')h FZ(y)n(es)f FP(y)962 2839 y FZ(thic)o(k)g
FP(x)g(x)g F3(')g FZ(no)g FX(\()p FZ(\002n)g FP(n)p FX(\))p
611 2883 1844 4 v 611 2957 a Fz(V)710 2971 y F3(8)p FP(y)11
b FX(:)g FZ(\002n)22 b FP(n)p FY(:)h FZ(thic)o(k)e FX(\()p
FZ(fs)h FP(x)p FX(\))g(\()p FZ(fs)g FX(\()p FJ(f)g FP(y)p
FX(\)\))g F3(')h FZ(y)n(es)f FX(\()p FZ(fs)g FP(y)p FX(\))710
3091 y FZ(thic)o(k)g FX(\()p FZ(fs)g FP(x)p FX(\))g(\()p
FZ(fs)g FP(x)o FX(\))h F3(')f FZ(no)g FX(\()p FZ(\002n)g(s)o
FP(n)q FX(\))357 3359 y F4(Ef)n(fecti)n(v)o(ely)-6 b(,)29
b(each)i(branch)g(of)f(the)h(conclusion)e(propagates)g(the)i(result)e
(of)i(the)f(corresponding)357 3508 y(recursi)n(v)o(e)c(call:)35
b FZ(y)n(es)27 b F4(stays)g FZ(y)n(es)g F4(and)g FZ(no)h
F4(stays)e FZ(no)2220 3472 y FS(5)2258 3508 y F4(.)38
b(That)27 b(is,)g(the)g(recursi)n(v)o(e)f(v)n(alue)h(is)g(passed)357
3657 y(on)d(by)h(the)f(appropriate)h(monadic)f(lifting)g
F3(j)-17 b(i)o FZ(fs)1987 3672 y FK(n)2028 3657 y F3(h)g(j)p
F4(.)31 b(Hence)25 b(the)g(whole)f(program)h(is)601 3900
y FZ(thic)o(k)99 b FX(\()p FZ(fz)22 b FP(n)q FX(\))119
b(\()p FZ(fz)22 b FP(n)q FX(\))119 b(=)147 b FZ(no)22
b FX(\()p FZ(\002n)g FP(n)p FX(\))601 4020 y FZ(thic)o(k)99
b FX(\()p FZ(fz)22 b FP(n)q FX(\))123 b(\()p FZ(fs)22
b FP(y)p FX(\))124 b(=)147 b FZ(y)n(es)22 b FP(y)601
4141 y FZ(thic)o(k)103 b FX(\()p FZ(fs)22 b FP(x)p FX(\))104
b(\()p FZ(fz)23 b(s)p FP(n)p FX(\))100 b(=)147 b FZ(y)n(es)22
b FX(\()p FZ(fz)h FP(n)p FX(\))601 4261 y FZ(thic)o(k)103
b FX(\()p FZ(fs)22 b FP(x)p FX(\))128 b(\()p FZ(fs)22
b FP(y)p FX(\))124 b(=)147 b F3(j)-17 b(i)p FZ(fs)1963
4276 y FK(n)2004 4261 y F3(h)g(j)39 b FX(\()p FZ(thic)o(k)21
b FP(x)h(y)p FX(\))357 4498 y F4(By)29 b(construction,)g(this)g
(satis\002es)g(the)g(three)h(base)f(case)h(equations)f(and)g(reduces)h
(the)f(step)g(case)357 4648 y(to)865 4883 y Fz(V)965
4896 y F3(8)p FP(y)11 b FX(:)g FZ(\002n)22 b FP(n)p FY(:)h
FZ(thic)o(k)e FP(x)h FX(\()p FJ(f)g FP(y)p FX(\))g F3(')h
FZ(y)n(es)f FP(y)965 5017 y FZ(thic)o(k)g FP(x)g(x)g
F3(')g FZ(no)g FX(\()p FZ(\002n)g FP(n)p FX(\))p 611
5061 1850 4 v 611 5135 a Fz(V)710 5149 y F3(8)p FP(y)11
b FX(:)g FZ(\002n)22 b FP(n)p FY(:)39 b F3(j)-17 b(i)p
FZ(fs)1237 5164 y FK(n)1278 5149 y F3(h)g(j)39 b FX(\()p
FZ(thic)o(k)21 b FP(x)h FX(\()p FJ(f)g FP(y)p FX(\)\))g
F3(')h FZ(y)n(es)f FX(\()p FZ(fs)g FP(y)p FX(\))710 5269
y F3(j)-17 b(i)p FZ(fs)830 5284 y FK(n)871 5269 y F3(h)g(j)39
b FX(\()p FZ(thic)o(k)21 b FP(x)h(x)p FX(\))g F3(')h
FZ(no)f FX(\()p FZ(\002n)f(s)p FP(n)p FX(\))p 357 5393
1373 4 v 473 5454 a FR(5)506 5484 y FQ(Matthe)n(w)f(5:37)1997
5667 y F4(198)p eop
%%Page: 199 204
199 203 bop 357 -6 a F4(This)27 b(holds)g(by)h(re)n(writing)f(the)h
(conclusions)e(with)h(the)h(hypotheses.)39 b(The)28 b(desired)g(e)o
(xtensional)357 144 y(introduction)e(rules)j(ha)n(v)o(e)f(thus)g(been)g
(satis\002ed.)42 b(The)29 b(corresponding)e(non-computational)g(in-)357
293 y(v)o(ersion)c(rule,)i FZ(thic)o(kIn)n(v)o F4(,)g(is)f(the)h(real)g
(prize:)p 601 495 1885 4 v 601 1358 4 864 v 654 604 a
FP(n)j FX(:)g FZ(N)-63 b(N)654 724 y FP(x)27 b FX(:)h
FZ(\002n)21 b(s)p FP(n)654 844 y FX(\010)28 b(:)g FZ(\002n)21
b(s)p FP(n)50 b F3(!)f FZ(m)n(aybe)23 b FX(\()p FZ(\002n)e
FP(n)q FX(\))50 b F3(!)f FI(Type)788 1106 y FX(\010)23
b FP(x)f FX(\()p FZ(no)g FX(\()p FZ(\002n)f FP(n)q FX(\)\))119
b(\010)23 b(\()p FZ(thin)e FP(x)h(y)p FX(\))g(\()p FZ(y)n(es)g
FP(y)p FX(\))p 788 1141 1584 4 v 1069 1248 a F3(8)p FP(y)12
b FX(:)f FZ(\002n)21 b(s)p FP(n)p FY(:)h FX(\010)h FP(y)p
1663 1148 428 4 v 1663 1300 4 152 v 50 w FZ(thic)o(k)f
FP(x)g(y)p 2087 1300 V 1663 1303 428 4 v 2481 1358 4
864 v 601 1361 1885 4 v 357 1612 a FZ(thic)o(kIn)n(v)37
b F4(tells)h(us)f(that)h(there)h(are)g(tw)o(o)f(possible)f(outcomes)g
(from)h FZ(thic)o(k)g F4(and)g(under)h(what)357 1762
y(circumstances)23 b(the)o(y)g(arise.)31 b(Fixing)23
b(`ne)n(w)h(v)n(ariable')f FP(x)p F4(,)h(then)g(an)o(y)f
FP(y)h F4(is)g(either)g FP(x)f F4(\(in)h(which)g(case)357
1911 y FZ(thic)o(k)i F4(returns)h FZ(no)p F4(\))h(or)f(an)g(`old)g(v)n
(ariable')g(thinned)f(\(in)h(which)g(case)h FZ(thic)o(k)e
F4(identi\002es)h(it\).)38 b(It)27 b(is)357 2061 y(a)33
b(v)o(ery)g(useful)f(rule,)j(because)e(it)g(ef)n(fecti)n(v)o(ely)e
(performs)i(a)g(constructor)f(case)i(analysis)e(on)g(the)357
2210 y FU(output)23 b F4(of)i(the)g(function.)30 b(W)-8
b(e)25 b(will)f(see)h(just)f(why)g(this)g(is)g(so)g(helpful)h(later)g
(on.)357 2419 y(Can)32 b(you)f(guess)g(ho)n(w)f(we)i(pro)o(v)o(e)e
(this)h(rule?)50 b(That')-5 b(s)31 b(right:)43 b(by)31
b FZ(thic)o(k)p F4(')-5 b(s)31 b(recursion)g(induction)357
2569 y(principle,)f(making)e(sure)i(to)f(k)o(eep)h FX(\010)g
F4(in)f(the)g(scheme,)i(so)e(that)g(an)o(y)g(inducti)n(v)o(e)f
(hypotheses)g(are)357 2718 y(themselv)o(es)23 b(elimination)g(rules.)30
b(W)-8 b(e)25 b(start)g(with)p 7 setlinewidth np 655
2944 25 135.00 315.00 arc st 7 setlinewidth np 691 2926
18 180.00 360.00 arc st 7 setlinewidth np 745 2926 35
180.00 360.00 arc st 7 setlinewidth np 789 2953 28 251.56
341.56 arc st 7 setlinewidth np 816 2971 27 270.00 450.00
arc st 7 setlinewidth np 780 2998 35 360.00 540.00 arc
st 7 setlinewidth np 727 2998 18 360.00 540.00 arc st
7 setlinewidth np 682 2998 27 360.00 540.00 arc st 7
setlinewidth np 647 2980 19 63.43 243.43 arc st 601 3156
a FX(?)p FZ(thic)o(kIn)n(v)o FX(:)d F3(8)p 1115 3081
112 4 v 1115 3182 4 101 v 28 w FP(n)p 1224 3182 V 1115
3185 112 4 v 29 w FX(:)g FZ(N)-63 b(N)1060 3276 y F3(8)p
1115 3202 107 4 v 1115 3303 4 101 v 28 w FP(x)p 1218
3303 V 1115 3306 107 4 v 34 w FX(:)22 b FZ(\002n)g(s)o
FP(n)1060 3397 y F3(8)p FX(\010)42 b(:)22 b FZ(\002n)g(s)o
FP(n)51 b F3(!)e FZ(m)n(aybe)23 b FX(\()p FZ(\002n)e
FP(n)p FX(\))50 b F3(!)g FI(Type)1060 3517 y F3(8)p FY(\036)1173
3532 y FM(n)1227 3517 y FX(:)22 b(\010)h FP(x)f FX(\()p
FZ(no)g FX(\()p FZ(\002n)f FP(n)q FX(\)\))1060 3638 y
F3(8)p FY(\036)1173 3653 y FM(y)1227 3638 y FX(:)h F3(8)q
FP(y)o FX(:)h FZ(\002n)e FP(n)1332 3758 y FX(\010)h(\()p
FZ(thin)f FP(x)h(y)p FX(\))g(\()p FZ(y)n(es)g FP(y)p
FX(\))1060 3878 y F3(8)p FP(y)62 b FX(:)22 b FZ(\002n)g(s)o
FP(n)1115 4017 y FX(\010)h FP(y)p 1280 3918 428 4 v 1280
4070 4 152 v 50 w FZ(thic)o(k)f FP(x)f(y)p 1704 4070
V 1280 4073 428 4 v 357 4317 a F4(I)39 b(ha)n(v)o(e)g(indicated)g(by)g
(boxing)f(ho)n(w)h(the)g(recursion)g(induction)f(scheme)i(is)e
(abstracted.)75 b(W)-8 b(e)357 4466 y(acquire)26 b(three)h(base)f
(subgoals,)f(corresponding)h(to)f(the)i(base)f(cases)g(of)h(the)f
(function,)f(and)i(their)357 4616 y(conclusions)g(all)i(follo)n(w)e
(directly)h(from)h FY(\036)1885 4631 y FM(y)1956 4616
y F4(\(of)n(f)g(the)f(diagonal\))g(or)h FY(\036)2857
4631 y FM(n)2929 4616 y F4(\(for)h FP(x)k FX(=)h FP(y)g
FX(=)g(\()p FZ(fz)26 b FP(n)p FX(\))p F4(\).)357 4765
y(It)g(is)f(on)h(the)g(step)g(subgoal)f(where)h(you)g(should)f
(concentrate)h(an)o(y)g(remaining)f(interest)g(you)h(can)357
4915 y(muster)-5 b(.)1997 5667 y(199)p eop
%%Page: 200 205
200 204 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FZ(thic)o(kIn)n(v)1011 177 y
FL(ss)1080 162 y FX(:)22 b F3(8)q FP(n)94 b FX(:)22 b
FZ(N)-63 b(N)1129 282 y F3(8)q FP(x)o FY(;)17 b FP(y)6
b FX(:)22 b FZ(\002n)g(s)o FP(n)1129 403 y F3(8)q FP(y)1234
367 y FE(0)1334 403 y FX(:)g FZ(m)n(aybe)h FX(\()p FZ(\002n)e
FP(n)q FX(\))1129 523 y F3(8)q FP(hyp)o FX(:)h F3(8)q
FX(\010)31 b(:)22 b FZ(\002n)f(s)p FP(n)50 b F3(!)g FZ(m)n(aybe)22
b FX(\()p FZ(\002n)g FP(n)p FX(\))50 b F3(!)f FI(Type)1383
643 y F3(8)q FY(\036)1497 658 y FM(n)1540 643 y FX(:)22
b(\010)h FP(x)e FX(\()p FZ(no)i FX(\()p FZ(\002n)e FP(n)p
FX(\)\))1383 764 y F3(8)q FY(\036)1497 779 y FM(y)1540
764 y FX(:)h F3(8)p FP(y)p FX(:)g FZ(\002n)g(s)o FP(n)1644
884 y FX(\010)h(\()p FZ(thin)e FP(x)h(y)p FX(\))g(\()p
FZ(y)n(es)g FP(y)p FX(\))1439 1005 y(\010)g FP(y)g(y)1653
968 y FE(0)1129 1125 y F3(8)q FX(\010)79 b(:)22 b FZ(\002n)g(s)o(s)p
FP(n)50 b F3(!)g FZ(m)n(aybe)22 b FX(\()p FZ(\002n)g(s)o
FP(n)q FX(\))50 b F3(!)f FI(Type)1129 1245 y F3(8)q FY(\036)1243
1260 y FM(n)1334 1245 y FX(:)22 b(\010)h(\()p FZ(fs)f
FP(x)p FX(\))g(\()p FZ(no)g FX(\()p FZ(\002n)f(s)p FP(n)p
FX(\)\))1129 1366 y F3(8)q FY(\036)1243 1381 y FM(y)1334
1366 y FX(:)h F3(8)q FP(y)o FX(:)h FZ(\002n)e(s)p FP(n)1439
1486 y FX(\010)h(\()p FZ(thin)f FX(\()p FZ(fs)i FP(x)o
FX(\))f FP(y)p FX(\))g(\()p FZ(y)n(es)g FP(y)p FX(\))1129
1607 y F3(8)q FP(y)99 b FX(:)22 b FZ(\002n)g(s)o FP(n)p
1185 1646 901 4 v 1185 1853 4 207 v 1213 1772 a FX(\010)g(\()p
FZ(fs)p 1435 1698 107 4 v 1435 1825 4 128 v 51 w FP(y)p
1538 1825 V 1435 1828 107 4 v 28 w FX(\))g(\()p F3(j)-17
b(i)o FZ(fs)1759 1787 y FK(n)1801 1772 y F3(h)g(j)p 1889
1674 130 4 v 1889 1825 4 151 v 66 w FP(y)1967 1736 y
FE(0)p 2015 1825 V 1889 1828 130 4 v 2019 1772 a FX(\))p
2081 1853 4 207 v 1185 1856 901 4 v 357 2066 a F4(W)-8
b(e)26 b(are)h(not)f(yet)f(in)h(a)h(position)d(to)i(use)g(either)g
FY(\036)2058 2081 y FM(n)2127 2066 y F4(or)g FY(\036)2294
2081 y FM(y)2336 2066 y F4(,)h(because)f(we)g(do)g(not)g(yet)g(kno)n(w)
f(which)357 2215 y(applies.)72 b(In)38 b(the)h(conclusion,)i(the)d
(computation)f(is)i(block)o(ed)f(at)h(the)f(point)g(where)h
F3(j)-17 b(i)p FZ(fs)3591 2230 y FK(n)3632 2215 y F3(h)g(j)39
b F4(is)357 2365 y(applied)33 b(to)h FP(y)846 2329 y
FE(0)869 2365 y F4(,)j(the)d(result)g(of)g(the)g(recursi)n(v)o(e)g
(call,)i(not)e(yet)g(in)g(constructor)g(form.)59 b(Ho)n(we)n(v)o(er)l
(,)357 2514 y(case)35 b(analysis)e(on)h(the)g(result)g(of)g(the)g
(recursi)n(v)o(e)g(call)g(is)g(e)o(xactly)f(the)h(ef)n(fect)h(of)f(the)
g(inducti)n(v)o(e)357 2664 y(hypothesis.)28 b(Eliminating)23
b(with)h(the)g(indicated)g(scheme,)h(we)g(obtain:)p 7
setlinewidth np 655 2881 25 135.00 315.00 arc st 7 setlinewidth
np 691 2863 18 180.00 360.00 arc st 7 setlinewidth np
745 2863 35 180.00 360.00 arc st 7 setlinewidth np 789
2890 28 251.56 341.56 arc st 7 setlinewidth np 816 2908
27 270.00 450.00 arc st 7 setlinewidth np 780 2935 35
360.00 540.00 arc st 7 setlinewidth np 727 2935 18 360.00
540.00 arc st 7 setlinewidth np 682 2935 27 360.00 540.00
arc st 7 setlinewidth np 647 2917 19 63.43 243.43 arc
st 601 3155 a FX(?)p FZ(thic)o(kIn)n(v)1011 3170 y FL(ssn)1123
3155 y FX(:)p 7 setlinewidth np 1227 3064 25 135.00 315.00
arc st 7 setlinewidth np 1263 3046 18 180.00 360.00 arc
st 7 setlinewidth np 1316 3046 35 180.00 360.00 arc st
7 setlinewidth np 1361 3073 28 251.56 341.56 arc st 7
setlinewidth np 1388 3091 27 270.00 450.00 arc st 7 setlinewidth
np 1352 3117 35 360.00 540.00 arc st 7 setlinewidth np
1298 3117 18 360.00 540.00 arc st 7 setlinewidth np 1254
3117 27 360.00 540.00 arc st 7 setlinewidth np 1218 3100
19 63.43 243.43 arc st 1172 3276 a F3(8)p FY(\036)1285
3291 y FM(n)1328 3276 y FX(:)e(\010)f(\()p FZ(fs)g FP(x)p
FX(\))g(\()p FZ(no)g FX(\()p FZ(\002n)g(s)o FP(n)q FX(\)\))p
7 setlinewidth np 1227 3367 25 135.00 315.00 arc st 7
setlinewidth np 1263 3349 18 180.00 360.00 arc st 7 setlinewidth
np 1316 3349 35 180.00 360.00 arc st 7 setlinewidth np
1361 3376 28 251.56 341.56 arc st 7 setlinewidth np 1388
3394 27 270.00 450.00 arc st 7 setlinewidth np 1352 3421
35 360.00 540.00 arc st 7 setlinewidth np 1298 3421 18
360.00 540.00 arc st 7 setlinewidth np 1254 3421 27 360.00
540.00 arc st 7 setlinewidth np 1218 3403 19 63.43 243.43
arc st 1227 3579 a(\010)h(\()p FZ(fs)f FP(x)p FX(\))g(\()p
F3(j)-17 b(i)p FZ(fs)1718 3594 y FK(n)1759 3579 y F3(h)g(j)38
b FX(\()p FZ(no)22 b FX(\()p FZ(\002n)g FP(n)p FX(\)\)\))601
3762 y(?)p FZ(thic)o(kIn)n(v)1011 3777 y FL(ssy)1123
3762 y FX(:)p 7 setlinewidth np 1227 3670 25 135.00 315.00
arc st 7 setlinewidth np 1263 3652 18 180.00 360.00 arc
st 7 setlinewidth np 1316 3652 35 180.00 360.00 arc st
7 setlinewidth np 1361 3679 28 251.56 341.56 arc st 7
setlinewidth np 1388 3697 27 270.00 450.00 arc st 7 setlinewidth
np 1352 3724 35 360.00 540.00 arc st 7 setlinewidth np
1298 3724 18 360.00 540.00 arc st 7 setlinewidth np 1254
3724 27 360.00 540.00 arc st 7 setlinewidth np 1218 3706
19 63.43 243.43 arc st 1172 3882 a F3(8)p FY(\036)1285
3897 y FM(y)1327 3882 y FX(:)h F3(8)p FP(y)p FX(:)f FZ(\002n)g(s)o
FP(n)1432 4002 y FX(\010)h(\()p FZ(thin)e FX(\()p FZ(fs)h
FP(x)p FX(\))g FP(y)p FX(\))g(\()p FZ(y)n(es)g FP(y)o
FX(\))p 7 setlinewidth np 1227 4094 25 135.00 315.00
arc st 7 setlinewidth np 1263 4076 18 180.00 360.00 arc
st 7 setlinewidth np 1316 4076 35 180.00 360.00 arc st
7 setlinewidth np 1361 4103 28 251.56 341.56 arc st 7
setlinewidth np 1388 4120 27 270.00 450.00 arc st 7 setlinewidth
np 1352 4147 35 360.00 540.00 arc st 7 setlinewidth np
1298 4147 18 360.00 540.00 arc st 7 setlinewidth np 1254
4147 27 360.00 540.00 arc st 7 setlinewidth np 1218 4129
19 63.43 243.43 arc st 1172 4306 a F3(8)p FP(z)56 b FX(:)23
b FZ(\002n)e FP(n)1227 4426 y FX(\010)i(\()p FZ(fs)f
FX(\()p FZ(thin)f FP(x)h(z)p FX(\)\))g(\()p F3(j)-17
b(i)p FZ(fs)2057 4441 y FK(n)2098 4426 y F3(h)g(j)39
b FX(\()p FZ(y)n(es)22 b FP(z)p FX(\)\))357 4677 y F4(The)27
b(lifted)f FZ(fs)h F4(no)n(w)f(reduces,)i(propagating)d(the)i(tw)o(o)g
(cases)g(correctly)-6 b(.)37 b(Both)27 b(conclusions)e(no)n(w)357
4827 y(follo)n(w)e(from)i(the)f(indicated)h(hypotheses.)k(The)24
b(elimination)f(rule)i(holds.)357 5036 y(In)k(f)o(act,)i(the)e(w)o(ay)g
(the)g(inducti)n(v)o(e)e(step)i(w)o(as)g(pro)o(v)o(en)f(sho)n(ws)g(us)g
(ho)n(w)h(this)f(rule)h(is)g(useful)g(in)f(the)357 5185
y(wider)e(setting.)35 b(Applying)25 b(this)h(rule)g(unblocks)g
(computations)e(which)i(are)i(w)o(aiting)d(to)h(do)h(case)357
5335 y(analysis)e(on)h(the)g(result)g(of)h(a)f(call)g(to)g
FZ(thic)o(k)p F4(,)h(and)f(these)g(are)h(v)o(ery)f(common.)34
b(F)o(or)26 b(e)o(xample,)g(we)357 5484 y(may)e(de\002ne)i(the)e(follo)
n(wing)f(function:)1997 5667 y(200)p eop
%%Page: 201 206
201 205 bop 601 -6 a FX([)p F3(\001)27 b(7!)g(\001)p
FX(])h(:)g F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23
b F3(8)p FP(x)11 b FX(:)g FZ(\002n)21 b(s)p FP(n)p FY(:)i
F3(8)p FP(t)11 b FX(:)g FZ(Lam)23 b FP(n)q FY(:)f FX(\()p
FZ(s)o FP(n)28 b F3(&)g FP(n)p FX(\))601 278 y([)p FP(x)f
F3(7!)g FP(t)q FX(])p FP(y)147 b FX(=)p 1314 73 511 4
v 1312 190 4 121 v 1383 153 a FZ(thic)o(k)22 b FP(x)g(y)p
1823 190 V 1314 193 856 4 v 1312 313 4 121 v 1364 277
a FZ(no)g FX(\()p FZ(\002n)f FP(n)p FX(\))p 1823 313
V 100 w FP(t)p 2168 313 V 1312 434 V 1444 398 a FZ(y)n(es)h
FP(y)1671 361 y FE(0)p 1823 434 V 1874 398 a FZ(v)m(ar)g
FP(y)2096 361 y FE(0)p 2168 434 V 1314 437 856 4 v 357
688 a FX([)p F3(\001)40 b(7!)h(\001)p FX(])31 b F4(\(pronounced)h
(`knock)o(out'\))f(generates)h(a)h(substitution)c(\(function)i(from)h
(v)n(ariables)f(to)357 837 y(terms\))j(which)h(remo)o(v)o(es)e
FP(x)p F4(,)k(replacing)e(it)f(by)h(a)g(term)f FP(t)h
F4(o)o(v)o(er)f(the)h(`remaining)f(v)n(ariables'.)60
b(A)357 987 y(source)27 b(v)n(ariable)g FP(y)g F4(other)g(than)f
FP(x)p F4(,)i(ie)f(a)h FX(\()p FZ(thin)23 b FP(x)g(y)2131
951 y FE(0)2154 987 y FX(\))p F4(,)28 b(is)f(mapped)f(to)h(the)g
FP(y)2985 951 y FE(0)3035 987 y F4(gi)n(v)o(en)f(by)h(remo)o(ving)357
1136 y FP(x)d F4(from)h(the)g(v)n(ariable)f(set)h(without)e(reordering)
i(the)f(others.)357 1346 y(When)f(pro)o(ving)f(properties)g(of)i
FX([)p F3(\001)j(7!)h(\001)p FX(])p F4(,)23 b(we)g(will)g(see)g(it)g
(reduce)h(to)f(the)g(case)h(analysis)e(on)h FZ(thic)o(k)o
F4(.)357 1495 y(At)32 b(this)f(point,)i(elimination)d(by)i
FZ(thic)o(kIn)n(v)f F4(has)i(e)o(xactly)e(the)h(ef)n(fect)h(required)f
(to)g(unblock)f(the)357 1645 y(computation.)j(W)-8 b(e)27
b(are)g(interested)f(in)g(what)g(comes)g FU(out)g F4(of)h
FZ(thic)o(k)o F4(,)g(so)f(the)h(more)f(con)l(v)o(entional)357
1794 y(elimination)c(of)j(what)g(goes)f FU(in)h F4(is)f(a)h(clumsy)f(w)
o(ay)h(to)f(proceed.)357 2003 y(No)n(w)g(that)g(we)h(ha)n(v)o(e)g(the)f
(tools)g(to)g(w)o(ork)h(with)f(v)n(ariables,)g(let)h(us)f(turn)h(our)f
(attention)g(to)g(terms.)357 2359 y FB(7.2.2)118 b(the)31
b(substitution)f(monad)g(splits)g(the)g(r)n(enaming)g(functor)357
2635 y F4(W)-8 b(e)20 b(ha)n(v)o(e)g(already)g(decided)g(that)g(the)f
(object)h(part)g(of)g(the)g(functor)g FZ(Rename)g F4(is)g(just)f(the)h
(identity)357 2785 y(on)26 b FZ(N)-63 b(N)p F4(.)38 b(It)26
b(is)h(also)g(f)o(airly)f(clear)i(that)f(a)g(renaming)f(becomes)h(a)g
(substitution)d(just)i(by)h(composing)357 2934 y FZ(v)m(ar)e
F4(on)f(the)h(back,)g(ie)601 3227 y F3(j)-17 b(i)o FJ(f)43
b FP(x)49 b FX(=)h FZ(v)m(ar)22 b FX(\()p FJ(f)h FP(x)p
FX(\))357 3519 y F4(Hence)i FZ(v)m(ar)g F4(is)g(the)f(identity)g(for)h
(substitution.)357 3729 y(The)g(remaining)f(programming)g(consists)f
(of)j(the)f(arro)n(w)g(part)g(of)g FZ(Rename)h F4(and)f(the)j
F3(\001h)-17 b(j)25 b F4(opera-)357 3878 y(tion)f(of)h
FZ(SubstM)n F4(\227the)f(ef)n(fect)h(on)g(terms.)357
4087 y(It)f(is)h(f)o(airly)g(clear)g(that)f(we)h(shall)g(ha)n(v)o(e)604
4380 y FJ(f)p F3(h)-17 b(j)39 b FX(\()p FZ(v)m(ar)22
b FP(x)p FX(\))50 b(=)f FJ(f)23 b FP(x)1668 b F4(\(a)26
b(monad)e(la)o(w\))604 4529 y FJ(f)p F3(h)-17 b(j)39
b FX(\()p FZ(a)r(pp)22 b FP(s)g(t)p FX(\))50 b(=)f FZ(a)r(pp)22
b FX(\()s FJ(f)q F3(h)-17 b(j)38 b FP(s)p FX(\))22 b(\()s
FJ(f)q F3(h)-17 b(j)38 b FP(t)p FX(\))601 4622 y F4(.)601
4656 y(.)601 4689 y(.)357 4981 y(It)24 b(is)h(not)f(so)h(clear)g(ho)n
(w)f(to)g(push)g FJ(f)i F4(under)e(a)i(binder)-5 b(.)29
b(W)-8 b(e)26 b(need)f(something)e(lik)o(e)601 5207 y(.)601
5241 y(.)601 5274 y(.)604 5423 y FJ(f)p F3(h)-17 b(j)39
b FX(\()p FZ(lam)22 b FP(t)p FX(\))50 b(=)g FZ(lam)22
b FX(\()s FJ(f)1488 5375 y FE(0)1511 5343 y Fz(\012)1542
5339 y(\014)1542 5398 y(\014)1614 5423 y FP(t)p FX(\))1997
5667 y F4(201)p eop
%%Page: 202 207
202 206 bop 357 -6 a F4(where)26 b FJ(f)657 -54 y FE(0)706
-6 y F4(is)e(the)i(lifting)e(of)h FJ(f)h F4(which)f(tak)o(es)g(the)g
(source)g(bound)g(v)n(ariable)g(to)g(\(a)g(reference)i(to\))e(the)357
144 y(tar)n(get)g(bound)f(v)n(ariable,)g(and)h(whose)f(beha)n(viour)g
(on)h(the)g(free)g(v)n(ariables)f(respects)h(that)f(of)h
FJ(f)q F4(.)357 353 y(No)n(w)-6 b(,)24 b(we)h(ha)n(v)o(e)g(already)h
(de\002ned)f FZ(lift)h F4(to)f(lift)f(renamings.)31 b(Ho)n(w)25
b(do)g(we)g(lift)g(substitutions?)k(The)357 503 y(bound/free)g(case)g
(analysis)g(on)g(the)g(source)g(v)n(ariable)g(is)f(easy)i(enough.)43
b(W)-8 b(e)30 b(kno)n(w)e(what)h(to)g(do)357 652 y(with)e(the)h(bound)f
(v)n(ariable,)h(otherwise)g(the)g(case)g(analysis)g(also)f(tells)h(us)f
(which)h(`old')g(v)n(ariable)357 802 y FJ(f)36 b F4(should)f(be)i
(applied)e(to.)65 b(The)36 b(latter)g(yields)g(a)g(term)g(o)o(v)o(er)g
(the)g(old)f(v)n(ariables,)k(which)c(must)357 951 y(then)25
b(be)g(renamed)h(to)f(the)g(free)i(v)n(ariables)e(in)g(the)g(tar)n(get)
h(set.)32 b(No)n(w)-6 b(,)24 b(we)i(kno)n(w)e(that)h(the)h(v)n(ariable)
357 1101 y(renaming)e(is)g(just)g FZ(fs)1088 1116 y FK(n)1129
1101 y F4(,)h(b)n(ut)f(we)h(need)g(this)f(lifted)g(to)h(terms.)30
b(That)24 b(is,)h(we)g(need)g(something)e(lik)o(e)601
1372 y FZ(slift)e FJ(f)i FX(\()p FZ(fz)f FP(m)p FX(\))50
b(=)f FZ(v)m(ar)23 b FX(\()p FZ(fz)f FP(n)q FX(\))601
1521 y FZ(slift)f FJ(f)i FX(\()p FZ(fs)f FP(x)p FX(\))49
b(=)h F3(j)-17 b(i)p FZ(fs)1333 1536 y FK(n)1374 1521
y F3(h)g(j)38 b FX(\()p FJ(f)23 b FP(x)o FX(\))357 1793
y F4(Ho)n(we)n(v)o(er)l(,)f(it)h(is)j F3(\001h)-17 b(j)23
b F4(which)g(we)h(are)g(trying)e(to)h(de\002ne,)h(and)g(applying)e(it)h
(recursi)n(v)o(ely)f(to)h(the)g(result)357 1942 y(of)i
FJ(f)g F4(is)f(not)g(structural.)357 2151 y(One)c(solution)f(is)h(to)g
(de\002ne)i(the)e(renaming)g FZ(F)n(a)h F4(operation)f(in)g(adv)n
(ance\227we)h(already)g(kno)n(w)e(ho)n(w)357 2301 y(to)24
b(lift)g(renamings:)601 2590 y FZ(F)n(a)e FJ(f)g FX(\()p
FZ(v)m(ar)h FP(x)p FX(\))49 b(=)h FZ(v)m(ar)22 b FX(\()p
FJ(f)h FP(x)p FX(\))601 2739 y FZ(F)n(a)f FJ(f)g FX(\()p
FZ(a)r(pp)g FP(s)g(t)q FX(\))49 b(=)h FZ(a)r(pp)22 b
FX(\()p FZ(F)n(a)h FJ(f)f FP(s)p FX(\))g(\()p FZ(F)n(a)g
FJ(f)h FP(t)p FX(\))601 2889 y FZ(F)n(a)f FJ(f)g FX(\()p
FZ(lam)h FP(t)p FX(\))50 b(=)g FZ(lam)22 b FX(\()p FZ(F)n(a)h
FX(\()p FZ(lift)f FJ(f)p FX(\))g FP(t)p FX(\))357 3178
y F4(Once)h(we)h(ha)n(v)o(e)f(this,)g(we)h(can)g(de\002ne)g
FZ(slift)f F4(with)g FZ(F)n(a)17 b(fs)2269 3193 y FK(n)2334
3178 y F4(for)23 b F3(j)-16 b(i)o FZ(fs)2593 3193 y FK(n)2634
3178 y F3(h)f(j)p F4(,)24 b(lea)n(ving)f(us)g(free)h(to)f(de\002ne)28
b F3(\001h)-17 b(j)357 3327 y F4(in)24 b(terms)g(of)h(it.)357
3537 y(As)37 b(Altenkirch)h(and)g(Reus)g(point)f(out,)j(this)d(in)l(v)n
(olv)o(es)g(writing)f(tw)o(o)i(v)o(ery)g(similar)e(functions)357
3686 y(o)o(v)o(er)29 b(terms,)i(where)g(one)g(nonstructural)e(function)
g(w)o(ould)h(do.)47 b(Of)30 b(course,)i(the)e(nonstructural)357
3836 y(function)j(sa)n(v)o(es)i(three)f(lines)g(of)h(code)g(at)f(the)h
(e)o(xpense)f(of)h(a)g(well-founded)f(induction)f(on)h(an)357
3985 y(ordering)28 b(which)g(the)o(y)g(must)f(e)o(xhibit)g(and)h(pro)o
(v)o(e)g(satisf)o(actory)-6 b(.)40 b(The)o(y)28 b(suggest)g(that,)h
(turning)e(a)357 4135 y(blind)f(e)o(ye)i(to)f(the)h(proof)f
(obligations,)f(the)i(nonstructural)e(function)h(is)g(preferable,)j(e)o
(xpressing)357 4284 y(the)24 b(v)n(ague)f(hope)h(that)g(the)g(carpet)h
(under)f(which)g(the)o(y)f(are)i(sweeping)f(the)g(actual)g(w)o(ork)g
(will)f(one)357 4433 y(day)h(become)h(magic.)357 4643
y(As)i(it)h(happens,)g(no)g(carpets)g(are)g(necessary)-6
b(,)29 b(magic)e(or)h(otherwise.)43 b F3(\001h)-17 b(j)28
b F4(and)f FZ(F)n(a)i F4(can)f(be)g(imple-)357 4792 y(mented)k(with)h
(a)h(single)e(structurally)g(recursi)n(v)o(e)h(function,)h(pro)o(vided)
e(it)h(is)g(made)g(suf)n(\002ciently)357 4942 y(parametric.)d(Suppose)
25 b(that)f(for)h(some)g(type)f(f)o(amily)g FP(T)h F4(we)g(ha)n(v)o(e)g
(a)g(function)601 5213 y FJ(f)j FX(:)f FZ(\002n)22 b
FP(m)49 b F3(!)g FP(T)22 b(n)357 5484 y F4(W)-8 b(e)25
b(can)g(map)g(this)e(function)h(across)h(terms,)f(pro)o(vided)g(we)h
(kno)n(w)1997 5667 y(202)p eop
%%Page: 203 208
203 207 bop 502 -6 a F3(\017)49 b F4(ho)n(w)24 b(to)g(con)l(v)o(ert)g
FJ(f)h F4(output)f(from)g FP(T)e(n)k F4(to)e(terms)g
FZ(Lam)f FP(n)502 224 y F3(\017)49 b F4(ho)n(w)24 b(to)g(represent)h(v)
n(ariables)f(in)g FP(T)e(n)502 453 y F3(\017)49 b F4(ho)n(w)24
b(to)g(lift)g(functions)g(between)h FZ(\002n)f F4(sets)g(and)h
FP(T)g F4(sets)357 735 y(W)-8 b(e)25 b(already)g(kno)n(w)e(ho)n(w)h(to)
h(do)f(these)h(things)e(when)h FP(T)h F4(is)f FZ(\002n)p
F4(,)g(so)h(we)g(ha)n(v)o(e)f(renaming\227we)g(can)357
884 y(then)g(b)n(uild)g(the)h(three)g(operations)f(for)h(use)f(when)h
FP(T)g F4(is)f FY(\025)8 b F4(:)14 b(.)31 b(.)357 1094
y(In)21 b(f)o(act,)h(we)g(will)e(ha)n(v)o(e)h(an)g(easier)h(time)e(pro)
o(ving)g(the)h(monadic)g(beha)n(viour)f(of)i(substitution)c(if)j(we)357
1243 y(tak)o(e)i(this)e(opportunity)g(to)h(generalise)h(lifting)f(from)
g(inserting)g(ne)n(w)g(v)n(ariables)g(at)h FZ(fz)g F4(to)g(inserting)
357 1393 y(them)31 b(an)o(ywhere\227)p FZ(thic)o(k)f
F4(and)i FZ(thin)f F4(mak)o(e)h(this)e(just)h(as)h(easy)g(to)f
(implement.)50 b(W)-8 b(e)32 b(only)f(e)n(v)o(er)357
1542 y(use)24 b FZ(thic)o(k)h F4(on)f(v)n(ariables,)g(so)h(the)f(`ho)n
(w)h(to)f(lift')g(requirement)h(becomes)f(`ho)n(w)g(to)h(thin'.)357
1752 y(The)g(goal)f(is)p 7 setlinewidth np 655 1970 25
135.00 315.00 arc st 7 setlinewidth np 691 1952 18 180.00
360.00 arc st 7 setlinewidth np 745 1952 35 180.00 360.00
arc st 7 setlinewidth np 789 1978 28 251.56 341.56 arc
st 7 setlinewidth np 816 1996 27 270.00 450.00 arc st
7 setlinewidth np 780 2023 35 360.00 540.00 arc st 7
setlinewidth np 727 2023 18 360.00 540.00 arc st 7 setlinewidth
np 682 2023 27 360.00 540.00 arc st 7 setlinewidth np
647 2005 19 63.43 243.43 arc st 601 2181 a FY(\025)o
FP(T)177 b FX(:)23 b FZ(N)-63 b(N)27 b F3(!)h FI(Type)601
2302 y FY(\025)o FP(vT)127 b FX(:)23 b F3(8)p FP(n)12
b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FZ(\002n)f FP(n)50
b F3(!)g FP(T)22 b(n)601 2422 y FY(\025)o FP(TLam)p FX(:)h
F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22 b FP(T)g(n)50
b F3(!)f FZ(Lam)23 b FP(n)601 2543 y FY(\025)o FP(thinT)11
b FX(:)23 b F3(8)p FP(n)12 b FX(:)f FZ(N)-63 b(N)p FY(:)22
b F3(8)p FP(x)11 b FX(:)g FZ(\002n)22 b(s)o FP(n)q FY(:)g
FP(T)g(n)50 b F3(!)g FP(T)22 b FZ(s)o FP(n)611 2663 y
FX(?)p FZ(m)n(a)r(p)9 b FX(:)23 b F3(8)p FP(m)p FY(;)17
b FP(n)p FX(:)22 b FZ(N)-63 b(N)945 2783 y F3(8)p FJ(f)146
b FX(:)22 b FZ(\002n)f FP(m)50 b F3(!)f FP(T)22 b(n)945
2904 y F3(8)p FP(t)144 b FX(:)22 b FZ(Lam)h FP(m)1000
3024 y FZ(Lam)g FP(n)357 3270 y F4(Subject)h(to)h(these)f(parameters,)h
(we)g(may)f(\002rst)h(b)n(uild)f(lifting)f(for)i FP(T)g
F4(from)f(the)h(thinning)e(parame-)357 3420 y(ter:)601
3724 y FZ(liftT)28 b FX(:)f F3(8)p FP(m)p FY(;)17 b FP(n)11
b FX(:)g FZ(N)-63 b(N)p FY(:)23 b F3(8)p FP(x)11 b FX(:)g
FZ(\002n)21 b(s)p FP(m)p FY(:)h F3(8)p FP(x)1802 3688
y FE(0)1836 3724 y FX(:)11 b FZ(\002n)22 b(s)p FP(n)p
FY(:)g F3(8)p FJ(f)12 b FX(:)f FZ(\002n)22 b FP(m)49
b F3(!)g FP(T)22 b(n)q FY(:)g FZ(\002n)f(s)p FP(m)49
b F3(!)h FP(T)22 b FZ(s)o FP(n)601 4000 y FZ(liftT)g
FP(x)g(x)892 3964 y FE(0)937 4000 y FJ(F)h FP(y)49 b
FX(=)p 1233 3795 533 4 v 1231 3912 4 121 v 1314 3875
a FZ(thic)o(k)21 b FP(x)h(y)p 1764 3912 V 1233 3915 1179
4 v 1231 4035 4 121 v 1283 3999 a FZ(no)g FX(\()p FZ(\002n)f
FP(m)p FX(\))p 1764 4035 V 99 w FP(vT)h(x)1998 3963 y
FE(0)p 2410 4035 V 1231 4156 V 1374 4120 a FZ(y)n(es)g
FP(y)1601 4083 y FE(0)p 1764 4156 V 1815 4120 a FP(thinT)h(x)2114
4083 y FE(0)2160 4120 y FX(\()p FJ(f)f FP(y)2301 4083
y FE(0)2324 4120 y FX(\))p 2410 4156 V 1233 4159 1179
4 v 357 4395 a FP(x)32 b F4(is)g(the)g(`ne)n(w')g(source)h(v)n(ariable)
f(and)g FP(x)1824 4359 y FE(0)1880 4395 y F4(is)g(the)g(corresponding)f
(tar)n(get)i(v)n(ariable.)53 b(The)32 b(lifted)357 4544
y(function)c(uses)i FZ(thic)o(k)f F4(to)g(distinguish)e(ne)n(w)i(from)g
(old,)h(and)g(either)f(embeds)g FP(x)3164 4508 y FE(0)3217
4544 y F4(via)g FP(vt)h F4(or)f(thins)357 4694 y(the)24
b(result)h(of)g FJ(f)g F4(with)f FP(thinT)p F4(.)357
4903 y(The)h FZ(m)n(a)r(p)g F4(function)f(may)g(no)n(w)g(be)h(written)
601 5185 y FZ(m)n(a)r(p)d FJ(f)h FX(\()p FZ(v)m(ar)f
FP(x)p FX(\))49 b(=)h FP(TLam)22 b FX(\()p FJ(f)h FP(x)o
FX(\))601 5335 y FZ(m)n(a)r(p)f FJ(f)h FX(\()p FZ(a)r(pp)f
FP(s)f(t)q FX(\))49 b(=)h FZ(a)r(pp)22 b FX(\()p FZ(m)n(a)r(p)h
FJ(f)f FP(s)p FX(\))g(\()p FZ(m)n(a)r(p)g FJ(f)h FP(t)p
FX(\))601 5484 y FZ(m)n(a)r(p)f FJ(f)h FX(\()p FZ(lam)f
FP(t)p FX(\))50 b(=)g FZ(lam)22 b FX(\()p FZ(m)n(a)r(p)h
FX(\()p FZ(liftT)f FX(\()p FZ(fz)h FP(m)o FX(\))f(\()p
FZ(fz)h FP(n)q FX(\))f FJ(f)p FX(\))g FP(t)p FX(\))1997
5667 y F4(203)p eop
%%Page: 204 209
204 208 bop 357 -6 a F4(Once)25 b(the)f(parameters)h(are)h(dischar)n
(ged,)f(we)g(may)f(tak)o(e:)601 278 y FZ(F)n(a)50 b FX(=)f
FZ(m)n(a)r(p)23 b(\002n)e FY(\023)1307 242 y FL(f)1375
278 y FZ(v)m(ar)i(thin)601 428 y(thinL)822 443 y FK(n)885
428 y FP(x)50 b FX(=)f FZ(F)n(a)23 b FX(\()p FZ(thin)e
FP(x)p FX(\))604 577 y F3(\001h)-17 b(j)49 b FX(=)h FZ(m)n(a)r(p)22
b(Lam)h(v)m(ar)f FY(\023)1544 541 y FL(L)1619 577 y FZ(thinL)357
1011 y F4(Note)i(that)h(the)f(notion)g(of)h(lifting)e(used)i(in)f
(renaming)601 1294 y FZ(liftT)e(\002n)f FY(\023)935 1258
y FL(f)1003 1294 y FZ(v)m(ar)i(thin)e FX(\()p FZ(fz)i
FP(m)o FX(\))g(\()p FZ(fz)f FP(n)q FX(\))357 1578 y F4(is)j(e)o
(xtensionally)g(the)h(same)g(as)g(the)g FZ(lift)g F4(function)g(we)g
(de\002ned)h(earlier)-5 b(.)35 b(This)25 b(follo)n(ws)g(easily)h(by)357
1728 y(in)l(v)o(erting)17 b(the)i FZ(thic)o(k)g F4(contained)f(in)h
FZ(liftT)p F4(.)29 b(It)19 b(therefore)g(inherits)f(all)h(the)g(same)g
(functor)g(properties)357 1877 y(via)24 b FZ(sameFunctor)p
F4(.)357 2087 y(Our)k(task)h(is)f(no)n(w)g(to)g(plug)g(these)g(into)g
(the)g(rele)n(v)n(ant)g(functor)h(and)f(monad.)42 b(I)29
b(am)f(afraid)h(to)f(say)357 2236 y(that)j(a)i(little)e(forw)o(ard)h
(planning)f(at)h(this)f(point)g(will)g(pay)h(di)n(vidends)e(later)-5
b(.)52 b(I)33 b(will)e(moti)n(v)n(ate)f(it)357 2386 y(as)g(best)f(I)i
(can.)46 b(Both)30 b FZ(Functor)g F4(and)g FZ(Monad)g
F4(require)g(the)g(e)o(xtensional)e(equality)i(of)g(arro)n(ws)357
2535 y(to)f(be)h(respected:)41 b(conditions)28 b(which)i(will)f(apply)g
(to)g(both)h FZ(F)n(a)g F4(and)j F3(\001h)-17 b(j)o F4(.)46
b(Since)31 b(these)e(are)i(both)357 2684 y(implemented)20
b(by)i FZ(m)n(a)r(p)p F4(,)h(it)e(is)h(w)o(orth)f(pro)o(ving)g(this)g
(property)g(for)h FZ(m)n(a)r(p)h F4(while)e(the)h(parameters)357
2834 y(are)j(still)f(abstracted.)30 b(The)25 b(goal)g(is)p
7 setlinewidth np 655 3075 25 135.00 315.00 arc st 7
setlinewidth np 691 3058 18 180.00 360.00 arc st 7 setlinewidth
np 745 3058 35 180.00 360.00 arc st 7 setlinewidth np
789 3084 28 251.56 341.56 arc st 7 setlinewidth np 816
3102 27 270.00 450.00 arc st 7 setlinewidth np 780 3129
35 360.00 540.00 arc st 7 setlinewidth np 727 3129 18
360.00 540.00 arc st 7 setlinewidth np 682 3129 27 360.00
540.00 arc st 7 setlinewidth np 647 3111 19 63.43 243.43
arc st 601 3287 a FX(?)p FZ(m)n(a)r(pEq)p FX(:)e F3(8)p
FP(m)p FY(;)17 b FP(n)p FX(:)22 b FZ(N)-63 b(N)1047 3408
y F3(8)p FJ(f)p FY(;)17 b FJ(g)35 b FX(:)22 b FZ(\002n)f
FP(m)50 b F3(!)f FP(T)22 b(n)1047 3528 y F3(8)p FP(hyp)27
b FX(:)22 b F3(8)p FP(x)p FX(:)g FZ(\002n)g FP(m)1383
3648 y FJ(f)h FP(x)f F3(')g FJ(g)g FP(x)1047 3769 y F3(8)p
1102 3694 107 4 v 1102 3795 4 101 v 28 w FP(x)p 1205
3795 V 1102 3798 107 4 v 99 w FX(:)g FZ(Lam)g FP(m)1102
3889 y FZ(m)n(a)r(p)h FJ(f)f FP(x)g F3(')p 1579 3809
451 4 v 1579 3935 4 126 v 51 w FZ(m)n(a)r(p)g FJ(g)k
FP(x)p 2026 3935 V 1579 3938 451 4 v 357 4171 a F4(Y)-11
b(ou)28 b(will,)h(I)f(hope,)i(be)e(unsurprised)g(to)g(learn)h(that)f
(the)g(technique)g(I)h(recommend)f(is)g(recursion)357
4320 y(induction)d(on)i FZ(m)n(a)r(p)q F4(.)38 b(Either)27
b FZ(m)n(a)r(p)g F4(will)g(do\227I)f(ha)n(v)o(e)h(chosen)g(the)g
(second.)38 b(Three)28 b(subgoals,)357 4470 y(one)c(at)h(a)g(time:)p
7 setlinewidth np 655 4684 25 135.00 315.00 arc st 7
setlinewidth np 691 4666 18 180.00 360.00 arc st 7 setlinewidth
np 745 4666 35 180.00 360.00 arc st 7 setlinewidth np
789 4693 28 251.56 341.56 arc st 7 setlinewidth np 816
4711 27 270.00 450.00 arc st 7 setlinewidth np 780 4738
35 360.00 540.00 arc st 7 setlinewidth np 727 4738 18
360.00 540.00 arc st 7 setlinewidth np 682 4738 27 360.00
540.00 arc st 7 setlinewidth np 647 4720 19 63.43 243.43
arc st 601 4896 a FX(?)p FZ(m)n(a)r(pEq)997 4919 y FL(v)1038
4896 y FX(:)e F3(8)p FP(m)o FY(;)17 b FP(n)p FX(:)23
b FZ(N)-63 b(N)1088 5016 y F3(8)p FJ(f)p FY(;)17 b FJ(g)34
b FX(:)23 b FZ(\002n)e FP(m)49 b F3(!)h FP(T)22 b(n)1088
5137 y F3(8)p FP(hyp)k FX(:)d F3(8)p FP(x)p FX(:)f FZ(\002n)g
FP(m)1424 5257 y FJ(f)h FP(x)e F3(')i FJ(g)f FP(x)1088
5378 y F3(8)p FP(x)126 b FX(:)23 b FZ(\002n)e FP(m)1143
5498 y(TLam)h FX(\()p FJ(f)g FP(x)p FX(\))g F3(')h FP(TLam)f
FX(\()p FJ(g)g FP(x)p FX(\))1997 5667 y F4(204)p eop
%%Page: 205 210
205 209 bop 357 -6 a F4(Re)n(write)25 b(by)f FP(hyp)o
F4(.)31 b(Ne)o(xt)24 b FY(:)17 b(:)g(:)p 7 setlinewidth
np 655 253 25 135.00 315.00 arc st 7 setlinewidth np
691 236 18 180.00 360.00 arc st 7 setlinewidth np 745
236 35 180.00 360.00 arc st 7 setlinewidth np 789 262
28 251.56 341.56 arc st 7 setlinewidth np 816 280 27
270.00 450.00 arc st 7 setlinewidth np 780 307 35 360.00
540.00 arc st 7 setlinewidth np 727 307 18 360.00 540.00
arc st 7 setlinewidth np 682 307 27 360.00 540.00 arc
st 7 setlinewidth np 647 289 19 63.43 243.43 arc st 601
465 a FX(?)p FZ(m)n(a)r(pEq)997 488 y FL(a)1039 465 y
FX(:)22 b F3(8)q FP(m)o FY(;)17 b FP(n)12 b FX(:)22 b
FZ(N)-63 b(N)1088 586 y F3(8)q FJ(f)p FY(;)17 b FJ(g)46
b FX(:)22 b FZ(\002n)f FP(m)50 b F3(!)f FP(T)22 b(n)1088
706 y F3(8)q FP(hyp)38 b FX(:)22 b F3(8)p FP(x)p FX(:)g
FZ(\002n)g FP(m)1436 826 y FJ(f)h FP(x)f F3(')g FJ(g)h
FP(x)1088 947 y F3(8)q FP(s)o FY(;)17 b FP(t)73 b FX(:)22
b FZ(Lam)h FP(m)1088 1067 y F3(8)q FP(s)1182 1031 y FE(0)1206
1067 y FY(;)17 b FP(t)1283 1029 y FE(0)1332 1067 y FX(:)22
b FZ(Lam)h FP(n)1088 1188 y F3(8)q FP(shyp)o FX(:)f F3(8)p
FJ(f)119 b FX(:)22 b FZ(\002n)g FP(m)49 b F3(!)g FP(T)22
b(n)1381 1308 y F3(8)p FP(hyp)p FX(:)g F3(8)p FP(x)p
FX(:)g FZ(\002n)g FP(m)1690 1428 y FJ(f)h FP(x)f F3(')g
FJ(g)h FP(x)1436 1549 y FZ(m)n(a)r(p)g FJ(f)f FP(s)g
F3(')h FP(s)1941 1513 y FE(0)1088 1732 y F3(8)q FP(thyp)5
b FX(:)p 7 setlinewidth np 1411 1640 25 135.00 315.00
arc st 7 setlinewidth np 1447 1622 18 180.00 360.00 arc
st 7 setlinewidth np 1500 1622 35 180.00 360.00 arc st
7 setlinewidth np 1545 1649 28 251.56 341.56 arc st 7
setlinewidth np 1572 1667 27 270.00 450.00 arc st 7 setlinewidth
np 1536 1694 35 360.00 540.00 arc st 7 setlinewidth np
1482 1694 18 360.00 540.00 arc st 7 setlinewidth np 1438
1694 27 360.00 540.00 arc st 7 setlinewidth np 1402 1676
19 63.43 243.43 arc st 1144 1852 a FZ(a)r(pp)22 b FX(\()p
FZ(m)n(a)r(p)g FJ(f)h FP(s)o FX(\))f(\()p FZ(m)n(a)r(p)h
FJ(f)f FP(t)q FX(\))g F3(')g FZ(a)r(pp)g FP(s)2616 1816
y FE(0)2662 1852 y FP(t)2695 1814 y FE(0)357 2139 y F4(If)j(we)g(plug)g
FP(hyp)f F4(into)g FP(shyp)p F4(,)h(we)g(can)g(turn)g
FX(\()p FZ(m)n(a)r(p)e FJ(f)f FP(s)p FX(\))j F4(into)f
FP(s)2539 2103 y FE(0)2562 2139 y F4(.)32 b(The)25 b(same)g(thing)e
(happens)i(with)357 2288 y FX(\()p FZ(m)n(a)r(p)j FJ(f)h
FP(t)p FX(\))p F4(.)55 b(In)34 b(f)o(act,)h(all)e(the)g(inducti)n(v)o
(e)e(proofs)h(\(implicitly\))f(on)i FZ(Lam)h F4(we)f(shall)f(encounter)
357 2438 y(in)27 b(this)g(thesis)f(ha)n(v)o(e)i(an)f
FZ(a)r(pp)h F4(case)g(whose)f(proof)h(is)f(`re)n(write)h(by)f(the)g
(inducti)n(v)o(e)f(hypotheses'.)357 2587 y(From)e(no)n(w)g(on,)h(I)g
(shall)f(omit)g(them.)357 2797 y(Of)h(course,)g(the)f(real)h(interest)g
(is)f(in)g(the)h FZ(lam)g F4(case:)p 7 setlinewidth np
655 3042 25 135.00 315.00 arc st 7 setlinewidth np 691
3024 18 180.00 360.00 arc st 7 setlinewidth np 745 3024
35 180.00 360.00 arc st 7 setlinewidth np 789 3051 28
251.56 341.56 arc st 7 setlinewidth np 816 3069 27 270.00
450.00 arc st 7 setlinewidth np 780 3096 35 360.00 540.00
arc st 7 setlinewidth np 727 3096 18 360.00 540.00 arc
st 7 setlinewidth np 682 3096 27 360.00 540.00 arc st
7 setlinewidth np 647 3078 19 63.43 243.43 arc st 601
3254 a FX(?)p FZ(m)n(a)r(pEq)997 3277 y FL(l)1023 3254
y FX(:)e F3(8)p FP(m)p FY(;)17 b FP(n)6 b FX(:)22 b FZ(N)-63
b(N)1073 3374 y F3(8)p FJ(f)p FY(;)17 b FJ(g)41 b FX(:)22
b FZ(\002n)f FP(m)50 b F3(!)f FP(T)22 b(n)1073 3495 y
F3(8)p FP(hyp)33 b FX(:)22 b F3(8)p FP(x)p FX(:)g FZ(\002n)g
FP(m)1415 3615 y FJ(f)h FP(x)f F3(')g FJ(g)g FP(x)1073
3736 y F3(8)p FP(t)150 b FX(:)22 b FZ(Lam)h(s)o FP(m)1073
3856 y F3(8)p FP(t)1161 3818 y FE(0)1311 3856 y FX(:)f
FZ(Lam)h(s)o FP(n)1073 3976 y F3(8)p FP(thyp)p FX(:)f
F3(8)p FJ(f)119 b FX(:)22 b FZ(\002n)f(s)p FP(m)49 b
F3(!)h FP(T)22 b FZ(s)o FP(n)1360 4097 y F3(8)p FP(hyp)p
FX(:)g F3(8)p FP(x)p FX(:)g FZ(\002n)g(s)o FP(m)1669
4217 y FJ(f)h FP(x)f F3(')g FZ(liftT)h FX(\()p FZ(fz)f
FP(m)p FX(\))g(\()p FZ(fz)h FP(n)p FX(\))f FJ(g)g FP(x)1415
4337 y FZ(m)n(a)r(p)h FJ(f)f FP(t)h F3(')f FP(t)1908
4299 y FE(0)1128 4458 y FZ(lam)h FX(\()p FZ(m)n(a)r(p)f
FX(\()p FZ(liftT)g FX(\()p FZ(fz)h FP(m)p FX(\))f(\()p
FZ(fz)g FP(n)q FX(\))g FJ(f)p FX(\))g FP(t)p FX(\))h
F3(')f FZ(lam)h FP(t)2870 4420 y FE(0)357 4739 y F4(No)n(w)-6
b(,)22 b(equation)g(respects)g(function)g(application,)g(so)h(we)g(may)
f(strip)g(of)n(f)h(those)f FY(\025)p F4(s.)30 b(The)22
b(conclu-)357 4889 y(sion)i(is)g(no)n(w)601 5181 y FZ(m)n(a)r(p)e
FX(\()p FZ(liftT)h FX(\()p FZ(fz)f FP(n)q FX(\))g(\()p
FZ(fz)g FP(m)p FX(\))g FJ(f)p FX(\))g FP(t)h F3(')f FP(t)1859
5143 y FE(0)357 5474 y F4(and)i(this)g(is)h(ripe)g(for)g(the)f(inducti)
n(v)o(e)f(hypothesis,)f(lea)n(ving)j(us)f(with)1997 5667
y(205)p eop
%%Page: 206 211
206 210 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FP(hyp)796 116 y FE(0)819 162
y FX(:)23 b F3(8)p FP(x)p FX(:)f FZ(\002n)f(s)p FP(m)924
282 y FZ(liftT)h FX(\()p FZ(fz)h FP(m)p FX(\))f(\()p
FZ(fz)g FP(n)q FX(\))g FJ(f)g FP(x)g F3(')h FZ(liftT)f
FX(\()p FZ(fz)h FP(m)p FX(\))f(\()p FZ(fz)g FP(n)q FX(\))g
FJ(g)g FP(x)357 536 y F4(Expanding)h FZ(liftT)q F4(,)h(we)i(\002nd)e
(this)g(is)h(really)p 7 setlinewidth np 655 756 25 135.00
315.00 arc st 7 setlinewidth np 691 738 18 180.00 360.00
arc st 7 setlinewidth np 745 738 35 180.00 360.00 arc
st 7 setlinewidth np 789 765 28 251.56 341.56 arc st
7 setlinewidth np 816 783 27 270.00 450.00 arc st 7 setlinewidth
np 780 810 35 360.00 540.00 arc st 7 setlinewidth np
727 810 18 360.00 540.00 arc st 7 setlinewidth np 682
810 27 360.00 540.00 arc st 7 setlinewidth np 647 792
19 63.43 243.43 arc st 601 968 a FX(?)p FP(hyp)796 923
y FE(0)819 968 y FX(:)e F3(8)p FP(x)p FX(:)f FZ(\002n)f(s)p
FP(m)p 924 1008 671 4 v 922 1125 4 121 v 974 1089 a FZ(thic)o(k)g
FX(\()p FZ(fz)i FP(m)p FX(\))f FP(x)p 1593 1125 V 924
1128 1448 4 v 922 1248 4 121 v 1043 1212 a FZ(no)g FX(\()p
FZ(\002n)f FP(m)p FX(\))p 1593 1248 V 168 w FP(vT)h FX(\()p
FZ(fz)h FP(n)p FX(\))p 2370 1248 V 922 1369 V 1146 1333
a FZ(y)n(es)f FP(y)p 1593 1369 V 271 w(thinT)g FX(\()p
FZ(fz)h FP(n)p FX(\))f(\()p FJ(f)h FP(y)o FX(\))p 2370
1369 V 924 1372 1448 4 v 2421 1213 a(=)p 2547 1008 671
4 v 2545 1125 4 121 v 2597 1089 a FZ(thic)o(k)e FX(\()p
FZ(fz)i FP(m)o FX(\))f FP(x)p 3215 1125 V 2547 1128 1484
4 v 2545 1248 4 121 v 2665 1212 a FZ(no)h FX(\()p FZ(\002n)e
FP(m)o FX(\))p 3215 1248 V 169 w FP(vT)h FX(\()p FZ(fz)g
FP(n)q FX(\))p 4028 1248 V 2545 1369 V 2769 1333 a FZ(y)n(es)f
FP(y)p 3215 1369 V 272 w(thinT)h FX(\()p FZ(fz)h FP(n)p
FX(\))f(\()p FJ(g)g FP(y)p FX(\))p 4028 1369 V 2547 1372
1484 4 v 357 1590 a F4(The)j(computation)f(is)h(block)o(ed)g(by)g(the)h
(tw)o(o)f FZ(thic)o(k)g F4(applications,)f(b)n(ut)h(we)h(kno)n(w)e(ho)n
(w)h(to)g(in)l(v)o(ert)357 1739 y(them.)j(Indeed,)21
b(since)f(the)o(y)f(ha)n(v)o(e)g(the)h(same)g(ar)n(guments,)g(we)g(may)
f(in)l(v)o(ert)g(them)g(simultaneously)-6 b(.)357 1889
y(Of)25 b(course,)h(in)f(this)f(instance,)h(a)g(case)h(analysis)f(on)g
FP(x)g F4(w)o(ould)f(ha)n(v)o(e)h(the)g(same)h(ef)n(fect,)f(b)n(ut)g
(that)g(is)357 2038 y(only)c(because)i(we)f(are)h(thick)o(ening)d(at)j
FX(\()p FZ(fz)12 b FP(n)q FX(\))p F4(,)22 b(and)g(we)h(kno)n(w)e(ho)n
(w)g FZ(thic)o(k)h F4(is)f(implemented\227we)357 2188
y(w)o(ant)j(the)h(ef)n(fect)g(of)g(in)l(v)o(ersion,)e(so)i(we)g(do)f
(in)l(v)o(ersion.)29 b(W)-8 b(e)26 b(are)f(left)g(with)f(tw)o(o)g
(cases:)p 7 setlinewidth np 655 2400 25 135.00 315.00
arc st 7 setlinewidth np 691 2382 18 180.00 360.00 arc
st 7 setlinewidth np 745 2382 35 180.00 360.00 arc st
7 setlinewidth np 789 2409 28 251.56 341.56 arc st 7
setlinewidth np 816 2427 27 270.00 450.00 arc st 7 setlinewidth
np 780 2454 35 360.00 540.00 arc st 7 setlinewidth np
727 2454 18 360.00 540.00 arc st 7 setlinewidth np 682
2454 27 360.00 540.00 arc st 7 setlinewidth np 647 2436
19 63.43 243.43 arc st 601 2612 a FX(?)p FP(case)809
2627 y FL(n)856 2612 y FX(:)e FP(vT)i F4(\()p FZ(fz)f
FP(n)p F4(\))g F3(')g FP(vT)h F4(\()p FZ(fz)f FP(n)p
F4(\))601 2732 y FX(?)p FP(case)809 2747 y FL(y)856 2732
y FX(:)f F3(8)p FP(y)p FX(:)h FZ(\002n)e FP(n)960 2853
y(thinT)i FX(\()p FZ(fz)f FP(n)q FX(\))g(\()p FJ(f)g
FP(y)p FX(\))g F3(')h FP(thinT)f FX(\()p FZ(fz)g FP(n)q
FX(\))g(\()p FJ(g)g FP(y)p FX(\))357 3104 y F4(The)j(\002rst)g(is)g
(re\003e)o(xi)n(v)o(e;)g(the)g(second)g(becomes)g(so)g(after)h(re)n
(writing)e(with)g FP(hyp)p F4(.)32 b(W)-8 b(e)26 b(ha)n(v)o(e)f(pro)o
(v)o(en)357 3254 y FZ(m)n(a)r(pEq)g F4(and)g(may)g(no)n(w)f(dischar)n
(ge)g(the)h(parameters.)357 3463 y(Let)37 b(us)g(pro)o(v)o(e)f(that)h
(renaming)g(is)f(functorial\227we)h(ha)n(v)o(e)g(already)h(supplied)e
FZ(Fo)h F4(and)h FZ(F)n(a)p F4(.)68 b(It)357 3613 y(remains)24
b(to)g(pro)o(v)o(e)g(the)h(properties.)30 b FZ(PresEq)24
b F4(is)h(just)e(a)j(special)e(case)i(of)e FZ(m)n(a)r(pEq)q
F4(.)357 3822 y(The)h FZ(PresI)e F4(property)h(gi)n(v)o(es)g(us)g(the)h
(goal)p 7 setlinewidth np 655 4042 25 135.00 315.00 arc
st 7 setlinewidth np 691 4024 18 180.00 360.00 arc st
7 setlinewidth np 745 4024 35 180.00 360.00 arc st 7
setlinewidth np 789 4051 28 251.56 341.56 arc st 7 setlinewidth
np 816 4069 27 270.00 450.00 arc st 7 setlinewidth np
780 4096 35 360.00 540.00 arc st 7 setlinewidth np 727
4096 18 360.00 540.00 arc st 7 setlinewidth np 682 4096
27 360.00 540.00 arc st 7 setlinewidth np 647 4078 19
63.43 243.43 arc st 601 4254 a FX(?)p FZ(PresI)n FX(:)d
F3(8)q FP(m)o FX(:)g FZ(N)-63 b(N)910 4375 y F3(8)q FP(t)44
b FX(:)22 b FZ(Lam)h FP(m)966 4504 y FZ(F)n(a)f FY(\023)1136
4457 y FL(f)1136 4519 y FK(m)1215 4504 y FP(t)g F3(')h
FP(t)357 4751 y F4(Here,)49 b(at)c(last,)j(my)c(de)n(v)n(otion)f(to)h
(recursion)g(induction)f(comes)h(unstuck.)88 b(The)44
b(trouble)g(is)357 4901 y(tw)o(ofold:)502 5185 y F3(\017)49
b F4(The)22 b(scheme)h(for)g FZ(m)n(a)r(p)g F4(recursion)g(induction)e
(is)h(abstracted)h(o)o(v)o(er)f(dif)n(ferent)g(source)h(and)601
5335 y(tar)n(get)37 b(objects)g(and)g(here)h(the)o(y)f(are)h
(uni\002ed.)68 b(The)38 b(elimination)d(tactic)i(will)g(supply)f(a)601
5484 y(constraint)23 b(to)i(resolv)o(e)f(this,)g(b)n(ut)g(it)g(is)h(a)g
(little)e(clumsy)-6 b(.)1997 5667 y(206)p eop
%%Page: 207 212
207 211 bop 502 -6 a F3(\017)49 b F4(The)25 b(scheme)f(is)h(abstracted)
g(o)o(v)o(er)f(an)h(arbitrary)g(renaming,)f(b)n(ut)h(we)g(are)h
(concerned)f(with)601 144 y(a)c(v)o(ery)g(particular)g(one.)29
b(Again)21 b(the)g(tactic)g(will)f(gi)n(v)o(e)g(us)g(a)i
(constraint\227that)d(the)i(function)601 293 y(is)k(intensionally)e
(equal)j(to)f FY(\023)1612 257 y FL(f)1658 293 y F4(.)33
b(W)-8 b(e)26 b(will)f(only)g(ha)n(v)o(e)g(e)o(xtensional)f(equality)-6
b(,)25 b(so)g(the)g(proof)601 443 y(will)e(not)i(go)f(through.)357
703 y(There)f(is)f(still)g(much)g(w)o(ork)h(to)f(do)h(to)f(come)h(to)f
(an)h(understanding)e(of)i(the)g(correct)g(manipulation)357
853 y(of)34 b(constraints)e(for)i(this)f(kind)g(of)h(inducti)n(v)o(e)e
(proof.)58 b(In)34 b(the)f(meantime,)i(let)f(us)f(do)h(structural)357
1002 y(induction)23 b(on)i FP(t)p F4(!)31 b(The)25 b
FZ(v)m(ar)g F4(and)f FZ(a)r(pp)h F4(cases)g(are)h(easy)-6
b(.)2312 966 y FS(6)2380 1002 y F4(Here)25 b(is)g FZ(lam)p
F4(:)p 7 setlinewidth np 655 1198 25 135.00 315.00 arc
st 7 setlinewidth np 691 1180 18 180.00 360.00 arc st
7 setlinewidth np 745 1180 35 180.00 360.00 arc st 7
setlinewidth np 789 1207 28 251.56 341.56 arc st 7 setlinewidth
np 816 1225 27 270.00 450.00 arc st 7 setlinewidth np
780 1252 35 360.00 540.00 arc st 7 setlinewidth np 727
1252 18 360.00 540.00 arc st 7 setlinewidth np 682 1252
27 360.00 540.00 arc st 7 setlinewidth np 647 1234 19
63.43 243.43 arc st 601 1410 a FX(?)p FZ(PresI)861 1425
y FL(l)887 1410 y FX(:)d F3(8)q FP(m)104 b FX(:)23 b
FZ(N)-63 b(N)936 1530 y F3(8)q FP(t)149 b FX(:)23 b FZ(Lam)f(s)p
FP(m)936 1660 y F3(8)q FP(thyp)o FX(:)h FZ(F)n(a)f FY(\023)1394
1613 y FL(f)1394 1678 y Fg(s)p FK(m)1498 1660 y FP(t)h
F3(')f FP(t)992 1789 y FZ(lam)g FX(\()p FZ(F)n(a)h FX(\()p
FZ(liftT)17 b FY(:)g(:)g(:)f FX(\()p FZ(fz)22 b FP(m)p
FX(\))g(\()p FZ(fz)h FP(m)o FX(\))f FY(\023)2279 1742
y FL(f)2279 1804 y FK(m)2336 1789 y FX(\))g FP(t)p FX(\))g
F3(')h FZ(lam)f FP(t)357 2019 y F4(W)-8 b(e)28 b(may)g(introduce)f(the)
h(hypotheses)f(and)h(strip)f(of)n(f)h(the)g FZ(lam)p
F4(s.)41 b(This)27 b(lea)n(v)o(es)h(us)g(with)f FY(:)17
b(:)g(:)f F3(')25 b FP(t)p F4(.)357 2169 y(The)35 b(inducti)n(v)o(e)e
(hypothesis)h(looks)g(a)i(bit)e(lik)o(e)h(that,)j(so)d(let)g(us)g(try)g
(transiti)n(vity)e(\(or)i(re)n(writing)357 2318 y(backw)o(ards\).)p
7 setlinewidth np 655 2510 25 135.00 315.00 arc st 7
setlinewidth np 691 2492 18 180.00 360.00 arc st 7 setlinewidth
np 745 2492 35 180.00 360.00 arc st 7 setlinewidth np
789 2519 28 251.56 341.56 arc st 7 setlinewidth np 816
2537 27 270.00 450.00 arc st 7 setlinewidth np 780 2564
35 360.00 540.00 arc st 7 setlinewidth np 727 2564 18
360.00 540.00 arc st 7 setlinewidth np 682 2564 27 360.00
540.00 arc st 7 setlinewidth np 647 2546 19 63.43 243.43
arc st 601 2731 a FX(?)p FZ(PresI)861 2683 y FE(0)861
2756 y FL(l)887 2731 y FX(:)22 b FZ(F)n(a)h FX(\()p FZ(liftT)17
b FY(:)g(:)g(:)f FX(\()p FZ(fz)23 b FP(m)o FX(\))f(\()p
FZ(fz)h FP(m)o FX(\))f FY(\023)1982 2684 y FL(f)1982
2746 y FK(m)2039 2731 y FX(\))g FP(t)g F3(')h FZ(F)n(a)f
FY(\023)2424 2684 y FL(f)2424 2750 y Fg(s)p FK(m)2528
2731 y FP(t)357 2961 y F4(No)n(w)29 b(we)h(get)g(a)g(bonus)f(for)h(pro)
o(ving)f FZ(m)n(a)r(pEq)h F4(in)g(adv)n(ance.)46 b(The)30
b(goal)f(asks)h(us)f(to)h(sho)n(w)f(that)357 3110 y(tw)o(o)21
b(renamings)f(do)h(the)g(same)g(thing)f(to)h(a)h(term)f
FP(t)p F4(.)30 b(If)21 b(we)h(apply)f FZ(m)n(a)r(pEq)p
F4(,)h(it)f(is)g(enough)g(to)f(sho)n(w)357 3260 y(that)k(the)o(y)g
(agree)i(at)e(e)n(v)o(ery)h(v)n(ariable:)p 7 setlinewidth
np 655 3456 25 135.00 315.00 arc st 7 setlinewidth np
691 3438 18 180.00 360.00 arc st 7 setlinewidth np 745
3438 35 180.00 360.00 arc st 7 setlinewidth np 789 3465
28 251.56 341.56 arc st 7 setlinewidth np 816 3483 27
270.00 450.00 arc st 7 setlinewidth np 780 3510 35 360.00
540.00 arc st 7 setlinewidth np 727 3510 18 360.00 540.00
arc st 7 setlinewidth np 682 3510 27 360.00 540.00 arc
st 7 setlinewidth np 647 3492 19 63.43 243.43 arc st
601 3668 a FX(?)p FP(same)o FX(:)d F3(8)p FP(x)p FX(:)h
FZ(\002n)e(s)p FP(m)950 3797 y FZ(liftT)c FY(:)g(:)g(:)g
FX(\()p FZ(fz)22 b FP(m)p FX(\))g(\()p FZ(fz)g FP(m)p
FX(\))g FY(\023)1822 3750 y FL(f)1822 3812 y FK(m)1901
3797 y FP(x)f F3(')i FY(\023)2106 3750 y FL(f)2106 3816
y Fg(s)p FK(m)2210 3797 y FP(x)357 4027 y F4(But)h FZ(liftT)17
b FY(:)g(:)g(:)f FX(\()p FZ(fz)23 b FP(m)o FX(\))f(\()p
FZ(fz)g FP(m)p FX(\))i F4(has)h(the)f(same)h(functor)f(properties)h(as)
f FZ(lift)p F4(,)h(including)e(preserv)n(ation)357 4177
y(of)i(identity\227e)o(xactly)d(the)i(goal)h(here.)357
4386 y(Ne)o(xt,)f FZ(PresC)o F4(:)p 7 setlinewidth np
655 4575 25 135.00 315.00 arc st 7 setlinewidth np 691
4557 18 180.00 360.00 arc st 7 setlinewidth np 745 4557
35 180.00 360.00 arc st 7 setlinewidth np 789 4584 28
251.56 341.56 arc st 7 setlinewidth np 816 4602 27 270.00
450.00 arc st 7 setlinewidth np 780 4628 35 360.00 540.00
arc st 7 setlinewidth np 727 4628 18 360.00 540.00 arc
st 7 setlinewidth np 682 4628 27 360.00 540.00 arc st
7 setlinewidth np 647 4611 19 63.43 243.43 arc st 601
4787 a FX(?)p FZ(PresC)o FX(:)e F3(8)p FP(t)p FY(;)17
b FP(r)p FY(;)g FP(s)o FX(:)23 b FZ(N)-63 b(N)969 4907
y F3(8)p FJ(f)167 b FX(:)23 b FP(s)k FC(\032)1449 4871
y FL(f)1522 4907 y FP(t)969 5028 y F3(8)p FJ(g)131 b
FX(:)23 b FP(r)k FC(\032)1449 4991 y FL(f)1522 5028 y
FP(s)969 5148 y F3(8)p 1024 5073 107 4 v 1024 5174 4
101 v 28 w FP(x)p 1127 5174 V 1024 5177 107 4 v 120 w
FX(:)c FZ(Lam)f FP(r)1024 5287 y FZ(F)n(a)h FX(\()p FJ(f)f
F3(\016)1302 5250 y FL(f)1369 5287 y FJ(g)p FX(\))h FP(x)e
F3(')i FZ(F)n(a)g FJ(f)p 1858 5187 336 4 v 1858 5332
4 145 v 50 w FZ(F)n(a)g FJ(g)i FP(x)p 2190 5332 V 1858
5335 336 4 v 357 5393 1373 4 v 473 5454 a FR(6)506 5484
y FQ(T)m(rust)20 b(me,)g(I'm)g(doing)f(the)h(proof)f(as)h(I)h(write)f
(this.)1997 5667 y F4(207)p eop
%%Page: 208 213
208 212 bop 357 -6 a F4(Recursion)32 b(induction)f(is)g(once)i(more)f
(our)g(friend.)52 b(Eliminating)30 b(the)i(box)o(ed)f(application,)i
(we)357 144 y(again)19 b(\002nd)i(easy)f FZ(v)m(ar)h
F4(and)f FZ(a)r(pp)g F4(cases.)30 b(The)20 b FZ(lam)h
F4(case)f(is)g(v)o(ery)g(similar)f(to)h(that)g(in)g(the)g(pre)n(vious)
357 293 y(proof:)p 7 setlinewidth np 655 501 25 135.00
315.00 arc st 7 setlinewidth np 691 484 18 180.00 360.00
arc st 7 setlinewidth np 745 484 35 180.00 360.00 arc
st 7 setlinewidth np 789 510 28 251.56 341.56 arc st
7 setlinewidth np 816 528 27 270.00 450.00 arc st 7 setlinewidth
np 780 555 35 360.00 540.00 arc st 7 setlinewidth np
727 555 18 360.00 540.00 arc st 7 setlinewidth np 682
555 27 360.00 540.00 arc st 7 setlinewidth np 647 537
19 63.43 243.43 arc st 420 x FX(?)p FZ(PresC)920 728
y FL(l)946 713 y FX(:)i F3(8)p FP(t)p FY(;)17 b FP(r)p
FY(;)g FP(s)o FX(:)23 b FZ(N)-63 b(N)995 834 y F3(8)p
FJ(f)167 b FX(:)23 b FP(s)k FC(\032)1475 798 y FL(f)1548
834 y FP(t)995 954 y F3(8)p FJ(g)131 b FX(:)23 b FP(r)k
FC(\032)1475 918 y FL(f)1548 954 y FP(s)995 1074 y F3(8)p
FP(x)148 b FX(:)23 b FZ(Lam)f(s)p FP(r)995 1195 y F3(8)p
FP(x)1100 1159 y FE(0)1248 1195 y FX(:)h FZ(Lam)f(s)p
FP(s)995 1315 y F3(8)p FP(hyp)48 b FX(:)23 b F3(8)p FP(t)p
FX(:)f FZ(N)-63 b(N)1298 1436 y F3(8)p FJ(f)r FX(:)22
b FZ(s)p FP(s)27 b FC(\032)1651 1399 y FL(f)1724 1436
y FP(t)1353 1556 y FZ(F)n(a)22 b FX(\()p FJ(f)h F3(\016)1631
1520 y FL(f)1698 1556 y FX(\()p FZ(liftT)17 b FY(:)g(:)g(:)f
FJ(g)p FX(\)\))22 b FP(x)g F3(')h FZ(F)n(a)f FJ(f)h FP(x)2607
1520 y FE(0)1050 1676 y FZ(lam)g FX(\()p FZ(F)n(a)f FX(\()p
FZ(liftT)17 b FY(:)g(:)g(:)f FX(\()p FJ(f)23 b F3(\016)1903
1640 y FL(f)1970 1676 y FJ(g)p FX(\)\))f FP(x)p FX(\))g
F3(')g FZ(lam)h FX(\()p FZ(F)n(a)f FX(\()p FZ(liftT)17
b FY(:)g(:)g(:)f FJ(f)q FX(\))22 b FP(x)3197 1640 y FE(0)3220
1676 y FX(\))357 1918 y F4(Once)e(again,)g(strip)f(the)g
FZ(lam)q F4(s,)h(apply)f(transiti)n(vity)e(with)i(the)h(inducti)n(v)o
(e)e(hypothesis)f(on)j(the)f(right,)357 2068 y(and)24
b(then)h FZ(m)n(a)r(pEq)q F4(,)g(lea)n(ving:)p 7 setlinewidth
np 655 2276 25 135.00 315.00 arc st 7 setlinewidth np
691 2258 18 180.00 360.00 arc st 7 setlinewidth np 745
2258 35 180.00 360.00 arc st 7 setlinewidth np 789 2285
28 251.56 341.56 arc st 7 setlinewidth np 816 2302 27
270.00 450.00 arc st 7 setlinewidth np 780 2329 35 360.00
540.00 arc st 7 setlinewidth np 727 2329 18 360.00 540.00
arc st 7 setlinewidth np 682 2329 27 360.00 540.00 arc
st 7 setlinewidth np 647 2311 19 63.43 243.43 arc st
601 2488 a FX(?)p FZ(PresC)920 2503 y FL(l)946 2488 y
FX(:)d F3(8)p FP(x)p FX(:)g FZ(\002n)g(s)o FP(r)1050
2608 y FZ(liftT)17 b FY(:)g(:)g(:)f FX(\()p FJ(f)23 b
F3(\016)1487 2572 y FL(f)1554 2608 y FJ(g)p FX(\))f FP(x)g
F3(')h FZ(liftT)17 b FY(:)g(:)g(:)f FJ(f)22 b FX(\()p
FZ(liftT)17 b FY(:)g(:)g(:)f FJ(g)22 b FP(x)p FX(\))357
2843 y F4(Quelle)c(surprise!)29 b(The)19 b(property)g(that)f(the)h
(lifting)f(functor)h(preserv)o(es)g(composition!)27 b(Renaming)357
2993 y(is)d(a)h(functor!)357 3202 y(No)n(w)i(let)g(us)h(turn)f(to)h
(sho)n(wing)e(that)h(substitution)e(is)i(monadic.)39
b(W)-8 b(e)28 b(ha)n(v)o(e)g(already)g(supplied)e F3(j)-17
b(i\001)357 3352 y F4(\(composition)26 b(with)h FZ(v)m(ar)p
F4(\))h(and)k F3(\001h)-17 b(j)o F4(.)41 b(Since)28 b(the)g
(representation)g(of)g F3(&)g F4(is)f(functional,)h(we)g(inter)n(-)357
3501 y(pret)e(these)h(arro)n(ws)f(by)g(application.)35
b(W)-8 b(e)27 b(may)f(also)g(supply)g(directly)g(the)g(Kleisli)f
F3(\005)h F4(demanded)357 3651 y(by)e FZ(MonadC)p F4(:)601
3923 y FJ(f)e F3(\005)f FJ(g)h FP(x)50 b FX(=)j FJ(f)p
F3(h)-17 b(j)39 b FX(\()p FJ(g)47 b FY(mx)p FX(\))357
4195 y FZ(MonadI)29 b F4(reduces)i(to)e(re\003e)o(xi)n(vity)g(and)h
FZ(MonadC)g F4(is)g(true)g(by)g(construction.)45 b FZ(Fr)n(ontEq)30
b F4(fol-)357 4345 y(lo)n(ws)20 b(because)j FZ(v)m(ar)f
F4(respects)g(equality)f(whilst)f FZ(Bac)o(kEq)j F4(is)e(an)h(instance)
g(of)g FZ(m)n(a)r(pEq)p F4(.)30 b FZ(Fr)n(ontC)357 4494
y F4(is)24 b(re\003e)o(xi)n(v)o(e.)30 b(Only)24 b FZ(Split)g
F4(and)h FZ(Bac)o(kC)g F4(require)g(an)o(y)f(real)i(w)o(ork.)357
4704 y FZ(Split)e F4(says)p 7 setlinewidth np 655 4898
25 135.00 315.00 arc st 7 setlinewidth np 691 4880 18
180.00 360.00 arc st 7 setlinewidth np 745 4880 35 180.00
360.00 arc st 7 setlinewidth np 789 4907 28 251.56 341.56
arc st 7 setlinewidth np 816 4925 27 270.00 450.00 arc
st 7 setlinewidth np 780 4952 35 360.00 540.00 arc st
7 setlinewidth np 727 4952 18 360.00 540.00 arc st 7
setlinewidth np 682 4952 27 360.00 540.00 arc st 7 setlinewidth
np 647 4934 19 63.43 243.43 arc st 601 5110 a FX(?)p
FZ(Split)o FX(:)e F3(8)p FP(m)p FY(;)17 b FP(n)p FX(:)22
b FZ(N)-63 b(N)887 5230 y F3(8)p FJ(f)146 b FX(:)22 b
FP(m)27 b FC(\032)1384 5194 y FL(f)1457 5230 y FP(n)887
5359 y F3(8)p 942 5270 90 4 v 942 5386 4 116 v 29 w FP(t)p
1029 5386 V 942 5389 90 4 v 115 w FX(:)22 b FZ(Lam)h
FP(m)942 5498 y F3(j)-17 b(i)p FJ(f)p F3(h)h(j)38 b FP(t)22
b F3(')p 1267 5399 294 4 v 1267 5524 4 126 v 51 w FZ(F)n(a)h
FJ(f)36 b FP(t)p 1557 5524 V 1267 5527 294 4 v 1997 5667
a F4(208)p eop
%%Page: 209 214
209 213 bop 357 -6 a F4(W)-8 b(e)33 b(can)f(pro)o(v)o(e)g(this)f(with)h
(e)o(xactly)g(the)g(same)g(plan)h(as)f(before.)54 b(Recursion)33
b(induction)e(lea)n(v)o(es)357 144 y(easy)25 b FZ(v)m(ar)g
F4(and)g FZ(a)r(pp)f F4(cases.)31 b(The)25 b FZ(lam)h
F4(case)f(reduces)g(by)g(the)f(same)h(strate)o(gy)f(as)h(before)g(to)p
7 setlinewidth np 655 372 25 135.00 315.00 arc st 7 setlinewidth
np 691 354 18 180.00 360.00 arc st 7 setlinewidth np
745 354 35 180.00 360.00 arc st 7 setlinewidth np 789
381 28 251.56 341.56 arc st 7 setlinewidth np 816 399
27 270.00 450.00 arc st 7 setlinewidth np 780 426 35
360.00 540.00 arc st 7 setlinewidth np 727 426 18 360.00
540.00 arc st 7 setlinewidth np 682 426 27 360.00 540.00
arc st 7 setlinewidth np 647 408 19 63.43 243.43 arc
st 601 584 a FX(?)p FZ(Split)838 607 y FL(l)864 584 y
FX(:)d F3(8)p FP(x)p FX(:)g FZ(\002n)g(s)p FP(m)968 704
y FZ(liftT)17 b FY(:)g(:)g(:)f FZ(thinL)22 b FX(\()p
FZ(fz)h FP(m)o FX(\))f(\()p FZ(fz)h FP(n)p FX(\))f(\()p
F3(j)-17 b(i)p FJ(f)t FX(\))22 b FP(x)g F3(')g FZ(v)m(ar)h
FX(\()p FZ(liftT)17 b FY(:)g(:)g(:)f FZ(thin)21 b FX(\()p
FZ(fz)i FP(m)o FX(\))f(\()p FZ(fz)h FP(n)p FX(\))f FJ(f)h
FP(x)p FX(\))357 966 y F4(That)40 b(is,)k(composing)39
b FZ(v)m(ar)i F4(and)g(lifting)e(must)h(commute.)77 b(Both)40
b FZ(liftT)q F4(s,)k(on)c(e)o(xpansion,)k(are)357 1116
y(block)o(ed)24 b(at)h FX(\()p FZ(thic)o(k)c FX(\()p
FZ(fz)i FP(m)p FX(\))f FP(x)o FX(\))p F4(.)31 b(In)l(v)o(erting)24
b FZ(thic)o(k)g F4(lea)n(v)o(es)h(tw)o(o)f(tri)n(vial)f(subgoals.)357
1325 y FZ(Bac)o(kC)i F4(starts)f(the)h(same)f(w)o(ay:)p
7 setlinewidth np 655 1553 25 135.00 315.00 arc st 7
setlinewidth np 691 1535 18 180.00 360.00 arc st 7 setlinewidth
np 745 1535 35 180.00 360.00 arc st 7 setlinewidth np
789 1562 28 251.56 341.56 arc st 7 setlinewidth np 816
1580 27 270.00 450.00 arc st 7 setlinewidth np 780 1607
35 360.00 540.00 arc st 7 setlinewidth np 727 1607 18
360.00 540.00 arc st 7 setlinewidth np 682 1607 27 360.00
540.00 arc st 7 setlinewidth np 647 1589 19 63.43 243.43
arc st 601 1765 a FX(?)p FZ(Bac)o(kC)p FX(:)e F3(8)p
FP(r)p FY(;)17 b FP(s)p FY(;)g FP(t)p FX(:)22 b FZ(N)-63
b(N)1015 1885 y F3(8)p FJ(f)168 b FX(:)22 b FP(s)27 b
F3(&)g FP(t)1015 2006 y F3(8)p FJ(g)132 b FX(:)22 b FP(r)27
b F3(&)g FP(s)1015 2126 y F3(8)p 1070 2051 107 4 v 1070
2152 4 101 v 29 w FP(x)p 1173 2152 V 1070 2155 107 4
v 120 w FX(:)22 b FZ(Lam)g FP(r)1074 2265 y FX(\()p FJ(f)g
F3(\005)f FJ(g)p FX(\))p F3(h)-17 b(j)39 b FP(x)22 b
F3(')42 b FJ(f)p F3(h)-16 b(j)p 1742 2165 266 4 v 1742
2315 4 150 v 69 w FJ(g)q F3(h)f(j)38 b FP(x)p 2004 2315
V 1742 2318 266 4 v 357 2544 a F4(But)25 b(after)g(the)g(usual)f(story)
-6 b(,)23 b(the)i FZ(lam)g F4(case)h(is)e(reduced)h(to)p
7 setlinewidth np 655 2772 25 135.00 315.00 arc st 7
setlinewidth np 691 2754 18 180.00 360.00 arc st 7 setlinewidth
np 745 2754 35 180.00 360.00 arc st 7 setlinewidth np
789 2781 28 251.56 341.56 arc st 7 setlinewidth np 816
2799 27 270.00 450.00 arc st 7 setlinewidth np 780 2826
35 360.00 540.00 arc st 7 setlinewidth np 727 2826 18
360.00 540.00 arc st 7 setlinewidth np 682 2826 27 360.00
540.00 arc st 7 setlinewidth np 647 2808 19 63.43 243.43
arc st 601 2984 a FX(?)p FZ(Bac)o(kC)966 2999 y FL(l)992
2984 y FX(:)d F3(8)p FP(x)p FX(:)g FZ(\002n)g(s)p FP(r)1096
3104 y FZ(liftT)17 b FY(:)g(:)g(:)f FX(\()p FJ(f)23 b
F3(\005)e FJ(g)p FX(\))h FP(x)g F3(')g FZ(liftT)17 b
FY(:)g(:)g(:)g FJ(f)22 b FX(\()p FZ(liftT)17 b FY(:)g(:)g(:)f
FJ(g)22 b FP(x)p FX(\))357 3360 y F4(This)30 b(says)h(that)g(lifting)f
(for)h(substitutions)d(must)i(respect)i(composition\227we)d(only)h(kno)
n(w)g(this)357 3509 y(result)24 b(for)h(renamings.)30
b(W)-8 b(e)25 b(can)g(boil)f(the)h(goal)f(do)n(wn)g(a)h(little)f
(further)h(by)f(e)o(xpanding)g(the)g(outer)357 3659 y
FZ(liftT)p F4(s)34 b(and)g(in)l(v)o(erting)e(their)i(block)o(ed)f
FZ(thic)o(k)p F4(s.)57 b(This)34 b(gi)n(v)o(e)e(us)i(tw)o(o)f(cases:)49
b(one)34 b(for)g(the)g(ne)n(wly)357 3808 y(bound)c(v)n(ariable,)h(just)
f(a)h(re\003e)o(xi)n(v)o(e)f(equation,)h(indicating)f(that)g(it)g(is)h
(correctly)g(propagated)f(by)357 3957 y(lifting;)23 b(the)i(other)l(,)f
(for)h(the)g(free)h(v)n(ariables,)d(is)i(still)e(a)o(wkw)o(ard.)p
7 setlinewidth np 655 4186 25 135.00 315.00 arc st 7
setlinewidth np 691 4168 18 180.00 360.00 arc st 7 setlinewidth
np 745 4168 35 180.00 360.00 arc st 7 setlinewidth np
789 4194 28 251.56 341.56 arc st 7 setlinewidth np 816
4212 27 270.00 450.00 arc st 7 setlinewidth np 780 4239
35 360.00 540.00 arc st 7 setlinewidth np 727 4239 18
360.00 540.00 arc st 7 setlinewidth np 682 4239 27 360.00
540.00 arc st 7 setlinewidth np 647 4221 19 63.43 243.43
arc st 601 4397 a FX(?)p FZ(Bac)o(kC)966 4412 y FL(l)992
4397 y FX(:)f F3(8)p FP(x)p FX(:)g FZ(\002n)g FP(r)1096
4518 y FZ(thinL)g FX(\()p FZ(fz)h FP(t)p FX(\)\()s FJ(f)p
F3(h)-17 b(j)39 b FX(\()p FJ(g)22 b FP(x)p FX(\)\))g
F3(')42 b FX(\()p FZ(liftT)17 b FY(:)g(:)g(:)38 b FJ(f)q
FX(\))p F3(h)-17 b(j)38 b FX(\()p FZ(thinL)21 b FX(\()p
FZ(fz)i FP(s)p FX(\))f(\()p FJ(g)g FP(x)p FX(\)\))357
4773 y F4(This)34 b(is)h(a)h(special)f(case)h(of)g(the)f(last)g(lemma)g
(we)g(need)h(to)f(pro)o(v)o(e\227a)f(crucial)i(f)o(act)g(about)e(the)
357 4923 y(relationship)23 b(between)i(thinning)e(and)i(substitution:)
1997 5667 y(209)p eop
%%Page: 210 215
210 214 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FZ(thinSubst)m FX(:)23 b F3(8)p
FP(m)p FY(;)17 b FP(n)p FX(:)22 b FZ(N)-63 b(N)1122 282
y F3(8)p FP(x)127 b FX(:)22 b FZ(\002n)f(s)p FP(m)1122
403 y F3(8)p FP(x)1227 367 y FE(0)1354 403 y FX(:)h FZ(\002n)f(s)p
FP(n)1122 523 y F3(8)p FJ(f)146 b FX(:)22 b FP(m)27 b
F3(&)g FP(n)1122 652 y F3(8)p 1177 563 90 4 v 1177 678
4 116 v 28 w FP(t)p 1263 678 V 1177 681 90 4 v 116 w
FX(:)22 b FZ(Lam)h FP(m)1177 791 y FZ(thinL)e FP(x)1470
755 y FE(0)p 1516 691 213 4 v 1516 841 4 150 v 1547 791
a FJ(f)p F3(h)-16 b(j)38 b FP(t)p 1725 841 V 1516 844
213 4 v 51 w F3(')k FX(\()p FZ(liftT)17 b FY(:)g(:)g(:)38
b FP(x)22 b(x)2347 755 y FE(0)2392 791 y FJ(f)q FX(\))p
F3(h)-17 b(j)38 b FX(\()p FZ(thinL)22 b FP(x)g(t)p FX(\))357
1063 y F4(That)g(is,)g(substituting)e(then)i(thinning)f(has)h(the)g
(same)h(ef)n(fect)g(as)f(thining)f(\002rst,)i(then)f(applying)f(the)357
1213 y(lifted)j(substitution.)357 1422 y(There)29 b(is)f(no)g(point)g
(in)l(v)o(enting)e(a)j(ne)n(w)f(proof)h(plan)f(when)g(an)h(old)f(one)h
(will)e(do.)42 b FZ(v)m(ar)29 b F4(and)f FZ(a)r(pp)357
1572 y F4(are)g(easy)f(as)h(before.)39 b(Modulo)26 b(the)h(need)h(to)f
(switch)g(between)g(a)h FZ(liftT)p F4(ed)g FZ(thin)e
F4(and)i(a)g FZ(lift)o F4(ed)g FZ(thin)357 1721 y F4(\(ie)f(another)g
FZ(thin)o F4(\),)g(we)h(can)f(again)f(reduce)i(the)e
FZ(lam)i F4(case)f(to)g(an)g(equation)f(in)l(v)n(olving)f(block)o(ed)
357 1871 y FZ(liftT)p F4(s)g(which)f(we)h(simplify)e(by)i(in)l(v)o
(ersion,)e(lea)n(ving)h(us)h(with)f(the)g(free)i(v)n(ariable)e(case:)p
7 setlinewidth np 655 2099 25 135.00 315.00 arc st 7
setlinewidth np 691 2081 18 180.00 360.00 arc st 7 setlinewidth
np 745 2081 35 180.00 360.00 arc st 7 setlinewidth np
789 2108 28 251.56 341.56 arc st 7 setlinewidth np 816
2125 27 270.00 450.00 arc st 7 setlinewidth np 780 2152
35 360.00 540.00 arc st 7 setlinewidth np 727 2152 18
360.00 540.00 arc st 7 setlinewidth np 682 2152 27 360.00
540.00 arc st 7 setlinewidth np 647 2134 19 63.43 243.43
arc st 601 2310 a FX(?)p FZ(thinSubst)1072 2325 y FL(l)1098
2310 y FX(:)f F3(8)p FP(y)p FX(:)f FZ(\002n)f FP(m)1203
2431 y FZ(thinL)g FX(\()p FZ(fs)h FP(x)1626 2395 y FE(0)1650
2431 y FX(\))g(\()p FZ(thinL)f FX(\()p FZ(fz)i FP(n)p
FX(\))f(\()p FJ(f)g FP(y)p FX(\)\))g F3(')h FZ(thinL)e
FX(\()p FZ(fz)i(s)p FP(n)p FX(\))f(\()p FZ(thinL)f FP(x)3441
2395 y FE(0)3487 2431 y FX(\()p FJ(f)h FP(y)p FX(\)\))357
2693 y F4(No)n(w)i FZ(thinL)g F4(is)g(just)g(renaming)g(via)h
FZ(thin)o F4(,)g(so)g(what)f(we)h(really)g(ha)n(v)o(e)f(is)p
7 setlinewidth np 655 2921 25 135.00 315.00 arc st 7
setlinewidth np 691 2903 18 180.00 360.00 arc st 7 setlinewidth
np 745 2903 35 180.00 360.00 arc st 7 setlinewidth np
789 2930 28 251.56 341.56 arc st 7 setlinewidth np 816
2948 27 270.00 450.00 arc st 7 setlinewidth np 780 2974
35 360.00 540.00 arc st 7 setlinewidth np 727 2974 18
360.00 540.00 arc st 7 setlinewidth np 682 2974 27 360.00
540.00 arc st 7 setlinewidth np 647 2956 19 63.43 243.43
arc st 601 3133 a FX(?)p FZ(thinSubst)1072 3148 y FL(l)1098
3133 y FX(:)f F3(8)p FP(y)p FX(:)f FZ(\002n)f FP(m)1203
3253 y FZ(F)n(a)i FX(\()p FZ(lift)f FX(\()p FZ(thin)f
FP(x)1790 3217 y FE(0)1813 3253 y FX(\)\))h(\()p FZ(F)n(a)g
FX(\()p FZ(fs)2193 3268 y FK(n)2234 3253 y FX(\))g(\()p
FJ(f)h FP(y)p FX(\)\))f F3(')g FZ(F)n(a)h FX(\()p FZ(fs)2878
3268 y Fg(s)o FK(n)2944 3253 y FX(\))g(\()p FZ(F)n(a)f
FX(\()p FZ(thin)f FP(x)3464 3217 y FE(0)3487 3253 y FX(\))h(\()p
FJ(f)h FP(y)p FX(\)\))357 3508 y F4(W)-8 b(e)22 b(may)g(re)n(write)g
(both)f(sides)h(by)f(the)h(property)g(that)g(renaming)f(preserv)o(es)h
(composition)e(\(back-)357 3658 y(w)o(ards\):)p 7 setlinewidth
np 655 3882 25 135.00 315.00 arc st 7 setlinewidth np
691 3864 18 180.00 360.00 arc st 7 setlinewidth np 745
3864 35 180.00 360.00 arc st 7 setlinewidth np 789 3891
28 251.56 341.56 arc st 7 setlinewidth np 816 3909 27
270.00 450.00 arc st 7 setlinewidth np 780 3936 35 360.00
540.00 arc st 7 setlinewidth np 727 3936 18 360.00 540.00
arc st 7 setlinewidth np 682 3936 27 360.00 540.00 arc
st 7 setlinewidth np 647 3918 19 63.43 243.43 arc st
601 4094 a FX(?)p FZ(thinSubst)1072 4109 y FL(l)1098
4094 y FX(:)j F3(8)p FP(y)p FX(:)f FZ(\002n)f FP(m)1203
4214 y FZ(F)n(a)i FX(\(\()p FZ(lift)e FX(\()p FZ(thin)h
FP(x)1828 4178 y FE(0)1851 4214 y FX(\)\))g F3(\016)1999
4178 y FL(f)2066 4214 y FZ(fs)2136 4229 y FK(n)2177 4214
y FX(\))g(\()p FJ(f)h FP(y)o FX(\))g F3(')f FZ(F)n(a)h
FX(\()p FZ(fs)2783 4229 y Fg(s)o FK(n)2872 4214 y F3(\016)2922
4178 y FL(f)2989 4214 y FX(\()p FZ(thin)e FP(x)3274 4178
y FE(0)3297 4214 y FX(\)\))h(\()p FJ(f)h FP(y)o FX(\))357
4476 y F4(But)31 b(all)f(the)h FZ(lift)g F4(does)g(is)f(shuf)n(\003e)h
FZ(fs)g F4(through)f FX(\()p FZ(thin)c FP(x)2294 4440
y FE(0)2317 4476 y FX(\))p F4(.)49 b(The)31 b(tw)o(o)f(sides)h(of)g
(the)f(equation)h(are)357 4626 y(intensionally)22 b(the)j(same.)31
b(W)-8 b(e)25 b(ha)n(v)o(e)f(pro)o(v)o(en)g(that)g(substitution)e(is)i
(monadic.)357 5025 y FT(7.3)142 b(a)36 b(corr)m(ect)e(\002rst-order)g
(uni\002cation)f(algorithm)357 5338 y F4(This)24 b(is)g(the)h(main)f(e)
o(xample)g(of)h(dependently)f(typed)g(functional)g(programming)f(in)h
(this)g(thesis.)1997 5667 y(210)p eop
%%Page: 211 216
211 215 bop 357 -6 a F4(I)23 b(propose)f(to)h(study)f(uni\002cation)g
(for)h(`trees)h(with)e(holes'.)30 b(The)23 b(algorithm)e(is)i(a)g(v)n
(ariation)f(on)g(the)357 144 y(theme)g(which)g(goes)g(back)h(to)f(Alan)
g(Robinson)f([Rob65].)31 b(It)22 b(is)g(the)g(program)g(implementing)e
(the)357 293 y(algorithm)26 b(which)i(is)f(ne)n(w)-6
b(,)28 b(and)g(which)g(bene\002ts)g(from)f(the)h(dependent)g(type)f
(system)g(in)h(a)g(w)o(ay)357 443 y(which)23 b(is)g(just)f(not)h(a)n(v)
n(ailable)f(in)h(the)h(simply)d(typed)i(w)o(orld,)g(e)n(v)o(en)g(with)g
(the)g(remarkable)g(higher)n(-)357 592 y(order)c(polymorphic)f(e)o
(xtensions)f(which)i(are)g(becoming)g(a)n(v)n(ailable)f(in)h(the)g
(more)g(upmark)o(et)f(sorts)357 742 y(of)31 b(programming)e(language.)
49 b(Here)32 b(we)f(shall)f(mak)o(e)h(critical)g(use)f(of)h(the)g(f)o
(act)h(that)e(our)h(types)357 891 y(depend)24 b(on)h(data\227real)g
(data)g(with)f(elimination)e(as)j(well)g(as)g(introduction)e(rules.)357
1101 y(Just)f(as)h(with)f FZ(Lam)p F4(,)i(let)e(us)h(represent)g(v)n
(ariables)f(via)h FZ(\002n)o F4(,)g(b)n(ut)f(since)h(trees)g(ha)n(v)o
(e)g(no)f(binding,)g(we)357 1250 y(may)i(\002x)h(the)g(number)f(of)h(v)
n(ariables)f(as)h(a)g(parameter)g(of)g(the)g(type.)502
1567 y F3(\017)49 b F4(formation)23 b(rule)759 1719 y
FP(n)28 b FX(:)g FZ(N)-63 b(N)p 611 1735 521 4 v 611
1814 a(tree)21 b FP(n)28 b FX(:)f FI(Type)502 2023 y
F3(\017)49 b F4(constructors)739 2190 y FP(x)27 b FX(:)h
FZ(\002n)21 b FP(n)p 611 2206 576 4 v 611 2284 a FZ(v)m(ar)h
FP(x)27 b FX(:)h FZ(tree)21 b FP(n)p 1355 2206 578 4
v 170 w FZ(leaf)1539 2299 y FK(n)1608 2284 y FX(:)27
b FZ(tree)21 b FP(n)2190 2179 y(s)p FY(;)c FP(t)27 b
FX(:)h FZ(tree)21 b FP(n)p 2102 2206 644 4 v 2102 2284
a FZ(f)l(or)r(k)i FP(s)f(t)28 b FX(:)f FZ(tree)21 b FP(n)502
2490 y F3(\017)49 b F4(elimination)22 b(rule)p 601 2544
1789 4 v 601 3587 4 1044 v 654 2653 a FP(n)28 b FX(:)g
FZ(N)-63 b(N)654 2773 y FX(\010)28 b(:)g FZ(tree)21 b
FP(n)50 b F3(!)f FI(Type)788 3315 y FX(\010)23 b(\()p
FZ(v)m(ar)f FP(x)p FX(\))120 b(\010)22 b FZ(leaf)1575
3330 y FK(n)1818 3074 y FX(\010)g FP(s)120 b FX(\010)22
b FP(t)1752 3173 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)
1776 3333 y FX(\010)23 b(\()p FZ(f)l(or)r(k)g FP(s)f(t)p
FX(\))p 788 3396 1488 4 v 1196 3502 a F3(8)p 1251 3403
443 4 v 1251 3529 4 126 v 28 w FP(t)28 b FX(:)g FZ(tree)21
b FP(n)p 1690 3529 V 1251 3532 443 4 v 28 w FY(:)i FX(\010)f
FP(t)p 2385 3587 4 1044 v 601 3590 1789 4 v 357 3841
a F4(W)-8 b(e)37 b(may)f(construct)g(the)g(renaming)g(functor)h(and)f
(substitution)e(monad)i(for)h FZ(tree)e F4(follo)n(wing)357
3990 y(much)27 b(the)h(same)f(path)h(as)g(for)g FZ(Lam)q
F4(,)g(b)n(ut)f(without)g(the)h(w)o(ork)f(required)h(to)g(cope)g(with)f
(binding.)357 4140 y(F)o(or)d(this)g(section,)g(let)h(us)f(ha)n(v)o(e)
601 4432 y FP(m)j FC(\032)817 4396 y FL(t)874 4432 y
FP(n)50 b FX(=)-17 b F3(\))50 b FZ(tree)21 b FP(m)49
b F3(!)g FZ(tree)21 b FP(n)601 4582 y(m)27 b F3(&)g FP(n)50
b FX(=)-17 b F3(\))50 b FZ(\002n)21 b FP(m)50 b F3(!)f
FZ(tree)21 b FP(n)601 4731 y FZ(Rename)27 b FX(:)h FZ(Functor)23
b FX([)p FZ(\002n)o FX(])f([)p FZ(tree)o FX(])601 4881
y FZ(SubstM)j FX(:)j FZ(Monad)22 b(Rename)50 b F3(&)601
5030 y FZ(SubstK)e FX(=)i FZ(Kleisli)21 b(SubstM)357
5322 y F4(W)l(ithin)i(this)h(frame)n(w)o(ork,)g(we)h(may)g(equip)f
(substitutions)d(with)j(the)h(preorder)g(induced)f(by)h(prior)357
5472 y(composition:)1997 5667 y(211)p eop
%%Page: 212 217
212 216 bop 601 -6 a FJ(f)22 b F3(\005)f FJ(g)50 b F3(\024)g
FJ(g)357 312 y F4(The)27 b(task)f(of)h(unifying)e(some)h
FP(s)p FY(;)17 b FP(t)31 b FX(:)h FZ(tree)22 b FP(m)27
b F4(is)f(to)h(\002nd)f(\(an)i FP(n)f F4(and\))g(an)g(arro)n(w)f
FJ(f)32 b FX(:)f FP(m)g F3(&)g FP(n)d F4(such)357 461
y(that)604 754 y FJ(f)p F3(h)-17 b(j)39 b FP(s)49 b FX(=)k
FJ(f)q F3(h)-17 b(j)38 b FP(t)357 1046 y F4(if)26 b(an)o(y)g(e)o
(xists,)f(and)h(in)g(particular)l(,)h(to)f(\002nd)g(one)h(which)f(is)g
(maximal)f(with)g(respect)i(to)f(the)g(abo)o(v)o(e)357
1196 y(ordering.)357 1405 y(Uni\002cation)20 b(is)h(thus)g(an)h
(optimisation)c(problem,)j(and)h(it)f(is)g(w)o(orth)f(spending)h(a)g
(little)g(time)f(think-)357 1555 y(ing)k(about)g(such)h(problems)e(in)i
(general,)g(before)g(proceeding)g(with)f(this)g(particular)g(e)o
(xample.)357 1910 y FB(7.3.1)118 b(optimistic)30 b(optimisation)357
2186 y F4(Uni\002cation)e(is)h(just)f(one)g(e)o(xample)g(of)h(a)h
(problem)e(in)l(v)n(olving)f(optimisation)f(with)i(respect)h(to)g(a)357
2336 y(conjunction)c(of)i(constraints.)35 b(I)27 b(should)f(lik)o(e)g
(to)h(dra)o(w)f(your)h(attention)e(to)i(a)g(particular)g(class)f(of)357
2485 y(constraint)e(which)h(mak)o(es)h(such)f(problems)f(vulnerable)i
(to)f(a)h(reassuringly)e(na)m(\250)-30 b(\021v)o(e)25
b(technique\227)357 2635 y(optimism.)357 2844 y(That)d(is,)g(we)h(be)o
(gin)e(by)h(guessing)g(that)g(the)g(optimum)e(is)i(the)g(best)g(thing)g
(we)g(can)h(think)f(of.)30 b(Then,)357 2994 y(as)i(we)h(encounter)f
(each)h(constraint)e(in)h(turn,)i(we)f(continue)e(to)h(think)g(the)g
(best)g(that)g(it)g(allo)n(ws,)357 3143 y(reducing)23
b(our)h(current)g(guess)f(by)g(only)g(so)g(much)g(as)h(is)f(necessary)
-6 b(.)31 b(Once)24 b(we)f(ha)n(v)o(e)h(w)o(ork)o(ed)f(our)357
3292 y(w)o(ay)i(through)f(all)h(the)g(constraints,)e(it)i(is)g(to)f(be)
i(hoped)e(that)h(our)g(\002nal)g(guess,)g(ho)n(we)n(v)o(er)e(battered)
357 3442 y(by)h(bitter)g(e)o(xperience,)h(is)g(genuinely)e(optimal.)357
3651 y(This)28 b(hope)h(holds)f(true)h(if)g(each)g(constraint)f(has)h
(the)g(property)g(that)f(once)i(a)f(solution)e(has)i(been)357
3801 y(found,)j(an)o(ything)d(smaller)h(remains)h(a)g(solution.)47
b(Let)31 b(us)g(call)g(such)f(constraints)g F0(do)o(wnward-)357
3950 y(closed)p F4(,)c(or)h F0(closed)f F4(for)g(short.)35
b(This)25 b(property)h(of)g(constraints)f(gi)n(v)o(es)g(the)h
(underlying)f(rationale)357 4100 y(to)35 b(the)g(transformation)f(of)h
(recursi)n(v)o(e)g(optimisation)e(algorithms)g(which)i(relati)n(vises)f
(them)h(to)357 4249 y(an)25 b(accumulating)f(solution\227a)g(technique)
g(which)h(has)h(already)f(found)g(its)g(w)o(ay)g(into)f(the)h(auto-)357
4399 y(mated)f(synthesis)f(of)i(\(parts)g(of\))g(a)g(uni\002cation)f
(algorithm)g(in)g([ASG99].)357 4608 y(W)-8 b(e)22 b(can)h(gi)n(v)o(e)e
(a)i(record)g(type)f(characterising)g(such)g(properties)g(for)g(arro)n
(ws)g(ordered)h(by)f(compo-)357 4757 y(sition.)41 b(Fixing)29
b(a)g(cate)o(gory)f(and)h(a)h(source)f(object)f FP(S)q
F4(,)h(we)h(may)e(represent)h(a)h(closed)e(constraint)357
4907 y(on)c FP(S)i F4(out-arro)n(ws)e(as)g(inhabitants)g(of)g(the)h
(record)g(type)g FZ(Closed)d FP(S)j F4(with)f(\002elds:)853
5189 y FZ(Wh)m(y)p FX(:)p F3(8)p FP(T)p FY(:)e FX(\()p
FP(S)28 b FC(\032)g FP(T)p FX(\))49 b F3(!)h FI(Type)601
5309 y FZ(ClosedEq)p FX(:)p F3(8)p FP(T)p FY(:)22 b F3(8)p
FJ(f)q FY(;)17 b FJ(g)11 b FX(:)g FP(S)28 b FC(\032)f
FP(T)p FY(:)22 b FJ(f)28 b F3(\031)h FJ(g)49 b F3(!)h
FZ(Wh)m(y)22 b FJ(f)50 b F3(!)f FZ(Wh)m(y)22 b FJ(g)700
5430 y FZ(Closure)o FX(:)p F3(8)p FP(T)p FY(:)g F3(8)p
FJ(g)12 b FX(:)f FP(S)28 b FC(\032)f FP(T)p FY(:)22 b
FZ(Wh)m(y)g FJ(g)50 b F3(!)g(8)p FP(U)p FY(:)22 b F3(8)p
FJ(f)12 b FX(:)f FP(T)27 b FC(\032)h FP(U)o FY(:)22 b
FZ(Wh)m(y)g FJ(f)h F3(\016)f FJ(g)1997 5667 y F4(212)p
eop
%%Page: 213 218
213 217 bop 357 -6 a F4(Note)33 b(the)h(e)o(xtra)f(condition)g(that)g
(the)h(constraint)f(must)f(not)h(distinguish)f(e)o(xtensionally)f
(equal)357 144 y(arro)n(ws.)e(This)21 b(is)g(the)h(price)g(of)g(allo)n
(wing)e(functional)g(representations)h(of)h(arro)n(ws)g(in)f
(intensional)357 293 y(type)j(theory)-6 b(.)357 503 y(W)e(e)27
b(may)g(further)g(de\002ne)h(what)f(it)g(means)f(to)h(be)h(maximal)d
(with)i(respect)g(to)g(such)g(a)g(constraint.)357 652
y(Fixing)21 b(and)h(opening)f(a)i FZ(Closed)12 b FP(S)23
b F4(record,)g(and)f(also)g(\002xing)f(a)i(tar)n(get)f
FP(T)g F4(and)g(an)h(arro)n(w)f FJ(f)28 b FX(:)f FP(S)i
FC(\032)357 802 y FP(T)p F4(,)24 b(we)h(may)g(collect)f(the)h(rele)n(v)
n(ant)f(conditions)f(in)h(a)h(record)h FZ(Maxim)n(al)c
FJ(f)j F4(with)f(\002elds:)689 1032 y FZ(Holds)p FX(:)p
FZ(Wh)m(y)e FJ(f)601 1153 y FZ(F)n(actor)r(s)p FX(:)p
F3(8)p FP(U)p FY(:)g F3(8)p FJ(g)12 b FX(:)f FP(S)28
b FC(\032)f FP(U)p FY(:)22 b FZ(Wh)m(y)g FJ(g)50 b F3(!)f
FX(\006)q FJ(h)27 b FX(:)h FP(T)g FC(\032)f FP(U)o FY(:)c
FJ(g)k F3(\031)i FJ(h)21 b F3(\016)h FJ(f)357 1388 y
F4(That)j(is,)g FJ(f)h F4(must)f(be)g(a)h(solution,)e(and)i(e)n(v)o
(ery)f(other)g(solution)f FJ(g)i F4(must)e(be)i(smaller)f(than)g
FJ(f)p F4(,)h(with)f(a)357 1537 y(witness)18 b FJ(h)g
F4(such)h(that)f FJ(g)28 b F3(\031)g FJ(h)p F3(\016)p
FJ(f)p F4(.)h(W)-8 b(e)19 b(may)g(easily)f(pro)o(v)o(e)g(that)g
(maximality)f(respects)i(e)o(xtensional)357 1687 y(equality)24
b(of)g(arro)n(ws.)357 1896 y(Ne)o(xt,)g(let)g(us)h(de\002ne)g(an)g
(operator)g(which)f(conjoins)g(closed)g(constraints.)601
2150 y FZ(AND)j FX(:)h F3(8)p FP(S)p FY(:)23 b F3(8)p
FP(P)p FY(;)17 b FP(Q)10 b FX(:)h FZ(Closed)22 b FP(S)q
FY(:)g FZ(Closed)g FP(S)601 2298 y FZ(AND)f F3(h)p FZ(Wh)m(y)28
b FX(=)f FP(P)p FX(;)17 b FZ(ClosedEq)27 b FX(=)h FP(PEq)p
FX(;)17 b FZ(Closure)26 b FX(=)i FP(PCl)p F3(i)844 2419
y(h)p FZ(Wh)m(y)g FX(=)f FP(Q)p FX(;)17 b FZ(ClosedEq)27
b FX(=)h FP(QEq)o FX(;)17 b FZ(Closure)26 b FX(=)i FP(QCl)o
F3(i)746 2539 y FX(=)22 b F3(h)p FZ(Wh)m(y)28 b FX(=)f
FY(\025)p FP(T)p FY(:)22 b(\025)p FJ(f)p FY(:)g FX(\()p
FP(P)g FJ(f)q FX(\))p F3(\002)p FX(\()p FP(Q)g FJ(f)p
FX(\);)17 b FY(:)g(:)g(:)f F3(i)357 2756 y F4(The)25
b(proofs)f(of)h(the)g(properties)f(are)h(unremarkable.)357
2965 y(The)c(optimistic)d(strate)o(gy)i(at)h(each)h(constraint)e
FP(P)g F4(e)o(xtends)g(an)h(accumulated)g(guess)f FJ(g)h
F4(by)g(enough)357 3115 y(of)35 b(an)g FJ(f)h F4(that)e
FP(P)p FY(:)p FZ(Wh)m(y)c FJ(f)g F3(\016)g FJ(g)35 b
F4(holds.)61 b(W)-8 b(e)35 b(may)g(re)o(gard)g(this)f(as)h(ef)n(fecti)n
(v)o(ely)f(constraining)f(the)357 3264 y(witnesses)h
FJ(f)h F4(to)g(the)f(e)o(xistence)h(of)g(solutions)e(to)h
FP(P)h F4(bounded)g(by)f FJ(g)p F4(.)62 b(The)35 b(constraint)f(on)g
FJ(f)i F4(is)357 3414 y(closed)24 b(pro)o(vided)g FP(P)h
F4(is.)30 b(Let)24 b(us)h(therefore)g(construct)g(an)f(operator)601
3668 y FZ(Bound)j FX(:)h F3(8)p FP(S)q FY(;)17 b FP(T)o
FY(:)23 b F3(8)p FJ(g)11 b FX(:)g FP(S)28 b FC(\032)g
FP(T)p FY(:)22 b FZ(Closed)g FP(S)50 b F3(!)f FZ(Closed)22
b FP(T)601 3816 y FZ(Bound)g FJ(g)g F3(h)p FZ(Wh)m(y)27
b FX(=)h FP(P)p FX(;)17 b FZ(ClosedEq)27 b FX(=)h FP(PEq)p
FX(;)17 b FZ(Closure)26 b FX(=)h FP(PCl)p F3(i)926 3936
y FX(=)22 b F3(h)p FZ(Wh)m(y)27 b FX(=)h FY(\025)p FP(U)o
FY(:)22 b(\025)p FJ(f)12 b FX(:)f FP(T)27 b FC(\032)h
FP(U)o FY(:)22 b FP(P)g FJ(f)h F3(\016)f FJ(g)p FX(;)17
b FY(:)g(:)g(:)f F3(i)357 4153 y F4(Again,)23 b(the)i(properties)f(are)
i(easily)e(pro)o(v)o(en.)357 4362 y(W)-8 b(e)25 b(are)g(no)n(w)f(ready)
i(to)e(pro)o(v)o(e)g(the)g(optimist')-5 b(s)22 b(lemma:)p
7 setlinewidth np 655 4564 25 135.00 315.00 arc st 7
setlinewidth np 691 4546 18 180.00 360.00 arc st 7 setlinewidth
np 745 4546 35 180.00 360.00 arc st 7 setlinewidth np
789 4573 28 251.56 341.56 arc st 7 setlinewidth np 816
4591 27 270.00 450.00 arc st 7 setlinewidth np 780 4617
35 360.00 540.00 arc st 7 setlinewidth np 727 4617 18
360.00 540.00 arc st 7 setlinewidth np 682 4617 27 360.00
540.00 arc st 7 setlinewidth np 647 4600 19 63.43 243.43
arc st 601 4776 a FX(?)p FZ(Optimist)o FX(:)g F3(8)p
FP(R)q FY(;)17 b FP(S)p FY(;)g FP(T)48 b FX(:)22 b FP(O)1090
4896 y F3(8)p FP(clP)o FY(;)17 b FP(clQ)o FX(:)22 b FZ(Closed)g
FP(R)1090 5016 y F3(8)p FJ(g)252 b FX(:)22 b FP(R)28
b FC(\032)g FP(S)1090 5137 y F3(8)p FP(gMax)81 b FX(:)22
b FZ(Maxim)n(al)g FP(P)g FJ(g)1090 5257 y F3(8)p FJ(f)288
b FX(:)22 b FP(S)28 b FC(\032)f FP(T)1090 5378 y F3(8)p
FP(fMax)103 b FX(:)22 b FZ(Maxim)n(al)g FX(\()p FZ(Bound)g
FJ(g)g FP(P)p FX(\))g FJ(f)1145 5498 y FZ(Maxim)n(al)g
FX(\()p FZ(AND)g FP(P)g(Q)o FX(\))g(\()p FJ(f)h F3(\016)f
FJ(g)p FX(\))1997 5667 y F4(213)p eop
%%Page: 214 219
214 218 bop 357 -6 a F4(This)23 b(is)h(the)g(k)o(e)o(y)g(step)g(in)g
(the)g(correctness)h(proof)f(for)h(the)f(optimistic)e(strate)o(gy)-6
b(.)29 b(It)c(tells)e(us)h(that)g(a)357 144 y(conjunction)d
FX(\()p FZ(AND)14 b FP(P)h(Q)p FX(\))22 b F4(may)h(be)g(optimised)e(by)
h(e)o(xtending)g(the)h(optimum)d FJ(g)j F4(for)g FP(P)g
F4(with)f(just)357 293 y(enough)j FJ(f)i F4(to)f(satisfy)g
FP(Q)o F4(.)36 b(The)26 b(proof)g(is)g(not)g(v)o(ery)g(dif)n(\002cult,)
g(which)g(is)g(one)g(of)h(the)f(reasons)g(why)357 443
y(I)f(lik)o(e)f(it.)357 652 y(First,)34 b(let)f(us)f(unpack)h(the)g
(de\002nitions)e(by)i(the)f(elimination)f(rules)i(for)g(the)g(ar)n
(gument)f(records)357 802 y(and)24 b(introduce)h(the)f(hypotheses:)p
7 setlinewidth np 655 1055 25 135.00 315.00 arc st 7
setlinewidth np 691 1037 18 180.00 360.00 arc st 7 setlinewidth
np 745 1037 35 180.00 360.00 arc st 7 setlinewidth np
789 1064 28 251.56 341.56 arc st 7 setlinewidth np 816
1081 27 270.00 450.00 arc st 7 setlinewidth np 780 1108
35 360.00 540.00 arc st 7 setlinewidth np 727 1108 18
360.00 540.00 arc st 7 setlinewidth np 682 1108 27 360.00
540.00 arc st 7 setlinewidth np 647 1090 19 63.43 243.43
arc st 601 1267 a FY(\025)o FP(R)q FY(;)17 b FP(S)p FY(;)g
FP(T)102 b FX(:)22 b FP(O)601 1387 y FY(\025)o FP(P)312
b FX(:)22 b FY(:)17 b(:)g(:)601 1507 y(\025)o FP(PEq)205
b FX(:)22 b FY(:)17 b(:)g(:)601 1628 y(\025)o FP(PCl)218
b FX(:)22 b FY(:)17 b(:)g(:)601 1748 y(\025)o FP(Q)295
b FX(:)22 b FY(:)17 b(:)g(:)601 1868 y(\025)o FP(QEq)188
b FX(:)22 b FY(:)17 b(:)g(:)601 1989 y(\025)o FP(QCl)201
b FX(:)22 b FY(:)17 b(:)g(:)601 2109 y(\025)o FJ(g)306
b FX(:)22 b FP(R)28 b FC(\032)g FP(S)601 2230 y FY(\025)o
FP(gHolds)84 b FX(:)22 b FP(P)g FJ(g)601 2350 y FY(\025)o
FP(gFactors)28 b FX(:)37 b F3(8)q FP(U)27 b FX(:)22 b
FP(O)1094 2470 y F3(8)q FJ(k)55 b FX(:)22 b FP(R)28 b
FC(\032)g FP(U)1094 2591 y F3(8)q FP(Pk)p FX(:)22 b FP(P)g
FJ(k)1079 2711 y FX(\006)q FJ(h)44 b FX(:)22 b FP(S)28
b FC(\032)g FP(U)1150 2832 y FJ(k)f F3(\031)i FJ(h)22
b F3(\016)f FJ(g)601 2952 y FY(\025)o FJ(f)342 b FX(:)22
b FP(S)28 b FC(\032)g FP(T)601 3072 y FY(\025)o FP(fgHolds)56
b FX(:)22 b FP(Q)g FJ(f)g F3(\016)g FJ(g)601 3193 y FY(\025)o
FP(fgFactors)p FX(:)37 b F3(8)q FP(U)93 b FX(:)23 b FP(O)1094
3313 y F3(8)q FJ(k)121 b FX(:)23 b FP(S)28 b FC(\032)f
FP(U)1094 3433 y F3(8)q FP(Qkg)o FX(:)c FP(Q)e FJ(k)h
F3(\016)g FJ(g)1079 3554 y FX(\006)q FJ(h)110 b FX(:)23
b FP(T)k FC(\032)g FP(U)1150 3674 y FJ(k)g F3(\031)i
FJ(h)22 b F3(\016)f FJ(f)611 3795 y FX(?)p FP(max)201
b FX(:)22 b FZ(Maxim)n(al)g FX(\()p FZ(AND)g FP(P)g(Q)o
FX(\))g(\()p FJ(f)h F3(\016)f FJ(g)p FX(\))357 4075 y
F4(W)-8 b(e)25 b(may)f(also)h(attack)g(the)f(goal)h(with)f(the)g
(introduction)f(rules)i(for)g(records)g(and)g(implications:)p
7 setlinewidth np 655 4328 25 135.00 315.00 arc st 7
setlinewidth np 691 4310 18 180.00 360.00 arc st 7 setlinewidth
np 745 4310 35 180.00 360.00 arc st 7 setlinewidth np
789 4337 28 251.56 341.56 arc st 7 setlinewidth np 816
4355 27 270.00 450.00 arc st 7 setlinewidth np 780 4381
35 360.00 540.00 arc st 7 setlinewidth np 727 4381 18
360.00 540.00 arc st 7 setlinewidth np 682 4381 27 360.00
540.00 arc st 7 setlinewidth np 647 4364 19 63.43 243.43
arc st 611 4540 a FX(?)p FP(Pfg)16 b FX(:)23 b FP(P)f
FJ(f)g F3(\016)g FJ(g)611 4660 y FX(?)p FP(Qfg)o FX(:)h
FP(Q)e FJ(f)i F3(\016)f FJ(g)601 4780 y FY(\025)o FP(U)77
b FX(:)23 b FP(O)601 4901 y FY(\025)o FJ(k)105 b FX(:)23
b FP(R)28 b FC(\032)f FP(U)601 5021 y FY(\025)o FP(Pk)50
b FX(:)23 b FP(P)f FJ(k)601 5142 y FY(\025)o FP(Qk)33
b FX(:)23 b FP(Q)e FJ(k)611 5262 y FX(?)p FJ(h)94 b FX(:)23
b FP(T)k FC(\032)h FP(U)611 5382 y FX(?)p FP(kEq)t FX(:)23
b FJ(k)k F3(\031)i FJ(h)21 b F3(\016)h FX(\()p FJ(f)h
F3(\016)f FJ(g)p FX(\))1997 5667 y F4(214)p eop
%%Page: 215 220
215 219 bop 357 -6 a F4(No)n(w)-6 b(,)30 b FP(Q)c FJ(f)h
F3(\016)f FJ(g)k F4(is)g(already)h(kno)n(wn)e(to)h(hold,)h(and)f
FP(P)c FJ(f)h F3(\016)f FJ(g)k F4(follo)n(ws)f(by)h FP(PCl)h
F4(from)f FP(gHolds)o F4(,)i(so)357 144 y(we)e(ha)n(v)o(e)f(certainly)h
(found)f(a)h(solution)e(to)h(the)h(composite)f(problem.)44
b(It)30 b(remains)f(to)h(sho)n(w)e(the)357 293 y(optimality)22
b(by)j(e)o(xpressing)e(the)i(hypothetical)e(solution)g
FJ(k)i F4(as)g(some)f FP(h)e F3(\016)g FJ(f)g F3(\016)g
FJ(g)p F4(.)357 503 y(The)40 b(proof)f(successi)n(v)o(ely)f(e)o
(xploits)g(the)i(optimality)d(of)j(the)g(solution)e(to)h(each)i
(subproblem.)357 652 y(Firstly)-6 b(,)23 b(we)i(use)g
FP(gFactors)g F4(to)f(acquire)h(for)g(some)g FJ(h)2186
604 y FE(0)2237 652 y FX(:)j FP(S)g FC(\032)g FP(U)601
945 y FJ(k)49 b F3(\031)i FP(h)878 899 y FE(0)923 945
y F3(\016)22 b FJ(g)357 1237 y F4(By)j FP(QEq)o F4(,)g(we)g(no)n(w)f
(kno)n(w)g(that)g FP(Q)e(h)1635 1192 y FE(0)1680 1237
y F3(\016)g FJ(g)p F4(,)j(hence)g FP(fgFactors)g F4(gi)n(v)o(es)e(us)i
(an)f FP(h)k FX(:)g FP(T)f FC(\032)h FP(U)c F4(with)601
1530 y FJ(h)661 1482 y FE(0)734 1530 y F3(\031)51 b FP(h)22
b F3(\016)g FJ(f)357 1822 y F4(W)-8 b(e)25 b(supply)f(this)f
FJ(h)i F4(as)g(the)g(witness,)e(for)i(we)g(ha)n(v)o(e)601
2115 y FJ(k)49 b F3(\031)i FP(h)878 2069 y FE(0)923 2115
y F3(\016)22 b FJ(g)50 b F3(\031)g FX(\()p FP(h)22 b
F3(\016)g FJ(f)p FX(\))g F3(\016)g FJ(g)50 b F3(\031)g
FP(h)22 b F3(\016)g FX(\()p FJ(f)h F3(\016)f FJ(g)p FX(\))357
2407 y F4(as)j(required.)357 2616 y(Note)g(that)h(the)f(proof)h(does)g
(not)f(mak)o(e)h(use)g(of)f FP(QCl)p F4(.)34 b(In)26
b(ef)n(fect,)g(we)h(can)f(optimise)e(with)h(respect)357
2766 y(to)h(a)g(collection)f(of)i(constraints)e(all)h(b)n(ut)f(one)h
(of)h(which)f(are)h(do)n(wnw)o(ard-closed,)e(as)h(long)g(as)g(we)357
2915 y(address)e(the)h(non-closed)f(constraint)g(last\227it)f(is)i(not)
f(a)h(freedom)g(we)g(shall)f(need.)357 3125 y(The)33
b FZ(Optimist)g F4(lemma)g(allo)n(ws)g(us)g(to)h(solv)o(e)e(a)i(comple)
o(x)f(closed)g(constraint)g(by)h(recursi)n(v)o(ely)357
3274 y(decomposing)h(it)h(into)f(an)i(equi)n(v)n(alent)e(conjuction)g
(of)h(simpler)g(closed)g(constraints,)i(each)f(of)357
3424 y(which)d(we)h(address)g(in)g(turn,)i(accumulating)c(the)i
(solution.)59 b(Accordingly)-6 b(,)36 b(we)g(shall)e(need)h(a)357
3573 y(book)24 b(equi)n(v)n(alence)g(on)g(closed)h(constraints)601
3891 y FZ(Equiv)i FX(:)h F3(8)p FP(S)q FY(:)22 b FZ(Closed)g
FP(S)50 b F3(!)g FZ(Closed)22 b FP(S)50 b F3(!)f FI(Type)601
4055 y FZ(Equiv)22 b F3(h)o FZ(Wh)m(y)28 b FX(=)g FP(P)o
FX(;)17 b FY(:)g(:)g(:)f F3(i)39 b(h)o FZ(Wh)m(y)28 b
FX(=)f FP(Q)p FX(;)17 b FY(:)g(:)g(:)f F3(i)782 4176
y FX(=)22 b F3(8)p FP(T)p FY(:)g F3(8)p FJ(f)12 b FX(:)f
FP(S)28 b FC(\032)f FP(T)p FY(:)c FX(\()p FP(P)f FJ(f)50
b F3(!)f FP(Q)22 b FJ(f)p FX(\))p F3(\002)p FX(\()p FP(Q)g
FJ(f)50 b F3(!)g FP(P)22 b FJ(f)p FX(\))357 4462 y F4(together)27
b(with)f(a)i(proof)f FZ(EquivMax)f F4(that)h(for)h(equi)n(v)n(alent)d
(constraints)h(an)i(arro)n(w)f(maximising)357 4612 y(one)d(also)h
(maximises)e(the)i(other)n(\227this)e(is)h(easy)-6 b(.)357
4821 y(Lots)24 b(of)i(algorithms)d(follo)n(w)h(the)h(optimistic)e
(strate)o(gy)-6 b(,)24 b(from)h(\002nding)g(the)g(lar)n(gest)g(element)
g(of)g(a)357 4971 y(nonempty)g(list)h(of)h(numbers)f(to)g(principal)g
(type)h(inference)h(for)f(ML.)f(Let)h(us)f(see)h(ho)n(w)f(it)h(w)o
(orks)357 5120 y(for)e(uni\002cation.)1997 5667 y(215)p
eop
%%Page: 216 221
216 220 bop 357 -6 a FB(7.3.2)118 b(optimistic)30 b(uni\002cation)357
271 y F4(A)20 b(uni\002er)h(for)g FP(s)p FY(;)c FP(t)27
b FX(:)h FZ(tree)6 b FP(m)20 b F4(is)g(a)h(substitution)d
FJ(f)28 b FX(:)g FP(m)f F3(&)g FP(n)21 b F4(subject)f(to)h(the)f
(constraint)j FJ(f)p F3(h)-16 b(j)16 b FP(s)6 b F3(')27
b FJ(f)q F3(h)-17 b(j)16 b FP(t)p F4(.)357 421 y(W)-8
b(e)29 b(may)f(thus)g(consider)g(the)g(computation)f(of)i(most)e
(general)i(uni\002ers)f(to)h(be)f(an)h(optimisation)357
570 y(problem)f(o)o(v)o(er)h(the)g(Kleisli)f(cate)o(gory)i
FZ(SubstK)e F4(induced)h(by)g(the)g(substitution)e(monad.)44
b(F)o(ortu-)357 720 y(nately)24 b(for)h(us,)g(the)f(constraint)g(is)g
(do)n(wnw)o(ard-closed.)30 b(W)-8 b(e)25 b(may)g(construct)601
1037 y FZ(Uni\002es)c FP(s)g(t)28 b FX(:)g FZ(Closed)22
b FP(m)601 1228 y FZ(Uni\002es)f FP(s)g(t)50 b FX(=)g
F3(h)p FZ(Wh)m(y)27 b FX(=)h FY(\025)p FP(n)p FY(:)22
b(\025)p FJ(f)q FY(:)42 b FJ(f)p F3(h)-17 b(j)17 b FP(s)k
F3(')43 b FJ(f)p F3(h)-17 b(j)17 b FP(t)p FX(;)g FY(:)g(:)g(:)f
F3(i)357 1545 y F4(The)23 b(tw)o(o)h(properties)f(are)h(easily)f(pro)o
(v)o(en.)29 b(Extensional)22 b(equality)h(of)h(arro)n(ws)f(in)g
FZ(SubstK)g F4(means)357 1695 y(e)o(xactly)j(that)h(the)o(y)f(ha)n(v)o
(e)h(the)g(same)g(ef)n(fect)h(on)f(terms.)37 b(Do)n(wnw)o(ards)27
b(closure)g(follo)n(ws)e(from)i(the)357 1844 y(f)o(act)37
b(that)f(the)h(interpretation)e(of)i(arro)n(ws)f(in)h(the)f(Kleisli)f
(cate)o(gory\227substitution\227respects)357 1994 y(composition.)357
2203 y(It)j(is)g(easy)g(to)g(pro)o(vide)f(the)h(justi\002cation)f(for)i
(the)f(structural)f(decomposition)f(of)j(rigid-rigid)357
2352 y(problems:)601 2634 y FZ(Equiv)99 b FX(\()p FZ(Uni\002es)21
b FX(\()p FZ(f)l(or)r(k)i FP(s)1589 2649 y FM(1)1650
2634 y FP(t)1683 2649 y FM(1)1723 2634 y FX(\))f(\()p
FZ(f)l(or)r(k)g FP(s)2056 2649 y FM(2)2118 2634 y FP(t)2151
2649 y FM(2)2190 2634 y FX(\)\))957 2755 y(\()p FZ(AND)g
FX(\()p FZ(Uni\002es)f FP(s)1636 2770 y FM(1)1697 2755
y FP(s)1736 2770 y FM(2)1775 2755 y FX(\))h(\()p FZ(Uni\002es)f
FP(t)2227 2770 y FM(1)2288 2755 y FP(t)2321 2770 y FM(2)2361
2755 y FX(\)\))357 3035 y F4(W)-8 b(e)25 b(may)f(represent)h(out-arro)n
(ws)f(from)h FP(m)f F4(by)h(a)g(dependent)f(pair)601
3353 y FZ(fr)n(om)f FP(m)49 b FX(=)-17 b F3(\))50 b FX(\006)p
FP(n)28 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FP(m)27 b F3(&)h
FP(n)357 3670 y F4(W)-8 b(e)25 b(might)e(well)i(guess)f(that)g(the)h
(type)g(of)f(the)h(uni\002cation)f(algorithm)g(should)f(be)601
3962 y FZ(mgu)k FX(:)h F3(8)p FP(m)p FY(:)22 b F3(8)p
FP(s)p FY(;)17 b FP(t)11 b FX(:)g FZ(tree)21 b FP(m)p
FY(:)h FZ(m)n(aybe)h FX(\()p FZ(fr)n(om)g FP(m)o FX(\))357
4255 y F4(The)29 b(adoption)f(of)i(the)f(optimist)e(strate)o(gy)h
(means)h(de\002ning)g FZ(mgu)h F4(in)f(terms)g(of)g(a)h(subfunction)357
4404 y FZ(bmgu)25 b F4(computing)e(uni\002ers)i(which)f(are)h(most)f
(general)h(relati)n(v)o(e)f(to)g(an)h(accumulated)g(bound.)601
4722 y FZ(bmgu)i FX(:)h F3(8)p FP(m)p FY(:)22 b F3(8)p
FP(s)p FY(;)17 b FP(t)11 b FX(:)g FZ(tree)21 b FP(m)p
FY(:)h FZ(fr)n(om)h FP(m)50 b F3(!)f FZ(m)n(aybe)23 b
FX(\()p FZ(fr)n(om)g FP(m)o FX(\))357 5039 y F4(The)i(identity)f
(substitution)f(is)i(the)g(biggest)f(substitution)f(in)i(the)g
(composition)e(ordering,)i(so)g(we)357 5188 y(tak)o(e)601
5481 y FZ(mgu)822 5506 y FK(m)900 5481 y FP(s)c(t)50
b FX(=)g FZ(bmgu)22 b FP(s)g(t)39 b F3(h)p FP(m)o FX(;)17
b FY(\023)p F3(i)1997 5667 y F4(216)p eop
%%Page: 217 222
217 221 bop 357 -6 a F4(Note)37 b(that)g(for)h(an)o(y)f(gi)n(v)o(en)f
FP(s)h F4(and)h FP(t)g F4(this)e(function)h(is)g(an)h(arro)n(w)f(in)g
(the)h(Kleisli)e(cate)o(gory)h(of)357 144 y(the)22 b
FZ(m)n(aybe)i F4(monad\227we)e(already)h(kno)n(w)e(ho)n(w)h(to)h
(propagate)f(uni\002cation)g(f)o(ailures)h(correctly)-6
b(.)357 293 y(This)24 b(suggests)f(a)i(functional)f(de\002nition)g(of)h
FZ(bmgu)p F4(,)g(with)f(the)h(rigid-rigid)e(cases)i(gi)n(v)o(en)e(by:)
601 575 y FZ(bmgu)202 b(leaf)1276 590 y FK(m)1637 575
y FZ(leaf)1821 590 y FK(m)2079 575 y FX(=)148 b FY(\025)p
FJ(f)p FY(:)22 b FZ(y)n(es)g FJ(f)601 696 y FZ(bmgu)202
b(leaf)1276 711 y FK(m)1574 696 y FX(\()p FZ(f)l(or)r(k)22
b FP(s)g(t)p FX(\))139 b(=)148 b FY(\025)p FJ(f)p FY(:)22
b FZ(no)h FX(\()p FZ(fr)n(om)g FP(m)o FX(\))601 816 y
FZ(bmgu)158 b FX(\()p FZ(f)l(or)r(k)22 b FP(s)g(t)261
b FZ(leaf)1821 831 y FK(m)2079 816 y FX(=)148 b FY(\025)p
FJ(f)p FY(:)22 b FZ(no)h FX(\()p FZ(fr)n(om)g FP(m)o
FX(\))601 937 y FZ(bmgu)99 b FX(\()p FZ(f)l(or)r(k)23
b FP(s)1263 952 y FM(1)1324 937 y FP(t)1357 952 y FM(1)1397
937 y FX(\))99 b(\()p FZ(f)l(or)r(k)23 b FP(s)1808 952
y FM(2)1869 937 y FP(t)1902 952 y FM(2)1942 937 y FX(\))99
b(=)148 b(\()p FZ(bmgu)22 b FP(t)2685 952 y FM(1)2747
937 y FP(t)2780 952 y FM(2)2819 937 y FX(\))h F3(\005)d
FX(\()p FZ(bmgu)j FP(s)3339 952 y FM(1)3401 937 y FP(s)3440
952 y FM(2)3479 937 y FX(\))865 1033 y F4(.)865 1066
y(.)865 1099 y(.)357 1379 y(So)33 b(f)o(ar)l(,)i(this)d(is)h
(structural)f(on)h(terms.)54 b(The)33 b(trouble)f(comes)h(once)g(we)g
(encounter)g(a)g(v)n(ariable.)357 1529 y(Ho)n(w)i(do)h(we)g(unify)f(a)i
(v)n(ariable)e(with)h(a)g(tree,)j(relati)n(v)o(e)c(to)h(a)g(nontri)n
(vial)e(bounding)g(guess)i FJ(g)p F4(?)357 1678 y(The)26
b(traditional)f(approach)i(is)e(to)h(unload)g(the)g(accumulator)g
FJ(g)p F4(,)h(and)f(we)g(may)g(easily)g(pro)o(v)o(e)f(the)357
1828 y(lemma)f FZ(Unload)601 2120 y(Equiv)120 b FX(\()p
FZ(Bound)22 b FJ(g)g FX(\()p FZ(Uni\002es)f FP(s)h(t)p
FX(\)\))120 b(\()p FZ(Uni\002es)41 b FJ(g)p F3(h)-17
b(j)16 b FP(s)42 b FJ(g)p F3(h)-17 b(j)16 b FP(t)q FX(\))357
2413 y F4(Unfortunately)-6 b(,)28 b(applying)g(the)h(substitution)e
(blo)n(ws)g(up)i(the)g(terms,)h(so)e(the)h(corresponding)g(re-)357
2562 y(cursi)n(v)o(e)i(program)g(is)h(not)f(structural.)52
b(This)32 b(is)f(where)i(you)e(might)g(think)g(we)h(need)h(to)e(impose)
357 2711 y(an)24 b(e)o(xternal)g(termination)f(ordering)h(or)g
(accessibility)f(ar)n(gument)h(which)g(e)o(xploits)e(the)i(f)o(act)h
(that,)357 2861 y(although)h(the)h(substitutions)d(blo)n(w)j(up)g(the)g
(terms,)g(the)o(y)g(do)g(get)g(rid)g(of)h(v)n(ariables.)37
b(In)28 b(f)o(act,)g(this)357 3010 y(is)c(not)g(the)h(case.)357
3365 y FB(7.3.3)118 b(dependent)33 b(types)c(to)h(the)g(r)n(escue)357
3642 y F4(Incidentally)-6 b(,)40 b(I)e(ha)n(v)o(e)g(just)g(noticed)f
(that)h(Augustsson)f(and)h(Carlsson')-5 b(s)37 b(paper)i([A)l(C99])g
(also)357 3792 y(contains)24 b(a)h(section)f(with)g(this)g(title\227I)g
(e)o(xpect)g(it)g(to)h(become)f(traditional.)357 4001
y(No)n(w)-6 b(,)29 b(we)h(certainly)f(need)h(to)f(e)o(xploit)e(the)j
(property)f(that)g(the)g(accumulated)g(substitution)e(gets)357
4150 y(rid)21 b(of)g(v)n(ariables)g(as)g(it)g(blo)n(ws)f(up)h(terms.)29
b(Ev)o(ery)20 b(de)n(v)o(elopment)f(of)j(uni\002cation)e(in)h(the)g
(literature)3750 4114 y FS(7)357 4300 y F4(does)34 b(this)h(e)o
(xternally)f(to)g(the)h(program,)i(by)e(means)g(of)g(a)g(more)g(or)g
(less)g(ad)g(hoc)g(termination)357 4449 y(ordering.)40
b(This)27 b(in)l(v)n(ariably)f(requires)i(an)g(auxiliary)g(function)f
(to)g(count)h(the)g(distinct)e(v)n(ariables)357 4599
y(in)k(a)i(term)e(and)h(an)h(auxiliary)e(lemma)g(which)h(relates)g(the)
g(v)n(alue)f(of)h(this)g(function)f(before)h(and)357
4748 y(after)25 b(a)g(substitution)d(subject)i(to)h(the)f(occur)i
(check.)357 4958 y(That)31 b(is)h(to)g(say)-6 b(,)33
b(a)f(vital)g(component)f(of)h(the)g(sense)g(made)g(by)f(the)h
(uni\002cation)g(algorithm)e(has)357 5107 y(been)19 b(absent)h(from)f
(e)n(v)o(ery)g(one)h(of)f(its)g(implementations)e(until)h(no)n
(w\227understandably)-6 b(,)18 b(because)357 5257 y(the)31
b(data)g(structures)f(which)h(manifest)f(that)h(sense)g(ha)n(v)o(e)f
(not)h(been)g(a)n(v)n(ailable)f(until)g(no)n(w)-6 b(.)48
b(The)p 357 5326 1373 4 v 473 5387 a FR(7)506 5417 y
FQ(or)20 b(at)h(least)g(those)f(which)f(care)h(about)g(termination)1997
5667 y F4(217)p eop
%%Page: 218 223
218 222 bop 357 -6 a F4(point)33 b(is)i(that)f(by)g(e)o(xplaining)f
(terms)i(as)f(b)n(uilt)g(o)o(v)o(er)g(a)h(\002nite)g(conte)o(xt)e(of)i
(v)n(ariables,)i(we)e(ha)n(v)o(e)357 144 y(equipped)27
b(them)g(with)h(e)o(xactly)f(the)h(natural)g(recursi)n(v)o(e)f(beha)n
(viour)h(which)f(we)h(need.)41 b(T)-8 b(o)28 b(count)357
293 y(the)34 b(number)f(of)h(v)n(ariables)f(in)h(a)g(term)g(is)g(to)f
(mak)o(e)h(a)h(posterior)e(phenomenon)g(of)h(what)g(is,)h(at)357
443 y(least)25 b(to)g(structural)g(linguists)f([Sau16],)i(a)g(prior)f
(requirement)g(for)h(the)g(terms)f(to)g(be)h(considered)357
592 y(meaningful.)31 b(The)25 b(number)g(of)h(v)n(ariables)f(has)g
(\002nally)g(arri)n(v)o(ed)g(where)h(it)e(belongs\227in)g(the)h
FU(type)357 742 y F4(of)g(terms.)357 951 y(Look)f(again)g(at)h(the)g
(type)f(of)h FZ(bmgu)p F4(:)601 1244 y FZ(bmgu)i FX(:)h
F3(8)p FP(m)p FY(:)22 b F3(8)p FP(s)p FY(;)17 b FP(t)11
b FX(:)g FZ(tree)21 b FP(m)p FY(:)h FZ(fr)n(om)h FP(m)50
b F3(!)f FZ(m)n(aybe)23 b FX(\()p FZ(fr)n(om)g FP(m)o
FX(\))357 1536 y F4(This)j(entitles)g(us)h(to)f(proceed)i(not)e(only)h
(by)g(structural)f(recursion)h(on)g(trees,)g(b)n(ut)g(also)g(by)f
(struc-)357 1686 y(tural)j(recursion)g(on)h FP(m)o F4(.)45
b(I)30 b(cannot)f(stress)h(too)f(strongly)f(that)h(it)g(is)g(the)h
(inde)o(xing)d(of)j(types)f(with)357 1835 y FU(terms)e
F4(which)g(allo)n(ws)g(this.)38 b(P)o(arametric)28 b(polymorphism)d(is)
j(not)f(enough,)g(because)i(we)f(cannot)357 1984 y(compute)h(on)g
(types.)44 b(There)30 b(are)h(structural)e(forms)g(of)h(computation)d
(a)n(v)n(ailable)i(in)h(our)f(depen-)357 2134 y(dently)24
b(typed)g(setting)g(which)g(just)g(cannot)g(be)h(found)g(in)f(simply)f
(typed)h(languages.)357 2343 y(The)f(recursi)n(v)o(e)g(structure)h(I)g
(therefore)g(suggest)f(is)g(le)o(xicographic,)g(\002rst)h(on)g
FP(m)f F4(and)h(then)f(on)h FP(s)o F4(.)31 b(If)357 2493
y(we)24 b(are)h(unifying)e(trees)h(o)o(v)o(er)f FZ(s)p
FP(m)h F4(v)n(ariables,)f(we)i(are)f(entitled)g(to)f(mak)o(e)h(recursi)
n(v)o(e)g(calls)f(for)i(an)o(y)357 2642 y(trees)g(o)o(v)o(er)f
FP(m)g F4(v)n(ariables,)g(ho)n(we)n(v)o(er)f(lar)n(ge.)357
2852 y(Of)39 b(course,)44 b(the)39 b(number)g(of)h(v)n(ariables)f(must)
f(not)h(merely)g(be)h(decreasing\227it)f(must)f(do)i(so)357
3001 y(in)33 b(a)h(structural)f(w)o(ay)-6 b(,)35 b(one)e(at)h(a)g(time)
e(if)i(we)f(are)i(to)e(a)n(v)n(oid)g(further)h(appeals)f(to)g
(well-founded)357 3150 y(recursion.)d(W)-8 b(e)25 b(ha)n(v)o(e)e
(already)i(seen)f(ho)n(w)g(to)f(de\002ne)i(a)g(substitution)c(which)j
(gets)f(rid)h(of)h(a)f(single)357 3300 y(v)n(ariable)g(via)h(the)f
FX([)p F3(\001)k(7!)f(\001)p FX(])e F4(function.)30 b(Here)25
b(it)f(is)h(again:)601 3617 y FX([)p F3(\001)i(7!)g(\001)p
FX(])h(:)g F3(8)p FP(n)11 b FX(:)g FZ(N)-63 b(N)p FY(:)23
b F3(8)p FP(x)11 b FX(:)g FZ(\002n)21 b(s)p FP(n)p FY(:)i
F3(8)p FP(t)11 b FX(:)g FZ(tree)21 b FP(n)q FY(:)h FX(\()p
FZ(s)p FP(n)28 b F3(&)f FP(n)p FX(\))601 3901 y([)p FP(x)g
F3(7!)g FP(t)q FX(])p FP(y)147 b FX(=)p 1314 3695 511
4 v 1312 3812 4 121 v 1383 3776 a FZ(thic)o(k)22 b FP(x)g(y)p
1823 3812 V 1314 3816 856 4 v 1312 3936 4 121 v 1364
3900 a FZ(no)g FX(\()p FZ(\002n)f FP(n)p FX(\))p 1823
3936 V 100 w FP(t)p 2168 3936 V 1312 4056 V 1444 4020
a FZ(y)n(es)h FP(y)1671 3984 y FE(0)p 1823 4056 V 1874
4020 a FZ(v)m(ar)g FP(y)2096 3984 y FE(0)p 2168 4056
V 1314 4060 856 4 v 357 4311 a FX([)p F3(\001)42 b(7!)g(\001)p
FX(])32 b F4(can)h(easily)f(be)h(sho)n(wn)e(to)i(ha)n(v)o(e)f(e)o
(xtensional)f(beha)n(viour)h(\(or)l(,)j(thinking)c(relationally)-6
b(,)357 4460 y(introduction)23 b(rules\):)p 611 4730
497 4 v 611 4808 a FX([)p FP(x)k F3(7!)g FP(t)q FX(])p
FP(x)22 b F3(')g FP(t)p 1277 4730 1032 4 v 170 w FX([)p
FP(x)27 b F3(7!)h FP(t)p FX(]\()p FZ(thin)21 b FP(x)h(y)p
FX(\))g F3(')h FZ(v)m(ar)f FP(y)357 5092 y F4(These)k(follo)n(w)e
(directly)i(from)g(the)g(established)e(e)o(xtensional)h(beha)n(viour)g
(of)h FZ(thic)o(k)p F4(.)34 b(The)26 b(corre-)357 5241
y(sponding)d(in)l(v)o(ersion)g(rule,)i FZ(knoc)o(koutIn)n(v)o
F4(,)g(follo)n(ws)e(from)i FZ(thic)o(kIn)n(v)o F4(:)1997
5667 y(218)p eop
%%Page: 219 224
219 223 bop 601 -102 1427 4 v 601 1067 4 1169 v 654 7
a FZ(knoc)o(koutIn)n(v)654 248 y FP(m)27 b FX(:)h FZ(N)-63
b(N)654 369 y FP(x)27 b FX(:)h FZ(\002n)21 b(s)p FP(m)654
489 y(t)28 b FX(:)f FZ(tree)21 b FP(m)654 609 y FX(\010)28
b(:)g FZ(\002n)21 b(s)p FP(m)49 b F3(!)g FZ(tree)21 b
FP(m)50 b F3(!)f FI(Type)788 870 y FX(\010)23 b FP(x)f(t)120
b FX(\010)23 b(\()p FZ(thin)e FP(x)h(y)p FX(\))g(\()p
FZ(v)m(ar)g FP(y)p FX(\))p 788 906 1126 4 v 1098 985
a(\010)g FP(y)g FX([)p FP(x)28 b F3(7!)f FP(t)p FX(])p
FP(y)p 2023 1067 4 1169 v 601 1070 1427 4 v 357 1321
a F4(If)33 b(our)g(accumulator)g(is)f(a)i(composition)c(of)j
FX([)p F3(\001)43 b(7!)g(\001)p FX(])p F4(s,)34 b(we)f(may)g(apply)g
(it)f(one)h(step)g(at)g(a)g(time)357 1471 y(whene)n(v)o(er)23
b(we)h(reach)h(a)f(v)n(ariable.)30 b(In)24 b(f)o(act,)g(this)f(is)g
(not)h(merely)f(a)i(structural)e(w)o(ay)h(to)f(do)h(uni\002ca-)357
1620 y(tion,)29 b(b)n(ut)f(also)g(quite)h(an)g(ef)n(\002cient)g(one.)42
b(Of)30 b(course,)f(we)h(must)d(constrain)i(the)f(accumulator)h(to)357
1770 y(tak)o(e)f(this)e(form,)j(and)f(the)f(easiest)h(w)o(ay)g(to)f(do)
h(this)f(means)g(abandoning)g(our)g(functional)g(repre-)357
1919 y(sentation)c(of)i(substitution)d(in)j(f)o(a)n(v)n(our)g(of)f(a)i
(more)e(concrete)i(`association)d(list')h(treatment.)357
2129 y(Let)g(us)h(then)f(de\002ne)i(the)e(follo)n(wing)f(datatype)502
2481 y F3(\017)49 b F4(formation)23 b(rule)1464 2431
y FP(m)p FY(;)17 b FP(n)28 b FX(:)f FZ(N)-63 b(N)p 1333
2458 608 4 v 1333 2536 a(alist)21 b FP(m)h(n)28 b FX(:)g
FI(Type)502 2844 y F3(\017)49 b F4(constructors)p 1247
2821 628 4 v 1247 2900 a FZ(anil)1416 2915 y FK(n)1484
2900 y FX(:)28 b FZ(alist)22 b FP(n)g(n)2044 2793 y(x)27
b FX(:)h FZ(\002n)22 b(s)o FP(m)120 b(t)28 b FX(:)f FZ(tree)21
b FP(m)120 b FJ(g)28 b FX(:)f FZ(alist)22 b FP(m)f(n)p
2044 2821 1535 4 v 2315 2900 a FZ(acons)i FP(x)f(t)g
FJ(g)28 b FX(:)f FZ(alist)22 b(s)o FP(m)g(n)357 3195
y F4(This)32 b(datatype)h(is)g(a)g(combination)f(of)h(a)h(con)l(v)o
(entional)d(association)i(list)f(and)h(the)g F3(\025)h
F4(relation.)357 3344 y(It)h(is)g(de\002nable)h(in)f(ALF)-8
b(,)38 b(C)t F2(O)t(Q)i F4(and)e(O)t F2(L)t(E)t(G)r F4(,)j(b)n(ut)35
b(not)g(in)g(Agda)g(or)h(Cayenne)g(because)g(of)g(its)357
3493 y(nonlinear)24 b(base)h(constructor)f(type.)357
3703 y(W)-8 b(e)25 b(may)f(equip)h(it)f(with)502 3995
y F3(\017)49 b F4(a)22 b(composition)e(which)h(beha)n(v)o(es)h(lik)o(e)
g(append)g(for)g(association)f(lists)g(and)h(transiti)n(vity)d(for)601
4145 y F3(\025)601 4292 y FJ(f)j F3(z)g FZ(anil)521 b
FX(=)147 b FJ(f)601 4413 y(f)22 b F3(z)g FX(\()p FZ(acons)h
FP(x)f(t)g FJ(g)p FX(\))100 b(=)147 b FZ(acons)22 b FP(x)g(t)h
FX(\()p FJ(f)p F3(z)p FJ(g)p FX(\))502 4615 y F3(\017)49
b F4(an)25 b(interpretation)e(via)i FX([)p F3(\001)i(7!)h(\001)p
FX(])c F4(into)g FZ(SubstK)986 4774 y(anil)j FC(J)100
b FX(=)148 b FY(\023)601 4894 y FX(\()p FZ(acons)22 b
FP(x)g(t)g FJ(f)p FX(\))28 b FC(J)100 b FX(=)148 b(\()p
FJ(f)28 b FC(J)p FX(\))22 b F3(\005)f FX([)p FP(x)28
b F3(7!)f FP(t)p FX(])357 5277 y F4(Correspondingly)-6
b(,)33 b(we)h(may)f(manuf)o(acture)g(a)h(concrete)f(cate)o(gory)g
FZ(AList)43 b FX(:)g FZ(Concrete)28 b(alist)357 5426
y F4(with)1997 5667 y(219)p eop
%%Page: 220 225
220 224 bop 719 -21 a FY(\023)22 b F4(=)h FZ(anil)703
100 y F3(\016)f F4(=)h F3(z)601 220 y FX([)-17 b([)p
FP(m)p FX(])g(])22 b F4(=)h FZ(tree)e FP(m)611 340 y
FX([)-16 b([)p FJ(g)p FX(])f(])22 b F4(=)k FJ(g)i FC(J)p
F3(h)-17 b(j)357 627 y F4(There)26 b(is)e(tri)n(vially)g(a)i(functor)f
(from)g FZ(AList)g F4(to)g FZ(SubstK)f F4(which)g(does)i
FC(J)g F4(to)f(arro)n(ws,)g(because)g(the)357 776 y(interpretations)e
(of)i(arro)n(ws)g(in)f(source)h(and)g(tar)n(get)g(are)g(the)g(same.)357
986 y(It)33 b(is)g(amongst)g(the)g(arro)n(ws)g(of)h FZ(AList)f
F4(that)g(I)g(propose)g(we)h(search)g(for)g(uni\002ers,)i(although)c
(we)357 1135 y(should)18 b(still)f(sho)n(w)h(that)h(an)o(y)f(most)g
(general)h FJ(f)h F4(computed)e(yields)g(a)h(most)f(general)i
FJ(f)28 b FC(J)19 b F4(in)g FZ(SubstK)n F4(.)357 1285
y(Correspondingly)-6 b(,)23 b(let)h(us)h(tak)o(e)601
1577 y FZ(fr)n(om)e FP(m)49 b FX(=)-17 b F3(\))50 b FX(\006)p
FP(n)28 b FX(:)g FZ(N)-63 b(N)p FY(:)22 b FZ(alist)g
FP(m)f(n)357 1870 y F4(and)j(de\002ne)601 2162 y FZ(bmgu)j
FX(:)h F3(8)p FP(m)p FY(:)22 b F3(8)p FP(s)p FY(;)17
b FP(t)11 b FX(:)g FZ(tree)21 b FP(m)p FY(:)h FZ(fr)n(om)h
FP(m)50 b F3(!)f FZ(m)n(aybe)23 b FX(\()p FZ(fr)n(om)g
FP(m)o FX(\))601 2312 y FZ(mgu)k FX(:)h F3(8)p FP(m)p
FY(:)22 b F3(8)p FP(s)p FY(;)17 b FP(t)11 b FX(:)g FZ(tree)21
b FP(m)p FY(:)h FZ(m)n(aybe)h FX(\()p FZ(fr)n(om)g FP(m)o
FX(\))601 2461 y FZ(mgu)f FP(s)g(t)50 b FX(=)f FZ(bmgu)22
b FP(s)g(t)h FZ(anil)357 2754 y F4(W)-8 b(e)36 b(no)n(w)g(ha)n(v)o(e)g
(all)g(we)g(need)h(to)f(outline)f(a)h(structurally)g(recursi)n(v)o(e)f
(de\002ninition)g(of)h FZ(bmgu)p F4(,)357 2903 y(deferring)25
b(the)f(treatment)h(of)f(the)h(base)g(cases:)1997 5667
y(220)p eop
%%Page: 221 226
221 225 bop 626 -21 a FZ(bmgu)915 4 y FK(m)1174 -21 y
FZ(leaf)1358 -6 y FK(m)1719 -21 y FZ(leaf)1903 -6 y FK(m)2161
-21 y FJ(f)100 b FX(=)147 b FZ(y)n(es)22 b FJ(f)626 100
y FZ(bmgu)915 124 y FK(m)1174 100 y FZ(leaf)1358 115
y FK(m)1655 100 y FX(\()p FZ(f)l(or)r(k)h FP(s)f(t)p
FX(\))139 b FJ(f)100 b FX(=)147 b FZ(no)23 b FX(\()p
FZ(fr)n(om)g FP(m)o FX(\))626 220 y FZ(bmgu)915 245 y
FK(m)1110 220 y FX(\()p FZ(f)l(or)r(k)g FP(s)f(t)p FX(\))242
b FZ(leaf)1903 235 y FK(m)2161 220 y FJ(f)100 b FX(=)147
b FZ(no)23 b FX(\()p FZ(fr)n(om)g FP(m)o FX(\))626 340
y FZ(bmgu)915 365 y FK(m)1071 340 y FX(\()p FZ(f)l(or)r(k)f
FP(s)1344 355 y FM(1)1406 340 y FP(t)1439 355 y FM(1)1478
340 y FX(\))100 b(\()p FZ(f)l(or)r(k)23 b FP(s)1889 355
y FM(2)1951 340 y FP(t)1984 355 y FM(2)2023 340 y FX(\))100
b FJ(f)g FX(=)774 461 y(\()p FY(\025)p FJ(f)p FY(:)22
b FZ(bmgu)1238 485 y FK(m)1316 461 y FP(t)1349 476 y
FM(1)1411 461 y FP(t)1444 476 y FM(2)1506 461 y FJ(f)p
FX(\))p F3(h)-17 b(j)38 b FX(\()p FZ(bmgu)1990 485 y
FK(m)2068 461 y FP(s)2107 476 y FM(1)2169 461 y FP(s)2207
476 y FM(2)2269 461 y FJ(f)p FX(\))601 701 y FZ(bmgu)890
726 y Fg(s)o FK(m)1145 701 y FX(\()p FZ(v)m(ar)22 b FP(x)p
FX(\))247 b(\()p FZ(v)m(ar)22 b FP(y)p FX(\))173 b FJ(f)100
b FX(=)p 770 741 614 4 v 769 858 4 121 v 1061 822 a FJ(f)p
1382 858 V 770 861 2741 4 v 768 982 4 121 v 993 946 a
FZ(anil)p 1382 982 V 271 w(y)n(es)22 b FX(\()p FZ(FlexFlex)g
FP(x)g(y)p FX(\))p 3509 982 V 768 1102 V 820 1066 a FZ(acons)h
FP(z)f(r)g FJ(g)p 1382 1102 V 99 w F3(j)-16 b(i)o FX(\()p
FZ(Extend)22 b FP(z)g(r)p FX(\))p F3(h)-17 b(j)p 3509
1102 V 768 1222 V 1382 1222 V 1553 1186 a FX(\()p FZ(bmgu)1880
1211 y FK(m)1978 1186 y FX([)p FP(z)28 b F3(7!)g FP(r)o
FX(])p F3(h)-16 b(j)16 b FX(\()p FZ(v)m(ar)22 b FP(x)p
FX(\))42 b([)p FP(z)28 b F3(7!)f FP(r)p FX(])p F3(h)-17
b(j)17 b FX(\()p FZ(v)m(ar)22 b FP(y)p FX(\))g FJ(g)p
FX(\))p 3509 1222 V 770 1226 2741 4 v 601 1430 a FZ(bmgu)890
1455 y Fg(s)o FK(m)1145 1430 y FX(\()p FZ(v)m(ar)g FP(x)p
FX(\))263 b FZ(leaf)1890 1445 y Fg(s)p FK(m)2161 1430
y FJ(f)100 b FX(=)p 770 1470 614 4 v 769 1587 4 121 v
1061 1551 a FJ(f)p 1382 1587 V 770 1590 2708 4 v 768
1711 4 121 v 993 1674 a FZ(anil)p 1382 1711 V 271 w(FlexRigid)23
b FP(x)f FZ(leaf)2128 1689 y Fg(s)p FK(m)p 3476 1711
V 768 1831 V 820 1795 a FZ(acons)h FP(z)f(r)g FJ(g)p
1382 1831 V 99 w F3(j)-16 b(i)o FX(\()p FZ(Extend)22
b FP(z)g(r)p FX(\))p F3(h)-17 b(j)p 3476 1831 V 768 1951
V 1382 1951 V 1553 1915 a FX(\()p FZ(bmgu)1880 1940 y
FK(m)1978 1915 y FX([)p FP(z)28 b F3(7!)g FP(r)o FX(])p
F3(h)-16 b(j)16 b FX(\()p FZ(v)m(ar)22 b FP(x)p FX(\))42
b([)p FP(z)28 b F3(7!)f FP(r)p FX(])p F3(h)-17 b(j)17
b FZ(leaf)3220 1930 y Fg(s)o FK(m)3323 1915 y FJ(g)p
FX(\))p 3476 1951 V 770 1955 2708 4 v 601 2159 a FZ(bmgu)890
2184 y Fg(s)o FK(m)1145 2159 y FX(\()p FZ(v)m(ar)22 b
FP(x)p FX(\))212 b(\()p FZ(f)l(or)r(k)23 b FP(s)f(t)p
FX(\))139 b FJ(f)100 b FX(=)p 770 2199 614 4 v 769 2316
4 121 v 1061 2280 a FJ(f)p 1382 2316 V 770 2319 2809
4 v 768 2439 4 121 v 993 2403 a FZ(anil)p 1382 2439 V
271 w(FlexRigid)23 b FP(x)f FX(\()p FZ(f)l(or)r(k)h FP(s)e(t)q
FX(\))p 3577 2439 V 768 2560 V 820 2524 a FZ(acons)i
FP(z)f(r)g FJ(g)p 1382 2560 V 99 w F3(j)-16 b(i)o FX(\()p
FZ(Extend)22 b FP(z)g(r)p FX(\))p F3(h)-17 b(j)p 3577
2560 V 768 2680 V 1382 2680 V 1553 2644 a FX(\()p FZ(bmgu)1880
2669 y FK(m)1978 2644 y FX([)p FP(z)28 b F3(7!)g FP(r)o
FX(])p F3(h)-16 b(j)16 b FX(\()p FZ(v)m(ar)22 b FP(x)p
FX(\))42 b([)p FP(z)28 b F3(7!)f FP(r)p FX(])p F3(h)-17
b(j)17 b FX(\()p FZ(f)l(or)r(k)22 b FP(s)g(t)p FX(\))g
FJ(g)p FX(\))p 3577 2680 V 770 2684 2809 4 v 946 2743
a F4(.)946 2777 y(.)946 2810 y(.)100 b(and)25 b(the)f(symmetric)g
(cases)h FY(:)17 b(:)g(:)601 2964 y F4(where)601 3155
y FZ(Extend)k FP(z)i(r)38 b F3(h)p FP(n)p FX(;)17 b FJ(g)p
F3(i)50 b FX(=)f F3(h)p FP(n)q FX(;)17 b FZ(acons)22
b FP(z)g(r)g FJ(g)p F3(i)601 3346 y F4(and)i F3(j)-17
b(i)p FZ(Extend)22 b FP(z)g(r)p F3(h)-17 b(j)25 b F4(is)f(its)g(f)o
(ailure-propagating)g(image.)357 3701 y FB(7.3.4)118
b(corr)n(ectness)30 b(of)f Fs(mgu)357 3977 y F4(In)23
b(the)f(spirit)g(of)h(re\002nement,)g(let)f(us)h(no)n(w)f(reduce)h
(correctness)g(of)g(the)f(uni\002cation)g(algorithm)g(to)357
4127 y(correctness)k(of)f FZ(FlexFlex)h F4(and)f FZ(FlexRigid)q
F4(.)33 b(W)-8 b(e)26 b(ha)n(v)o(e)f(not)g(yet)h(de\002ned)g(the)f
(latter)l(,)h(b)n(ut)f(we)h(can)357 4276 y(moti)n(v)n(ate)c(the)j
(de\002nition)f(by)g(seeing)h(where)g(we)g(get)g(stuck.)357
4486 y(Here)g(is)g(the)f(speci\002cation)h(of)g FZ(mgu)g
F4(in)f(the)h(form)f(of)h(an)g(in)l(v)o(ersion)e(principle)h
FZ(mguIn)n(v)p F4(:)1997 5667 y(221)p eop
%%Page: 222 227
222 226 bop 601 -102 2444 4 v 601 1270 4 1372 v 654 7
a FZ(mguIn)n(v)654 248 y FP(m)27 b FX(:)h FZ(N)-63 b(N)654
369 y FP(s)o FY(;)17 b FP(t)28 b FX(:)g FZ(tree)21 b
FP(m)j FX(\010)k(:)g FZ(m)n(aybe)23 b FX(\()p FZ(fr)n(om)g
FP(m)o FX(\))50 b F3(!)g FI(Type)911 790 y FZ(NoUni\002er)21
b FP(s)h(t)798 889 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g
(:)f(:)h(:)g(:)f(:)h(:)g(:)828 1048 y FX(\010)23 b(\()p
FZ(no)f FX(\()p FZ(fr)n(om)h FP(m)o FX(\)\))1738 669
y FJ(f)28 b FX(:)g FZ(alist)21 b FP(m)h(n)1738 790 y
FZ(Maxim)n(al)g FX(\()p FZ(Uni\002es)f FP(s)h(t)p FX(\))g(\()p
FJ(f)28 b FC(J)p FX(\))1711 889 y FY(:)17 b(:)f(:)h(:)g(:)g(:)f(:)h(:)g
(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)
f(:)h(:)2030 1048 y FX(\010)23 b(\()p FZ(y)n(es)38 b
F3(h)p FP(n)p FX(;)17 b FJ(f)p F3(i)p FX(\))p 788 1111
2144 4 v 1607 1190 a(\010)23 b(\()p FZ(mgu)f FP(s)g(t)p
FX(\))p 3041 1270 4 1372 v 601 1273 2444 4 v 357 1487
a F4(where)601 1774 y FZ(NoUni\002er)f FP(s)h(t)50 b
FX(=)-17 b F3(\))49 b(8)p FP(n)q FY(:)22 b F3(8)p FJ(f)12
b FX(:)f FP(m)28 b F3(&)f FP(n)p FY(:)42 b FJ(f)q F3(h)-17
b(j)16 b FP(s)50 b F3(6)-11 b(')42 b FJ(f)p F3(h)-16
b(j)16 b FP(t)357 2061 y F4(W)-8 b(e)25 b(can)g(pro)o(v)o(e)f
FZ(mguIn)n(v)g F4(from)h(an)g(in)l(v)o(ersion)e(principle)h
FZ(bmguIn)n(v)h F4(for)g FZ(bmgu)p F4(:)p 601 2232 3451
4 v 601 3844 4 1613 v 654 2341 a FZ(bmguIn)n(v)654 2582
y FP(m)i FX(:)h FZ(N)-63 b(N)654 2702 y FP(s)o FY(;)17
b FP(t)28 b FX(:)g FZ(tree)21 b FP(m)654 2823 y FX(\010)28
b(:)g FZ(fr)n(om)23 b FP(m)49 b F3(!)g FZ(m)n(aybe)23
b FX(\()p FZ(fr)n(om)g FP(m)p FX(\))50 b F3(!)f FI(Type)828
3244 y FJ(g)28 b FX(:)g FZ(alist)21 b FP(m)h(n)828 3364
y FZ(NoUni\002er)41 b FJ(g)28 b FC(J)p F3(h)-16 b(j)16
b FP(s)42 b FJ(g)28 b FC(J)p F3(h)-17 b(j)16 b FP(t)799
3463 y FY(:)g(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f
(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)872 3623 y
FX(\010)39 b F3(h)p FP(n)q FX(;)17 b FJ(f)p F3(i)38 b
FX(\()p FZ(no)22 b FX(\()p FZ(fr)n(om)h FP(m)p FX(\)\))2090
3123 y FJ(f)28 b FX(:)f FZ(alist)22 b FP(m)f(n)2090 3244
y FJ(g)27 b FX(:)h FZ(alist)22 b FP(n)g(n)2574 3208 y
FE(0)2090 3364 y FZ(Maxim)n(al)g FX(\()p FZ(Bound)g FX(\()p
FJ(f)27 b FC(J)p FX(\))c(\()p FZ(Uni\002es)e FP(s)h(t)p
FX(\)\))g(\()p FJ(g)28 b FC(J)p FX(\))2075 3463 y FY(:)17
b(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f
(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)
h(:)g(:)f(:)h(:)g(:)g(:)f(:)2523 3623 y FX(\010)39 b
F3(h)o FP(n)q FX(;)17 b FJ(f)p F3(i)38 b FX(\()p FZ(y)n(es)h
F3(h)p FP(n)3204 3587 y FE(0)3227 3623 y FX(;)17 b FJ(g)p
F3(z)p FJ(f)q F3(i)o FX(\))p 788 3686 3175 4 v 1784 3765
a F3(8)p FJ(f)12 b FX(:)f FZ(fr)n(om)23 b FP(m)p FY(:)f
FX(\010)g FJ(f)h FX(\()p FZ(bmgu)f FP(s)g(t)g FJ(f)p
FX(\))p 4048 3844 4 1613 v 601 3847 3451 4 v 357 4068
a F4(The)32 b(proof)f(simply)f(e)o(xpands)h FZ(mgu)h
F4(in)g(terms)f(of)h(a)g(call)g(to)f FZ(bmgu)h F4(which)f(is)h(then)f
(in)l(v)o(erted.)357 4217 y(This)26 b(lea)n(v)o(es)h
FZ(bmguIn)n(v)g F4(subgoals)f(with)g FJ(g)i F4(instantiated)d(to)i
FZ(anil)p F4(.)38 b(Recall)28 b(that)f FZ(anil)32 b FC(J)27
b F4(is)g(just)357 4367 y FY(\023)p F4(.)j(The)23 b(properties)f(of)h
FZ(AList)f F4(and)g FZ(SubstK)f F4(then)i(reduce)g(these)f(subgoals)g
(to)g(those)g(of)h FZ(mguIn)n(v)o F4(.)357 4576 y(The)37
b(interesting)e(w)o(ork)i(is)f(pro)o(ving)f FZ(bmguIn)n(v)p
F4(.)67 b(Of)37 b(course,)j(lik)o(e)c(all)g(our)h(other)g(proofs)f(of)
357 4726 y(non-computational)21 b(rules)j(by)f(recursion)h(induction,)e
(the)i(proof)f(is)g(by)h(recursion)f(induction)g(on)357
4875 y FZ(bmgu)33 b F4(k)o(eeping)g FX(\010)h F4(uni)n(v)o(ersally)e
(quanti\002ed.)56 b(In)33 b(the)h(subgoals)e(in)l(v)n(olving)g(v)n
(ariables,)i(let)g(us)357 5025 y(also)22 b(follo)n(w)f(the)h(program)g
(and)h(do)f(case)h(analysis)e(on)h(the)h(accumulated)f(substitution.)27
b(W)-8 b(e)23 b(may)357 5174 y(classify)h(the)h(subgoals)e(as)i(follo)n
(ws)502 5484 y F3(\017)49 b F4(rigid-rigid)23 b(of)n(f-diagonal)h
(\(also)g(kno)n(wn)g(as)h(`con\003ict'\))1997 5667 y(222)p
eop
%%Page: 223 228
223 227 bop 601 -6 a F4(Here)30 b(we)f(are)i(trying)d(to)h(unify)g
FZ(leaf)h F4(with)f FZ(f)l(or)r(k)d FP(s)f(t)p F4(.)45
b FZ(bmgu)30 b F4(returns)f FZ(no)p F4(,)i(so)e(we)g(must)601
144 y(apply)24 b(the)g FZ(no)h F4(case.)32 b(This)24
b(lea)n(v)o(es)g(us)h(pro)o(ving)p 7 setlinewidth np
870 311 25 135.00 315.00 arc st 7 setlinewidth np 906
294 18 180.00 360.00 arc st 7 setlinewidth np 959 294
35 180.00 360.00 arc st 7 setlinewidth np 1004 320 28
251.56 341.56 arc st 7 setlinewidth np 1031 338 27 270.00
450.00 arc st 7 setlinewidth np 995 365 35 360.00 540.00
arc st 7 setlinewidth np 941 365 18 360.00 540.00 arc
st 7 setlinewidth np 897 365 27 360.00 540.00 arc st
7 setlinewidth np 861 347 19 63.43 243.43 arc st 815
523 a FX(?)p FP(leafFork)p FX(:)d F3(8)q FP(n)85 b FX(:)22
b FZ(N)-63 b(N)1231 644 y F3(8)q FJ(g)73 b FX(:)22 b
FZ(alist)g FP(m)f(n)1231 764 y F3(8)q FP(bad)p FX(:)26
b FJ(g)h FC(J)p F3(h)-16 b(j)16 b FZ(leaf)22 b F3(')43
b FJ(g)28 b FC(J)p F3(h)-17 b(j)16 b FX(\()p FZ(f)l(or)r(k)23
b FP(s)f(t)p FX(\))1287 884 y F3(?)601 1086 y F4(F)o(ortunately)-6
b(,)29 b(reducing)k F3(\001h)-17 b(j)29 b F4(pushes)g(the)h
(substitution)d(under)i(the)h(constructors,)g(lea)n(ving)601
1235 y(us)24 b(with)g(a)h(hypothesis)815 1467 y FP(bad)j
FX(:)g FZ(leaf)22 b F3(')h FZ(f)l(or)r(k)42 b FJ(g)28
b FC(J)p F3(h)-16 b(j)16 b FP(s)42 b FJ(g)27 b FC(J)p
F3(h)-16 b(j)16 b FP(t)601 1699 y F4(The)24 b(goal)h(can)g(thus)f(be)h
(pro)o(v)o(en)f(by)g(the)h(uni\002cation)f(tactic)h(from)f(chapter)h
(5.)502 1931 y F3(\017)49 b F4(rigid-rigid)23 b(on-diagonal)h(\(also)g
(kno)n(wn)g(as)h(`injecti)n(vity'\))601 2121 y(Correctness)g(for)g
FZ(leaf)g F4(with)f FZ(leaf)h F4(is)f(v)o(ery)h(easy)-6
b(.)601 2312 y(As)24 b(for)i FX(\()p FZ(f)l(or)r(k)c
FP(s)1151 2327 y FM(1)1213 2312 y FP(t)1246 2327 y FM(1)1285
2312 y FX(\))j F4(and)g FX(\()p FZ(f)l(or)r(k)e FP(s)1791
2327 y FM(2)1852 2312 y FP(t)1886 2327 y FM(2)1925 2312
y FX(\))p F4(,)i(the)g(computation)e(reduces)i(the)g(goal)g(conclusion)
601 2461 y(to)815 2693 y FX(\010)e FJ(f)f FX(\()s(\()p
FY(\025)p FJ(f)q FY(:)g FZ(bmgu)1467 2718 y FK(m)1545
2693 y FP(t)1578 2708 y FM(1)1640 2693 y FP(t)1673 2708
y FM(2)1734 2693 y FJ(f)q FX(\))p F3(h)-17 b(j)38 b FX(\()p
FZ(bmgu)2219 2718 y FK(m)2297 2693 y FP(s)2336 2708 y
FM(1)2397 2693 y FP(s)2436 2708 y FM(2)2498 2693 y FJ(f)p
FX(\)\))601 2925 y F4(If)31 b(my)g(propaganda)g(has)g(w)o(ork)o(ed,)i
(you)e(should)f(no)n(w)h(e)o(xpect)g(me)g(to)g(use)g(the)g(inducti)n(v)
o(e)601 3074 y(hypotheses)d(to)h(in)l(v)o(ert)g(the)g(recursi)n(v)o(e)g
(calls.)45 b(I)30 b(shall)f(not)g(disappoint)f(you.)45
b(This)29 b(lea)n(v)o(es)601 3224 y(us)24 b(with)g(four)h(subgoals.)601
3414 y(In)j(three)g(of)g(them,)h(the)f(uni\002cation)f(has)h(f)o(ailed)
g(some)n(where)f(and)h(the)g(ultimate)f(v)n(alue)h(is)601
3564 y FZ(no)p F4(\227the)i(in)l(v)o(ersion)g(will)g(gi)n(v)o(e)f(us)i
(a)h(proof)e(of)i FZ(NoUni\002er)26 b FP(s)2810 3579
y FL(i)2865 3564 y FP(t)2898 3579 y FL(i)2958 3564 y
F4(for)31 b(some)f FY(i)p F4(.)50 b(W)-8 b(e)32 b(may)601
3713 y(use)24 b(this)g(to)h(sho)n(w)e(that)i(the)f(original)g
FZ(f)l(or)r(k)q F4(s)g(ha)n(v)o(e)h(no)f(uni\002er)-5
b(.)601 3904 y(Otherwise,)24 b(we)h(ha)n(v)o(e)f(substitutions)e
FJ(h)j F4(and)g FJ(g)p F4(,)f(together)h(with)f(proofs)g(of)p
7 setlinewidth np 870 4071 25 135.00 315.00 arc st 7
setlinewidth np 906 4053 18 180.00 360.00 arc st 7 setlinewidth
np 959 4053 35 180.00 360.00 arc st 7 setlinewidth np
1004 4080 28 251.56 341.56 arc st 7 setlinewidth np 1031
4098 27 270.00 450.00 arc st 7 setlinewidth np 995 4125
35 360.00 540.00 arc st 7 setlinewidth np 941 4125 18
360.00 540.00 arc st 7 setlinewidth np 897 4125 27 360.00
540.00 arc st 7 setlinewidth np 861 4107 19 63.43 243.43
arc st 815 4283 a FY(\025)p FP(gMax)p FX(:)e FZ(Maxim)n(al)g
FX(\()p FZ(Bound)g FX(\()p FJ(f)28 b FC(J)p FX(\))23
b(\()p FZ(Uni\002es)e FP(s)2591 4298 y FM(1)2653 4283
y FP(s)2692 4298 y FM(2)2731 4283 y FX(\)\))h(\()p FJ(g)28
b FC(J)p FX(\))815 4404 y FY(\025)p FP(hMax)p FX(:)22
b FZ(Maxim)n(al)g FX(\()p FZ(Bound)g FX(\(\()p FJ(g)p
F3(z)p FJ(f)q FX(\))27 b FC(J)p FX(\))c(\()p FZ(Uni\002es)e
FP(t)2773 4419 y FM(1)2835 4404 y FP(t)2868 4419 y FM(2)2907
4404 y FX(\)\))h(\()p FJ(h)28 b FC(J)p FX(\))601 4605
y F4(Uni\002cation)h(has)h(returned)g FX(\()p FJ(h)o
F3(z)q FJ(g)p FX(\))p F3(z)p FJ(f)g F4(and)g(applying)f(the)g
FZ(y)n(es)h F4(case)h(lea)n(v)o(es)e(us)h(trying)f(to)601
4754 y(pro)o(v)o(e.)p 7 setlinewidth np 870 4922 25 135.00
315.00 arc st 7 setlinewidth np 906 4904 18 180.00 360.00
arc st 7 setlinewidth np 959 4904 35 180.00 360.00 arc
st 7 setlinewidth np 1004 4931 28 251.56 341.56 arc st
7 setlinewidth np 1031 4949 27 270.00 450.00 arc st 7
setlinewidth np 995 4975 35 360.00 540.00 arc st 7 setlinewidth
np 941 4975 18 360.00 540.00 arc st 7 setlinewidth np
897 4975 27 360.00 540.00 arc st 7 setlinewidth np 861
4958 19 63.43 243.43 arc st 815 5134 a FX(?)p FP(goal)p
FX(:)22 b FZ(Maxim)n(al)g FX(\()p FZ(Bound)g FX(\()p
FJ(f)28 b FC(J)p FX(\))23 b(\()p FZ(Uni\002es)e FX(\()p
FZ(f)l(or)r(k)h FP(s)2743 5149 y FM(1)2805 5134 y FP(t)2838
5149 y FM(1)2877 5134 y FX(\))h(\()p FZ(f)l(or)r(k)f
FP(s)3211 5149 y FM(2)3272 5134 y FP(t)3306 5149 y FM(2)3345
5134 y FX(\)\)\))g(\(\()p FJ(h)p F3(z)p FJ(g)p FX(\))28
b FC(J)p FX(\))601 5335 y F4(By)61 b FZ(EquivMax)g F4(with)f
FZ(Unload)p F4(,)70 b(follo)n(wed)60 b(by)h(structural)g(decomposition)
d(and)601 5484 y FZ(AList)o FY(:)p FZ(RespC)24 b F4(this)g(becomes)1997
5667 y(223)p eop
%%Page: 224 229
224 228 bop 7 setlinewidth np 870 -50 25 135.00 315.00
arc st 7 setlinewidth np 906 -68 18 180.00 360.00 arc
st 7 setlinewidth np 959 -68 35 180.00 360.00 arc st
7 setlinewidth np 1004 -41 28 251.56 341.56 arc st 7
setlinewidth np 1031 -23 27 270.00 450.00 arc st 7 setlinewidth
np 995 4 35 360.00 540.00 arc st 7 setlinewidth np 941
4 18 360.00 540.00 arc st 7 setlinewidth np 897 4 27
360.00 540.00 arc st 7 setlinewidth np 861 -14 19 63.43
243.43 arc st 815 162 a FX(?)p FP(goal)p FX(:)22 b FZ(Maxim)n(al)g
FX(\()p FZ(AND)g FX(\()p FZ(Uni\002es)41 b FJ(f)28 b
FC(J)p F3(h)-17 b(j)17 b FP(s)2407 177 y FM(1)2488 162
y FJ(f)28 b FC(J)p F3(h)-16 b(j)16 b FP(s)2730 177 y
FM(1)2769 162 y FX(\))1556 282 y(\()p FZ(Uni\002es)41
b FJ(f)28 b FC(J)p F3(h)-16 b(j)16 b FP(t)2170 297 y
FM(1)2252 282 y FJ(f)28 b FC(J)p F3(h)-17 b(j)17 b FP(t)2488
297 y FM(2)2527 282 y FX(\)\))22 b(\(\()p FJ(h)28 b FC(J)p
FX(\))22 b F3(\005)f FX(\()p FJ(g)28 b FC(J)p FX(\)\))601
484 y F4(Applying)23 b FZ(Optimist)o F4(,)i(we)g(acquire)g(tw)o(o)f
(subgoals)p 7 setlinewidth np 870 652 25 135.00 315.00
arc st 7 setlinewidth np 906 634 18 180.00 360.00 arc
st 7 setlinewidth np 959 634 35 180.00 360.00 arc st
7 setlinewidth np 1004 661 28 251.56 341.56 arc st 7
setlinewidth np 1031 679 27 270.00 450.00 arc st 7 setlinewidth
np 995 706 35 360.00 540.00 arc st 7 setlinewidth np
941 706 18 360.00 540.00 arc st 7 setlinewidth np 897
706 27 360.00 540.00 arc st 7 setlinewidth np 861 688
19 63.43 243.43 arc st 815 864 a FX(?)p FP(goal)1027
896 y FL(g)1072 864 y FX(:)e FZ(Maxim)n(al)g FX(\()p
FZ(Uni\002es)41 b FJ(f)28 b FC(J)p F3(h)-16 b(j)16 b
FP(s)2170 879 y FM(1)2251 864 y FJ(f)28 b FC(J)p F3(h)-16
b(j)16 b FP(s)2493 879 y FM(1)2532 864 y FX(\))22 b(\()p
FJ(g)28 b FC(J)p FX(\))815 993 y(?)p FP(goal)1027 1025
y FL(h)1072 993 y FX(:)22 b FZ(Maxim)n(al)g FX(\()p FZ(Bound)g
FX(\()p FJ(g)28 b FC(J)p FX(\))23 b(\()p FZ(Uni\002es)40
b FJ(f)28 b FC(J)p F3(h)-16 b(j)16 b FP(t)2806 1008 y
FM(1)2888 993 y FJ(f)28 b FC(J)p F3(h)-16 b(j)16 b FP(t)3124
1008 y FM(2)3163 993 y FX(\)\))22 b(\()p FJ(h)28 b FC(J)p
FX(\))601 1195 y F4(In)22 b(the)g(former)l(,)g FZ(Unload)h
F4(backw)o(ards)f(lets)g(us)f(mo)o(v)o(e)g FJ(f)h F4(out)g(as)g(a)h
(bound,)e(gi)n(ving)g(us)g(a)i(goal)601 1344 y(which)j(follo)n(ws)f
(immediately)h(from)g FP(gMax)p F4(.)37 b(In)27 b(the)g(latter)l(,)g
(we)g(may)g(shuf)n(\003e)f(the)h(bound)601 1494 y(inside,)c(then)i
(apply)f(composition)f(la)o(ws)h(to)g(get)p 7 setlinewidth
np 870 1662 25 135.00 315.00 arc st 7 setlinewidth np
906 1644 18 180.00 360.00 arc st 7 setlinewidth np 959
1644 35 180.00 360.00 arc st 7 setlinewidth np 1004 1671
28 251.56 341.56 arc st 7 setlinewidth np 1031 1688 27
270.00 450.00 arc st 7 setlinewidth np 995 1715 35 360.00
540.00 arc st 7 setlinewidth np 941 1715 18 360.00 540.00
arc st 7 setlinewidth np 897 1715 27 360.00 540.00 arc
st 7 setlinewidth np 861 1697 19 63.43 243.43 arc st
815 1874 a FX(?)p FP(goal)1027 1905 y FL(h)1072 1874
y FX(:)e FZ(Maxim)n(al)g FX(\()p FZ(Uni\002es)41 b FX(\()p
FJ(g)p F3(z)p FJ(f)q FX(\))27 b FC(J)p F3(h)-16 b(j)16
b FP(t)2351 1889 y FM(1)2433 1874 y FX(\()p FJ(g)p F3(z)p
FJ(f)p FX(\))28 b FC(J)p F3(h)-16 b(j)16 b FP(t)2856
1889 y FM(2)2895 1874 y FX(\)\))22 b(\()p FJ(h)28 b FC(J)p
FX(\))601 2073 y F4(No)n(w)-6 b(,)23 b(pulling)g(out)i(the)f
(composition)f(as)i(a)g(bound,)f(we)h(reduce)g(the)g(goal)f(to)h
FP(hMax)p F4(.)502 2305 y F3(\017)49 b F4(\003e)o(xible)24
b(cases)h(with)f FZ(acons)e FP(z)h(r)f FJ(g)601 2496
y F4(All)i(of)h(these)f(w)o(ork)h(the)g(same)f(w)o(ay)-6
b(.)31 b(W)-8 b(e)25 b(ha)n(v)o(e)f(some)815 2729 y FZ(bmgu)e
FP(s)g(t)39 b F3(h)p FP(n)p FX(;)17 b FZ(acons)22 b FP(z)h(r)f
FJ(g)p F3(i)601 2961 y F4(where)j(either)g FP(s)f F4(or)h
FP(t)g F4(is)g(a)g(v)n(ariable.)30 b(This)24 b(reduces)h(to)815
3194 y F3(j)-17 b(i)p FZ(Extend)22 b FP(z)g(r)p F3(h)-17
b(j)39 b FX(\()p FZ(bmgu)22 b FX([)p FP(z)28 b F3(7!)f
FP(r)p FX(])p FP(s)22 b FX([)p FP(z)28 b F3(7!)f FP(r)p
FX(])p FP(t)22 b FJ(g)p FX(\))601 3426 y F4(In)l(v)o(erting)35
b(the)g(recursi)n(v)o(e)h(call)g(with)f(the)h(inducti)n(v)o(e)e
(hypothesis,)j(we)f(\002nd)g(one)h(of)f(tw)o(o)601 3576
y(things)717 3808 y F0(\226)48 b FZ(NoUni\002er)41 b
FJ(g)28 b FC(J)p F3(h)-16 b(j)16 b FX(\()s([)p FP(z)28
b F3(7!)g FP(r)o FX(])p F3(h)-16 b(j)16 b FP(s)p FX(\))42
b FJ(g)27 b FC(J)p F3(h)-16 b(j)16 b FX(\()s([)p FP(z)29
b F3(7!)e FP(r)p FX(])p F3(h)-17 b(j)16 b FP(t)p FX(\))815
3978 y F4(and)25 b(we)g(must)f(pro)o(v)o(e)998 4169 y
FZ(NoUni\002er)41 b FX(\()p FZ(acons)22 b FP(z)g(r)g
FJ(g)p FX(\))28 b FC(J)p F3(h)-16 b(j)16 b FP(s)42 b
FX(\()p FZ(acons)22 b FP(z)g(r)g FJ(g)p FX(\))28 b FC(J)p
F3(h)-16 b(j)16 b FP(t)815 4360 y F4(But)33 b FX(\()p
FZ(acons)28 b FP(z)g(r)f FJ(g)p FX(\))42 b FC(J)33 b
F4(is)f(just)f FX(\()p FJ(g)42 b FC(J)p FX(\))28 b F3(\005)f
FX([)p FP(z)42 b F3(7!)g FP(r)o FX(])p F4(,)35 b(so)d(it)g(is)g(just)f
(a)i(question)e(of)815 4510 y(pushing)c F3(\001h)-17
b(j)24 b F4(through)g(the)h(composition.)717 4701 y F0(\226)48
b FJ(h)25 b F4(such)f(that)h FZ(Maxim)n(al)d FX(\()p
FZ(Bound)g FX(\()p FJ(g)27 b FC(J)p FX(\))c(\()p FZ(Uni\002es)e
FX([)p FP(z)28 b F3(7!)f FP(r)p FX(])p FP(s)22 b FX([)p
FP(z)28 b F3(7!)f FP(r)p FX(])p FP(t)p FX(\)\))22 b(\()p
FJ(h)28 b FC(J)p FX(\))815 4871 y F4(and)d(we)g(must)f(pro)o(v)o(e)998
5062 y FZ(Maxim)n(al)e FX(\()p FZ(Bound)g FX(\(\()p FZ(acons)g
FP(z)g(r)g FJ(g)p FX(\))28 b FC(J)p FX(\))22 b(\()p FZ(Uni\002es)f
FP(s)h(t)p FX(\)\))g(\()p FJ(h)28 b FC(J)p FX(\))815
5253 y F4(The)d(proof)g(is)f(easy)h(bound)f(shuf)n(\003ing)g(and)g
(composition)f(hacking.)1997 5667 y(224)p eop
%%Page: 225 230
225 229 bop 502 -6 a F3(\017)49 b F4(\003e)o(x-\003e)o(x)25
b(base)f(case)601 185 y(The)g(computation)f(of)815 418
y FZ(bmgu)f FX(\()p FZ(v)m(ar)h FP(x)o FX(\))g(\()p FZ(v)m(ar)f
FP(y)p FX(\))g FZ(anil)601 650 y F4(has)i(reduced)h(to)815
883 y FZ(y)n(es)d FX(\()p FZ(FlexFlex)g FP(x)g(y)p FX(\))601
1115 y F4(W)-8 b(e)35 b(may)f(safely)h(presume)g(a)g
FZ(y)n(es)g F4(answer)l(,)i(because)f(we)f(are)g(in)g(either)g(the)f
(`identity')601 1265 y(or)c(the)g(`coalescence')i(situation,)e
(according)g(as)h FP(x)f F4(equals)g FP(y)h F4(or)f(not.)47
b(Hence,)33 b(we)d(must)601 1414 y(choose)24 b(the)h
FZ(y)n(es)g F4(case)g(in)f(the)h(proof,)g(lea)n(ving)f(us)g(with)g(the)
h(obligation)p 7 setlinewidth np 870 1582 25 135.00 315.00
arc st 7 setlinewidth np 906 1564 18 180.00 360.00 arc
st 7 setlinewidth np 959 1564 35 180.00 360.00 arc st
7 setlinewidth np 1004 1591 28 251.56 341.56 arc st 7
setlinewidth np 1031 1609 27 270.00 450.00 arc st 7 setlinewidth
np 995 1636 35 360.00 540.00 arc st 7 setlinewidth np
941 1636 18 360.00 540.00 arc st 7 setlinewidth np 897
1636 27 360.00 540.00 arc st 7 setlinewidth np 861 1618
19 63.43 243.43 arc st 815 1794 a FX(?)p FP(goal)p FX(:)d
FZ(Maxim)n(al)g FX(\()p FZ(Bound)g FY(\023)h FX(\()p
FZ(Uni\002es)e FX(\()p FZ(v)m(ar)h FP(x)p FX(\))g(\()p
FZ(v)m(ar)h FP(y)o FX(\)\)\))f(\(\()p FZ(FlexFlex)g FP(x)g(y)p
FX(\))27 b FC(J)p FX(\))601 1990 y F4(W)-8 b(e)25 b(may)f(easily)h
(remo)o(v)o(e)e(the)i(tri)n(vial)e(bound,)h(yielding)p
7 setlinewidth np 870 2158 25 135.00 315.00 arc st 7
setlinewidth np 906 2140 18 180.00 360.00 arc st 7 setlinewidth
np 959 2140 35 180.00 360.00 arc st 7 setlinewidth np
1004 2167 28 251.56 341.56 arc st 7 setlinewidth np 1031
2184 27 270.00 450.00 arc st 7 setlinewidth np 995 2211
35 360.00 540.00 arc st 7 setlinewidth np 941 2211 18
360.00 540.00 arc st 7 setlinewidth np 897 2211 27 360.00
540.00 arc st 7 setlinewidth np 861 2193 19 63.43 243.43
arc st 815 2369 a FX(?)p FP(goal)p FX(:)e FZ(Maxim)n(al)g
FX(\()p FZ(Uni\002es)f FX(\()p FZ(v)m(ar)i FP(x)o FX(\))g(\()p
FZ(v)m(ar)f FP(y)p FX(\)\))g(\(\()p FZ(FlexFlex)f FP(x)h(y)p
FX(\))28 b FC(J)p FX(\))601 2571 y F4(Since)37 b(we)g(ha)n(v)o(e)g(not)
f(yet)h(implemented)e FZ(FlexFlex)p F4(,)40 b(we)d(can)h(go)e(no)h
(further)g(with)f(the)601 2721 y(proof.)30 b(Let)25 b(us)f(e)o(xport)g
(this)g(goal)h(as)g(the)f(speci\002cation)h(of)g FZ(FlexFlex)o
F4(.)502 2953 y F3(\017)49 b F4(\003e)o(x-rigid)24 b(base)h(cases)601
3144 y(F)o(or)i(these)g(\002)n(v)o(e)f(subgoals,)h(we)g(are)h(trying)e
(to)h(unify)g FZ(v)m(ar)d FP(x)j F4(with)f(some)h FP(t)g
F4(which)g(is)f(not)h(a)601 3294 y(v)n(ariable.)37 b(W)-8
b(e)28 b(may)f(collect)g(them)f(all)h(together)g(in)g(the)g(follo)n
(wing)f(rule,)h(e)o(xpressing)f(the)601 3443 y(latter)e(as)h(a)g(side)g
(condition:)p 815 3539 3084 4 v 815 5392 4 1854 v 868
3648 a FP(m)i FX(:)h FZ(N)-63 b(N)868 3768 y FP(x)28
b FX(:)g FZ(\002n)21 b(s)p FP(m)868 3889 y(t)28 b FX(:)g
FZ(tree)21 b(s)p FP(m)868 4009 y(notV)-7 b(ar)28 b FX(:)g
F3(8)p FP(y)11 b FX(:)g FZ(\002n)22 b(s)p FP(m)o FY(:)g
FP(t)50 b F3(6)-11 b(')23 b FZ(v)m(ar)f FP(y)868 4130
y FX(\010)28 b(:)g FZ(fr)n(om)23 b(s)p FP(m)49 b F3(!)h
FZ(m)n(aybe)22 b FX(\()p FZ(fr)n(om)i(s)o FP(m)p FX(\))49
b F3(!)h FI(Type)1043 4791 y FJ(g)27 b FX(:)h FZ(alist)22
b FP(m)f(n)1043 4912 y FZ(NoUni\002er)g FJ(g)28 b FC(J)g
FP(x)42 b FJ(g)28 b FC(J)p F3(h)-17 b(j)16 b FP(t)1011
5011 y FY(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h
(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)1045 5171 y FX(\010)39
b F3(h)p FP(n)p FX(;)17 b FJ(g)p F3(i)39 b FX(\()p FZ(no)22
b FX(\()p FZ(fr)n(om)h FP(m)o FX(\)\))2257 4430 y FJ(f)28
b FX(:)f FZ(alist)22 b FP(m)f(n)2257 4551 y FJ(g)27 b
FX(:)h FZ(alist)22 b FP(n)g(n)2741 4515 y FE(0)2257 4671
y FZ(Maxim)n(al)2377 4791 y FX(\()p FZ(Bound)g FX(\()p
FJ(f)28 b FC(J)p FX(\))22 b(\()p FZ(Uni\002es)f FX(\()p
FZ(v)m(ar)h FP(x)p FX(\))g FP(t)p FX(\)\))2377 4912 y(\()p
FJ(g)27 b FC(J)p FX(\))2235 5011 y FY(:)17 b(:)f(:)h(:)g(:)f(:)h(:)g(:)
f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f
(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)2530 5171
y FX(\010)39 b F3(h)p FP(n)p FX(;)17 b FJ(f)p F3(i)38
b FX(\()p FZ(y)n(es)h F3(h)p FP(n)3211 5134 y FE(0)3234
5171 y FX(;)17 b FJ(g)p F3(z)p FJ(f)q F3(i)o FX(\))p
1003 5233 2808 4 v 1955 5312 a(\010)23 b FZ(anil)e FX(\()p
FZ(FlexRigid)i FP(x)f(t)p FX(\))p 3895 5392 4 1854 v
815 5395 3084 4 v 1997 5667 a F4(225)p eop
%%Page: 226 231
226 230 bop 601 -6 a F4(W)-8 b(e)20 b(could)g(re)o(gard)f(this)g(as)i
(an)f(in)l(v)o(ersion)e(rule)i(speci\002cation)g(for)g
FZ(FlexRigid)q F4(,)h(b)n(ut)e(it)h(is)g(still)601 144
y(a)28 b(little)f(too)h(general.)41 b(F)o(or)29 b(e)o(xample,)f(the)g
(hypotheses)f(of)h(the)g(rule)g(each)h(ha)n(v)o(e)f(arbitrary)601
293 y(accumulators,)36 b(b)n(ut)e(we)h(kno)n(w)f(the)h(accumulator)f
(is)h FZ(anil)o F4(.)61 b(Once)35 b(we)g(ha)n(v)o(e)g(made)f(the)601
443 y(accumulator)21 b FZ(anil)h F4(e)n(v)o(erywhere,)g(we)h(no)e
(longer)h(need)g(to)g(let)g(it)f(v)n(ary)h(in)g(the)g(scheme.)29
b(Let)601 592 y(us)24 b(tidy)g(up)g(a)i(little.)p 815
733 2808 4 v 815 2225 4 1493 v 868 843 a FP(m)h FX(:)h
FZ(N)-63 b(N)868 963 y FP(x)28 b FX(:)g FZ(\002n)21 b(s)p
FP(m)868 1083 y(t)28 b FX(:)g FZ(tree)21 b(s)p FP(m)868
1204 y(notV)-7 b(ar)28 b FX(:)g F3(8)p FP(y)11 b FX(:)g
FZ(\002n)22 b(s)p FP(m)o FY(:)g FP(t)50 b F3(6)-11 b(')23
b FZ(v)m(ar)f FP(y)868 1324 y FX(\010)28 b(:)g FZ(m)n(aybe)23
b FX(\()p FZ(fr)n(om)g(s)p FP(m)o FX(\))50 b F3(!)f FI(Type)1043
1744 y FZ(NoUni\002er)21 b FX(\()p FZ(v)m(ar)h FP(x)p
FX(\))g FP(t)1016 1844 y FY(:)16 b(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g
(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)1090 2004 y FX(\010)22
b(\()p FZ(no)g FX(\()p FZ(fr)n(om)h FP(m)p FX(\)\))2046
1625 y FJ(g)28 b FX(:)g FZ(alist)21 b FP(n)i(n)2046 1745
y FZ(Maxim)n(al)f FX(\()p FZ(Uni\002es)f FX(\()p FZ(v)m(ar)i
FP(x)o FX(\))f FP(t)q FX(\))g(\()p FJ(g)27 b FC(J)p FX(\))2036
1844 y FY(:)16 b(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)
h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h
(:)g(:)2468 2004 y FX(\010)22 b(\()p FZ(y)n(es)39 b F3(h)p
FP(n)p FX(;)17 b FJ(g)p F3(i)o FX(\))p 1003 2067 2532
4 v 1913 2146 a(\010)22 b(\()p FZ(FlexRigid)h FP(x)f(t)p
FX(\))p 3619 2225 4 1493 v 815 2228 2808 4 v 601 2413
a F4(The)27 b(tidy)g(v)o(ersion)f(pro)o(v)o(es)h(the)g(untidy)f(v)o
(ersion)h(because)h(the)f(tidy)g(hypotheses)f(are)i(spe-)601
2562 y(cial)21 b(cases)h(of)g(the)g(untidy)f(ones,)h(modulo)e(some)h
(equational)g(reasoning.)29 b(Let)22 b(us)f(tak)o(e)h(this)601
2712 y(as)i(the)h(speci\002cation)g(of)g FZ(FlexRigid)p
F4(.)357 3029 y(W)-8 b(e)35 b(ha)n(v)o(e)g(pro)o(v)o(en)f(correctness)h
(of)g(uni\002cation,)i(contingent)d(on)h(correct)h(implementation)c(of)
357 3179 y FZ(FlexFlex)23 b F4(and)h FZ(FlexRigid)q F4(.)30
b(Y)-11 b(ou)24 b(may)f(ha)n(v)o(e)h(noticed)f(that)h(we)g(did)f(not)h
(ha)n(v)o(e)f(to)h(unwrap)g(an)o(y)f(of)357 3328 y(the)30
b FZ(Maxim)n(al)o F4(s)g(in)g(the)g(abo)o(v)o(e)f(proof\227we)h(merely)
g(sho)n(wed)f(that)g(the)h(most)f(general)h(uni\002ers)357
3477 y(computed)22 b(in)h(the)g(base)g(cases)g(were)h(correctly)g
(propagated.)29 b(It)23 b(is)g(in)g FZ(FlexFlex)g F4(and)g
FZ(FlexRigid)357 3627 y F4(that)i(we)g(create)h(the)g(substitutions)c
(and)j(where)h(we)g(shall)e(ha)n(v)o(e)h(to)g(do)h(real)f(w)o(ork)h
(pro)o(ving)d(max-)357 3776 y(imality)-6 b(.)32 b(In)26
b(order)g(to)g(achie)n(v)o(e)f(this,)h(we)g(must)f(come)h(to)f(an)i
(understanding)d(of)i(v)n(ariable)g(occur)n(-)357 3926
y(rence.)357 4135 y(But)c(e)n(v)o(en)g(no)n(w)-6 b(,)22
b(we)h(ha)n(v)o(e)g(seen)f(enough)h(to)f(kno)n(w)g(that)g(our)g
(uni\002cation)g(algorithm)g(is)g(terminat-)357 4285
y(ing)i(of)h(its)f(o)n(wn)g(accord.)357 4640 y FB(7.3.5)118
b(what)31 b(substitution)f(tells)g(us)g(about)g(the)g(occurs)g(check)
357 4916 y F4(In)k(con)l(v)o(entional)f(presentations)g(of)h
(uni\002cation,)i(the)f(occurs)f(check)h(is)f(a)g(boolean)g(decision,)
357 5066 y(and)h(its)h(role)f(in)h(ensuring)f(termination)f(is)h(e)o
(xternal)h(to)f(the)h(program.)63 b(F)o(or)36 b(us,)i(though,)f(the)357
5215 y(situation)22 b(is)h(some)n(what)g(dif)n(ferent\227what)g(is)g
(to)h(happen)g(if)g(there)g(is)f(no)h(occurrence)h(of)f
FX(\()p FZ(v)m(ar)19 b FP(x)p FX(\))357 5365 y F4(in)29
b(some)g(rigid)g FP(t)h F4(with)f(which)g(it)g(is)g(to)g(be)h
(uni\002ed?)45 b(W)-8 b(e)30 b(do)f(not)g(just)g(substitute)f
FP(t)i F4(itself)f(for)g FP(x)p F4(.)1997 5667 y(226)p
eop
%%Page: 227 232
227 231 bop 357 -6 a F4(W)-8 b(e)29 b(must)g(mak)o(e)g(manifest)f(in)h
(the)h(program)f(the)g(elimination)e(of)j FP(x)f F4(by)g(computing)f
(the)h(image)357 144 y(of)c FP(t)g F4(in)f(the)h(syntax)f(with)g(one)h
(fe)n(wer)g(v)n(ariable\227)p FP(t)2128 106 y FE(0)2176
144 y F4(such)g(that)601 427 y F3(j)-17 b(i)o FZ(thin)22
b FP(x)p F3(h)-17 b(j)38 b FP(t)1019 389 y FE(0)1065
427 y F3(')22 b FP(t)357 710 y F4(If)j(we)g(can)g(\002nd)g(such)g(a)g
FP(t)1242 672 y FE(0)1265 710 y F4(,)g(then)601 993 y
FX([)p FP(x)i F3(7!)g FP(t)866 955 y FE(0)889 993 y FX(])357
1276 y F4(is)c(a)i(most)e(general)h(uni\002er)h(for)f
FX(\()p FZ(v)m(ar)c FP(x)p FX(\))k F4(and)g FP(t)p F4(.)31
b(Let)24 b(us)g(pro)o(v)o(e)f(this)g(lemma,)g(as)i(we)f(shall)f(need)i
(it)357 1426 y(se)n(v)o(eral)f(times.)p 7 setlinewidth
np 655 1639 25 135.00 315.00 arc st 7 setlinewidth np
691 1621 18 180.00 360.00 arc st 7 setlinewidth np 745
1621 35 180.00 360.00 arc st 7 setlinewidth np 789 1648
28 251.56 341.56 arc st 7 setlinewidth np 816 1666 27
270.00 450.00 arc st 7 setlinewidth np 780 1692 35 360.00
540.00 arc st 7 setlinewidth np 727 1692 18 360.00 540.00
arc st 7 setlinewidth np 682 1692 27 360.00 540.00 arc
st 7 setlinewidth np 647 1675 19 63.43 243.43 arc st
601 1851 a FX(?)p FZ(Knoc)o(kout)o FX(:)e F3(8)q FP(m)o
FX(:)g FZ(N)-63 b(N)1153 1971 y F3(8)q FP(x)27 b FX(:)22
b FZ(\002n)g(s)p FP(m)1153 2092 y F3(8)q FP(t)1242 2053
y FE(0)1286 2092 y FX(:)g FZ(tree)f FP(m)1209 2212 y
FZ(Maxim)n(al)h FX(\()p FZ(Uni\002es)f FX(\()p FZ(v)m(ar)h
FP(x)p FX(\))g(\()p F3(j)-17 b(i)p FZ(thin)21 b FP(x)p
F3(h)-17 b(j)16 b FP(t)2750 2174 y FE(0)2774 2212 y FX(\)\))22
b([)p FP(x)27 b F3(7!)g FP(t)3137 2174 y FE(0)3160 2212
y FX(])357 2486 y F4(No)n(w)-6 b(,)23 b(at)i(last,)f(we)h(must)f(do)h
(some)f(real)h(w)o(ork.)31 b(Introducing)23 b(the)i FZ(Maxim)n(al)g
F4(record:)p 7 setlinewidth np 655 2727 25 135.00 315.00
arc st 7 setlinewidth np 691 2709 18 180.00 360.00 arc
st 7 setlinewidth np 745 2709 35 180.00 360.00 arc st
7 setlinewidth np 789 2735 28 251.56 341.56 arc st 7
setlinewidth np 816 2753 27 270.00 450.00 arc st 7 setlinewidth
np 780 2780 35 360.00 540.00 arc st 7 setlinewidth np
727 2780 18 360.00 540.00 arc st 7 setlinewidth np 682
2780 27 360.00 540.00 arc st 7 setlinewidth np 647 2762
19 63.43 243.43 arc st 601 2938 a FX(?)p FP(holds)56
b FX(:)26 b([)p FP(x)h F3(7!)g FP(t)1232 2900 y FE(0)1255
2938 y FX(])p F3(h)-17 b(j)16 b FX(\()p FZ(v)m(ar)23
b FP(x)p FX(\))f F3(')e FX([)p FP(x)28 b F3(7!)f FP(t)2031
2900 y FE(0)2054 2938 y FX(])p F3(h)-16 b(j)16 b FX(\()p
F3(j)-17 b(i)p FZ(thin)21 b FP(x)p F3(h)-17 b(j)16 b
FP(t)2582 2900 y FE(0)2606 2938 y FX(\))601 3059 y(?)p
FP(factors)o FX(:)37 b F3(8)q FP(n)94 b FX(:)22 b FZ(N)-63
b(N)978 3179 y F3(8)q FJ(f)118 b FX(:)22 b FZ(s)p FP(m)27
b F3(&)h FP(n)978 3300 y F3(8)q FP(hyp)o FX(:)e FJ(f)p
F3(h)-17 b(j)16 b FX(\()p FZ(v)m(ar)23 b FP(x)p FX(\))f
F3(')42 b FJ(f)p F3(h)-16 b(j)16 b FX(\()p F3(j)-17 b(i)p
FZ(thin)21 b FP(x)p F3(h)-17 b(j)16 b FP(t)2305 3261
y FE(0)2329 3300 y FX(\))963 3420 y(\006)q FJ(g)82 b
FX(:)22 b FP(m)28 b FC(\032)f FP(n)1034 3540 y FJ(f)h
F3(\031)g FJ(g)22 b F3(\005)f FX([)p FP(x)28 b F3(7!)f
FP(t)1624 3502 y FE(0)1647 3540 y FX(])357 3815 y F4(T)-8
b(aking)24 b FP(holds)h F4(\002rst,)g(notice)f(that)h(the)g(left-hand)g
(side)f(is)h(just)f FX([)p FP(x)k F3(7!)g FP(t)2784 3777
y FE(0)2807 3815 y FX(])p FP(x)p F4(,)d(which)g(we)g(can)h(re)n(write)
357 3965 y(by)k(the)g(`introduction)e(rules')i(to)g FP(t)1587
3926 y FE(0)1610 3965 y F4(.)47 b(Observ)o(e)30 b(that)f(the)h
(right-hand)g(side)f(is)h(a)g(composition)e(of)357 4114
y(substitutions.)f(After)e(a)h(little)d(monadic)h(tink)o(ering,)g(we)h
(obtain)p 7 setlinewidth np 655 4333 25 135.00 315.00
arc st 7 setlinewidth np 691 4315 18 180.00 360.00 arc
st 7 setlinewidth np 745 4315 35 180.00 360.00 arc st
7 setlinewidth np 789 4342 28 251.56 341.56 arc st 7
setlinewidth np 816 4359 27 270.00 450.00 arc st 7 setlinewidth
np 780 4386 35 360.00 540.00 arc st 7 setlinewidth np
727 4386 18 360.00 540.00 arc st 7 setlinewidth np 682
4386 27 360.00 540.00 arc st 7 setlinewidth np 647 4368
19 63.43 243.43 arc st 601 4545 a FX(?)p FP(holds)857
4499 y FE(0)880 4545 y FX(:)d F3(j)-16 b(i)o FY(\023)p
F3(h)g(j)16 b FP(t)1113 4506 y FE(0)1159 4545 y F3(')k
FX(\([)p FP(x)28 b F3(7!)f FP(t)1559 4506 y FE(0)1582
4545 y FX(])c F3(\005)e(j)-17 b(i)o FZ(thin)22 b FP(x)s
FX(\))p F3(h)-17 b(j)16 b FP(t)2142 4506 y FE(0)357 4798
y F4(This)34 b(says)g(that)h(tw)o(o)f(substitutions)e(ha)n(v)o(e)j(the)
g(same)f(beha)n(viour)h(at)g(an)g(arbitrary)g(tree)g
FP(t)3561 4759 y FE(0)3585 4798 y F4(.)61 b(By)357 4947
y FZ(Bac)o(kEq)p F4(,)25 b(it)f(is)h(enough)f(to)g(pro)o(v)o(e)g(that)g
(the)o(y)g(beha)n(v)o(e)h(the)g(same)f(at)h(v)n(ariables.)p
7 setlinewidth np 655 5166 25 135.00 315.00 arc st 7
setlinewidth np 691 5148 18 180.00 360.00 arc st 7 setlinewidth
np 745 5148 35 180.00 360.00 arc st 7 setlinewidth np
789 5175 28 251.56 341.56 arc st 7 setlinewidth np 816
5193 27 270.00 450.00 arc st 7 setlinewidth np 780 5219
35 360.00 540.00 arc st 7 setlinewidth np 727 5219 18
360.00 540.00 arc st 7 setlinewidth np 682 5219 27 360.00
540.00 arc st 7 setlinewidth np 647 5201 19 63.43 243.43
arc st 601 5378 a FX(?)p FP(holds)857 5332 y FE(0)880
5378 y FX(:)d F3(8)q FP(y)p FX(:)g FZ(\002n)f FP(m)985
5498 y F3(j)-17 b(i)p FY(\023)20 b FP(y)i F3(')p FX(\([)p
FP(x)28 b F3(7!)f FP(t)1541 5460 y FE(0)1565 5498 y FX(])22
b F3(\005)f(j)-17 b(i)p FZ(thin)21 b FP(x)s FX(\))h FP(y)1997
5667 y F4(227)p eop
%%Page: 228 233
228 232 bop 357 -6 a F4(Reducing,)24 b(we)h(obtain)p
7 setlinewidth np 655 223 25 135.00 315.00 arc st 7 setlinewidth
np 691 205 18 180.00 360.00 arc st 7 setlinewidth np
745 205 35 180.00 360.00 arc st 7 setlinewidth np 789
232 28 251.56 341.56 arc st 7 setlinewidth np 816 249
27 270.00 450.00 arc st 7 setlinewidth np 780 276 35
360.00 540.00 arc st 7 setlinewidth np 727 276 18 360.00
540.00 arc st 7 setlinewidth np 682 276 27 360.00 540.00
arc st 7 setlinewidth np 647 258 19 63.43 243.43 arc
st 601 434 a FX(?)p FP(holds)857 389 y FE(0)880 434 y
FX(:)d F3(8)q FP(y)p FX(:)g FZ(\002n)f FP(m)985 555 y
FZ(v)m(ar)h FP(y)g F3(')q FX([)p FP(x)27 b F3(7!)h FP(t)1572
517 y FE(0)1595 555 y FX(])22 b(\()p FZ(thin)g FP(x)f(y)p
FX(\))357 817 y F4(Again,)i(this)h(follo)n(ws)g(by)g(the)h(established)
e(e)o(xtensional)h(beha)n(viour)g(of)h FX([)p F3(\001)i(7!)h(\001)p
FX(])p F4(.)357 1026 y(W)-8 b(e)36 b(ha)n(v)o(e)f(found)g(a)h
(uni\002er)n(\227let)f(us)g(no)n(w)g(sho)n(w)f(that)h(an)o(y)g(other)h
(uni\002er)g(f)o(actors)f(through)g(it.)357 1176 y(Introducing)23
b(the)i(assumptions)e(and)h(the)h(pair:)p 7 setlinewidth
np 655 1429 25 135.00 315.00 arc st 7 setlinewidth np
691 1411 18 180.00 360.00 arc st 7 setlinewidth np 745
1411 35 180.00 360.00 arc st 7 setlinewidth np 789 1438
28 251.56 341.56 arc st 7 setlinewidth np 816 1456 27
270.00 450.00 arc st 7 setlinewidth np 780 1482 35 360.00
540.00 arc st 7 setlinewidth np 727 1482 18 360.00 540.00
arc st 7 setlinewidth np 682 1482 27 360.00 540.00 arc
st 7 setlinewidth np 647 1465 19 63.43 243.43 arc st
601 1641 a FY(\025)o FP(n)95 b FX(:)22 b FZ(N)-63 b(N)601
1761 y FY(\025)o FJ(f)119 b FX(:)22 b FZ(s)p FP(m)27
b F3(&)g FP(n)601 1881 y FY(\025)o FP(hyp)p FX(:)e FJ(f)q
F3(h)-17 b(j)16 b FX(\()p FZ(v)m(ar)22 b FP(x)p FX(\))g
F3(')43 b FJ(f)p F3(h)-17 b(j)17 b FX(\()p F3(j)-17 b(i)o
FZ(thin)22 b FP(x)p F3(h)-17 b(j)16 b FP(t)1929 1843
y FE(0)1952 1881 y FX(\))611 2002 y(?)p FJ(g)83 b FX(:)22
b FP(m)27 b F3(&)h FP(n)611 2122 y FX(?)p FP(fac)37 b
FX(:)22 b FJ(f)28 b F3(\031)g FJ(g)22 b F3(\005)f FX([)p
FP(x)28 b F3(7!)f FP(t)1446 2084 y FE(0)1470 2122 y FX(])357
2407 y F4(Let)21 b(us)h(try)f(to)g(pro)o(v)o(e)g FP(fac)g
F4(\002rst,)i(hoping)d(to)h(shed)h(some)f(light)f(on)i
FJ(g)p F4(.)30 b(This)20 b(goal)i(also)f(comes)g(do)n(wn)357
2556 y(to)j(checking)h(that)f(the)h(tw)o(o)f(substitutions)e(agree)j
(at)g(all)g(v)n(ariables:)p 7 setlinewidth np 655 2784
25 135.00 315.00 arc st 7 setlinewidth np 691 2766 18
180.00 360.00 arc st 7 setlinewidth np 745 2766 35 180.00
360.00 arc st 7 setlinewidth np 789 2793 28 251.56 341.56
arc st 7 setlinewidth np 816 2811 27 270.00 450.00 arc
st 7 setlinewidth np 780 2838 35 360.00 540.00 arc st
7 setlinewidth np 727 2838 18 360.00 540.00 arc st 7
setlinewidth np 682 2838 27 360.00 540.00 arc st 7 setlinewidth
np 647 2820 19 63.43 243.43 arc st 601 2996 a FX(?)p
FP(fac)759 2950 y FE(0)782 2996 y FX(:)e F3(8)p 887 2921
107 4 v 887 3048 4 128 v 28 w FP(y)p 990 3048 V 887 3051
107 4 v 28 w FX(:)f FZ(\002n)g(s)p FP(m)887 3155 y FJ(f)g
FP(y)g F3(')43 b FJ(g)p F3(h)-17 b(j)p 1265 3055 444
4 v 1265 3207 4 153 v 45 w FX([)p FP(x)27 b F3(7!)g FP(t)1559
3117 y FE(0)1582 3155 y FX(])22 b FP(y)p 1706 3207 V
1265 3210 444 4 v 357 3436 a F4(Predictably)-6 b(,)24
b(the)g(ne)o(xt)g(step)h(is)f(to)h(in)l(v)o(ert)e(the)i(block)o(ed)f
(computation)f(with)i FZ(knoc)o(koutIn)n(v)o F4(:)p 7
setlinewidth np 655 3665 25 135.00 315.00 arc st 7 setlinewidth
np 691 3647 18 180.00 360.00 arc st 7 setlinewidth np
745 3647 35 180.00 360.00 arc st 7 setlinewidth np 789
3673 28 251.56 341.56 arc st 7 setlinewidth np 816 3691
27 270.00 450.00 arc st 7 setlinewidth np 780 3718 35
360.00 540.00 arc st 7 setlinewidth np 727 3718 18 360.00
540.00 arc st 7 setlinewidth np 682 3718 27 360.00 540.00
arc st 7 setlinewidth np 647 3700 19 63.43 243.43 arc
st 601 3876 a FX(?)p FP(fac)759 3908 y FL(x)803 3876
y FX(:)d FJ(f)h FP(x)f F3(')e FJ(g)p F3(h)-17 b(j)16
b FP(t)1242 3838 y FE(0)601 3997 y FX(?)p FP(fac)759
4028 y FL(y)803 3997 y FX(:)22 b F3(8)q FP(y)o FX(:)h
FZ(\002n)e FP(m)908 4117 y FJ(f)h FX(\()p FZ(thin)f FP(x)h(y)p
FX(\))g F3(')h FJ(g)f FP(y)357 4373 y F4(The)j(latter)f(subgoal)g(gi)n
(v)o(es)f(us)i(a)g(big)f(clue.)31 b(W)-8 b(e)25 b(can)g(pro)o(v)o(e)f
(it)g(by)h(taking)601 4665 y FJ(g)49 b FX(=)h FY(\025)p
FP(y)11 b FX(:)g FZ(\002n)21 b FP(m)p FY(:)h FJ(f)h FX(\()p
FZ(thin)e FP(x)h(y)p FX(\))357 4957 y F4(W)-8 b(e)25
b(must)f(no)n(w)h(pro)o(v)o(e)f FP(fac)1287 4989 y FL(x)1331
4957 y F4(.)32 b(A)25 b(little)f(monadic)h(massage)f(sho)n(ws)g
FJ(g)i F4(is)e(e)o(xtensionally)f(the)i(same)357 5107
y(as)g(the)f(composition)601 5399 y FJ(f)e F3(\005)f(j)-17
b(i)p FZ(thin)21 b FP(x)1997 5667 y F4(228)p eop
%%Page: 229 234
229 233 bop 357 -6 a F4(Making)24 b(the)g(replacement,)p
7 setlinewidth np 655 192 25 135.00 315.00 arc st 7 setlinewidth
np 691 174 18 180.00 360.00 arc st 7 setlinewidth np
745 174 35 180.00 360.00 arc st 7 setlinewidth np 789
201 28 251.56 341.56 arc st 7 setlinewidth np 816 219
27 270.00 450.00 arc st 7 setlinewidth np 780 246 35
360.00 540.00 arc st 7 setlinewidth np 727 246 18 360.00
540.00 arc st 7 setlinewidth np 682 246 27 360.00 540.00
arc st 7 setlinewidth np 647 228 19 63.43 243.43 arc
st 601 404 a FX(?)p FP(fac)759 358 y FE(0)759 436 y FL(x)803
404 y FX(:)e FJ(f)h FP(x)f F3(')e FX(\()p FJ(f)i F3(\005)f(j)-17
b(i)p FZ(thin)22 b FP(x)s FX(\))p F3(h)-17 b(j)16 b FP(t)1676
366 y FE(0)357 633 y F4(Unwinding)23 b(the)i(composition)d(reduces)j
(this)f(goal)h(to)f FP(hyp)o F4(.)357 842 y(This)32 b(is)h(progress)g
(indeed,)h(for)g(all)f(the)g(nontri)n(vial)e(substitutions)f(generated)
j(by)g FZ(FlexFlex)g F4(or)357 992 y FZ(FlexRigid)27
b F4(will)f(be)h(most)f(general)h(uni\002ers)g(by)g(this)f(lemma.)36
b(Indeed,)27 b(we)h(are)f(no)n(w)f(in)h(a)g(posi-)357
1141 y(tion)d(to)g(write)h FZ(FlexFlex)o F4(:)601 1418
y FZ(FlexFlex)i FX(:)h F3(8)p FP(m)p FY(:)22 b F3(8)p
FP(x)p FY(;)17 b FP(y)10 b FX(:)h FZ(\002n)22 b(s)p FP(m)o
FY(:)g FZ(fr)n(om)i(s)o FP(m)601 1821 y FZ(FlexFlex)d
FP(x)h(y)50 b FX(=)p 1282 1615 533 4 v 1280 1732 4 121
v 1362 1696 a FZ(thic)o(k)22 b FP(x)g(y)p 1813 1732 V
1282 1736 1735 4 v 1280 1856 4 121 v 1331 1820 a FZ(no)h
FX(\()p FZ(\002n)e FP(m)o FX(\))p 1813 1856 V 100 w F3(h)p
FZ(s)o FP(m)p FX(;)c FZ(anil)o F3(i)p 3014 1856 V 1280
1976 V 1423 1940 a FZ(y)n(es)22 b FP(y)1650 1904 y FE(0)p
1813 1976 V 1864 1940 a F3(h)p FP(m)o FX(;)17 b FZ(acons)22
b FP(x)g FX(\()p FZ(v)m(ar)h FP(y)2675 1904 y FE(0)2699
1940 y FX(\))f FZ(anil)o F3(i)p 3014 1976 V 1282 1980
1735 4 v 357 2183 a F4(Recall)j(that)f(to)h(establish)e(correctness,)i
(we)g(must)f(pro)o(v)o(e)p 7 setlinewidth np 655 2381
25 135.00 315.00 arc st 7 setlinewidth np 691 2363 18
180.00 360.00 arc st 7 setlinewidth np 745 2363 35 180.00
360.00 arc st 7 setlinewidth np 789 2390 28 251.56 341.56
arc st 7 setlinewidth np 816 2408 27 270.00 450.00 arc
st 7 setlinewidth np 780 2434 35 360.00 540.00 arc st
7 setlinewidth np 727 2434 18 360.00 540.00 arc st 7
setlinewidth np 682 2434 27 360.00 540.00 arc st 7 setlinewidth
np 647 2417 19 63.43 243.43 arc st 601 2593 a FX(?)p
FZ(FlexFlex)1008 2608 y FL(max)1152 2593 y FX(:)e F3(8)q
FP(m)65 b FX(:)22 b FZ(N)-63 b(N)1201 2713 y F3(8)q FP(x)o
FY(;)17 b FP(y)p FX(:)22 b FZ(\002n)g(s)o FP(m)1257 2833
y FZ(Maxim)n(al)g FX(\()p FZ(Uni\002es)f FX(\()p FZ(v)m(ar)h
FP(x)p FX(\))g(\()p FZ(v)m(ar)g FP(y)p FX(\)\))g(\(\()p
FZ(FlexFlex)f FP(x)h(y)p FX(\))28 b FC(J)p FX(\))357
3065 y F4(Since)d FZ(FlexFlex)g F4(is)f(de\002ned)h(with)f
FZ(thic)o(k)p F4(,)g(it)h(is)f(v)o(eri\002ed)h(by)f FZ(thic)o(kIn)n(v)o
F4(,)h(lea)n(ving)f(tw)o(o)h(cases)p 7 setlinewidth np
655 3262 25 135.00 315.00 arc st 7 setlinewidth np 691
3245 18 180.00 360.00 arc st 7 setlinewidth np 745 3245
35 180.00 360.00 arc st 7 setlinewidth np 789 3271 28
251.56 341.56 arc st 7 setlinewidth np 816 3289 27 270.00
450.00 arc st 7 setlinewidth np 780 3316 35 360.00 540.00
arc st 7 setlinewidth np 727 3316 18 360.00 540.00 arc
st 7 setlinewidth np 682 3316 27 360.00 540.00 arc st
7 setlinewidth np 647 3298 19 63.43 243.43 arc st 601
3474 a FX(?)p FZ(FlexFlex)1008 3489 y FL(x)1052 3474
y FX(:)d F3(8)q FP(m)o FX(:)g FZ(N)-63 b(N)1101 3595
y F3(8)q FP(x)27 b FX(:)22 b FZ(\002n)g(s)p FP(m)1157
3715 y FZ(Maxim)n(al)g FX(\()p FZ(Uni\002es)f FX(\()p
FZ(v)m(ar)h FP(x)p FX(\))g(\()p FZ(v)m(ar)g FP(x)p FX(\)\))g(\()p
FZ(anil)27 b FC(J)p FX(\))601 3835 y(?)p FZ(FlexFlex)1008
3850 y FL(y)1052 3835 y FX(:)22 b F3(8)q FP(m)o FX(:)g
FZ(N)-63 b(N)1101 3956 y F3(8)q FP(x)27 b FX(:)22 b FZ(\002n)g(s)p
FP(m)1101 4076 y F3(8)q FP(y)27 b FX(:)22 b FZ(\002n)g
FP(m)1157 4197 y FZ(Maxim)n(al)g FX(\()p FZ(Uni\002es)f
FX(\()p FZ(v)m(ar)h FP(x)p FX(\))g(\()p FZ(v)m(ar)g FX(\()p
FZ(thin)f FP(x)h(y)p FX(\)\)\))g(\(\()p FZ(acons)g FP(x)g
FX(\()p FZ(v)m(ar)h FP(y)o FX(\))f FZ(anil)p FX(\))28
b FC(J)p FX(\))357 4428 y F4(F)o(or)g(the)g(former)l(,)i(recall)e(that)
g FZ(anil)34 b FC(J)29 b F4(is)f(the)g(identity)f(substitution\227this)
d(clearly)29 b(uni\002es)f(tw)o(o)357 4577 y(equal)20
b(v)n(ariables,)h(and)f(equally)g(clearly)-6 b(,)21 b(e)n(v)o(ery)f
(other)h(uni\002er)f(f)o(actors)h(through)f(it.)29 b(F)o(or)20
b(the)h(latter)l(,)357 4727 y(interpreting)i(the)i(association)f(list)f
(and)i(tidying,)e(we)i(get)p 7 setlinewidth np 655 4924
25 135.00 315.00 arc st 7 setlinewidth np 691 4906 18
180.00 360.00 arc st 7 setlinewidth np 745 4906 35 180.00
360.00 arc st 7 setlinewidth np 789 4933 28 251.56 341.56
arc st 7 setlinewidth np 816 4951 27 270.00 450.00 arc
st 7 setlinewidth np 780 4978 35 360.00 540.00 arc st
7 setlinewidth np 727 4978 18 360.00 540.00 arc st 7
setlinewidth np 682 4978 27 360.00 540.00 arc st 7 setlinewidth
np 647 4960 19 63.43 243.43 arc st 601 5137 a FX(?)p
FZ(FlexFlex)1008 5089 y FE(0)1008 5161 y FL(y)1050 5137
y FX(:)d F3(8)p FP(m)p FX(:)g FZ(N)-63 b(N)1099 5257
y F3(8)p FP(x)28 b FX(:)22 b FZ(\002n)f(s)p FP(m)1099
5378 y F3(8)p FP(y)28 b FX(:)22 b FZ(\002n)f FP(m)1154
5498 y FZ(Maxim)n(al)h FX(\()p FZ(Uni\002es)f FX(\()p
FZ(v)m(ar)h FP(x)p FX(\))g(\()p F3(j)-17 b(i)p FZ(thin)21
b FP(x)p F3(h)-17 b(j)39 b FX(\()p FZ(v)m(ar)22 b FP(y)p
FX(\)\)\))g([)p FP(x)27 b F3(7!)h FZ(v)m(ar)22 b FP(y)p
FX(])1997 5667 y F4(229)p eop
%%Page: 230 235
230 234 bop 357 -6 a F4(This)24 b(follo)n(ws)f(from)i
FZ(Knoc)o(kout)o F4(.)357 204 y(The)c(role)g FZ(thic)o(k)g
F4(plays)g(in)g FZ(FlexFlex)g F4(is)g(to)g(attempt)f(to)h(compute)g
(the)g(image)g(of)g FP(y)h F4(in)f(the)g(v)n(ariable)357
353 y(set)28 b(with)f FP(x)h F4(remo)o(v)o(ed.)40 b(If)29
b(this)e(succeeds,)j(we)e(manuf)o(acture)g(the)h(corresponding)e(knock)
o(out.)40 b(If)357 503 y(it)24 b(f)o(ails,)g(that)h(is)f(because)h
FP(y)g F4(is)f FP(x)h F4(and)g(the)f(identity)g(substitution)e(will)i
(do.)357 712 y(The)k(analogous)f(role)h(in)f FZ(FlexRigid)i
F4(is)e(played)h(by)g(the)f(occurs)h(check,)i(seen)e(as)g(an)g(attempt)
f(to)357 862 y(compute)h(the)h(appropriate)g(`thick)o(ened')h(tree)f
(for)h(use)f(in)g(a)h(knock)o(out\227this)c(will)j(f)o(ail)g(e)o
(xactly)357 1011 y(in)23 b(the)g(case)h(of)g(an)f(of)n(fending)g
(occurrence.)31 b(Correspondingly)-6 b(,)22 b(the)h(occurs)h(check)f
(is)g(no)h(longer)357 1161 y(a)32 b(boolean)g(decision\227it)e(pro)o
(vides)h(us)h(with)f(the)h(witness)f(which)h(e)o(xplains)f(why)g(it)g
(is)h(safe)h(to)357 1310 y(substitute.)28 b(More)d(sense)g(has)g
(appeared)g(in)f(the)h(program!)31 b(The)24 b(type)h(of)g(the)f(occur)i
(check)f(is)601 1602 y FZ(chec)o(k)i FX(:)h F3(8)p FP(m)p
FY(:)22 b F3(8)p FP(x)11 b FX(:)g FZ(\002n)22 b(s)p FP(m)o
FY(:)g F3(8)p FP(t)12 b FX(:)f FZ(tree)21 b(s)p FP(m)o
FY(:)h FZ(m)n(aybe)h FX(\()p FZ(tree)e FP(m)p FX(\))357
1895 y F4(Its)j(in)l(v)o(ersion)f(rule)i(should)f(be)h(something)e(lik)
o(e:)p 601 2071 2090 4 v 601 3202 4 1131 v 654 2180 a
FP(m)k FX(:)h FZ(N)-63 b(N)654 2301 y FP(x)27 b FX(:)h
FZ(\002n)21 b(s)p FP(m)654 2421 y FX(\010)28 b(:)g FZ(tree)21
b(s)o FP(m)50 b F3(!)f FZ(m)n(aybe)23 b FX(\()p FZ(tree)e
FP(m)o FX(\))50 b F3(!)f FI(Type)788 2963 y FX(\010)23
b(\()p F3(j)-17 b(i)p FZ(thin)21 b FP(x)p F3(h)-17 b(j)16
b FP(t)p FX(\))22 b(\()p FZ(y)n(es)g FP(t)p FX(\))1955
2722 y FZ(Occur)r(s)f FP(x)h(t)1806 2821 y FY(:)17 b(:)g(:)f(:)h(:)g(:)
f(:)h(:)g(:)g(:)f(:)h(:)g(:)f(:)h(:)g(:)f(:)h(:)1821
2981 y FX(\010)23 b FP(t)f FX(\()p FZ(no)g FX(\()p FZ(tree)f
FP(m)p FX(\)\))p 788 3044 1814 4 v 1109 3122 a F3(8)p
FP(t)11 b FX(:)g FZ(tree)22 b(s)o FP(m)p FY(:)g FX(\010)h
FP(t)f FX(\()p FZ(chec)o(k)g FP(x)g(t)p FX(\))p 2686
3202 4 1131 v 601 3205 2090 4 v 357 3431 a F4(where)j
FZ(Occur)r(s)g F4(is)f(some)g(useful)h(means)f(of)h(characterising)g
(when)f FP(x)h F4(occurs)g(in)f FP(t)q F4(.)357 3640
y(In)j(other)g(w)o(ords,)g FZ(chec)o(k)d FP(x)k F4(is)e(the)h(partial)g
(in)l(v)o(erse)g(of)g F3(j)-17 b(i)p FZ(thin)22 b FP(x)o
F3(h)-17 b(j)p F4(.)38 b(Hence)28 b(we)g(will)e(implement)357
3790 y FZ(chec)o(k)h FP(x)32 b F4(by)g(pushing)f FZ(thic)o(k)c
FP(x)32 b F4(through)f(trees,)j(with)d(an)o(y)h FZ(no)g
F4(at)g(a)h(v)n(ariable)e(causing)h(a)g FZ(no)357 3939
y F4(o)o(v)o(erall.)d(Ho)n(we)n(v)o(er)l(,)22 b(before)i(we)f(can)h
(really)f(w)o(ork)g(with)f(the)h(occurs)h(check,)f(we)h(must)e
(formalise)357 4089 y(the)i(notion)g(of)h(occurrence.)357
4444 y FB(7.3.6)118 b(positions)357 4721 y F4(The)35
b(idea)g(of)g(pattern)f(matching)g(is)h(to)f(e)o(xplain)g
(decomposition)f(by)h(in)l(v)o(erting)g(construction,)357
4870 y(and)h(I)g(w)o(as)g(e)o(xposed)f(to)g(it)h(at)g(such)g(an)g
(early)g(age)g(that)g(it)f(simply)g(refuses)h(to)f(wear)i(of)n(f.)61
b(W)-8 b(e)357 5020 y(ha)n(v)o(e)37 b(already)i(seen)f
FZ(N)-63 b(NEq)38 b F4(in)f(terms)h(of)g(duplication)e(and)i
FZ(thic)o(k)g F4(in)f(terms)g(of)h FZ(thin)p F4(.)70
b(Since)357 5169 y(searching)26 b(for)h(an)g(occurrence)g(is)f(a)h
(kind)f(of)h(decomposition,)d(I)j(cannot)f(help)g(asking)g(what)g(the)
357 5318 y(corresponding)e(construction)f(might)g(be.)1997
5667 y(230)p eop
%%Page: 231 236
231 235 bop 357 -6 a F4(Let)42 b(us)f(therefore)i(identify)e(the)h
(operation)f(which)h FU(mak)o(es)g F4(an)g(occurrence\227the)h
(operation)357 144 y(which)32 b(puts)h(something)e(at)i(a)h(gi)n(v)o
(en)d(position.)54 b(In)34 b(order)f(to)g(do)g(this,)h(we)f(shall)g
(need)g(to)g(rep-)357 293 y(resent)25 b(positions)d(within)i(a)h(tree.)
357 503 y(Ev)o(ery)j(datatype)h FP(T)g F4(has)g(an)g(allied)g(datatype)
f(of)h(positions)e(or)j(`one-hole)e(conte)o(xts')g(within)g(el-)357
652 y(ements)37 b(of)i FP(T)p F4(,)i(together)d(with)g(an)g(operation)g
(which)g(puts)f(a)i FP(T)f F4(in)g(the)g(hole.)71 b(Huet)38
b(gi)n(v)o(es)f(a)357 802 y(beautiful)22 b(construction)g(of)h
(`zipper')g(types)g(which)f(code)i(up)e(one-hole)h(conte)o(xts)f(as)h
(paths)g(from)357 951 y(the)j(hole)h(back)g(to)g(the)g(root)f(of)h(the)
g(term,)g(recording)g(the)g(contents)f(of)h(other)g(side-branches)g(on)
357 1101 y(the)32 b(w)o(ay)-6 b(.)55 b(W)-8 b(e)33 b(may)g(equi)n(v)n
(alently)-6 b(,)32 b(and)h(slightly)e(more)h(con)l(v)o(eniently)g(for)h
(our)g(purposes,)h(re-)357 1250 y(v)o(erse)25 b(the)f(direction)h(and)g
(code)g(up)g(paths)f(from)h(the)g(root)f(to)h(the)g(hole.)31
b(Let)24 b(us)h(therefore)h(de\002ne)357 1399 y(the)e(parameterised)h
(datatype)f FZ(pos)e FP(n)k F4(of)f(positions)d(within)46
b FP(n)k F4(:)502 1741 y F3(\017)f F4(formation)23 b(rule)1430
1702 y FP(n)28 b FX(:)g FZ(N)-63 b(N)p 1333 1718 417
4 v 1333 1796 a(pos)22 b FP(n)28 b FX(:)g FZ(N)-63 b(N)502
2086 y F3(\017)49 b F4(constructors)p 1613 2063 593 4
v 1613 2142 a FZ(here)1833 2157 y FK(n)1902 2142 y FX(:)28
b FZ(pos)22 b FP(n)2742 2037 y(ther)n(e)27 b FX(:)h FZ(pos)22
b FP(n)120 b(t)28 b FX(:)g FZ(tree)21 b FP(n)p 2742 2063
1036 4 v 2881 2142 a FZ(left)h FP(ther)n(e)g(t)28 b FX(:)f
FZ(pos)22 b FP(n)611 2303 y(s)27 b FX(:)h FZ(tree)21
b FP(n)120 b(ther)n(e)27 b FX(:)h FZ(pos)22 b FP(n)p
611 2329 1041 4 v 718 2408 a FZ(r)r(ight)g FP(s)g(ther)n(e)27
b FX(:)g FZ(pos)22 b FP(n)357 2688 y F4(The)f(constructors)f(may)g(be)h
(interpreted)g(as)g(directions)f(for)h(\002nding)f(the)h(position)e
(from)i(the)g(root,)357 2837 y(respecti)n(v)o(ely)28
b(`stop)h FZ(here)o F4(',)i(`go)f FZ(left)p F4(')g(and)g(`go)g
FZ(r)r(ight)o F4('.)46 b(Consequently)-6 b(,)30 b(the)g(function)f
(which)357 2987 y(puts)24 b(a)h(term)f(at)h(a)g(position)e(is)601
3268 y F3(\001)e(\001)h FZ(goes)28 b FX(:)f F3(8)p FP(n)q
FY(:)22 b F3(8)p FP(ther)n(e)11 b FX(:)g FZ(pos)22 b
FP(n)q FY(:)g F3(8)p FP(it)11 b FX(:)g FZ(tree)21 b FP(n)q
FY(:)h FZ(tree)f FP(n)357 3550 y F4(Allo)n(w)i(me)i(to)f(break)h(with)f
(con)l(v)o(ention)g(and)g(write)h FZ(goes)g F4(post\002x\227its)e
(de\002nition)g(is:)951 3817 y FZ(here)98 b FP(it)i FZ(goes)147
b FX(=)g FP(it)670 3937 y FX(\()p FZ(left)22 b FP(ther)n(e)f(t)p
FX(\))100 b FP(it)g FZ(goes)147 b FX(=)g FZ(f)l(or)r(k)23
b FX(\()p FP(ther)n(e)f(it)g FZ(goes)o FX(\))g FP(t)601
4058 y FX(\()p FZ(r)r(ight)f FP(s)h(ther)n(e)o FX(\))100
b FP(it)g FZ(goes)147 b FX(=)g FZ(f)l(or)r(k)23 b FP(s)f
FX(\()p FP(ther)n(e)g(it)g FZ(goes)o FX(\))357 4324 y
F4(In)j(particular)l(,)f(we)h(may)g(no)n(w)f(describe)h(a)g(term)f
(containing)g FZ(v)m(ar)e FP(x)j F4(as)601 4605 y FP(wher)n(e)c
FX(\()p FZ(v)m(ar)h FP(x)p FX(\))g FZ(goes)357 4887 y
F4(In)40 b(order)g(to)f(reason)h(about)f(positions,)i(it)f(will)f(be)h
(useful)f(to)g(ha)n(v)o(e)h(some)f(other)h(apparatus.)357
5036 y(Indeed,)c(we)f(may)f(consider)g FZ(goes)g F4(to)f(interpret)h
FZ(pos)29 b FP(n)35 b F4(as)f(the)g(arro)n(ws)g(of)h(a)f(cate)o(gory)g
(with)357 5185 y(one)j(object)g(interpreted)g(as)g FZ(tree)30
b FP(n)q F4(.)68 b FZ(here)36 b F4(is)h(the)g(identity)-6
b(.)66 b(Let)37 b(us)g(therefore)h(de\002ne)f(the)357
5335 y(composition,)28 b(which,)i(in)f(the)g(spirit)f(of)i(the)f
(piece,)h(I)g(shall)f(write)g(as)g(an)h(in\002x)f(operator)g(called)357
5484 y FZ(then)o F4(:)1997 5667 y(231)p eop
%%Page: 232 237
232 236 bop 601 -6 a FZ(then)26 b FX(:)i F3(8)p FP(n)q
FY(:)22 b F3(8)p FP(ther)n(e)p FY(;)17 b FP(wher)n(e)10
b FX(:)h FZ(pos)22 b FP(n)p FY(:)h FZ(pos)f FP(n)951
143 y FZ(here)98 b(then)h FP(wher)n(e)g FX(=)147 b FP(wher)n(e)670
264 y FX(\()p FZ(left)22 b FP(ther)n(e)f(t)p FX(\))100
b FZ(then)f FP(wher)n(e)g FX(=)147 b FZ(left)22 b FX(\()p
FP(ther)n(e)g FZ(then)f FP(wher)n(e)o FX(\))h FP(t)601
384 y FX(\()p FZ(r)r(ight)f FP(s)h(ther)n(e)o FX(\))100
b FZ(then)f FP(wher)n(e)g FX(=)147 b FZ(r)r(ight)22 b
FP(s)g FX(\()p FP(ther)n(e)f FZ(then)g FP(wher)n(e)p
FX(\))357 635 y F4(The)27 b(de\002nition)g(of)h FZ(goes)f
F4(ensures)h(the)f(correct)h(interpretation)f(of)g FZ(here)o
F4(.)39 b(An)28 b(easy)f(recursion)357 784 y(induction)c(pro)o(v)o(es)h
(the)g(correct)i(interpretation)d(of)i FZ(then)o F4(:)601
1049 y FX(\()p FP(wher)n(e)c FZ(then)g FP(ther)n(e)p
FX(\))h FP(it)g FZ(goes)f F3(')i FP(wher)n(e)e FX(\()p
FP(ther)n(e)h(it)g FZ(goes)p FX(\))g FZ(goes)357 1315
y F4(By)29 b(the)g(w)o(ay)-6 b(,)30 b(datatypes)e(\(e)o(g)h
FZ(list)o F4(,)i FZ(N)-63 b(N)o F4(\))30 b(with)e(a)i(single)e(and)h
(constant)f(base)h(constructor)g(\(e)o(g)g FZ(nil)o F4(,)357
1464 y FZ(0)p F4(\))23 b(and)f(linear)h(step)f(constructors)f(\(e)o(g)i
FZ(cons)p F4(,)g FZ(s)o F4(\))g(are)g(isomorphic)e(to)h(their)h(o)n(wn)
e(position)g(types.)357 1613 y(The)26 b FZ(goes)h F4(and)g
FZ(then)e F4(operations)h(are)i(the)e(same)h(\(e)o(g)f
FZ(a)r(ppend)p F4(,)h FZ(plus)o F4(\).)37 b(This)26 b(may)g(account)357
1763 y(for)f(their)f(peculiarly)h(re)o(gular)f(beha)n(viour)-5
b(.)357 1972 y(Returning)31 b(to)g(our)g FZ(tree)g F4(syntax,)h(we)g
(shall)e(also)i(need)f(to)g(push)g(substitutions)d(through)j(posi-)357
2122 y(tions.)e(Ov)o(erloading)24 b(slightly:)604 2403
y F3(\001h)-17 b(j)27 b FX(:)h F3(8)p FP(m)p FY(;)17
b FP(n)p FY(:)22 b F3(8)p FJ(f)12 b FX(:)f FP(m)27 b
F3(&)g FP(n)q FY(:)22 b FZ(pos)g FP(m)49 b F3(!)h FZ(pos)22
b FP(n)604 2557 y FJ(f)p F3(h)-17 b(j)17 b FZ(here)921
2572 y FK(m)1371 2557 y FX(=)148 b FZ(here)1814 2572
y FK(n)604 2678 y FJ(f)p F3(h)-17 b(j)17 b FX(\()p FZ(left)k
FP(ther)n(e)h(t)p FX(\))169 b FZ(left)22 b FX(\()s FJ(f)p
F3(h)-16 b(j)16 b FP(ther)n(e)o FX(\))22 b(\()s FJ(f)q
F3(h)-17 b(j)16 b FP(t)q FX(\))604 2798 y FJ(f)p F3(h)-17
b(j)17 b FX(\()p FZ(r)r(ight)k FP(s)h(ther)n(e)p FX(\))99
b FZ(r)r(ight)22 b FX(\()s FJ(f)p F3(h)-17 b(j)17 b FP(s)o
FX(\))22 b(\()s FJ(f)q F3(h)-17 b(j)16 b FP(ther)n(e)p
FX(\))357 3048 y F4(Recursion)25 b(induction)e(on)h(this)g(operation)g
(gi)n(v)o(es)g(us)g(a)h(proof)g(of)g FZ(Coherence)o F4(:)604
3314 y FJ(f)p F3(h)-17 b(j)17 b FX(\()p FP(ther)n(e)k(it)h
FZ(goes)p FX(\))g F3(')h FX(\()s FJ(f)p F3(h)-17 b(j)17
b FP(ther)n(e)o FX(\))22 b(\()s FJ(f)q F3(h)-17 b(j)16
b FP(it)p FX(\))22 b FZ(goes)357 3579 y F4(No)n(w)-6
b(,)36 b(in)e(order)h(to)f(pro)o(v)o(e)g(that)g(occurs)g(check)i(f)o
(ailure)e(causes)h(uni\002cation)f(f)o(ailure,)j(we)e(shall)357
3728 y(need)25 b(to)f(sho)n(w)g(that)g(the)h(only)f(position)f(at)i
(which)f(we)h(may)g(\002nd)g(a)g(term)f(inside)g(itself)g(is)h
FZ(here)o F4(:)p 7 setlinewidth np 655 3945 25 135.00
315.00 arc st 7 setlinewidth np 691 3927 18 180.00 360.00
arc st 7 setlinewidth np 745 3927 35 180.00 360.00 arc
st 7 setlinewidth np 789 3954 28 251.56 341.56 arc st
7 setlinewidth np 816 3972 27 270.00 450.00 arc st 7
setlinewidth np 780 3999 35 360.00 540.00 arc st 7 setlinewidth
np 727 3999 18 360.00 540.00 arc st 7 setlinewidth np
682 3999 27 360.00 540.00 arc st 7 setlinewidth np 647
3981 19 63.43 243.43 arc st 601 4157 a FX(?)p FZ(NoCycle)p
FX(:)d F3(8)q FP(n)142 b FX(:)22 b FZ(N)-63 b(N)1118
4277 y F3(8)q FP(it)136 b FX(:)22 b FZ(tree)f FP(n)1118
4398 y F3(8)q FP(ther)n(e)o FX(:)h FZ(pos)g FP(n)1118
4518 y F3(8)q FP(hyp)47 b FX(:)22 b FP(it)g F3(')h FP(ther)n(e)f(it)g
FZ(goes)1174 4638 y FP(ther)n(e)f F3(')i FZ(here)357
4887 y F4(W)-8 b(e)29 b(ha)n(v)o(e)g(seen)g(a)h(similar)e(theorem)g
(before.)45 b(The)29 b(proof)g(goes)g(by)f(induction)g(on)h
FP(it)p F4(,)h(then)f(case)357 5036 y(analysis)36 b(on)g
FP(ther)n(e)o F4(.)67 b(A)37 b(lot)f(of)h(impossible)d(cases)j(are)h
(remo)o(v)o(ed)d(by)i(uni\002cation\227there)f(are)357
5185 y(ob)o(viously)29 b(no)j FZ(left)g F4(or)g FZ(r)r(ight)g
F4(positions)e(within)h FZ(v)m(ar)c FP(x)32 b F4(or)g
FZ(leaf)p F4(.)53 b(The)32 b(only)f(real)i(w)o(ork)f(to)f(be)357
5335 y(done)e(is)f(when)i FP(ther)n(e)e F4(is)h(not)g
FZ(here)f F4(and)h FP(it)g F4(is)g(a)g FZ(f)l(or)r(k)q
F4(.)44 b(There)30 b(are)g(tw)o(o)e(such)h(cases,)i(one)e(much)357
5484 y(lik)o(e)24 b(the)h(other)l(,)f(so)h(I)g(shall)f(just)g(gi)n(v)o
(e)f(the)i(proof)g(for)g FZ(f)l(or)r(k)g F4(and)g FZ(left)p
F4(:)1997 5667 y(232)p eop
%%Page: 233 238
233 237 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 162 a FX(?)p FZ(NoCycle)1069 185 y FL(f)7
b(l)1136 162 y FX(:)23 b F3(8)p FP(n)161 b FX(:)22 b
FZ(N)-63 b(N)1186 282 y F3(8)p FP(s)p FY(;)17 b FP(t)p
FY(;)g FP(r)g FX(:)22 b FZ(tree)f FP(n)1186 403 y F3(8)p
FP(sHyp)o FX(:)h F3(8)p FP(ther)n(e)p FX(:)g FZ(pos)g
FP(n)1506 523 y F3(8)p FP(hyp)48 b FX(:)22 b FP(s)g F3(')h
FP(ther)n(e)e(s)h FZ(goes)1561 643 y FP(ther)n(e)g F3(')h
FZ(here)1186 826 y F3(8)p FP(tHyp)5 b FX(:)p 7 setlinewidth
np 1536 735 25 135.00 315.00 arc st 7 setlinewidth np
1572 717 18 180.00 360.00 arc st 7 setlinewidth np 1625
717 35 180.00 360.00 arc st 7 setlinewidth np 1670 744
28 251.56 341.56 arc st 7 setlinewidth np 1697 762 27
270.00 450.00 arc st 7 setlinewidth np 1661 788 35 360.00
540.00 arc st 7 setlinewidth np 1607 788 18 360.00 540.00
arc st 7 setlinewidth np 1563 788 27 360.00 540.00 arc
st 7 setlinewidth np 1527 770 19 63.43 243.43 arc st
1186 947 a F3(8)p FP(ther)n(e)18 b FX(:)k FZ(pos)g FP(n)1186
1067 y F3(8)p FP(hyp)66 b FX(:)22 b FZ(f)l(or)r(k)h FP(s)f(t)g
F3(')h FX(\()p FZ(left)e FP(ther)n(e)h(r)p FX(\))g(\()p
FZ(f)l(or)r(k)g FP(s)g(t)q FX(\))g FZ(goes)1241 1187
y FP(ther)n(e)g F3(')g FZ(here)357 1402 y F4(The)j(trick)f(is)g(to)h
(rotate)g(the)f(c)o(ycle.)31 b(Reducing)24 b FZ(goes)p
F4(,)h FP(hyp)f F4(becomes)601 1650 y FZ(f)l(or)r(k)e
FP(s)g(t)g F3(')h FZ(f)l(or)r(k)g FX(\()p FP(ther)n(e)e
FX(\()p FZ(f)l(or)r(k)i FP(s)f(t)p FX(\))g FZ(goes)p
FX(\))g FP(r)357 1898 y F4(Uni\002cation)i(identi\002es)g
FP(t)h F4(and)g FP(r)g F4(and)f(tells)g(us)h(that)601
2146 y FP(s)c F3(')i FP(ther)n(e)f FX(\()p FZ(f)l(or)r(k)g
FP(s)g(t)p FX(\))g FZ(goes)357 2394 y F4(No)n(w)-6 b(,)20
b(if)g(we)g(are)h(careful,)h(we)e(can)h(turn)f(this)f(into)h(a)g(c)o
(ycle)g(in)g FP(s)g F4(and)g(apply)g(the)g(rele)n(v)n(ant)f(inducti)n
(v)o(e)357 2543 y(hypothesis.)28 b(Our)d(cate)o(gorical)f(tools)g(allo)
n(w)g(us)g(to)h(re)n(write)f(the)h(abo)o(v)o(e)f(equation)g(to)601
2791 y FP(s)d F3(')i FX(\()p FP(ther)n(e)f FZ(then)f
FX(\()p FZ(left)h(here)f FP(t)p FX(\)\))h FP(s)g FZ(goes)357
3039 y F4(The)j(inducti)n(v)o(e)d(hypothesis)h FP(sHyp)h
F4(no)n(w)g(tells)g(us)g(that)601 3287 y FX(\()p FP(ther)n(e)d
FZ(then)g FX(\()p FZ(left)h(here)f FP(t)p FX(\)\))h F3(')h
FZ(here)357 3535 y F4(This)32 b(is)g(manifest)f(nonsense,)j(b)n(ut)e
(we)h(need)g(to)f(mak)o(e)h(a)g(constructor)f(appear)h(at)f(the)h(head)
g(on)357 3684 y(the)25 b(left-hand)g(side)h(to)f(re)n(v)o(eal)g(the)g
(con\003ict.)33 b(That)26 b(is)f(to)g(say)-6 b(,)25 b(a)h(further)g
(case)g(analysis)f(on)g FP(ther)n(e)o F4(,)357 3834 y(accompanied)f(by)
h(the)f(uni\002cation)h(tactic,)f(completes)g(the)h(proof.)357
4043 y(W)-8 b(e)25 b(are)g(no)n(w)f(in)h(a)g(position)e(to)h(\002ll)h
(in)g(the)f(last)g(component)g(of)h(the)g(uni\002cation)f(algorithm.)
357 4390 y FB(7.3.7)118 b Fs(chec)n(k)29 b FB(and)i Fs(Fle)n(xRig)s(id)
357 4667 y F4(As)24 b(suggested)g(earlier)l(,)h(the)g
FZ(chec)o(k)g F4(function)f(pushes)g FZ(thic)o(k)g F4(through)g(a)h
FZ(tree)o F4(.)650 4889 y FZ(chec)o(k)100 b FP(x)134
b FX(\()p FZ(v)m(ar)22 b FP(y)p FX(\))134 b(=)147 b F3(j)-17
b(i)p FZ(v)m(ar)2092 4904 y FK(n)2133 4889 y F3(h)g(j)17
b FX(\()p FZ(thic)o(k)k FP(x)h(y)p FX(\))650 5010 y FZ(chec)o(k)100
b FP(x)157 b FZ(leaf)1444 5025 y Fg(s)p FK(n)1669 5010
y FX(=)147 b FZ(leaf)2076 5025 y FK(n)650 5315 y FZ(chec)o(k)100
b FP(x)f FX(\()p FZ(f)l(or)r(k)23 b FP(s)f(t)p FX(\))100
b(=)p 1889 5049 1189 4 v 1888 5166 4 121 v 1969 5130
a FZ(chec)o(k)22 b FP(x)g(s)p 2482 5166 V 160 w FZ(chec)o(k)h
FP(x)e(t)p 3076 5166 V 1889 5170 1878 4 v 1887 5290 4
121 v 2067 5254 a FZ(y)n(es)h FP(s)2283 5218 y FE(0)p
2482 5290 V 2664 5254 a FZ(y)n(es)g FP(t)2874 5216 y
FE(0)p 3076 5290 V 3127 5254 a FZ(y)n(es)g FX(\()p FZ(f)l(or)r(k)h
FP(s)3578 5218 y FE(0)3623 5254 y FP(t)3656 5216 y FE(0)3680
5254 y FX(\))p 3766 5290 V 1887 5410 V 2067 5374 a FZ(y)n(es)f
FP(s)2283 5338 y FE(0)p 2482 5410 V 2533 5374 a FZ(no)g
FX(\()p FZ(tree)f FP(n)q FX(\))p 3076 5410 V 99 w FZ(no)i
FX(\()p FZ(tree)e FP(n)p FX(\))p 3766 5410 V 1887 5531
V 1939 5495 a FZ(no)h FX(\()p FZ(tree)f FP(n)q FX(\))p
2482 5531 V 318 w FP(t)2785 5456 y FE(0)p 3076 5531 V
3127 5495 a FZ(no)i FX(\()p FZ(tree)e FP(n)p FX(\))p
3766 5531 V 1889 5534 1878 4 v 1997 5667 a F4(233)p eop
%%Page: 234 239
234 238 bop 357 -6 a F4(No)n(w)38 b(that)g(we)h(kno)n(w)e(ho)n(w)h(to)g
(talk)g(about)g(positions,)i(we)f(can)g(gi)n(v)o(e)e(this)h(function)f
(a)i(better)357 144 y(in)l(v)o(ersion)23 b(principle,)h
FZ(chec)o(kIn)n(v)o F4(:)p 601 345 2867 4 v 601 1388
4 1044 v 654 454 a FZ(chec)o(kIn)n(v)654 695 y FP(m)j
FX(:)h FZ(N)-63 b(N)654 815 y FP(x)27 b FX(:)h FZ(\002n)21
b(s)p FP(m)654 936 y FX(\010)28 b(:)g FZ(tree)21 b(s)o
FP(m)50 b F3(!)f FZ(m)n(aybe)23 b FX(\()p FZ(tree)e FP(m)o
FX(\))50 b F3(!)f FI(Type)788 1197 y FX(\010)23 b(\()p
F3(j)-17 b(i)p FZ(thin)21 b FP(x)p F3(h)-17 b(j)16 b
FP(t)p FX(\))22 b(\()p FZ(y)n(es)g FP(t)p FX(\))120 b(\010)23
b(\()p FP(wher)n(e)e FX(\()p FZ(v)m(ar)i FP(x)o FX(\))f
FZ(goes)p FX(\))g(\()p FZ(no)g FX(\()p FZ(tree)f FP(m)p
FX(\)\))p 788 1230 2591 4 v 1497 1309 a F3(8)p FP(t)12
b FX(:)f FZ(tree)21 b(s)p FP(m)o FY(:)i FX(\010)f FP(t)g
FX(\()p FZ(chec)o(k)g FP(x)g(t)q FX(\))p 3463 1388 4
1044 v 601 1391 2867 4 v 357 1636 a F4(The)28 b(proof,)i(which)e(I)h
(omit,)f(is)g(by)h(recursion)f(induction)f(and)i(in)l(v)o(ersion)e(of)i
(the)f(block)o(ed)g(com-)357 1785 y(putations.)357 1995
y(No)n(w)c(let)g(us)h(de\002ne)g FZ(FlexRigid)q F4(:)601
2400 y FZ(FlexRigid)d FP(x)g(t)50 b FX(=)p 1320 2195
617 4 v 1318 2312 4 121 v 1413 2276 a FZ(chec)o(k)22
b FP(x)g(t)p 1934 2312 V 1320 2315 1747 4 v 1318 2436
4 121 v 1511 2400 a FZ(y)n(es)g FP(t)1721 2361 y FE(0)p
1934 2436 V 1986 2400 a FZ(y)n(es)38 b F3(h)p FP(m)p
FX(;)17 b FZ(acons)22 b FP(x)g(t)2764 2361 y FE(0)2809
2400 y FZ(anil)p F3(i)p 3065 2436 V 1318 2556 V 1370
2520 a FZ(no)g FX(\()p FZ(tree)f FP(m)o FX(\))p 1934
2556 V 100 w FZ(no)h FX(\()p FZ(fr)n(om)h(s)p FP(m)o
FX(\))p 3065 2556 V 1320 2559 1747 4 v 357 2804 a F4(W)-8
b(e)25 b(must)f(sho)n(w)f(that)i(this)f(function)f(satis\002es)i(its)f
(speci\002cation:)p 7 setlinewidth np 655 3032 25 135.00
315.00 arc st 7 setlinewidth np 691 3014 18 180.00 360.00
arc st 7 setlinewidth np 745 3014 35 180.00 360.00 arc
st 7 setlinewidth np 789 3041 28 251.56 341.56 arc st
7 setlinewidth np 816 3058 27 270.00 450.00 arc st 7
setlinewidth np 780 3085 35 360.00 540.00 arc st 7 setlinewidth
np 727 3085 18 360.00 540.00 arc st 7 setlinewidth np
682 3085 27 360.00 540.00 arc st 7 setlinewidth np 647
3067 19 63.43 243.43 arc st 601 3244 a FX(?)p FZ(FlexRigid)1063
3268 y FL(s)1100 3244 y FX(:)e F3(8)p FP(m)203 b FX(:)22
b FZ(N)-63 b(N)1149 3364 y F3(8)p FP(x)231 b FX(:)22
b FZ(\002n)f(s)p FP(m)1149 3484 y F3(8)p FP(t)248 b FX(:)22
b FZ(tree)f(s)p FP(m)1149 3605 y F3(8)p FP(notV)-7 b(ar)q
FX(:)22 b F3(8)p FP(y)p FX(:)g FZ(\002n)g(s)o FP(m)1589
3725 y(t)50 b F3(6)-11 b(')23 b FZ(v)m(ar)f FP(y)1149
3845 y F3(8)p FX(\010)211 b(:)22 b FZ(m)n(aybe)h FX(\()p
FZ(fr)n(om)g(s)o FP(m)p FX(\))50 b F3(!)f FI(Type)1149
3966 y F3(8)p FY(\036)1262 3981 y FM(n)1485 3966 y FX(:)22
b F3(8)p FP(occ)p FX(:)g FZ(NoUni\002er)f FX(\()p FZ(v)m(ar)i
FP(x)o FX(\))f FP(t)1589 4086 y FX(\010)h(\()p FZ(no)f
FX(\()p FZ(fr)n(om)h(s)p FP(m)o FX(\)\))1149 4207 y F3(8)p
FY(\036)1262 4222 y FM(y)1485 4207 y FX(:)f F3(8)p FP(n)161
b FX(:)22 b FZ(N)-63 b(N)1534 4327 y F3(8)p FJ(f)185
b FX(:)22 b FZ(alist)g FP(m)f(n)1534 4447 y F3(8)p FP(fMax)p
FX(:)h FZ(Maxim)n(al)g FX(\()p FZ(Uni\002es)f FX(\()p
FZ(v)m(ar)i FP(x)o FX(\))f FP(t)q FX(\))g(\()p FJ(f)28
b FC(J)p FX(\))1589 4568 y(\010)23 b FZ(y)n(es)39 b F3(h)o
FP(n)q FX(;)17 b FJ(f)p F3(i)1204 4688 y FX(\010)23 b(\()p
FZ(FlexRigid)g FP(x)e(t)q FX(\))357 4950 y F4(This)30
b(we)i(pro)o(v)o(e)e(by)h(e)o(xpanding)f FZ(FlexRigid)h
F4(and)h(in)l(v)o(erting)d FZ(chec)o(k)e FP(x)g(t)p F4(,)33
b(lea)n(ving)d(tw)o(o)h(cases.)357 5099 y(The)25 b(\002rst)f(is)1997
5667 y(234)p eop
%%Page: 235 240
235 239 bop 7 setlinewidth np 655 -50 25 135.00 315.00
arc st 7 setlinewidth np 691 -68 18 180.00 360.00 arc
st 7 setlinewidth np 745 -68 35 180.00 360.00 arc st
7 setlinewidth np 789 -41 28 251.56 341.56 arc st 7 setlinewidth
np 816 -23 27 270.00 450.00 arc st 7 setlinewidth np
780 4 35 360.00 540.00 arc st 7 setlinewidth np 727 4
18 360.00 540.00 arc st 7 setlinewidth np 682 4 27 360.00
540.00 arc st 7 setlinewidth np 647 -14 19 63.43 243.43
arc st 601 224 a FX(?)p FZ(FlexRigid)1063 249 y FL(y)1104
224 y FX(:)p 7 setlinewidth np 1209 133 25 135.00 315.00
arc st 7 setlinewidth np 1244 115 18 180.00 360.00 arc
st 7 setlinewidth np 1298 115 35 180.00 360.00 arc st
7 setlinewidth np 1342 142 28 251.56 341.56 arc st 7
setlinewidth np 1369 160 27 270.00 450.00 arc st 7 setlinewidth
np 1334 186 35 360.00 540.00 arc st 7 setlinewidth np
1280 186 18 360.00 540.00 arc st 7 setlinewidth np 1235
186 27 360.00 540.00 arc st 7 setlinewidth np 1200 169
19 63.43 243.43 arc st 1154 345 a F3(8)p FP(t)67 b FX(:)22
b FZ(tree)f FP(m)1154 465 y F3(8)p FX(\010)30 b(:)22
b FZ(m)n(aybe)h FX(\()p FZ(fr)n(om)g(s)p FP(m)o FX(\))50
b F3(!)g FI(Type)1154 585 y F3(8)p FY(\036)1267 600 y
FM(y)1309 585 y FX(:)22 b F3(8)q FP(n)161 b FX(:)22 b
FZ(N)-63 b(N)1358 706 y F3(8)q FJ(f)185 b FX(:)22 b FZ(alist)f
FP(m)h(n)1358 826 y F3(8)q FP(fMax)p FX(:)g FZ(Maxim)n(al)g
FX(\()p FZ(Uni\002es)f FX(\()p FZ(v)m(ar)h FP(x)p FX(\))38
b F3(j)-16 b(i)o FZ(thin)22 b FP(x)o F3(h)-16 b(j)16
b FP(t)p FX(\))22 b(\()p FJ(f)28 b FC(J)p FX(\))1414
947 y(\010)22 b FZ(y)n(es)39 b F3(h)p FP(n)p FX(;)17
b FJ(f)p F3(i)p 7 setlinewidth np 1209 1038 25 135.00
315.00 arc st 7 setlinewidth np 1244 1020 18 180.00 360.00
arc st 7 setlinewidth np 1298 1020 35 180.00 360.00 arc
st 7 setlinewidth np 1342 1047 28 251.56 341.56 arc st
7 setlinewidth np 1369 1065 27 270.00 450.00 arc st 7
setlinewidth np 1334 1091 35 360.00 540.00 arc st 7 setlinewidth
np 1280 1091 18 360.00 540.00 arc st 7 setlinewidth np
1235 1091 27 360.00 540.00 arc st 7 setlinewidth np 1200
1074 19 63.43 243.43 arc st 1209 1250 a FX(\010)23 b(\()p
FZ(y)n(es)38 b F3(h)p FP(m)o FX(;)17 b FZ(acons)22 b
FP(x)g(t)h FZ(anil)o F3(i)357 1516 y F4(Introducing)28
b(the)i(hypotheses,)f(re\002ning)g(by)h FY(\036)2028
1531 y FM(y)2100 1516 y F4(and)f(unpacking)g(the)h(association)e(list,)
i(we)g(are)357 1666 y(left)24 b(pro)o(ving)p 7 setlinewidth
np 655 1904 25 135.00 315.00 arc st 7 setlinewidth np
691 1886 18 180.00 360.00 arc st 7 setlinewidth np 745
1886 35 180.00 360.00 arc st 7 setlinewidth np 789 1913
28 251.56 341.56 arc st 7 setlinewidth np 816 1930 27
270.00 450.00 arc st 7 setlinewidth np 780 1957 35 360.00
540.00 arc st 7 setlinewidth np 727 1957 18 360.00 540.00
arc st 7 setlinewidth np 682 1957 27 360.00 540.00 arc
st 7 setlinewidth np 647 1939 19 63.43 243.43 arc st
601 2116 a FX(?)p FZ(FlexRigid)1063 2068 y FE(0)1063
2141 y FL(y)1104 2116 y FX(:)f FZ(Maxim)n(al)f FX(\()p
FZ(Uni\002es)f FX(\()p FZ(v)m(ar)h FP(x)p FX(\))38 b
F3(j)-17 b(i)p FZ(thin)22 b FP(x)o F3(h)-16 b(j)16 b
FP(t)p FX(\))22 b([)p FP(x)28 b F3(7!)f FP(t)p FX(])357
2390 y F4(This)d(follo)n(ws)f(by)i(the)f FZ(Knoc)o(kout)h
F4(lemma.)357 2599 y(Meanwhile,)f(the)g(other)h(case)g(of)g(the)g(in)l
(v)o(ersion)e(is)p 7 setlinewidth np 655 2829 25 135.00
315.00 arc st 7 setlinewidth np 691 2812 18 180.00 360.00
arc st 7 setlinewidth np 745 2812 35 180.00 360.00 arc
st 7 setlinewidth np 789 2838 28 251.56 341.56 arc st
7 setlinewidth np 816 2856 27 270.00 450.00 arc st 7
setlinewidth np 780 2883 35 360.00 540.00 arc st 7 setlinewidth
np 727 2883 18 360.00 540.00 arc st 7 setlinewidth np
682 2883 27 360.00 540.00 arc st 7 setlinewidth np 647
2865 19 63.43 243.43 arc st 601 3104 a FX(?)p FZ(FlexRigid)1063
3129 y FL(n)1110 3104 y FX(:)p 7 setlinewidth np 1214
3012 25 135.00 315.00 arc st 7 setlinewidth np 1250 2994
18 180.00 360.00 arc st 7 setlinewidth np 1303 2994 35
180.00 360.00 arc st 7 setlinewidth np 1348 3021 28 251.56
341.56 arc st 7 setlinewidth np 1375 3039 27 270.00 450.00
arc st 7 setlinewidth np 1339 3066 35 360.00 540.00 arc
st 7 setlinewidth np 1286 3066 18 360.00 540.00 arc st
7 setlinewidth np 1241 3066 27 360.00 540.00 arc st 7
setlinewidth np 1205 3048 19 63.43 243.43 arc st 1159
3224 a F3(8)q FP(wher)n(e)43 b FX(:)22 b FZ(pos)g(s)p
FP(m)1159 3345 y F3(8)q FP(notV)-7 b(ar)p FX(:)22 b F3(8)q
FP(y)o FX(:)h FZ(\002n)e(s)p FP(m)1600 3465 y(wher)n(e)g
FX(\()p FZ(v)m(ar)h FP(x)p FX(\))g FZ(goes)50 b F3(6)-11
b(')22 b FZ(v)m(ar)h FP(y)1159 3585 y F3(8)q FX(\010)210
b(:)22 b FZ(m)n(aybe)h FX(\()p FZ(fr)n(om)g(s)p FP(m)o
FX(\))50 b F3(!)f FI(Type)1159 3706 y F3(8)q FY(\036)1273
3721 y FM(n)1495 3706 y FX(:)22 b F3(8)q FP(occ)o FX(:)g
FZ(NoUni\002er)f FX(\()p FZ(v)m(ar)i FP(x)p FX(\))f(\()p
FP(wher)n(e)f FX(\()p FZ(v)m(ar)h FP(x)p FX(\))g FZ(goes)p
FX(\))1600 3826 y(\010)g(\()p FZ(no)g FX(\()p FZ(fr)n(om)h(s)p
FP(m)o FX(\)\))p 7 setlinewidth np 1214 3917 25 135.00
315.00 arc st 7 setlinewidth np 1250 3900 18 180.00 360.00
arc st 7 setlinewidth np 1303 3900 35 180.00 360.00 arc
st 7 setlinewidth np 1348 3926 28 251.56 341.56 arc st
7 setlinewidth np 1375 3944 27 270.00 450.00 arc st 7
setlinewidth np 1339 3971 35 360.00 540.00 arc st 7 setlinewidth
np 1286 3971 18 360.00 540.00 arc st 7 setlinewidth np
1241 3971 27 360.00 540.00 arc st 7 setlinewidth np 1205
3953 19 63.43 243.43 arc st 1215 4129 a(\010)f(\()p FZ(no)g
FX(\()p FZ(fr)n(om)h(s)p FP(m)p FX(\)\))357 4401 y F4(This)g(time,)g
(introducing)f(the)h(hypotheses,)f(re\002ning)i(by)f
FY(\036)2418 4416 y FM(n)2485 4401 y F4(and)h(e)o(xpanding)e
FZ(NoUni\002er)h F4(lea)n(v)o(es)p 7 setlinewidth np
655 4639 25 135.00 315.00 arc st 7 setlinewidth np 691
4621 18 180.00 360.00 arc st 7 setlinewidth np 745 4621
35 180.00 360.00 arc st 7 setlinewidth np 789 4648 28
251.56 341.56 arc st 7 setlinewidth np 816 4666 27 270.00
450.00 arc st 7 setlinewidth np 780 4692 35 360.00 540.00
arc st 7 setlinewidth np 727 4692 18 360.00 540.00 arc
st 7 setlinewidth np 682 4692 27 360.00 540.00 arc st
7 setlinewidth np 647 4675 19 63.43 243.43 arc st 601
4851 a FX(?)p FZ(FlexRigid)1063 4803 y FE(0)1063 4876
y FL(n)1110 4851 y FX(:)f F3(8)q FP(n)85 b FX(:)22 b
FZ(N)-63 b(N)1159 4972 y F3(8)q FJ(f)109 b FX(:)22 b
FZ(s)p FP(m)27 b F3(&)g FP(n)1159 5092 y F3(8)q FP(bad)p
FX(:)e FJ(f)q F3(h)-17 b(j)16 b FX(\()p FZ(v)m(ar)22
b FP(x)p FX(\))g F3(')43 b FJ(f)p F3(h)-17 b(j)17 b FX(\()p
FP(wher)n(e)k FX(\()p FZ(v)m(ar)h FP(x)p FX(\))g FZ(goes)p
FX(\))1215 5213 y F3(?)357 5484 y F4(By)j FZ(Coherence)o
F4(,)g(we)g(may)f(push)g FJ(f)i F4(through)d FZ(goes)p
F4(,)i(telling)f(us)1997 5667 y(235)p eop
%%Page: 236 241
236 240 bop 601 -6 a FJ(f)22 b FP(x)g F3(')h FX(\()s
FJ(f)p F3(h)-17 b(j)17 b FP(wher)n(e)o FX(\))22 b(\()p
FJ(f)g FP(x)p FX(\))g FZ(goes)357 279 y(NoCycle)j F4(no)n(w)f(tells)g
(us)h(that)601 564 y FP(wher)n(e)c F3(')i FZ(here)357
849 y F4(reducing)h FP(notV)-7 b(ar)25 b F4(to)601 1134
y F3(8)p FP(y)p FY(:)d FZ(v)m(ar)g FP(x)50 b F3(6)-11
b(')23 b FZ(v)m(ar)f FP(y)357 1418 y F4(from)i(which)h(we)g(may)f
(easily)h(pro)o(v)o(e)e(the)i(goal.)357 1772 y FB(7.3.8)118
b(comment)357 2049 y F4(This)25 b(v)o(eri\002cation)h(of)g(a)h
(uni\002cation)e(is)h(another)g(in)g(a)h(long)e(line)h(of)h(such)f(de)n
(v)o(elopments.)32 b(From)357 2198 y(Zohar)i(Manna)g(and)g(Richard)g(W)
-8 b(aldinger')j(s)34 b(pioneering)f(hand-synthesis)f([MW81],)k
(through)357 2348 y(La)o(wrence)30 b(P)o(aulson')-5 b(s)29
b(machine)h(v)o(eri\002cation)g(in)g(LCF)i([P)o(au85)o(])f(to)f(the)g
(more)h(recent)f(w)o(ork)h(in)357 2497 y(di)n(v)o(erse)21
b(proof)i(systems)e([Coen92,)i(Rou92)o(,)g(Jau97)o(,)g(Bo)o(v)o(e99)o
(],)g(all)g(ha)n(v)o(e)f(f)o(aced)h(the)g(same)f(inher)n(-)357
2646 y(ent)k(problem)g(of)h(e)o(xplaining)d(a)j(program)g(which)f
(simply)f(does)h(not)g(mak)o(e)g(the)h(sense)f(its)g(mak)o(er)357
2796 y(intended.)357 3005 y(Critical)j(to)f(the)h(correctness)g(of)g
(the)g(uni\002cation)f(algorithm)g(is)h(the)f(relati)n(visation)f(of)i
(terms)g(to)357 3155 y(their)23 b(conte)o(xt)f(of)h(v)n(ariables.)29
b(Such)24 b(relati)n(vised)e(data)h(structures)g(occur)g(naturally)g
(in)g(dependent)357 3304 y(type)35 b(systems.)63 b(Uni\002cation)35
b(has)g(al)o(w)o(ays)h(been)g(structurally)f(recursi)n(v)o(e\227it)f
(is)h(just)g(that)g(the)357 3454 y(structure)24 b(could)h(not)f(be)i
(made)e(data)i(until)d(the)i(right)g(types)f(came)h(along.)31
b(No)n(w)24 b(the)o(y)h(ha)n(v)o(e,)f(and)357 3603 y(that)g(is)g
(something)f(to)i(be)g(pleased)f(about,)h(and)f(to)h(be)g(v)n(ocal)g
(about.)357 3813 y(There)39 b(are)h(three)f(delicate)f(aspects)h(of)g
(uni\002cation)f(which)g(must)g(be)h(handled)f(someho)n(w)g(in)357
3962 y(e)n(v)o(ery)24 b(treatment,)g(and)h(the)o(y)f(are)h(not)f
(entirely)h(independent:)502 4269 y F3(\017)49 b F4(the)24
b(termination)f(of)i(the)g(algorithm)502 4499 y F3(\017)49
b F4(the)25 b(propagation)f(of)i(a)g(uni\002er)f(computed)g(for)h(one)f
(part)h(of)g(a)g(problem)e(through)h(the)g(rest)601 4648
y(of)f(the)h(problem)502 4878 y F3(\017)49 b F4(the)24
b(f)o(ailure)h(of)g(uni\002cation)f(due)h(to)f(f)o(ailure)h(of)g(the)g
(occur)g(check)357 5185 y(The)f(termination)e(issue)i(has,)g(o)o(v)o
(er)f(the)h(years,)g(been)h(separated)f(from)g(partial)g(correctness)g
(with)357 5335 y(increasing)34 b(panache)i(and)f(aplomb,)i(b)n(ut)d
(the)h(technique)g(standard)f(in)h(the)g(literature)g(is)f(well-)357
5484 y(founded)18 b(recursion)h(o)o(v)o(er)g(an)g(ad)g(hoc)g(ordering.)
29 b(Manna)19 b(and)g(W)-8 b(aldinger)19 b([MW81)o(])g(are)h(sensible)
1997 5667 y(236)p eop
%%Page: 237 242
237 241 bop 357 -6 a F4(enough)29 b(to)g(lea)n(v)o(e)g(the)g(choice)h
(of)f(this)g(ordering)g(until)f(the)o(y)h(ha)n(v)o(e)g(e)o(xtracted)g
(the)g(conditions)f(it)357 144 y(must)23 b(satisfy:)601
436 y(`W)-8 b(e)34 b(ha)n(v)o(e)f(deferred)i(the)e(choice)h(of)f(an)h
(ordering)f F3(\036)2523 451 y FL(un)2645 436 y F4(to)h(satisfy)e(the)i
(ordering)601 586 y(conditions)28 b(we)i(ha)n(v)o(e)f(accumulated)h
(during)f(the)g(proof.)46 b(The)30 b(choice)f(of)h(this)f(or)n(-)601
735 y(dering)f(is)h(not)g(so)g(well-moti)n(v)n(ated)d(formally)j(as)g
(the)g(other)g(steps)g(of)g(this)f(deri)n(v)n(a-)601
885 y(tion.)-7 b(')357 1177 y(The)25 b(necessary)g(ordering)g(combines)
f(le)o(xicographically)g(the)h(size)g(of)g(the)g(v)n(ariable)f(set)h
(and)g(the)357 1327 y(structure)36 b(of)g(the)g(problem\227the)f(dif)n
(ferent)h(treatments)f(manifest)h(this)f(in)h(slightly)f(dif)n(ferent)
357 1476 y(w)o(ays.)51 b(P)o(aulson)31 b([P)o(au85])h(points)e(out)h
(that)h(he)f(w)o(orks)h(rather)g(harder)g(than)g(he)g(w)o(ould)f(lik)o
(e)g(to,)357 1626 y(moti)n(v)n(ating)36 b(the)i(desire)h(for)h(`an)f
(LCF)h(package)f(for)h(well-founded)e(induction')g(in)g(order)i(to)357
1775 y(emulate)24 b(Manna)h(and)f(W)-8 b(aldinger')j(s)24
b(paper)h(de)n(v)o(elopment)e(more)i(closely)-6 b(.)357
1984 y(Implementations)37 b(of)j(what)f(w)o(ould)g(otherwise)g(be)h
(generally)f(recursi)n(v)o(e)g(programs)g(in)h(type)357
2134 y(theory)24 b(necessarily)g(in)l(v)n(olv)o(e)f(computation)g(o)o
(v)o(er)h(the)h(proof)f(of)h(termination.)k(Dif)n(ferent)24
b(strate-)357 2283 y(gies)29 b(e)o(xist)f(to)h(minimise)f(the)h(impact)
g(of)h(this)e(unwelcome)h(intrusion)f(of)i(proof)f(into)g(program.)357
2433 y(Joseph)34 b(Rouyer)g([Rou92])h(manages)f(to)h(con\002ne)g(the)f
(logical)g(component)f(to)h(the)h(outermost)357 2582
y(well-founded)24 b(recursion)g(on)h(the)f(number)h(of)f(v)n(ariables,)
g(the)h(inner)g(recursion)f(on)h(terms)f(being)357 2732
y(purely)g(structural.)357 2941 y(Ana)35 b(Bo)o(v)o(e)f(mo)o(v)o(es)g
(the)h(goalposts)e(in)i(a)h(pleasingly)d(systematic)h(w)o(ay)h([Bo)o(v)
o(e99].)61 b(Her)36 b(ALF)357 3090 y(program)19 b(does)g(its)g
(recursion)g(o)o(v)o(er)g(the)g(proof)g(of)h(an)g(accessibility)e
(relation)h(constructed)g(almost)357 3240 y(directly)h(from)h(the)f
(Hask)o(ell)h(program)f(she)h(wishes)f(to)g(import\227the)f(ar)n
(guments)i(to)f(the)h(program)357 3389 y(become)j(the)f(indices)g(of)h
(the)g(relation.)30 b(A)24 b(single)f(induction)f(o)o(v)o(er)h(this)g
(relation)h(thus)f(splits)f(into)357 3539 y(cases)29
b(corresponding)f(to)g(the)g(left-hand)h(sides)f(of)h(the)f(original)g
(program,)h(while)g(the)f(e)o(xposed)357 3688 y(sub-proofs)c(gi)n(v)o
(e)g(e)o(xactly)g(the)h(recursi)n(v)o(e)f(calls.)31 b(Of)25
b(course,)g(she)g(still)f(has)h(to)f(pro)o(v)o(e)g(that)h(all)f(the)357
3838 y(elements)19 b(are)h(accessible)g(by)f(well-founded)g(le)o
(xicographic)g(induction,)g(b)n(ut)g(by)h(packaging)f(this)357
3987 y(complicated)30 b(induction)g(into)g(a)i(single)e(relation,)j
(she)e(has)g(not)g(only)f(supported)h(the)g(program)357
4137 y(b)n(ut)k(also)h(ef)n(fecti)n(v)o(ely)f(acquired)h(ipso)g(f)o
(acto)g(its)g(recursion)g(induction)e(principle\227useful)h(for)357
4286 y(pro)o(ving)23 b(its)h(properties.)357 4495 y(Of)i(course,)h(my)f
(program)g(does)g(a)h(similar)f(le)o(xicographic)f(recursion,)h(b)n(ut)
g(it)g(is)g(internalised)g(in)357 4645 y(the)j(data)g(structures.)44
b(I)30 b(a)n(v)n(oid)e(an)i(appeal)f(to)g(well-founded)g(recursion)g
(on)g F3(\024)h F4(for)g(the)f(number)357 4794 y(of)35
b(v)n(ariables)g(by)h(unloading)e(the)h(accumulated)g(substitutions)e
(incrementally)-6 b(,)37 b(which)e(is)g(not)357 4944
y(unreasonable)j(as)g(the)o(y)g(are)h(b)n(uilt)e(incrementally)-6
b(,)41 b(and)d(which)g(incidentally)f(enables)h(me)h(to)357
5093 y(delay)24 b(them)h(until)e(the)o(y)h(become)h(critical.)357
5303 y(It)i(might)f(perhaps)h(be)h(interesting)e(to)h(consider)g(ho)n
(w)g(much)f(more)i(trouble)e(it)h(w)o(ould)g(be)g(to)g(use)357
5452 y(a)f(normalised)f(representation)h(of)g(substitution,)e(applied)i
(all)g(at)g(once.)35 b(Ho)n(we)n(v)o(er)l(,)25 b(normalising)1997
5667 y(237)p eop
%%Page: 238 243
238 242 bop 357 -6 a F4(substitutions)21 b(is,)k(in)f(an)o(y)g(case,)i
(computationally)c(quite)i(e)o(xpensi)n(v)o(e.)357 204
y(Manna)37 b(and)g(W)-8 b(aldinger)38 b(w)o(ork)f(rather)h(hard)g(to)f
(synthesise)f(the)h(accumulation)g(of)g(a)h(uni\002er)357
353 y(across)24 b(a)h(list)e(of)h(subproblems.)29 b(The)24
b(idempotence)g(of)g(the)g(uni\002er)h(plays)f(a)g(pi)n(v)n(otal)f
(role.)30 b(P)o(aul-)357 503 y(son')-5 b(s)28 b(proof)h(is)f
(apparently)h(simpler)l(,)g(b)n(ut)g(he)g(is)f(unforthcoming)g(about)g
(the)h(`occasional)g(ugly)357 652 y(steps'.)52 b(Coen)33
b([Coen92])f(describes)h(this)e(problem)g(as)i(the)f(only)f(a)o(wkw)o
(ard)h(aspect)g(of)h(partial)357 802 y(correctness.)357
1011 y(The)h(`optimistic')f(treatment)h(of)h(accumulators)f(mak)o(es)g
(this)g(problem)g(rather)h(easier)g(to)f(deal)357 1161
y(with\227introducing)e(the)i(accumulator)g(as)h(an)f(e)o(xtra)h
(parameter)g(ef)n(fecti)n(v)o(ely)e(strengthens)g(the)357
1310 y(inducti)n(v)o(e)25 b(hypotheses)g(for)i(the)g(subproblems)f(in)g
(e)o(xactly)h(the)g(necessary)g(manner)-5 b(.)37 b(Armando,)357
1459 y(Smaill)24 b(and)h(Green')-5 b(s)25 b(automated)f(synthesis)f
(manages)i(to)g(pro\002t)g(from)f(this)g(without)g(e)o(xcessi)n(v)o(e)
357 1609 y(prompting)36 b([ASG99].)70 b(Bo)o(v)o(e)37
b(also)g(e)o(xploits)f(an)i(accumulating)f(parameter)h(with)f(the)g
(same)357 1758 y(bene\002t.)68 b(As)37 b(I)g(ha)n(v)o(e)g(sho)n(wn,)i
(it)e(is)f(a)i(natural)f(technique)g(to)f(emplo)o(y)g(when)i(the)f
(order)g(with)357 1908 y(respect)25 b(to)f(which)h(we)g(seek)g(an)g
(optimum)d(is)j(induced)f(by)g(some)h(notion)e(of)i(composition.)357
2117 y(As)f(for)i(sho)n(wing)d(there)i(is)g(no)g(uni\002er)g(when)g
(the)f(occur)i(check)f(f)o(ails,)g(my)f(treatment)h(is)f(morally)357
2267 y(the)31 b(same)g(as)g(Manna)g(and)h(W)-8 b(aldinger')j(s,)32
b(packaged)f(slightly)f(more)h(cate)o(gorically)-6 b(.)49
b(It)31 b(is)g(also)357 2416 y(slightly)f(more)h(concrete.)52
b(The)32 b(use)g(of)f(the)h(datatype)f(of)h(positions)e(and)i(its)f
(attendant)g(opera-)357 2566 y(tions,)e(together)g(with)g
FZ(thin)p F4(,)h(means)g(that)f(the)g(in)l(v)o(ersion)f(of)i(the)f
(occur)h(check)g(instantiates)e(the)357 2715 y(in)l(v)o(estigated)22
b(term)i(with)g(patterns)g(capturing)g(the)g(rele)n(v)n(ant)f
(information,)g(rather)i(than)f(present-)357 2864 y(ing)19
b(it)g(propositionally)-6 b(.)26 b(Ho)n(we)n(v)o(er)l(,)19
b(the)h(position)e(datatype)h(comes)h(into)e(play)i(only)f(in)g(the)h
(proof,)357 3014 y(not)k(in)g(the)h(program,)f(so)h(in)f(this)g(case,)h
(there)g(is)g(not)f(much)g(to)h(choose)f(between)h(the)g(tw)o(o.)357
3223 y(Nonetheless,)e(we)h(may)f(one)h(day)g(w)o(ant)f(a)h
(uni\002cation)f(algorithm)g(which)g(augments)g(the)g(f)o(ailure)357
3373 y(response)c(with)g(diagnostic)g(information,)g(so)h(that)f(a)h
(PhD)g(student)f(desperate)h(for)g(cash)g(can)h(ha)n(v)o(e)357
3522 y(an)i(easier)g(time)f(\002nding)g(the)h(type)f(errors)h(in)g(an)g
(under)n(graduate')-5 b(s)22 b(ML)g(program.)30 b(At)23
b(this)e(point,)357 3672 y(a)26 b(concrete)h(representation)f(of)g
(positions)f(becomes)h(a)g(must.)34 b(The)27 b(type)f(of)g
FZ(chec)o(k)g F4(could)g(just)357 3821 y(as)f(easily)f(ha)n(v)o(e)g
(been)601 4070 y FZ(chec)o(k)49 b FX(:)h F3(8)p FP(n)q
FY(:)22 b FZ(\002n)g(s)o FP(n)51 b F3(!)e FZ(tree)21
b(s)p FP(n)50 b F3(!)f FZ(tree)21 b FP(n)i FZ(+)f(pos)g(s)p
FP(n)357 4318 y F4(returning)31 b(a)i(witness)e(in)g(the)h(case)h(of)f
(f)o(ailure.)53 b(A)32 b(treatment)g(of)g(positions)e(is)i(hardly)g(w)o
(asted.)357 4468 y(Furthermore,)g(as)g(Huet)f(points)f(out)g([Hue97],)j
(there)e(is)g(no)g(reason)g(why)f(the)h(construction)f(of)357
4617 y(position)23 b(apparatus)h(should)g(not)g(be)h(automated)f(for)h
(arbitrary)g(datatypes.)357 4827 y(Finally)-6 b(,)34
b(I)g(w)o(ould)f(lik)o(e)h(to)f(comment)g(on)g(tw)o(o)g(`packaging')h
(aspects)f(of)h(the)g(de)n(v)o(elopment)d(of)357 4976
y(uni\002cation)j(in)h(this)g(thesis.)61 b(Firstly)-6
b(,)36 b(the)g(monadic)e(treatment)h(both)f(of)i(f)o
(ailure-propagation)357 5125 y(and)h(of)h(substitution)d(itself)i
(seems)h(to)f(present)g(the)h(necessary)g(equipment)f(in)g(a)h(useful)f
(and)357 5275 y(orderly)24 b(w)o(ay)-6 b(.)357 5484 y(Secondly)g(,)38
b(the)d(use)h(of)g(in)l(v)o(ersion)f(and)g(recursion)h(induction)f
(principles)g(to)g(capture)h(the)g(be-)1997 5667 y(238)p
eop
%%Page: 239 244
239 243 bop 357 -6 a F4(ha)n(viour)27 b(of)h(components)e(lent)i(such)f
(a)h(re)o(gularity)f(and)h(tangibility)d(to)j(the)f(components)g(of)g
(the)357 144 y(correctness)j(proof)g(that)f(I)h(belie)n(v)o(e)f(I)h(ha)
n(v)o(e)g(gi)n(v)o(en)e(substantial)g(credence)j(to)f(the)f
(methodology)357 293 y(of)23 b(capturing)f(`le)n(v)o(erage')g(in)h
(this)e(w)o(ay)-6 b(.)30 b(Recall,)24 b(for)f(e)o(xample,)f(ho)n(w)g
(the)g(in)l(v)o(ersion)g(of)g(the)h(occur)357 443 y(check)f(not)e(only)
h(e)o(xposed)g(the)g(information)f(pertinent)g(to)i(the)f(tw)o(o)g
(possibilities)d(b)n(ut)j(performed)357 592 y(the)29
b(consequent)f(re)n(writing,)h(allo)n(wing)f(still)g(further)h
(progress)g(by)g(computation.)42 b(Further)l(,)30 b(the)357
742 y(whole)38 b(ef)n(fect)h(w)o(as)g(triggered)f(by)h(asking)f(a)h
(single)f(high-le)n(v)o(el)f(question)g(about)i(a)g(program)357
891 y(component)601 1184 y(`what)24 b(can)i(ha)n(v)o(e)e(happened)h(in)
f(that)g(occur)i(check?')357 1476 y(rather)f(than)f(a)i(lo)n(w-le)n(v)o
(el)c(question)i(about)g(data)601 1769 y(`what)g(v)n(alues)g(can)h
(that)g FZ(m)n(aybe)e FX(\()p FZ(tree)e FP(n)p FX(\))k
F4(ha)n(v)o(e?')357 2061 y(W)-8 b(e)25 b(ha)n(v)o(e)f(been)h(able)g(to)
g(stare)g(at)g(uni\002cation)f(without)f(going)h(blind.)1997
5667 y(239)p eop
%%Page: 240 245
240 244 bop 357 719 a F1(Chapter)51 b(8)357 1194 y(Conclusion)357
1735 y F4(What)24 b(are)i(the)f(contrib)n(utions)d(of)j(this)f(thesis?)
357 1945 y(Firstly)-6 b(,)21 b(and)g(some)n(what)g(tangentially)-6
b(,)20 b(it)h(introduced)i(O)t F2(L)t(E)t(G)r F4(,)i(a)d(type)f(theory)
h(with)f(holes)g(which)357 2094 y(has)j(tw)o(o)h(adv)n(antages:)502
2387 y F3(\017)49 b F4(separation)29 b(of)g(partial)g(constructions)f
(from)i(the)f(core)h(computational)e(terms)h(in)g(such)g(a)601
2536 y(w)o(ay)22 b(that)g(the)g(partial)g(constructions\227where)e(the)
i(holes)g(li)n(v)o(e\227beha)n(v)o(e)e(well)i(enough)g(to)601
2686 y(ha)n(v)o(e)i(the)h F0(r)n(eplacement)h F4(property)502
2918 y F3(\017)49 b F4(internalisation)32 b(of)j(the)g(account)f(of)h
(the)g(holes)f(within)f(the)i(judgments)e(of)i(the)f(theory)-6
b(,)601 3067 y(allo)n(wing)17 b(the)j(state)f(of)h(a)g(theorem)f(pro)o
(v)o(er)g(to)g(be)h(represented)g(e)o(xactly)f(by)g(a)h(v)n(alid)e
(conte)o(xt)357 3360 y(Of)24 b(course,)g(relati)n(v)o(e)g(to)f(systems)
g(which)h(e)o(xplain)f(holes)h(with)f(the)h(aid)g(of)h(e)o(xplicit)d
(substitution,)357 3509 y(it)k(has)i(the)f(disadv)n(antage)f(of)h
(forbidding)f(certain)i(interactions)e(between)h(holes)g(and)g
(computa-)357 3659 y(tion.)38 b(F)o(or)27 b(the)h(w)o(ork)f(presented)h
(here,)g(this)f(has)h(not)f(troubled)f(us)i(at)f(all.)39
b(Admittedly)-6 b(,)26 b(this)g(has)357 3808 y(not)d(in)l(v)n(olv)o(ed)
f(the)h(kind)g(of)h(higher)n(-order)g(problem)f(for)h(which)f(the)h
(banned)f(interactions)g(might)357 3958 y(help.)357 4167
y(On)37 b(the)g(other)g(hand,)j(the)d(resemblance)h(to)f(Miller')-5
b(s)36 b(`mix)o(ed)g(pre\002x')i([Mil92)n(])g(treatment)f(is)357
4317 y(strong)28 b(enough)h(to)g(suggest)f(that)h(his)g(brand)g(of)g
(higher)n(-order)h(uni\002cation)e(might)g(be)h(feasible.)357
4466 y(He)23 b(too)g(handles)g(the)g(interaction)f(between)i(holes)e
(and)h(computation)f(by)h(`raising')g(the)g(holes)g(to)357
4615 y(the)j(functionality)f(required)h(to)h(ensure)f(that)g(the)h
(computation)d(happens)i(entirely)g(within)g(their)357
4765 y(scope.)54 b(Nonetheless,)34 b(deeper)g(e)o(xploration)d(is)h
(needed)h(before)h(we)f(can)g(say)g(that)h(O)t F2(L)t(E)t(G)k
F4(is)32 b(a)357 4914 y(suitable)c(basis)g(for)h(sophisticated)e
(theorem)i(pro)o(ving.)41 b(It)29 b(is,)g(ho)n(we)n(v)o(er)l(,)g(an)g
(ef)n(fecti)n(v)o(e)f(basis)g(for)357 5064 y(the)19 b(tactics)h(and)f
(mechanised)h(constructions)e(on)h(which)g(the)h(main)f(w)o(ork)h(of)f
(the)h(thesis)f(depends.)357 5273 y(That)51 b(w)o(ork)h(w)o(as)g(to)f
(b)n(uild)g(object-le)n(v)o(el)g(support)g(for)h(pattern)f(matching)g
(on)h(dependent)357 5423 y(types)35 b(in)g(a)h(con)l(v)o(entional)e
(type)h(theory)h(e)o(xtended)f(with)g(uniqueness)f(of)i(identity)e
(proofs.)63 b(It)1997 5667 y(240)p eop
%%Page: 241 246
241 245 bop 357 -6 a F4(closes)34 b(the)g(problem)f(opened)h(by)h
(Thierry)f(Coquand)g(as)g(to)g(the)g(status)g(of)g(pattern)g(matching)
357 144 y([Coq92,)c(CS93)q(])h(as)f(implemented)g(in)g(ALF)h([Mag94)o
(]:)43 b(it)30 b(demonstrates)f(that)i(uniqueness)e(of)357
293 y(identity)19 b(proofs)i(is)g(suf)n(\002cient)g(to)f(support)h
(pattern)g(matching)f(where)h(the)g(uni\002cation)g(underpin-)357
443 y(ning)g(case)i(analysis)f(is)g(for)h(\002rst-order)g(constructor)f
(forms\227this)e(is)i(the)h(uni\002cation)e(suggested)357
592 y(by)g(Coquand)g(and)g(implemented)f(in)h(ALF)-8
b(.)22 b(The)f(necessity)g(w)o(as)g(sho)n(wn)f(by)h(Hofmann)g(and)h
(Stre-)357 742 y(icher)j([HoS94,)g(Hof95)o(].)357 951
y(In)e(the)h(course)f(of)h(that)f(demonstration,)f(I)i(used)f(a)h(ne)n
(w)f(`John)g(Major')g(formulation)g(of)g(proposi-)357
1101 y(tional)c(equality)-6 b(.)28 b(This)20 b(allo)n(ws)f(elements)h
(of)g(dif)n(ferent)h(types)e(to)i FU(aspir)l(e)f F4(to)g(equality)-6
b(,)20 b(b)n(ut)f(ensures)357 1250 y(that)25 b(the)o(y)g(are)h(only)f
FU(tr)l(eated)j F4(equally)d(if)h(the)o(y)e(come)i(from)f(the)h(same)f
(type.)33 b(John)25 b(Major)g(equal-)357 1399 y(ity)h(is)g(equi)n(v)n
(alent)f(to)h(Martin-L)8 b(\250)-41 b(of)26 b(equality)-6
b(,)26 b(b)n(ut)g(considerably)g(more)g(con)l(v)o(enient)g(in)g
(practice.)357 1549 y(It)h(f)o(acilitates)f(the)h(e)o(xpression)f(of)h
(uni\002cation)f(problems)g(o)o(v)o(er)h(sequences)g(of)g(terms)f(in)l
(v)n(olving)357 1698 y(type)e(dependenc)o(y)-6 b(,)24
b(without)f(requiring)h(an)o(y)h(dependenc)o(y)f(in)g(the)h(equations.)
357 1908 y(Consequently)-6 b(,)38 b(I)e(w)o(as)h(able)g(to)f(e)o(xtend)
g(the)g(object-le)n(v)o(el)f(\002rst-order)i(uni\002cation)f(algorithm)
357 2057 y(presented)g(for)g(simply)f(typed)g(constructor)h(forms)f(in)
h(my)f(MSc)i(w)o(ork)f([McB96])g(to)g(the)g(de-)357 2207
y(pendently)26 b(typed)g(case.)38 b(The)27 b(necessary)h(`no)f
(confusion')f(and)h(`no)g(c)o(ycle')g(theorems)f(for)i(each)357
2356 y(f)o(amily)d(of)h(types)g(can)g(be)h(constructed)e(automatically)
g(in)g(a)i(uniform)e(w)o(ay)-6 b(.)35 b(This)25 b(is)h(the)g(object-)
357 2506 y(le)n(v)o(el)k(uni\002cation)h(required)g(to)g(support)g
(pattern)g(matching,)h(and)g(it)f(sho)n(ws)f(that)h(the)g(need)h(for)
357 2655 y(uniqueness)23 b(of)i(identity)f(proofs)g(is)g(no)h(idle)f
(coincidence.)357 2864 y(Ho)n(we)n(v)o(er)l(,)32 b(follo)n(wing)e(the)h
(f)o(amous)g(dictum)g(of)h(Marx)f(and)h(Engels,)h(it)e(is)g(not)g
(enough)h(merely)357 3014 y(to)f(sho)n(w)f(that)h(dependently)g(typed)f
(pattern)i(matching)e(can)i(be)f(gi)n(v)o(en)f(meaning)h(in)g(an)h
(almost)357 3163 y(con)l(v)o(entional)26 b(type)h(theory\227the)g
(point)g(is)g(to)h(sho)n(w)e(that)i(it)f(is)g(good)g(for)h(something.)
38 b(I)28 b(hope)g(I)357 3313 y(ha)n(v)o(e)22 b(successi)n(v)o(ely)e
(ar)n(gued)j(for)f(the)h(principle)e(of)i(representing)e(relati)n
(vised)g(data)i(in)f(relati)n(vised)357 3462 y(types.)34
b(I)26 b(belie)n(v)o(e)f(the)h(de)n(v)o(elopments)e(of)i(substitution)e
(and)i(uni\002cation)f(in)h(chapter)h(se)n(v)o(en)e(lend)357
3612 y(tangible)36 b(credence)i(to)f(this)f(ar)n(gument.)67
b(The)37 b(uni\002cation)f(e)o(xample,)j(in)e(particular)l(,)j(demon-)
357 3761 y(strates)24 b(the)h(importance)f(of)h(allo)n(wing)e
(datatypes)h(to)h(depend)f(on)h FU(terms)p F4(.)357 3971
y(The)20 b(latter)f(may)h(require)g(general)g(recursion)g(to)f(be)h
(abandoned)g(for)g(the)g(sak)o(e)g(of)g(typechecking,)3751
3934 y FS(1)357 4120 y F4(b)n(ut)f(it)h(mak)o(es)g(more)g(programs)f
(structurally)g(recursi)n(v)o(e)h(because)g(it)g(gi)n(v)o(es)e(us)i
(more)g(structures\227)357 4269 y(types)30 b(inde)o(x)o(ed)f(by)i
(terms)f(allo)n(w)g(computation)f(on)i(the)g(indices;)i(types)d(inde)o
(x)o(ed)g(by)g(types)h(do)357 4419 y(not.)359 4628 y(M)t
F2(A)t(N)t(T)t(R)t(A)r F4(:)601 4917 y(If)25 b(my)f(recursion)h(is)f
(not)g(structural,)g(I)h(am)g(using)f(the)h(wrong)f(structure.)357
5205 y(Dependent)d(types)g(mak)o(e)h(sense)g(where)g(general)g
(recursion)g(is)f(made)h(sense)g(of,)g(if)g(we)g(are)h(luck)o(y)-6
b(.)p 357 5293 1373 4 v 473 5355 a FR(1)506 5385 y FQ(Lennart)17
b(Augustsson)h(disagrees,)g(as)h(do)f(a)h(number)d(of)j(others.)k(In)18
b(my)h(opinion)d(the)o(y)i(are)g(trying)g(to)g(ha)n(v)o(e)g(their)357
5484 y(cak)o(e)i(and)f(eat)i(it,)g(b)n(ut)f(the)o(y)f(are)h
(nonetheless)g(con)m(vinced)d(of)j(the)g(adv)n(antages)f(of)h(cak)o(e.)
1997 5667 y F4(241)p eop
%%Page: 242 247
242 246 bop 357 -6 a F4(There)28 b(are)h(man)o(y)e(e)o(xamples)h(where)
g(the)g(`right)g(structure')g(is)g(hard)g(to)g(represent)h(internally)e
(to)357 144 y(the)32 b(program,)h(and)g(where)f(an)h(e)o(xternal)e
(termination)g(ar)n(gument)h(seems)g(the)g(prudent)f(course,)357
293 y(b)n(ut)37 b(the)h(e)o(xpressi)n(v)o(eness)d(of)j(a)g(dependent)f
(type)h(system)e(nonetheless)h(of)n(fers)h(the)f(impro)o(v)o(ed)357
443 y(prospect)23 b(of)g(principled)f(structural)h(alternati)n(v)o(es.)
29 b(The)23 b(functional)g(programming)e(community)357
592 y(ignores)j(dependent)g(types)g(at)h(its)f(peril.)357
802 y(T)l(urning)32 b(from)i(programs)f(to)h(their)f(proofs,)j(I)e
(suspect)f(the)h(idea)g(of)g(using)f(elimination)f(rules)357
951 y(to)k(capture)i(the)f(beha)n(viour)g(of)g(program)g(components)e
(abstractly)i(from)g(their)g(implementa-)357 1101 y(tions)28
b(to)g(be)h(an)h(important)d(one.)44 b(Speci\002cations)29
b(should)f(not)g(only)g(tell)h(us)f(what)h(programs)g(to)357
1250 y(write\227the)o(y)g(should)g(tell)h(us)g(what)h(we)f(need)h(to)f
(kno)n(w)g(about)g(the)g(function)g(when)h(it)f(is)g(used.)357
1399 y(The)d(latter)g(beha)n(viour)f(is)h(clearly)g(lik)o(e)g
(elimination)e(in)i(character)-5 b(.)38 b(The)28 b(kind)e(of)h
(second-order)357 1549 y(rule)d(supported)f(by)j(O)t
F2(L)t(E)t(G)r F4(')-5 b(s)26 b F0(eliminate)e F4(tactic)g(e)o(xploits)
f(such)h(information)e(in)i(a)h(compact)e(and)357 1698
y(po)n(werful)h(w)o(ay)-6 b(,)24 b(relati)n(vised)g(to)g(the)h(goal)f
(which)g(moti)n(v)n(ates)f(its)h(use.)357 1908 y(W)-8
b(e)33 b(are)h(quite)f(happ)o(y)g(to)g(specify)g(and)g(write)g
(programs)f(\(deri)n(v)o(ed)h(introduction)e(rules\))i(in)g(an)357
2057 y(abstract)e(and)h(modular)f(f)o(ashion\227we)g(should)g(deri)n(v)
o(e)f(the)i(corresponding)f(elimination)f(rules)357 2207
y(so)j(that)g(we)g(can)h(reason)f(about)g(programs)g(in)g(an)g
(abstract)g(and)h(modular)e(f)o(ashion.)56 b(W)-8 b(e)34
b(ha)n(v)o(e)357 2356 y(been)i(trying)e(f)o(ar)j(too)e(long)g(to)g(pro)
o(v)o(e)g(properties)g(of)h(programs)f(by)g(\002ddling)g(about)h(with)e
(the)357 2506 y(primiti)n(v)o(e)22 b(rules)j(for)g(data\227we)g(w)o
(ould)f(ne)n(v)o(er)g(dream)h(of)g FU(writing)f F4(programs)g(that)h(w)
o(ay)-6 b(.)31 b(Henrik)357 2655 y(Persson)e(has)h(also)f(identi\002ed)
g(this)g(style)g(of)h(reasoning)f(as)h(of)f(considerable)h(assistance)f
(in)g(his)357 2804 y(formalisation)19 b(of)i(the)f(polynomial)f(ring)h
([Per99)q(].)29 b(First-order)21 b(equational)f(speci\002cations)g
(only)357 2954 y(do)36 b(half)h(the)g(job\227the)o(y)e(are)i
(inappropriate)f(for)h(reasoning)g(about)f(the)h FU(usa)o(g)o(e)f
F4(of)h(programs.)357 3103 y(That)32 b(is,)i(the)o(y)e(are)i(good)e
(for)h(characterising)g(introduction)e(beha)n(viour)l(,)j(b)n(ut)e(the)
o(y)g(need)h(to)f(be)357 3253 y(complemented)23 b(by)i(a)g(more)g(ef)n
(fecti)n(v)o(e)e(treatment)i(of)g(elimination.)357 3462
y(I)e(belie)n(v)o(e)f(the)h(technology)g(and)g(methodology)e(de)n(v)o
(eloped)h(in)h(this)f(thesis)g(contrib)n(utes)g(not)h(only)357
3612 y(to)29 b(the)g(writing)f(of)h(programs)g(which)f(mak)o(e)i
(sense,)g(b)n(ut)e(to)h(the)g(ef)n(fecti)n(v)o(e)g(e)o(xploitation)d
(of)k(that)357 3761 y(sense)24 b(in)h(reasoning)f(about)g(them.)357
4161 y FT(8.1)142 b(further)35 b(w)o(ork)601 4455 y FU(`The)25
b(world)g(will)f(be)h(far)f(better)g(when)i(we)f(turn)f(things)g
(upside)g(down.)-14 b(')601 4604 y F4(\(J.)24 b(Bruce)i(Glasier\))357
4921 y(There)f(is)f(a)h(great)g(deal)g(to)g(be)g(done.)357
5131 y(Firstly)-6 b(,)36 b(as)g(f)o(ar)g(as)f(the)g(technology)f
(supporting)g(dependently)g(typed)h(programming)e(is)i(con-)357
5280 y(cerned,)c(it)e(is)g(an)g(important)f(task)h(to)g(identify)g(a)h
FU(r)l(eco)o(gnisable)e F4(dependently)h(typed)f(program-)357
5430 y(ming)23 b(language.)30 b(As)24 b(things)f(stand,)g(the)h
(equational)f(programs)h(we)g(might)f(lik)o(e)h(to)f(write)h(corre-)
1997 5667 y(242)p eop
%%Page: 243 248
243 247 bop 357 -6 a F4(spond)28 b(only)h(to)g(the)g(deducible)g
(computational)e(beha)n(viour)i(of)g(comple)o(x)g(proof)g(terms\227if)f
(we)357 144 y(w)o(ant)c(to)h(be)g(able)g(to)f(check)h(a)g(reloaded)g
(program,)g(we)g(need)g(to)f(reload)h(its)f(justi\002cation.)357
353 y(As)i(I)h(pointed)e(out)h(in)g(chapter)h(six,)f(the)g(problem)g
(lies)g(in)g(ensuring)g(that)g(stored)g(programs)g(gi)n(v)o(e)357
503 y(a)e(satisf)o(actory)f(account)h(of)h(their)e(empty)g(cases.)31
b(I)24 b(belie)n(v)o(e)f(that)h(a)g(reasonable)g(w)o(ay)g(to)g(go)g
(about)357 652 y(this)30 b(is)i(to)f(mak)o(e)h(the)f(machine)g(capable)
h(of)g(detecting)f(those)g(ar)n(gument)h(types)f(which)g(can)h(be)357
802 y(sho)n(wn)h(to)h(be)g(empty)g(by)g(one)h(step)f(of)g(case)h
(analysis.)59 b(If)35 b(more)f(than)g(one)g(step)g(is)g(required,)357
951 y(then)25 b(the)h(empty)f(type)g(can)h(nonetheless)f(be)h(split)e
(into)h(nontri)n(vial)f(constructor)h(cases,)i(and)e(this)357
1101 y(is)j(something)e(the)i(program)g(can)h(and)f(should)g(record.)42
b(In)28 b(ef)n(fect,)h(the)g(program)f(must)f(contain)357
1250 y(enough)d(hints)g(to)g(allo)n(w)g(the)g(reconstruction)g(of)h
(the)g(emptiness)e(proof.)357 1459 y(W)-8 b(e)24 b(might)f(consider)h
(insisting)e(that)h(types)h(be)g(`\002lled)g(up')g(with)g(mark)o(ers)g
(indicating)e(`badness')357 1609 y(in)j(re)o(gions)f(which)h(w)o(ould)g
(otherwise)f(be)i(empty)-6 b(.)31 b(What)26 b(implications)d(for)i(the)
h(e)o(xpressi)n(v)o(eness)357 1758 y(of)d(the)g(type)g(system)f(the)h
(enforcement)g(of)g(this)f(discipline)g(w)o(ould)g(entail,)h(it)g(is)f
(too)h(early)g(to)g(say)-6 b(.)357 1908 y(Ho)n(we)n(v)o(er)l(,)26
b(the)h(propagation)f(of)h(`badness')g(surely)f(in)l(v)n(olv)o(es)g
(the)h(same)g(w)o(ork)g(as)g(the)g(propaga-)357 2057
y(tion)k(of)h(emptiness.)52 b(It)32 b(is)g(a)g(question)f(of)h(which)g
(gi)n(v)o(es)f(the)h(clearest)g(treatment,)i(and)e(a)g(more)357
2207 y(e)o(xplicit)23 b(approach)i(is)f(certainly)h(w)o(orthy)f(of)g
(attention.)357 2416 y(W)l(ith)d(the)g(de)n(v)o(elopment)f(of)i(impro)o
(v)o(ed)d(technology)i(for)h(programming)e(with)h(dependent)g(types,)
357 2566 y(there)33 b(is)f(an)i(imperati)n(v)o(e)d(to)h
FU(write)h(pr)l(o)o(gr)o(ams)p F4(.)53 b(Despite)32 b(the)h(clear)h(ar)
n(gument)e(from)h(principle)357 2715 y(that)25 b(more)g(precise)h(data)
g(structures)f(lead)h(to)f(tighter)g(programs\227otherwise,)f(why)h(ha)
n(v)o(e)g(types)357 2864 y(at)g(all?\227it)e(is)i(not)f(rhetoric)h
(which)f(changes)h FU(pr)o(actice)f F4(b)n(ut)g(competition.)357
3074 y(One)i(e)o(xample,)f(close)h(to)g(home,)f(which)h(springs)f(to)h
(mind)f(is)g(the)h(de)n(v)o(elopment)e(of)i(a)g(polymor)n(-)357
3223 y(phically)37 b(typed)h(strongly)g(terminating)f(functional)g
(programming)g(language:)58 b(parser)l(,)43 b(type)357
3373 y(inference)28 b(algorithm,)g(interpreter)-5 b(.)40
b(Delphine)27 b(T)-7 b(errasse)29 b(has)f(encoded)g(Natural)g
(Semantics)g(in)357 3522 y(Coq)j([T)-7 b(er95a,)31 b(T)-7
b(er95b])31 b(using)f(a)i(simply)d(typed)i(presentation)f(of)h(terms)f
(and)h(types,)h(with)f(in-)357 3672 y(ducti)n(v)o(ely)24
b(de\002ned)i(relations)f(describing)g(v)n(alid)g(formation)g(and)h
(typing.)33 b(It)26 b(seems)f(reasonable)357 3821 y(to)i(hope)g(that)f
(these)i(latter)f(properties)g(can)g(be)h(b)n(uilt)e(directly)g(into)h
(data)g(structures)g(via)g(depen-)357 3971 y(dent)d(types.)30
b(The)24 b(w)o(ork)g(of)h(Altenkirch)e(and)i(Reus)f([AR99])h(and)f(of)h
(Augustsson)d(and)j(Carlsson)357 4120 y([A)l(C99])i(is)e(already)i(mo)o
(ving)e(positi)n(v)o(ely)e(in)j(this)g(direction.)34
b(Further)l(,)27 b(ha)n(ving)f(de)n(v)o(eloped)f(\002rst-)357
4269 y(order)20 b(uni\002cation,)h(an)g(ML-style)e(type)h(inference)h
(algorithm)e([DM82)o(])i(seems)f(an)h(ob)o(vious)d(ne)o(xt)357
4419 y(step,)25 b(especially)g(as)h(\002nding)f(principal)f(types)h(is)
g(another)h(optimisation)d(problem)h(addressable)357
4568 y(by)g(the)h(optimistic)d(strate)o(gy)-6 b(.)30
b(Also,)24 b(there)h(are)g(e)o(xisting)e(de)n(v)o(elopments)g(in)h
(simple)g(types)g(a)n(v)n(ail-)357 4718 y(able)h(for)g(comparison)e
([NN96,)i(DM99)o(].)357 4927 y(Ho)n(we)n(v)o(er)l(,)d(in)h(tandem)g
(with)g(the)g(continuing)f(de)n(v)o(elopment)f(of)j(programming)d
(technology)-6 b(,)22 b(the)357 5077 y(de)n(v)o(elopment)e(of)j(a)h
(strong)e(speci\002cation)g(methodology)f(which)i(includes)f
(elimination)f(as)i(well)357 5226 y(as)29 b(introduction)f(rules)h
(seems)g(a)h(task)f(of)g(genuine)g(importance.)44 b(The)30
b(focus)f(of)h(that)f(de)n(v)o(elop-)357 5375 y(ment)k(should)h(be)g
(on)g(program)g FU(derivation)f F4(at)h(least)h(as)f(much)g(as)g
FU(veri\002cation)p F4(.)58 b(Ev)o(en)34 b(at)g(the)1997
5667 y(243)p eop
%%Page: 244 249
244 248 bop 357 -6 a F4(early)31 b(stage)g(reached)h(in)f(this)f
(thesis,)i(we)f(ha)n(v)o(e)g(seen)g(a)h(small)e(e)o(xample)g(of)h
(elimination)f(rules)357 144 y(used)d(to)g(transform)g(a)h
(speci\002cation)g(to)n(w)o(ards)e(a)i(program\227the)f(de)n(v)o
(elopment)f(of)h FZ(thic)o(k)h F4(from)357 293 y FZ(thin)o
F4(.)357 503 y(More)h(than)h(this,)g(an)g(area)h(of)f(interest)f(not)h
(touched)f(on)h(in)f(this)g(thesis,)h(b)n(ut)g(prominent)e(in)i(my)357
652 y(thinking)e(is)j(the)f(use)g(of)h(deri)n(v)o(ed)e(elimination)g
(rules)h(for)h(programming)e(itself.)47 b(As)30 b(a)h(starting)357
802 y(point,)h(it)f(seems)h(v)o(ery)f(lik)o(ely)g(that)g(Phil)h(W)-8
b(adler')j(s)31 b(suggestion)f(to)i(equip)f(datatypes)g(with)g(dif-)357
951 y(ferent)e(`vie)n(ws')g([W)-8 b(ad87])29 b(supporting)f(dif)n
(ferent)h(notions)e(of)j(pattern)f(matching)f(for)h(the)g(same)357
1101 y(underlying)23 b(type)i(can)g(be)g(put)f(on)h(a)g(sound)f
(footing.)357 1310 y(The)h(moti)n(v)n(ation)d(for)k(such)f(a)h(de)n(v)o
(elopment)d(is)i(v)o(ery)g(straightforw)o(ard.)31 b(As)25
b(a)h(matter)f(of)g(course,)357 1459 y(we)g(write)f(`deri)n(v)o(ed)g
(constructors'\227functions)f(which)h(b)n(uild)g(elements)g(of)h
(datatypes)f(in)g(more)357 1609 y(abstract)d(patterns,)h(re\003ecting)g
(the)f(macroscopic)g(structure)g(of)h(the)f(problem)g(at)g(hand.)30
b(W)-8 b(e)21 b(write)357 1758 y FZ(plus)g F4(to)h(add)g(numbers)g
(together)l(,)g FZ(snoc)g F4(to)g(add)h(an)f(element)g(to)g(the)g(end)g
(of)g(a)h(list,)e(and)i(so)f(forth.)357 1908 y(It)j(w)o(ould)g(surely)g
(be)g(helpful)g(to)g(equip)g(programmers)f(with)h(the)g(means)g(to)g
(analyse)h(data)f(at)g(the)357 2057 y(same)f(macroscopic)h(le)n(v)o
(el.)357 2267 y(Although)f(a)i(great)g(deal)f(of)h(attention)e(has)i
(been)g(paid)f(to)g(de)n(v)o(eloping)e(what)j(goes)f(on)g(the)h(right-)
357 2416 y(hand)34 b(side)g(of)g(pattern)h(equations)e(in)h(a)h
(principled)e(w)o(ay)-6 b(,)37 b(the)d(left-hand)g(side)g(has)g(long)g
(been)357 2566 y(ne)o(glected.)29 b(It)24 b(is)f(time)g(the)h(left)f
(came)h(into)f(its)g(o)n(wn.)30 b(W)-8 b(e)24 b(ha)n(v)o(e)f(nothing)f
(to)i(lose)f(b)n(ut)g(our)h(chains.)357 2715 y(W)-8 b(e)25
b(ha)n(v)o(e)f(a)i(w)o(orld)e(to)g(gain.)1997 5667 y(244)p
eop
%%Page: 245 250
245 249 bop 357 719 a F1(A)-5 b(ppendix)51 b(A)357 1194
y(Implementation)357 1735 y F4(A)25 b(fe)n(w)f(points)g(about)g(the)h
(prototype)e(implementation:)502 2053 y F3(\017)51 b
F4(O)t F2(L)t(E)t(G)26 b F4(w)o(as)c(implemented)e(primarily)g(as)i
(technology)f(for)h(the)f(machine)h(construction)e(of)601
2202 y(the)29 b(standard)g(theorems)g(with)f(which)i(I)f(equip)g
(datatypes,)h(and)g(to)f(support)f(the)h(writing)601
2352 y(of)e(tactics)g(at)h(a)g(relati)n(v)o(ely)d(high)i(le)n(v)o(el.)
38 b(The)27 b(separation)g(of)h(partial)f(constructions)f(from)601
2501 y(terms)k(is)g(not)g(rigidly)g(enforced.)49 b(Further)l(,)33
b(as)d(it)h(uses)h(L)t F2(E)t(G)t(O)r F4(')-5 b(s)33
b(uni\002cation)d(algorithm,)601 2650 y(the)h(scoping)g(conditions)g
(for)h(solving)e(holes)i(are)g(not)g(enforced)g(either)-5
b(.)52 b(Ho)n(we)n(v)o(er)l(,)32 b(the)601 2800 y(complete)f(terms)g
(generated)h(are)h(independently)d(check)o(ed)i(by)i(L)t
F2(E)t(G)t(O)r F4(')-5 b(s)34 b(reliable)d(type-)601
2949 y(check)o(er)25 b(before)h(the)o(y)e(are)h(trusted.)601
3140 y(The)i(restrictions)f(on)h(the)g(positioning)d(and)j(beha)n
(viour)g(of)g(holes)g(were)h(not)e(rationalised)601 3290
y(until)33 b(after)i(the)g(implementation)d(w)o(as)i(complete.)60
b(Nonetheless,)36 b(in)e(all)g(the)h(de)n(v)o(elop-)601
3439 y(ments)28 b(I)h(implemented,)f(I)h(found)f(that)h(I)g(obe)o(yed)f
(them.)43 b(This)28 b(gi)n(v)o(es)f(at)i(least)f(anecdotal)601
3589 y(support)21 b(to)g(the)h(suggestion)e(that)i(the)o(y)f(are,)i(in)
f(some)f(w)o(ay)-6 b(,)22 b(natural)g(restrictions)f(to)h(mak)o(e.)502
3821 y F3(\017)49 b F4(The)23 b(implementation)e(of)i(the)h
F0(eliminate)f F4(tactic)g(does)g(not)g(ha)n(v)o(e)g(the)g(abstraction)
g(f)o(acility)601 3971 y(described)30 b(in)g(chapter)g(three.)48
b(This)29 b(still)g(mak)o(es)h(it)g(entirely)g(adequate)g(for)h(all)f
(the)g(pro-)601 4120 y(gramming)i(in)i(this)f(thesis,)j(as)e(such)g
(abstractions)f(are)i(not)f(necessary)g(when)g(w)o(orking)601
4269 y(with)24 b(datatype)g(elimination)f(rules.)601
4460 y(The)28 b(tactic)h(does)f(not,)h(ho)n(we)n(v)o(er)l(,)f(support)g
(deri)n(v)o(ed)f(elimination)g(rules)h(for)h(functions)f(in)601
4610 y(the)33 b(w)o(ay)h(that)g(it)f(should.)57 b(Although)33
b(the)h(e)o(xamples)e(using)h(such)h(rules)g(ha)n(v)o(e)f(all)h(been)
601 4759 y(implemented)24 b(and)h(machine)g(check)o(ed,)i(the)e
(elimination)f(rules)h(for)h(functions)f(were)h(ap-)601
4909 y(plied)e(by)g(hand.)502 5141 y F3(\017)49 b F4(The)35
b(in)l(v)o(ention)f(of)i(`John)g(Major')f(equality)g(came)h(some)g
(time)f(after)h(I)h(stopped)d(w)o(ork)601 5291 y(on)39
b(the)h(prototype.)74 b(Consequently)-6 b(,)42 b(the)e(traditional)e
(equality)h(\(plus)g(uniqueness\))g(is)601 5440 y(used.)55
b(T)-7 b(elescopic)33 b(equations)g(are)h(thus)e(represented)h(in)g(a)h
(some)n(what)e(a)o(wkw)o(ard)h(w)o(ay)-6 b(,)1997 5667
y(245)p eop
%%Page: 246 251
246 250 bop 601 -6 a F4(with)32 b(each)j(equation)e(in)g(the)g
(telescope)h(coercing)g(by)f(all)g(the)h(pre)n(vious)e(ones)i(in)f
(order)601 144 y(to)f(be)h(well)f(typed.)54 b(This)32
b(signi\002cantly)g(complicated)g(the)g(elimination)f(tactic)i(and)f
(the)601 293 y(uni\002cation)24 b(technology)-6 b(,)23
b(b)n(ut)h(nonetheless)g(the)o(y)g(w)o(ork.)1997 5667
y(246)p eop
%%Page: 247 252
247 251 bop 357 719 a F1(Bibliograph)m(y)357 1230 y F4([AR99])254
b(Thorsten)25 b(Altenkirch,)g(Bernhard)i(Reus.)f(Monadic)g
(presentations)f(of)h(lambda-)915 1350 y(terms)40 b(using)f
(generalized)i(inducti)n(v)o(e)e(types.)h(In)g(Computer)g(Science)i
(Logic,)915 1469 y(1999.)357 1672 y([ASG99])193 b(Alessandro)31
b(Armando,)j(Alan)e(Smaill,)h(Ian)g(Green.)g(Automatic)e(Synthesis)g
(of)915 1792 y(Recursi)n(v)o(e)39 b(Programs:)59 b(The)40
b(Proof-Planning)f(P)o(aradigm.)g(Automated)f(Soft-)915
1911 y(w)o(are)25 b(Engineering,)f(6\(4\):329\226356.)f(October)i
(1999.)357 2114 y([Aug85])220 b(Lennart)22 b(Augustsson.)e(Compiling)h
(P)o(attern)h(Matching.)f(In)i(Conference)g(Funci-)915
2233 y(tonal)h(Programming)g(and)g(Computer)h(Architecture,)g(1985.)357
2436 y([Aug98])220 b(Lennart)45 b(Augustsson.)e(Cayenne\227a)i
(language)g(with)f(dependent)h(types.)f(In)915 2555 y(Proceedings)19
b(of)h(the)g(International)f(Conference)i(on)e(Functional)g
(Programming)915 2675 y(\(ICFP'98\).)26 b(A)l(CM)f(Press,)g(September)g
(1998.)357 2877 y([A)l(C99])258 b(Lennart)25 b(Augustsson,)g(Magnus)g
(Carlsson.)g(An)h(e)o(x)o(ercise)f(in)h(dependent)f(types:)915
2997 y(A)f(well-typed)g(interpreter)-5 b(.)25 b(1999.)357
3200 y([Bar92])249 b(Henk)52 b(Barendre)o(gt.)i(Lambda)e(calculi)h
(with)f(types.)g(In)h(D.M.)g(Gabbay)-6 b(,)59 b(S.)915
3319 y(Abramsk)o(y)18 b(and)i(T)-7 b(.S.E.)20 b(Maibaum,)g(editors,)g
(Handbook)f(of)i(Logic)e(in)h(computer)915 3439 y(Science,)25
b(v)n(olume)f(1.)h(OUP)-11 b(.)25 b(1992.)357 3641 y([Bar99])249
b(Bruno)37 b(Barras.)i(Auto)e(v)n(alidation)e(d'un)i(syst)6
b(\036)-39 b(eme)37 b(de)h(preuv)o(es)f(a)n(v)o(ec)g(f)o(amilles)915
3761 y(inducti)n(v)o(es.)22 b(PhD)j(Thesis,)f(Uni)n(v)o(ersit)6
b(\264)-39 b(e)23 b(P)o(aris)i(VII.)g(No)o(v)o(ember)e(1999.)357
3963 y([BH94])254 b(Franc)-38 b(\270)6 b(oise)21 b(Belle)o(garde,)h
(James)g(Hook.)f(Substitution:)27 b(A)22 b(formal)g(methods)f(case)915
4083 y(study)f(using)g(monads)g(and)h(transformations.)e(Science)j(of)f
(Computer)g(Program-)915 4203 y(ming,)i(23\(2-3\).)i(1994.)357
4405 y([BP99])271 b(Richard)37 b(Bird,)k(Ross)c(P)o(aterson.)f(de)i
(Bruijn)f(notation)e(as)j(a)f(nested)g(datatype.)915
4525 y(Journal)24 b(of)h(Functional)f(Programming.)g(V)-13
b(ol.)24 b(9,)h(No.)f(1,)h(pp77\22692.)e(1999.)357 4727
y([Bo)o(v)o(e99])184 b(Ana)41 b(Bo)o(v)o(e.)f(Programming)g(in)g
(Martin-L)8 b(\250)-41 b(of)40 b(T)-8 b(ype)41 b(Theory)-6
b(.)40 b(Uni\002cation:)62 b(A)915 4847 y(non-tri)n(vial)20
b(Example.)i(Licentiate)g(Thesis.)f(Chalmers)i(Uni)n(v)o(ersity)d(of)j
(T)-7 b(echnol-)915 4966 y(ogy)h(,)23 b(G)8 b(\250)-41
b(otebor)n(g.)25 b(In)g(preparation.)357 5169 y([Bro96])243
b(Jason)48 b(Bro)n(wn.)g(Presentations)f(of)i(Uni\002cation)f(in)g(a)h
(Logical)f(Frame)n(w)o(ork.)915 5288 y(1996.)24 b(D.)g(Phil)h(Thesis.)f
(K)n(eble)g(Colle)o(ge,)g(Oxford.)1997 5667 y(247)p eop
%%Page: 248 253
248 252 bop 357 -6 a F4([BD77])254 b(Rod)20 b(Burstall,)h(John)e
(Darlington.)g(A)h(T)m(ransformation)e(System)i(for)g(De)n(v)o(eloping)
915 114 y(Recursi)n(v)o(e)k(Programs.)h(J)-6 b(A)l(CM,)24
b(V)-13 b(ol.)25 b(24,)f(No.)h(1,)f(January)h(1997,)f(pp44\22667.)357
313 y([Bur69])243 b(Rod)35 b(Burstall.)g(Pro)o(ving)g(Properties)g(of)h
(Programs)f(by)g(Structural)g(Induction.)915 432 y(Computer)24
b(Journal,)g(12\(1\).)h(pp41\22648.)e(1969.)357 631 y([BMS80])182
b(Rod)37 b(Burstall,)j(Da)n(v)o(e)d(MacQueen,)j(Don)d(Sannella.)g
(Hope:)55 b(An)37 b(Experimen-)915 750 y(tal)25 b(Applicati)n(v)o(e)f
(Language.)h(In)h(Proceedings)f(of)h(the)g(1980)f(LISP)h(Conference.)
915 870 y(Stanford,)f(California.)357 1069 y([Bur87])243
b(Rod)22 b(Burstall.)g(Inducti)n(v)o(ely)e(De\002ned)j(Functions)e(in)h
(Functional)f(Programming)915 1188 y(Languages.)f(Journal)g(of)g
(Computer)g(and)h(System)f(Sciences.)h(V)-13 b(ol.)20
b(34,)h(Nos.)f(2/3,)915 1308 y(April/June)j(1987,)h(pp409\226421.)357
1506 y([Cla78])254 b(K.)25 b(Clark.)h(Ne)o(gation)f(as)g(F)o(ailure.)h
(Logic)f(and)h(Databases,)g(editors)f(H.)g(Gallaire,)915
1626 y(J.)f(Mink)o(er)l(,)g(pp293\226322.)f(Plenum)i(Press.)g(1978.)357
1824 y([Coen92])182 b(Martin)23 b(Coen.)h(Interacti)n(v)o(e)g(Program)g
(Deri)n(v)n(ation.)e(PhD)i(Thesis.)f(Uni)n(v)o(ersity)f(of)915
1944 y(Cambridge.)i(1992.)357 2143 y([CG99])254 b(Adriana)22
b(Compagnoni,)g(Healfdene)h(Goguen.)f(T)-8 b(yped)22
b(Operational)g(Semantics)915 2262 y(for)g(Higher)g(Order)h(Subtyping.)
e(T)-8 b(o)22 b(appear)h(in)f(Information)g(and)g(Computation.)357
2461 y([Coq97])226 b(Projet)38 b(Coq.)g(The)h(Coq)f(Proof)h(Assistant)e
(Reference)j(Manual,)h(V)-11 b(ersion)38 b(6.1.)915 2580
y(Rapport)25 b(de)g(recherche)h(203,)e(INRIA.)h(1997.)357
2779 y([CPM90])182 b(Thierry)22 b(Coquand,)h(Christine)g(P)o
(aulin-Mohring.)e(Inducti)n(v)o(ely)f(De\002ned)k(T)-8
b(ypes.)915 2898 y(In)52 b(P)-11 b(.)53 b(Martin-L)8
b(\250)-41 b(of)51 b(and)i(G.)f(Mints)f(editors,)59 b(Proceedings)52
b(of)g(Colog)g('88.)915 3018 y(Springer)n(-V)-11 b(erlag)25
b(LNCS)g(417.)g(1990.)357 3217 y([Coq92])226 b(Thierry)27
b(Coquand.)g(P)o(attern)g(Matching)g(with)g(Dependent)g(T)-8
b(ypes.)27 b(In)g(Proceed-)915 3336 y(ings)d(T)-8 b(ypes)24
b(for)h(Proofs)g(and)g(Programs,)g(June)f(1992.)357 3535
y([CS93])271 b(Thierry)31 b(Coquand,)j(Jan)e(Smith.)f(What)h(is)f(the)h
(status)f(of)h(pattern)g(matching)f(in)915 3654 y(type)24
b(theory?)31 b(In)25 b(El)f(W)l(intermte,)g(pp112\226114.)f(June)i
(1993.)357 3853 y([CT95])265 b(Cristina)43 b(Cornes,)48
b(Delphine)43 b(T)-7 b(errasse.)44 b(In)l(v)o(erting)f(Inducti)n(v)o(e)
f(Predicates)i(in)915 3973 y(Coq.)22 b(In)h(T)-8 b(ypes)23
b(for)g(Proofs)g(and)f(Programs:)30 b(International)22
b(W)-8 b(orkshop)22 b(TYPES)915 4092 y('95.)i(Springer)n(-V)-11
b(erlag)25 b(LNCS)h(1158.)e(June)h(1995.)357 4291 y([Cor97])243
b(Cristina)84 b(Cornes.)h(Conception)f(d'un)g(langage)g(de)h(haut)f(ni)
n(v)o(eau)f(de)915 4410 y(repr)6 b(\264)-39 b(esentation)24
b(de)h(preuv)o(es.)f(Doctoral)h(Thesis,)e(Uni)n(v)o(ersit)6
b(\264)-39 b(e)23 b(P)o(aris)i(VII.)g(1997.)357 4609
y([CF58])271 b(H.B.)32 b(Curry)-6 b(,)35 b(R.)e(Fe)o(ys.)f(Combinatory)
f(Logic.)h(Amsterdam:)45 b(North)32 b(Holland.)915 4728
y(1958.)357 4927 y([DM82])231 b(Luis)32 b(Damas,)k(Robin)d(Milner)-5
b(.)32 b(Principal)i(type)f(schemes)g(for)h(functional)e(pro-)915
5047 y(grams.)k(In)h(Proceedings,)i(9th)d(A)l(CM)h(Symposium,)h
(Principles)e(of)h(Program-)915 5166 y(ming)23 b(Languages,)i
(pp207\226212.)e(1982.)357 5365 y([deB72])232 b(N.G.)22
b(de)i(Bruijn)e(Lambda)h(calculus)f(notation)g(with)g(nameless)h
(dummies.)e(Inda-)915 5484 y(gationes)i(mathematicae)h(34,)h
(pp381\226392.)1997 5667 y(248)p eop
%%Page: 249 254
249 253 bop 357 -6 a F4([deB91])232 b(N.G.)24 b(de)g(Bruijn.)g(T)-7
b(elescopic)24 b(Mappings)f(in)g(T)-8 b(yped)24 b(Lambda-Calculus.)g
(Infor)n(-)915 114 y(mation)f(and)i(Computation)e(91,)i(pp189\226204.)e
(1991.)357 316 y([DM99])231 b(C.)20 b(Dubois,)g(V)-13
b(.)20 b(Menissier)n(-Morain.)f(Certi\002cation)h(of)h(a)f(type)g
(inference)h(tool)e(for)915 435 y(ML:)29 b(Damas-Milner)g(within)g
(Coq.)h(Journal)g(of)g(Automated)f(Reasoning,)i(V)-13
b(ol.)915 555 y(23,)24 b(No.)h(3,)f(pp319\226346.)f(No)o(v)o(ember)l(,)
h(1999.)357 756 y([Dyb91])220 b(Peter)28 b(Dybjer)-5
b(.)26 b(Inducti)n(v)o(e)g(Sets)i(and)f(F)o(amilies)f(in)h(Martin-L)8
b(\250)-41 b(of)5 b(')-5 b(s)27 b(T)-8 b(ype)27 b(Theory)-6
b(.)915 876 y(Logical)24 b(Frame)n(w)o(orks,)g(edited)h(by)f(G.)h(Huet)
g(and)f(G.)h(Plotkin.)f(CUP)h(1991.)357 1077 y([Gen35])226
b(Gerhard)29 b(Dentzen.)h(Untersuchungen)36 b(\250)-41
b(uber)29 b(das)g(logische)g(Schliessen.)g(Math-)915
1197 y(ematische)41 b(Zeitschrift)g(39,)46 b(pp176\226210,)e
(405\226431.)d(1935.)g(\(In)h(translation,)915 1317 y(pp68\226131)26
b(of)i(The)g(Collected)g(P)o(apers)g(of)h(Gerhard)f(Gentzen,)h(edited)e
(by)h(M.E.)915 1436 y(Szabo,)d(North-Holland,)e(1969.\))357
1638 y([Gim94])214 b(E.)22 b(Gim)6 b(\264)-39 b(enez.)23
b(Codifying)f(guarded)h(de\002nitions)f(with)g(recursi)n(v)o(e)g
(schemes.)h(Pro-)915 1757 y(ceedings)h(of)h(T)-8 b(ypes)24
b(94,)h(pp39\22759.)357 1959 y([Gim96])214 b(E.)25 b(Gim)6
b(\264)-39 b(enez.)24 b(Un)h(Calcul)h(de)f(Constructions)f(In\002nies)h
(et)g(son)f(Application)29 b(\036)-38 b(a)25 b(la)915
2078 y(V)6 b(\264)-39 b(eri\002cation)35 b(de)g(Syst)6
b(\036)-39 b(emes)35 b(Communicants.)e(Doctoral)i(Thesis.)f(ENS)h(L)-5
b(yon.)915 2198 y(1996.)357 2399 y([Gim98])214 b(E.)37
b(Gim)6 b(\264)-39 b(enez.)37 b(Structural)g(Recursi)n(v)o(e)g
(De\002nitions)f(in)h(T)-8 b(ype)38 b(Theory)-6 b(.)36
b(In)i(Pro-)915 2519 y(ceedings)24 b(of)h(ICALP)h('98.)e(Springer)n(-V)
-11 b(erlag)26 b(LNCS)f(1443.)f(July)g(1998.)357 2721
y([Gog94])220 b(H.)26 b(Goguen.)h(A)g(T)-8 b(yped)26
b(Operational)g(semantics)g(for)h(T)-8 b(ype)27 b(Theory)-6
b(.)26 b(PhD)h(The-)915 2840 y(sis.)d(Uni)n(v)o(ersity)e(of)j(Edinb)n
(ur)n(gh.)f(CST)-9 b(-110-94.)357 3042 y([GS91])265 b(P)-11
b(.A.)29 b(Gardner)l(,)h(J.C.)f(Shepherdson.)f(Unfold/F)o(old)f(T)m
(ransformations)g(of)i(Logic)915 3161 y(Programs.)40
b(pp565\227582)f(of)h(Computational)f(Logic:)61 b(Essays)40
b(in)g(Honor)g(of)915 3281 y(Alan)30 b(Robinson,)h(edited)e(by)i
(Jean-Louis)e(Lassez)i(and)f(Gordon)g(Plotkin,)h(MIT)915
3400 y(Press,)25 b(1991.)357 3602 y([Hal99])248 b(Thomas)24
b(Hallgren.)g(Alf)o(a)h(User')-5 b(s)24 b(Guide.)915
3722 y FW(http://www.cs.chalmers.se/\230h)o(allg)o(ren/A)o(lfa)357
3923 y F4([HP91])265 b(Robert)30 b(Harper)l(,)i(Robert)e(Pollack.)g(T)
-8 b(ype)30 b(checking,)g(uni)n(v)o(erse)f(polymorphism)915
4043 y(and)23 b(typical)f(ambiguity)f(in)i(the)g(calculus)f(of)h
(constructions.)e(Theoretical)i(Com-)915 4162 y(puter)h(Science,)i
(89\(1\).)f(1991.)357 4364 y([vHLS98])154 b(F)-8 b(.)31
b(v)n(on)f(Henk)o(e,)h(M.)f(Luther)l(,)i(M.)e(Streck)o(er)-5
b(.)31 b(Interacti)n(v)o(e)e(and)i(automated)e(proof)915
4483 y(construction)e(in)h(type)h(theory)-6 b(.)27 b(In)i(Bibel)g(and)g
(Schmitt)f(\(1998\),)h(chapter)g(3:)38 b(In-)915 4603
y(teracti)n(v)o(e)24 b(Theorem)g(Pro)o(ving.)357 4804
y([HoS94])215 b(Martin)19 b(Hofmann,)h(Thomas)f(Streicher)-5
b(.)20 b(The)g(groupoid)f(model)g(refutes)h(unique-)915
4924 y(ness)j(of)g(identity)f(proofs.)g(Proceedings,)i(Ninth)e(Annual)h
(IEEE)g(Symposium)f(on)915 5044 y(Logic)j(in)g(Computer)g(Science.)i
(pp208\226212.)d(P)o(aris,)h(France.)i(July)e(1994.)f(IEEE)915
5163 y(Computer)g(Society)h(Press.)357 5365 y([Hof95])237
b(Martin)29 b(Hofmann.)h(Extensional)f(concepts)h(in)h(intensional)d
(type)j(theory)-6 b(.)29 b(PhD)915 5484 y(Thesis.)24
b(Uni)n(v)o(ersity)e(of)j(Edinb)n(ur)n(gh.)f(CST)-9 b(-117-95.)1997
5667 y(249)p eop
%%Page: 250 255
250 254 bop 357 -6 a F4([Hue75])226 b(G)6 b(\264)-39
b(erard)20 b(Huet.)g(A)g(Uni\002cation)g(Algorithm)e(for)j(T)-8
b(yped)20 b FY(\025)p F4(-Calculus.)g(Theoretical)915
114 y(Computer)k(Science)i(1,)e(pp27\22757.)g(1975.)357
317 y([Hue97])226 b(G)6 b(\264)-39 b(erard)21 b(Huet.)e(The)i(Zipper)-5
b(.)19 b(Journal)h(of)g(Functional)g(Programming)f(V)-13
b(ol.)20 b(7,)h(No.)915 436 y(5,)j(pp549\226554.)f(1997)357
639 y([Jau97])259 b(M.)27 b(Jaume.)h(Uni\002cation)g(:)37
b(a)29 b(Case)g(Study)e(in)h(T)m(ransposition)e(of)i(F)o(ormal)g(Prop-)
915 758 y(erties.)45 b(In)h(Supplementary)g(Proceedings)g(of)g(the)g
(10th)f(International)g(Con-)915 878 y(ference)c(on)f(Theorem)g(Pro)o
(ving)f(in)h(Higher)g(Order)h(Logics:)60 b(Poster)40
b(session)915 997 y(TPHOLs'97.)24 b(E.L.)g(Gunter)h(and)g(A.)g(Felty)-6
b(,)24 b(editors.)g(pp79\22693.)f(1997.)357 1200 y([KST94])204
b(Stef)o(an)27 b(Kahrs,)f(Donald)g(Sannella,)h(Andrzej)f(T)-8
b(arlecki.)27 b(The)f(De\002nition)g(of)g(Ex-)915 1320
y(tended)35 b(ML.)g(LFCS)i(T)-7 b(echnical)36 b(Report)g(94-300,)h(Uni)
n(v)o(ersity)d(of)h(Edinb)n(ur)n(gh.)915 1439 y(1994.)357
1642 y([LP92])276 b(Zhaohui)29 b(Luo,)i(Robert)g(Pollack.)f(The)i(L)t
F2(E)t(G)t(O)j F4(proof)30 b(de)n(v)o(elopment)e(system:)40
b(a)915 1761 y(user')-5 b(s)21 b(manual.)h(LFCS)h(T)-7
b(echnical)22 b(Report)h(92-211,)e(Uni)n(v)o(ersity)f(of)i(Edinb)n(ur)n
(gh.)915 1881 y(1992.)357 2083 y([Luo94])231 b(Zhaohui)35
b(Luo.)h(Computation)e(and)i(Reasoning:)53 b(A)36 b(T)-8
b(ype)36 b(Theory)g(for)g(Com-)915 2203 y(puter)24 b(Science.)i(1994.)e
(Oxford)h(Uni)n(v)o(ersity)d(Press.)357 2405 y([Mac71])215
b(Saunders)79 b(MacLane.)g(Cate)o(gories)g(for)g(the)g(W)-8
b(orking)79 b(Mathematician.)915 2525 y(Springer)25 b(V)-11
b(erlag)25 b(GTM)f(5.)h(1971.)357 2728 y([Mag94])209
b(Lena)33 b(Magnusson.)f(The)i(implementation)d(of)i(ALF\227A)h(Proof)g
(Editor)e(based)915 2847 y(on)24 b(Martin-L)8 b(\250)-41
b(of)5 b(')-5 b(s)23 b(Monomorphic)g(T)-8 b(ype)24 b(Theory)g(with)g
(Explicit)f(Substitutiton.)915 2967 y(PhD)i(thesis,)e(Chalmers)i(Uni)n
(v)o(ersity)e(of)i(T)-7 b(echnology)h(,)23 b(G)8 b(\250)-41
b(otebor)n(g.)24 b(1994.)357 3169 y([Man76])209 b(E.)24
b(Manes.)h(Algebraic)f(Theories.)h(Springer)n(-V)-11
b(erlag)25 b(GTM)f(26.)h(1976.)357 3372 y([MW81])209
b(Zohar)43 b(Manna,)49 b(Richard)44 b(W)-8 b(aldinger)j(.)43
b(Deducti)n(v)o(e)f(Synthesis)h(of)h(the)f(Uni\002-)915
3491 y(cation)36 b(Algorithm.)e(Science)j(of)g(Computer)e(Programming,)
k(1:5\22648.)c(North-)915 3611 y(Holland.)23 b(1981.)357
3814 y([MS94])248 b(P)-11 b(.)37 b(Manoury)-6 b(,)38
b(M.)f(Simonot.)e(Automatizing)g(T)-7 b(ermination)35
b(Proofs)i(of)g(Recur)n(-)915 3933 y(si)n(v)o(ely)32
b(De\002ned)j(Functions.)e(Theoretical)h(Computer)g(Science,)j(135,)f
(pp319\226)915 4053 y(343.)24 b(1994.)357 4255 y([M-L71a])165
b(Per)25 b(Martin-L)8 b(\250)-41 b(of.)24 b(An)h(Intuitionistic)d
(Theory)j(Of)g(T)-8 b(ypes.)24 b(Manuscript,)g(1971.)357
4458 y([M-L71b])159 b(Per)21 b(Martin-L)8 b(\250)-41
b(of.)20 b(Hauptsatz)g(for)h(the)f(Intuitionistic)e(Theory)j(of)f
(Iterated)h(Induc-)915 4577 y(ti)n(v)o(e)h(De\002nitions.)h
(Proceedings)h(of)g(the)f(Second)i(Scandina)n(vian)e(Logic)h(Sympo-)915
4697 y(sium.)f(North)i(Holland.)e(1971.)357 4899 y([M-L75])209
b(Per)32 b(Martin-L)8 b(\250)-41 b(of.)31 b(An)g(Intutionistic)e
(Theory)i(Of)h(T)-8 b(ypes:)43 b(Predicati)n(v)o(e)31
b(P)o(art.)g(In)915 5019 y(H.)i(Rose)i(and)e(J.C.)h(Shepherdson,)i
(editors,)g(Logic)d(Colloquium)f('74.)i(North-)915 5139
y(Holland.)23 b(1975.)357 5341 y([M-L84])209 b(Per)25
b(Martin-L)8 b(\250)-41 b(of.)24 b(Intuitionistic)f(T)-8
b(ype)24 b(Theory)-6 b(.)24 b(Bibliopolis,)f(1984.)1997
5667 y(250)p eop
%%Page: 251 256
251 255 bop 357 -6 a F4([McB70])193 b(Fred)31 b(McBride.)g(Computer)f
(Aided)g(Manipulation)f(of)i(Symbols.)e(PhD)i(thesis,)915
114 y(the)24 b(Queen')-5 b(s)25 b(Uni)n(v)o(ersity)d(of)j(Belf)o(ast,)g
(1970.)357 310 y([McB92])193 b(Conor)22 b(McBride,)h(Chris)f(McBride.)h
(POL)-10 b(YSEMY)h(:)22 b(LISP)h(with)e(ambigous)g(pat-)915
429 y(tern)30 b(matching)g(and)h(\002rst)g(class)f(local)g
(de\002nitions.)g(Experimental)g(implemen-)915 549 y(tation.)23
b(1992.)357 745 y([McB96])193 b(Conor)53 b(McBride.)h(In)l(v)o(erting)e
(Inducti)n(v)o(ely)g(De\002ned)i(Relations)f(in)g(LEGO.)915
864 y(T)-8 b(ypes)35 b(for)i(Proofs)f(and)g(Programs,)j(International)d
(W)-8 b(orskshop)35 b(TYPES)h('96.)915 984 y(Springer)n(-V)-11
b(erlag)25 b(LNCS)g(1512.)f(pp236\226253.)357 1179 y([MP67])248
b(J.)32 b(McCarthy)-6 b(,)34 b(J.A.)e(P)o(ainter)-5 b(.)32
b(Correctness)h(of)f(a)h(compiler)f(for)h(arithmetic)e(e)o(x-)915
1299 y(pressions.)24 b(Mathematical)h(Aspects)h(of)g(Computer)g
(Science,)h(pp33\22641.)d(AMS,)915 1419 y(1967.)357 1614
y([McC67])193 b(John)54 b(McCarthy)-6 b(.)54 b(A)h(Basis)h(for)f(a)g
(Mathematical)g(Theory)f(of)i(Computa-)915 1734 y(tion.)37
b(Computer)h(Programming)f(anf)h(F)o(ormal)g(Systems,)i(P)-11
b(.)39 b(Braf)n(fort)f(and)g(D.)915 1853 y(Hirschber)n(g)24
b(editors.)g(North)h(Holland)f(Publishing)f(Compan)o(y)-6
b(.)23 b(1967.)357 2049 y([Mil91])247 b(Dale)20 b(Miller)-5
b(.)19 b(A)i(Logic)f(Programming)g(Language)g(with)g
(Lambda-Abstraction,)915 2169 y(Function)29 b(V)-11 b(ariables)29
b(and)h(Simple)f(Uni\002cation.)g(Journal)g(of)h(Logic)g(and)f(Com-)915
2288 y(putation)23 b(2/4,)h(pp497\226536.)f(1991.)357
2484 y([Mil92])247 b(Dale)44 b(Miller)-5 b(.)42 b(Uni\002cation)h
(Under)h(a)g(Mix)o(ed)e(Pre\002x.)j(Journal)e(of)h(Symbolic)915
2603 y(Computation)23 b(14,)h(pp321\226358.)f(1992.)357
2799 y([MTH90])170 b(Robin)34 b(Milner)l(,)j(Mads)d(T)-8
b(ofte,)37 b(Robert)e(Harper)-5 b(.)35 b(The)g(De\002nition)f(of)h
(Standard)915 2919 y(ML.)24 b(The)h(MIT)f(Press,)h(1990.)357
3114 y([Mog91])203 b(E.)30 b(Moggi.)f(Notions)g(of)h(computation)f(and)
h(monads.)g(Information)f(and)h(Com-)915 3234 y(putation,)23
b(93\(1\).)i(1991.)357 3430 y([Mu)8 b(\230)-41 b(n96])203
b(C)6 b(\264)-39 b(esar)38 b(Mu)8 b(\230)-41 b(noz.)37
b(Dependent)g(T)-8 b(ypes)38 b(with)f(Explicit)f(Substitutions:)54
b(A)37 b(Meta-)915 3549 y(theoretical)d(de)n(v)o(elopment.)e(T)-8
b(ypes)34 b(for)h(Proofs)g(and)f(Programs,)j(International)915
3669 y(W)-8 b(orskshop)23 b(TYPES)j('96.)e(Springer)n(-V)-11
b(erlag)26 b(LNCS)f(1512.)f(pp294\226316.)357 3865 y([NN96])248
b(W)-8 b(olfgang)19 b(Narasche)n(wski,)i(T)-8 b(obias)20
b(Nipk)o(o)n(w)-6 b(.)19 b(T)-8 b(ype)20 b(Inference)i(V)-11
b(eri\002ed:)29 b(Algo-)915 3984 y(rithm)d(W)h(in)g(Isabelle/HOL.)g(T)
-8 b(ypes)26 b(for)i(Proofs)f(and)g(Programs,)h(International)915
4104 y(W)-8 b(orskshop)23 b(TYPES)j('96.)e(Springer)n(-V)-11
b(erlag)26 b(LNCS)f(1512.)f(pp317\226332.)357 4299 y([Nor88])237
b(Bengt)23 b(Nordstrom.)e(T)-7 b(erminating)22 b(General)i(Recursion.)f
(BIT)-7 b(,)23 b(V)-13 b(ol.)22 b(28,)h(pp605\226)915
4419 y(619.)h(1988.)357 4615 y([P-M92])215 b(Christine)48
b(P)o(aulin-Mohring.)g(Inducti)n(v)o(e)f(De\002nitions)i(in)g(the)g
(System)f(Coq:)915 4734 y(Rules)25 b(and)f(Properties.)h(In)g
(Proceedings)g(TLCA,)g(1992.)357 4930 y([P-M96])215 b(Christine)33
b(P)o(aulin-Mohring.)f(D)6 b(\264)-39 b(e\002nitions)33
b(Inducti)n(v)o(es)f(tn)h(Th)6 b(\264)-39 b(eorie)34
b(des)g(T)-8 b(ypes)915 5049 y(d'Ordre)20 b(Sup)6 b(\264)-39
b(erieur)-5 b(.)19 b(Habilitation)f(Thesis.)g(Uni)n(v)o(ersit)6
b(\264)-39 b(e)18 b(Claude)i(Bernard)g(\(L)-5 b(yon)915
5169 y(I\).)25 b(1996.)357 5365 y([P)o(au85])244 b(V)-11
b(erifying)29 b(the)h(Uni\002cation)f(Algorithm)g(in)g(LCF)-8
b(.)31 b(Science)g(of)f(Computer)g(Pro-)915 5484 y(gramming,)23
b(5:143\226169.)g(North-Holland.)g(1985.)1997 5667 y(251)p
eop
%%Page: 252 257
252 256 bop 357 -6 a F4([P)o(au86])244 b(La)o(wrence)23
b(P)o(aulson.)f(Constructing)g(recursion)g(operators)h(in)g
(intutionistic)d(type)915 114 y(theory)-6 b(.)24 b(Journal)g(of)h
(Symbolic)f(Computation)f(\(2\),)i(pp325\226355.)e(1986.)357
313 y([P)o(au87])244 b(La)o(wrence)25 b(P)o(aulson.)g(Logic)f(and)i
(computation:)j(interacti)n(v)o(e)24 b(proof)h(with)g(Cam-)915
432 y(bridge)g(LCF)-8 b(.)26 b(Cambridge)f(T)m(racts)g(in)g
(Theoretical)g(Computer)g(Science,)i(V)-13 b(ol.)24 b(2.)915
552 y(CUP)-11 b(.)25 b(1987.)357 750 y([Per99])260 b(Henrik)36
b(Persson.)h(An)g(Abstract)g(De)n(v)o(elopment)e(of)i(the)f(Polynomial)
g(Ring)h(in)915 870 y(Agda.)32 b(In)g(T)-8 b(ype)32 b(Theory)g(and)h
(the)f(Inte)o(grated)f(Logic)h(of)h(Programs,)h(Doctoral)915
989 y(Thesis.)24 b(Chalmers)g(Uni)n(v)o(ersity)f(of)i(T)-7
b(echnology)h(,)23 b(G)8 b(\250)-41 b(otebor)n(g.)24
b(1999.)357 1188 y([Poll94])231 b(Erik)27 b(Poll.)h(A)g(Programming)f
(Logic)g(Based)i(on)e(T)-8 b(ype)28 b(Theory)-6 b(.)27
b(Doctoral)h(The-)915 1308 y(sis.)c(T)-7 b(echnische)24
b(Uni)n(v)o(ersiteit)f(Eindho)o(v)o(en,)f(1994.)357 1506
y([Pol90])259 b(Robert)31 b(Pollack.)f(Implicit)f(Syntax.)i(In)g
(preliminary)e(Proceedings,)j(1st)e(w)o(ork-)915 1626
y(shop)24 b(on)g(Logical)h(Frame)n(w)o(orks,)f(1990.)357
1824 y([Pol94])259 b(Robert)41 b(Pollack.)g(Incremental)g(Changes)g(in)
g(LEGO:)f(1994.)h(LFCS)h(Report.)915 1944 y(Uni)n(v)o(ersity)22
b(of)j(Edinb)n(ur)n(gh.)357 2143 y([Pra65])260 b(Dag)36
b(Pra)o(witz.)f(Natural)h(Deduction\227A)f(proof)g(theoretical)h(study)
-6 b(.)34 b(Almquist)915 2262 y(and)24 b(W)l(iksell,)g(Stockholm.)g
(1965.)357 2461 y([Pym90])209 b(Da)n(vid)40 b(Pym.)h(Proofs,)46
b(Search)c(and)f(Computation)f(in)h(General)g(Logic.)g(PhD)915
2580 y(Thesis.)24 b(Uni)n(v)o(ersity)e(of)j(Edinb)n(ur)n(gh.)f(1990.)
357 2779 y([Pym92])209 b(Da)n(vid)25 b(Pym.)g(A)g(Uni\002cation)g
(Algorithm)f(for)i(the)f FY(\025)p FX(\005)p F4(-Calculus.)g
(International)915 2898 y(Journal)30 b(of)g(F)o(oundations)f(of)i
(Computer)f(Science)h(V)-13 b(ol.)30 b(3)h(No.)f(3,)i(pp333\226378.)915
3018 y(1992.)357 3217 y([Rob65])226 b(Alan)45 b(Robinson.)f(A)h
(Machine-oriented)g(Logic)g(Based)g(on)g(the)g(Resolution)915
3336 y(Principle.)24 b(A)l(CM,)h(12:23\22641.)e(1965.)357
3535 y([Rou92])226 b(Joseph)22 b(Rouyer)-5 b(.)24 b(D)6
b(\264)-39 b(ev)o(eloppement)22 b(de'algorithme)g(d'uni\002cation)h
(dans)g(le)h(Cal-)915 3654 y(cul)47 b(des)h(Constructions)e(a)n(v)o
(ecs)h(types)g(inductifs.)g(T)-7 b(echnical)47 b(Report)h(1795,)915
3774 y(INRIA-Lorraine.)25 b(No)o(v)o(ember)f(1992.)357
3973 y([SH95])265 b(Amokrane)19 b(Sa)m(\250)-30 b(\021bi)20
b(and)f(G)6 b(\264)-39 b(erard)21 b(Huet.)e(Constructi)n(v)o(e)f(Cate)o
(gory)i(Theory)-6 b(.)19 b(In)h(Pro-)915 4092 y(ceedings)26
b(of)i(the)f(joint)e(CLICS-TYPES)30 b(W)-8 b(orkshop)26
b(on)h(Cate)o(gories)f(and)h(T)-8 b(ype)915 4212 y(Theory)i(,)24
b(G)8 b(\250)-41 b(otebor)n(g,)24 b(Sweden.)h(1995.)357
4410 y([SSB99])216 b(Masahik)o(o)30 b(Sato,)j(T)-8 b(akafumi)31
b(Sakurai,)i(and)e(Rod)g(Burstall.)g(Explicit)f(En)l(viron-)915
4530 y(ments)24 b(\(Extended)g(abstract\).)h(1999.)357
4728 y([Sau16])243 b(Ferdinand)25 b(de)f(Saussure.)h(Cours)g(de)g
(Linguistique)e(G)6 b(\264)-39 b(en)6 b(\264)-39 b(erale.)25
b(1916.)357 4927 y([SP94])282 b(P)o(aula)34 b(Se)n(v)o(eri,)h(Erik)f
(Poll.)f(Pure)i(T)-8 b(ype)34 b(Systems)f(with)g(De\002nitions.)g(In)h
(LFCS)915 5047 y('94.)24 b(Springer)n(-V)-11 b(erlag)25
b(LNCS)h(813,)e(pp316\226328.)f(1994.)357 5245 y([Sli97])281
b(K)m(onrad)32 b(Slind.)h(Function)f(De\002nition)h(in)f(Higher)n
(-Order)i(Logic.)e(In)i(Theorem)915 5365 y(Pro)o(ving)22
b(in)h(Higher)n(-Order)h(Logics.)e(9th)h(International)g(Conference,)h
(TPHOLs)915 5484 y('96.)g(Springer)n(-V)-11 b(erlag)25
b(LNCS)h(1125.)e(August)g(1996.)1997 5667 y(252)p eop
%%Page: 253 258
253 257 bop 357 -6 a F4([Str93])276 b(Thomas)27 b(Streicher)-5
b(.)29 b(In)l(v)o(estigations)d(into)i(intensional)e(type)j(theory)-6
b(.)27 b(Habilitia-)915 114 y(tion)d(Thesis,)g(Ludwig)f(Maximilian)g
(Uni)n(v)o(ersit)6 b(\250)-39 b(at.)23 b(1993.)357 317
y([T)-8 b(ak95])245 b(M.)23 b(T)-8 b(akahashi.)23 b(P)o(arallel)g
(reductions)g(in)g FY(\025)p F4(-calculus)g(\(Re)n(vised)g(v)o
(ersion\).)g(Infor)n(-)915 436 y(mation)g(and)i(Computation.)e
(118\(1\),)i(pp120\226127.)e(1995.)357 639 y([TS83])276
b(Hisao)19 b(T)-8 b(amaki,)21 b(T)-8 b(aisuk)o(e)20 b(Sato.)g(A)g
(transformation)f(system)g(for)h(logic)g(programs)915
758 y(which)k(preserv)o(es)h(equi)n(v)n(alence.)e(ICO)l(T)j(TR-018.)e
(1983.)357 961 y([T)-7 b(er95a])217 b(D.)60 b(T)-7 b(errasse.)60
b(Encoding)g(Natural)g(Semantics)f(in)h(Coq.)g(F)o(ourth)g(Interna-)915
1080 y(tional)22 b(Conference)k(on)d(Algebraic)h(Methodology)e(and)h
(Softw)o(are)i(T)-7 b(echnology)h(,)915 1200 y(\(AMAST)24
b('95\).)h(Springer)n(-V)-11 b(erlag)25 b(LNCS.)h(July)e(1995)357
1403 y([T)-7 b(er95b])211 b(D.)22 b(T)-7 b(errasse.)22
b(V)-11 b(ers)22 b(un)g(en)l(vironnement)f(de)h(de)n(v)o(eloppement)e
(de)j(preuv)o(es)e(en)h(Se-)915 1522 y(mantique)h(Naturelle.)h(PhD)h
(thesis,)2222 1500 y(\264)2209 1522 y(Ecole)f(Nationale)g(des)h(Ponts)f
(et)g(Chauss)6 b(\264)-39 b(ees)915 1642 y(\(ENPC\).)25
b(October)g(1995.)357 1844 y([T)l(ur95])252 b(Da)n(vid)29
b(T)l(urner)-5 b(.)29 b(Elementary)g(strong)f(functional)h
(programming.)f(Proceedings)915 1964 y(of)36 b(the)f(\002rst)h
(international)f(symposium)e(on)j(Functional)f(Programming)g(Lan-)915
2083 y(guages)24 b(in)h(Education.)e(Springer)n(-V)-11
b(erlag)26 b(LNCS)f(1022.)f(1995.)357 2286 y([W)-8 b(ad87])212
b(Philip)29 b(W)-8 b(adler)j(.)29 b(V)-6 b(ie)n(ws:)40
b(A)30 b(w)o(ay)g(for)h(pattern)e(matching)g(to)h(cohabit)f(with)g
(data)915 2405 y(abstraction.)d(14th)g(A)l(CM)h(Symposium)e(on)i
(Principles)g(of)g(Programming)f(Lan-)915 2525 y(guages,)e(Munich,)g
(January)h(1987.)1997 5667 y(253)p eop
%%Page: 254 259
254 258 bop 357 449 a F1(Index)357 884 y F4(property)24
b(indicators)523 1003 y FX(:)h F4(`type',)f(18)523 1123
y FX(=)h F4(`v)n(alue',)f(18)523 1242 y F3(\031)h F4(`guess',)g(28)357
1362 y(binding)e(operators)523 1482 y F3(8)p FP(x)28
b FX(:)f FP(S)21 b F4(`uni)n(v)o(ersal)d(quanti\002cation',)i(18)523
1601 y FY(\025)p FP(x)35 b FX(:)g FP(S)29 b F4(`functional)f
(abstraction',)h(18,)689 1721 y(27)523 1840 y FX(!)p
FP(x)e FX(=)h FP(s)11 b FX(:)g FP(S)25 b F4(`local)g(de\002nition',)f
(18,)g(27)523 1960 y FX(?)p FP(x)j FX(:)h FP(S)d F4(`hole)g
(component',)f(27)523 2079 y FX(?)p FP(x)j F3(\031)h
FP(p)11 b FX(:)g FP(S)26 b F4(`hole)e(with)g(guess',)h(27)357
2199 y(conte)o(xts)523 2318 y F3(h)o(i)g F4(`empty)f(conte)o(xt',)g
(19,)h(28)523 2438 y FX(\000;)17 b FY(B)29 b F4(`conte)o(xt)24
b(e)o(xtension',)g(19,)g(28)523 2558 y F3(v)h F4(`information)f
(order',)h(32)357 2677 y(judgments)523 2797 y FX(\000)i
F3(`)h FY(J)34 b F4(`core)26 b(judgment',)d(19)523 2916
y FX(\001)61 b FC(\015)h FY(J)52 b F4(`de)n(v)o(elopment)41
b(judgment',)689 3036 y(28)357 3155 y(computation)523
3275 y F3(\021)25 b F4(`syntactic)f(identity',)g(18)523
3394 y FD(;)623 3358 y FE(\001)671 3394 y F4(`contraction',)g(21,)h(30)
523 3514 y FD(;)623 3529 y FE(\001)671 3514 y F4(`one-step)g
(reduction',)f(21,)g(30)523 3633 y FY(.)g F4(`man)o(y-step)g
(reduction',)g(20)523 3725 y F3(\030)524 3757 y FX(=)625
3753 y F4(`con)l(v)o(ersion',)g(20)523 3873 y F3(\026)h
F4(`cumulati)n(vity',)e(21,)h(24)357 3992 y(positions)523
4112 y F3(\016)g F4(`tri)n(vial)g(position',)f(31)523
4231 y FP(P)p FX(;)17 b FP(P)688 4188 y FE(0)736 4231
y F4(`position)24 b(composition',)e(31)529 4325 y FX(\026)523
4351 y FP(P)j F4(`conte)o(xt)e(from)i(position',)e(31)523
4470 y FP(P)p FX([)p FP(p)p FX(])i F4(`put)f(at)h(position',)e(31)523
4590 y F3(v)i F4(`information)f(order',)h(34)357 4709
y FX([)p FP(t)p FY(=)p FP(x)p FX(])g F4(`substitution',)d(18)357
4829 y(telescopes)507 4927 y FY(~)523 4949 y FP(t)j F4(`sequence',)g
(47)521 5042 y FY(~)523 5068 y FP(T)g F4(`telescope',)f(47)p
523 5101 208 4 v 523 5188 a FJ(F)n(am)h F4(`free)h(telescope',)f(50)523
5307 y F3(f\001g)650 5259 y FL(n)650 5336 y(i)722 5307
y F4(`iteration',)f(49)521 5416 y FY(~)523 5442 y FP(T)e(t)j
F4(`application',)f(48)2383 884 y F3(4)2472 848 y FL(n)2519
884 y FI(Type)g F4(`triangle)h(telescope',)f(50)2239
1003 y FX(=)-17 b F3(\))47 b F4(`is)25 b(sugar)f(for',)h(101)2217
1123 y(datatypes)2383 1242 y FZ(0)-44 b(0)26 b F4(`empty)e(type',)g
(104)2383 1362 y FZ(1)-44 b(1)26 b F4(`unit)e(type',)g(104)2383
1482 y FZ(2)-44 b(2)26 b F4(`boolean)e(type',)h(104)2383
1601 y FZ(+)h F4(`sum)e(type',)g(104)2217 1721 y(records)2383
1730 y Fz(D)2513 1809 y FY(~)2444 1840 y FJ(\002eld)j
FX(=)2761 1819 y FY(~)2777 1840 y FP(t)2810 1730 y Fz(E)2896
1840 y F4(`record)e(as)g(tuple',)f(101)2383 1988 y FY(R)q(:)p
FJ(\002eld)2687 2003 y FL(i)2740 1988 y F4(`projection',)g(102)2383
2107 y FP(R)q FY(:)p FP(t)h F4(`open)g(with)f(of)n(\002cial)g(names',)h
(102)2383 2227 y FP(R)q FX([)2470 2220 y FY(~)2477 2227
y FP(x)p FX(])p FY(:)p FP(t)e F4(`open)f(with)g(local)g(names',)h(102)
2217 2346 y(sigma)h(types)2383 2466 y FX(\006)q FP(x)j
FX(:)h FP(S)d F4(`f)o(ak)o(e)h FX(\006)p F4(-binding',)e(105)2383
2585 y F3(\002)i F4(`non-dependent)e(product',)g(105)2383
2705 y F3(h)p FP(s)p FX(;)17 b FP(t)p F3(i)24 b F4(`pair',)h(105)2383
2835 y FX(\006)2449 2809 y FY(~)2454 2835 y FP(S)g F4(`tuple)f(type',)h
(105)2383 2955 y F3(h)2409 2948 y FY(~)2422 2955 y FP(s)p
F3(i)f F4(`tuple',)h(105)2217 3074 y(equalities)2383
3194 y F3(')q F4(,)g FU(see)g F4(equality)2383 3314 y
FZ(=)q F4(,)f FU(see)i F4(equality)2217 3433 y(concrete)g(cate)o
(gories)2383 3553 y FC(\032)f F4(`cate)o(gorical)g(arro)n(w',)f(185)
2383 3672 y F3(\016)h F4(`arro)n(w)g(composition',)e(185)2383
3792 y F3(\031)j F4(`arro)n(w)f(equality',)f(185)2383
3911 y FY(\023)i F4(`identity)d(arro)n(w',)i(185)2383
4031 y FX([)-16 b([)p F3(\001)p FX(])f(])86 b F4(`object/arro)n(w)f
(interpretation',)2549 4150 y(185)2217 4270 y(concrete)26
b(monads)2383 4390 y F3(&)f F4(`monad)f(arro)n(w',)h(190)2387
4509 y F3(h)-17 b(j)24 b F4(`monad)h(bind',)f(188)2383
4629 y F3(\005)g F4(`monad)g(composition',)f(190)2383
4748 y F3(j)-17 b(i)28 b F4(`monad)d(embed',)f(190)2383
4868 y FX([)-16 b([)p F3(\001)p FX(])f(])25 b F4(`arro)n(w)g
(interpretation',)f(190)2217 4987 y FX([)p F3(\001)k(7!)f(\001)p
FX(])e F4(`knock)o(out',)f(200,)g(218)2217 5107 y FZ(alist)g
F4(operations)2383 5226 y F3(z)h F4(`)p FZ(alist)g F4(composition',)e
(219)2383 5346 y FC(J)j F4(`)p FZ(alist)e F4(interpretation',)g(219)
1997 5667 y(254)p eop
%%Page: 255 260
255 259 bop 357 -6 a F0(abandon)p F4(,)26 b(38)357 114
y(abstraction)e(for)h(re)n(writing,)e(60,)i(76)357 234
y(Ack)o(ermann')-5 b(s)24 b(function,)g(67,)g(181)357
353 y FZ(alist)o F4(,)h(219)523 473 y FZ(AList)f F4(cate)o(gory)-6
b(,)24 b(219)357 592 y FZ(AND)o F4(,)h(213)357 712 y(aperture,)g(55)357
831 y F0(assume)p F4(,)f(38)357 951 y F0(attack)p F4(,)h(39)357
1153 y FY(\014)6 b F4(-reduction,)24 b(20)357 1273 y(bindings,)f(17)523
1393 y(f)o(atuous,)h(18)357 1512 y(blue)g(plastic)g(hammer)l(,)g(43)357
1632 y F0(blunderb)n(uss)p F4(,)j(106,)d(142,)g(165)357
1751 y FZ(bmgu)p F4(,)h(217,)f(220)523 1871 y FZ(bmguIn)n(v)p
F4(,)g(222)357 1990 y(boolean)g(type,)g FU(see)i FZ(2)-44
b(2)357 2110 y(Bound)p F4(,)25 b(213)357 2312 y FJ(call)p
F4(,)g(163)357 2432 y(case)g(analysis,)f(57,)g(108)357
2552 y(cate)o(gory)-6 b(,)24 b FU(see)h F4(concrete)g(cate)o(gory)357
2671 y FZ(cell)p F4(,)g(125)357 2791 y FZ(chec)o(k)p
F4(,)f(230,)h(233)523 2910 y FZ(chec)o(kIn)n(v)o F4(,)g(234)357
3030 y(Church-Rosser)l(,)g(23)357 3149 y F0(claim)p F4(,)f(34,)g(38)357
3269 y(Clark)h(completion,)e(57)357 3388 y FZ(Closed)p
F4(,)h(212)357 3508 y(closed)g(constraint,)g(212)p 7
setlinewidth np 387 3586 25 135.00 315.00 arc st 7 setlinewidth
np 422 3568 18 180.00 360.00 arc st 7 setlinewidth np
476 3568 35 180.00 360.00 arc st 7 setlinewidth np 520
3594 28 251.56 341.56 arc st 7 setlinewidth np 547 3612
27 270.00 450.00 arc st 7 setlinewidth np 512 3639 35
360.00 540.00 arc st 7 setlinewidth np 458 3639 18 360.00
540.00 arc st 7 setlinewidth np 413 3639 27 360.00 540.00
arc st 7 setlinewidth np 378 3621 19 63.43 243.43 arc
st 575 3677 a(,)h(36)357 3797 y(coalescence,)g(75)357
3916 y F0(coalescence)p F4(,)g(129,)g(130,)f(136)357
4036 y(compatible)f(closure)523 4155 y(core,)i(20,)f(21)523
4275 y(de)n(v)o(elopment,)e(30)357 4394 y(components,)h(27)357
4514 y FZ(Concrete)o F4(,)i(185)357 4633 y(concrete)g(cate)o(gory)-6
b(,)24 b(184,)g(185)523 4753 y(from)g(a)h(f)o(amily)-6
b(,)24 b(186)523 4873 y(of)h(types,)f(186)357 4992 y(concrete)h(monad,)
f(189)357 5112 y F0(con\003ict)p F4(,)h(129,)g(130,)f(136)357
5231 y(constraints,)f(65)523 5351 y(friendly)-6 b(,)23
b(70)523 5470 y(unfriendly)-6 b(,)23 b(70)2217 -6 y(constructor)h
(form,)h(129)2383 114 y(uni\002cation)f(problem,)g(129)2217
234 y(constructors,)g(89)2217 353 y(conte)o(xts,)g(19)2217
473 y(contraction)g(schemes)2383 592 y(core,)i(20,)e(21)2383
712 y(de)n(v)o(elopment,)f(30)2217 831 y(con)l(v)o(ersion,)h(24)2217
951 y(co)o(v)o(ering,)g(155,)g(156)2383 1070 y(elementary)-6
b(,)24 b(156)2383 1190 y(empty)-6 b(,)24 b(177)2383 1310
y(equations,)g(175)2383 1429 y(e)o(xact,)h(175)2217 1549
y(cumulati)n(vity)-6 b(,)22 b(21,)i(24)2217 1668 y F0(cut)p
F4(,)i(38)2217 1788 y(cut)f(property)-6 b(,)24 b(23)2217
1907 y F0(cycle)p F4(,)h(129,)g(130,)f(145)2217 2110
y FY(\016)t F4(-reduction,)g(20)2217 2229 y(dischar)n(ge,)h(43,)f(44)
2217 2349 y(do)n(wnw)o(ard-closed)g(constraint,)g(212)2217
2552 y F0(eliminate)p F4(,)h(71\22678)2217 2671 y(elimination)e(rule,)i
(53)2383 2791 y(aperture,)g(55)2383 2910 y(case)h(data,)e(56)2383
3030 y(case)i(patterns,)e(56)2383 3149 y(cases,)h(56)2383
3269 y(datatype,)g(89)2383 3388 y(indices,)f(55)2383
3508 y(inducti)n(v)o(e)f(hypotheses,)g(56)2383 3628 y(patterns,)i(55)
2383 3747 y(recursi)n(v)o(e)f(calls,)h(56)2383 3867 y(scheme,)g(55,)f
(63\22671,)g(75)2383 3986 y(tar)n(get,)h(55,)g(61\22663,)e(73)2217
4106 y(empty)h(type,)h FU(see)g FZ(0)-44 b(0)2217 4225
y F4(equality)2383 4345 y(John)24 b(Major)l(,)h(119)2383
4464 y(Martin-L)8 b(\250)-41 b(of,)24 b(118)2383 4584
y(propositional,)f(54)2217 4704 y F3(')q F4(,)i(54,)f(119)2383
4823 y(construction)g(from)g FZ(=)q F4(,)h(124)2383 4943
y FZ(eqElim)q F4(,)f(119)2383 5062 y FZ(eqIndElim)p F4(,)h(120)2383
5182 y FZ(eqSubst)2767 5204 y FL(n)2814 5182 y F4(,)f(121)2383
5301 y FZ(eqUnique)2855 5324 y FL(n)2902 5301 y F4(,)h(122)2217
5421 y FZ(=)q F4(,)f(118)1997 5667 y(255)p eop
%%Page: 256 261
256 260 bop 523 -6 a F4(construction)23 b(from)i F3(')p
F4(,)g(124)523 114 y FZ(idElim)q F4(,)f(118)523 234 y
FZ(idSubst)n F4(,)h(118)523 353 y FZ(idUnique)o F4(,)g(119)357
473 y FZ(Equiv)p F4(,)g(215)357 675 y(f)o(aithful)f(functor)l(,)g(185)
357 795 y FJ(F)n(am)q F4(,)g(97,)h(163)523 914 y FJ(F)n(amA)n(ux)p
F4(,)f(115,)h(163)523 1034 y FJ(F)n(amA)n(uxGen)o F4(,)g(115,)f(163)523
1153 y FJ(F)n(amCase)p F4(,)h(108)523 1273 y FJ(F)n(amElim)q
F4(,)g(97)523 1393 y FJ(F)n(amFix)q F4(,)f(115,)h(163)357
1512 y(f)o(amily)523 1632 y(inde)o(x)o(ed,)e(50)523 1751
y(type,)h(50)357 1871 y(Fibonacci)h(function,)e(110)357
1990 y(\002elds,)h(101)357 2110 y FZ(\002n)o F4(,)h(96)523
2229 y FZ(\002nElim)p F4(,)g(96)357 2349 y(\002xpoint,)f(guarded,)g
(110,)h(113)357 2469 y(folding,)e(71,)i(159)357 2588
y(F)o(ord,)f(Henry)-6 b(,)25 b(63)357 2708 y(free)g(pattern,)g(156)357
2827 y FZ(fr)n(om)q F4(,)f(216,)h(220)357 2947 y FZ(Functor)p
F4(,)g(187)357 3066 y(functor)l(,)f(187)357 3269 y FZ(goes)o
F4(,)h(231)357 3388 y(guarded,)f(111)357 3508 y(guarded)g(\002xpoint,)g
(110,)h(113)357 3628 y(guess,)f(28)357 3830 y(halting)f(problem,)h
(177,)g(179)357 3950 y(hole,)g(25)523 4069 y FX(?)p F4(-binding,)f(28)
523 4189 y(life)h(of,)h(34)357 4308 y(hubris,)f(108,)g(113)357
4511 y F0(identity)p F4(,)h(129,)f(130,)h(136)357 4630
y FJ(Ind)o F4(,)g(89)523 4750 y FJ(IndA)n(ux)n F4(,)g(113)523
4870 y FJ(IndA)n(uxGen)n F4(,)g(113)523 4989 y FJ(IndElim)p
F4(,)g(91)523 5109 y FJ(IndFix)o F4(,)g(113)357 5228
y(indenti\002ers,)f(17)357 5348 y(inde)o(x)o(ed)f(f)o(amily)-6
b(,)23 b(50)357 5467 y(induction)g(principle)2383 -6
y(strong,)h(99)2383 114 y(weak,)h(70,)g(100)2217 234
y(inducti)n(v)o(e)e(datatypes,)h(87)2383 353 y(dependent)h(f)o
(amilies,)e(96)2383 473 y(parameterised,)i(92)2383 592
y(records,)g(101)2383 712 y(simple,)f(89)2383 831 y(with)g(higher)n
(-order)h(constructors,)f(94)2217 951 y(inducti)n(v)o(ely)e(de\002ned)k
(relations,)e(98)2217 1070 y F0(injecti)o(vity)p F4(,)h(129,)f(130,)h
(136)2217 1190 y F0(intr)n(o)p F4(-)p F3(8)p F4(,)h(39)2217
1310 y F0(intr)n(o)p F4(-)p FX(!)p F4(,)g(39)2217 1429
y(in)l(v)o(ersion,)d(57)2217 1549 y FY(\023)p F4(-reductions,)i(89)2217
1668 y(iterated)g(sequence,)g(49)2217 1788 y(iterated)g(telescope,)f
(49)2217 1990 y(J)h(rule,)g(118)2217 2110 y(judgments)2383
2229 y(core,)h(19)2383 2349 y(de)n(v)o(elopment,)d(28)2217
2469 y F0(justify)p F4(,)i(38)2217 2671 y(K)g(rule,)g(119)2217
2791 y(Kleisli)2383 2910 y(cate)o(gory)-6 b(,)24 b(189)2383
3030 y(triple,)g(188)2217 3149 y FZ(Kleisli)o F4(,)h(191)2217
3269 y(knock)o(out,)f(200,)g(218)2383 3388 y FZ(knoc)o(koutIn)n(v)o
F4(,)h(218)2217 3591 y FZ(Lam)q F4(,)g(193)2217 3711
y(lengthening,)e(159,)i(181)2217 3830 y FY(<)p F4(,)g(71,)f(99)2383
3950 y FY(<)p FZ(Elim)q F4(,)h(99)2217 4069 y F3(\024)q
F4(,)g(57)2383 4189 y(Clark)h(completion,)d(57)2383 4308
y(Clark-style)i(in)l(v)o(ersion,)e(57)2383 4428 y F3(\024)q
FZ(In)n(v)o F4(,)i(58,)g(64)2383 4547 y(weak)g(induction)f(principle,)g
(70)2217 4667 y FX(!)p F4(-reduction,)h(20)2217 4787
y(le)o(xicographic)f(recursion,)g(181)2217 4906 y FZ(Lift)p
F4(,)h(194)2217 5026 y FZ(lift)p F4(,)g(194)2383 5145
y FZ(liftIn)n(v)p F4(,)f(195)2217 5265 y FZ(list)p F4(,)g(93)2383
5384 y FZ(listElim)p F4(,)h(57,)g(93)1997 5667 y(256)p
eop
%%Page: 257 262
257 261 bop 357 -6 a F4(Major)l(,)24 b(John,)g(119)357
114 y FZ(m)n(ajor)r(ity)p F4(,)i(154)357 234 y(mantra)523
353 y(about)e(blocking)g(computations,)e(61)523 473 y(about)i(conte)o
(xts,)f(20)523 592 y(about)h(decomposition,)f(56)523
712 y(about)h(recursion,)h(241)523 831 y(about)f(the)h(means,)f(53)357
951 y FZ(Maxim)n(al)o F4(,)h(213)357 1070 y FZ(m)n(aybe)p
F4(,)g(104)357 1190 y FZ(m)n(aybeF)q F4(,)f(187)357 1310
y FZ(m)n(aybeM)p F4(,)h(191)357 1429 y(mgu,)f(133)357
1549 y FZ(mgu)p F4(,)h(216,)f(220)523 1668 y FZ(mguIn)n(v)p
F4(,)g(221)357 1788 y FZ(Monad)p F4(,)g(190)357 1907
y(monad,)g(188)357 2027 y(most)f(general)i(uni\002er)l(,)g(133)357
2223 y F0(na)459 2222 y(\250)462 2223 y(\021v)o(e-r)n(e\002ne)p
F4(,)h(40)357 2342 y FZ(N)-63 b(N)p F4(,)24 b(90)523
2462 y FZ(N)-63 b(NA)n(ux)o F4(,)25 b(112)523 2582 y
FZ(N)-63 b(NA)n(uxGen)n F4(,)25 b(113)523 2701 y FZ(N)-63
b(NCase)o F4(,)25 b(108)523 2821 y FZ(N)-63 b(NElim)p
F4(,)25 b(91)523 2940 y FZ(N)-63 b(NFix)p F4(,)24 b(113)357
3060 y FZ(N)-63 b(NEq)p F4(,)25 b(59,)f(78\22686)523
3179 y(introduction)f(rules,)h(85)523 3299 y FZ(N)-63
b(NEqIn)n(v)o F4(,)25 b(60,)g(83)523 3418 y FZ(N)-63
b(NEqRecI)p F4(,)25 b(59,)f(81)357 3538 y FZ(NoCycle)p
F4(,)h(232)357 3658 y FZ(NoUni\002er)o F4(,)g(222)357
3854 y(ob)o(viously)d(empty)-6 b(,)24 b(178)357 3973
y(optimism,)e(212)357 4093 y FZ(Optimist)o F4(,)j(213)357
4212 y FZ(or)o(d)q F4(,)f(94)523 4332 y FZ(or)o(dElim)q
F4(,)h(95)357 4528 y(partial)f(constructions,)f(27)357
4647 y(patterns,)h(55)357 4767 y(Peano)523 4887 y(concerto,)h(137)523
5006 y(postulates,)e(58)357 5126 y FZ(plus)o F4(,)i(159)357
5245 y FZ(pos)p F4(,)f(231)357 5365 y(position)f(information)g(order)l
(,)i(34)357 5484 y(positions,)d(30,)j(31)2217 -6 y F0(postpone)p
F4(,)h(38)2217 114 y F0(pr)n(ogram)p F4(,)g(167)2217
234 y(property)-6 b(,)24 b(18)2217 353 y(propositional)f(equality)-6
b(,)23 b(54)2217 473 y(pure,)i(28)2217 669 y F0(raise)p
F4(-)p F3(8)p F4(,)g(39)2217 788 y F0(raise)p F4(-)p
FX(!)p F4(,)g(39)2217 908 y(records,)g(101)2383 1027
y(opening,)f(102)2383 1147 y(projection,)g(102)2217 1267
y F0(r)n(egr)n(et)p F4(,)i(34,)f(38)2217 1386 y FZ(Rename)p
F4(,)g(193,)g(201\226210)2217 1506 y(renaming,)f(194)2217
1625 y(replacement)2383 1745 y(f)o(ails)h(in)f(general,)h(25)2383
1864 y(for)g(partial)g(constructions,)e(31)2217 1984
y F0(r)n(etr)n(eat)p F4(,)k(39)2217 2103 y FJ(retur)r(n)o
F4(,)e(163)2217 2223 y F0(r)n(etur)o(n)p F4(,)h(171)2217
2342 y(rhubarb,)f(63,)f(66)2217 2539 y FZ(sameFunctor)p
F4(,)h(188)2217 2658 y(scheme,)g(55,)f(63\22671,)g(75)2217
2778 y(sequence,)h(47)2383 2897 y(iterated,)g(49)2217
3017 y FX(\006)q F4(-types,)f(103)2217 3136 y F0(solv)o(e)p
F4(,)g(34,)h(38)2217 3256 y F0(split)p F4(,)g(168)2217
3375 y(spot,)f(102)2217 3495 y(state)h(information)e(order)l(,)i(32)
2217 3615 y(states,)f(27)2217 3734 y(strengthening,)f(23)2217
3854 y(strong)h(induction)f(principle,)h(99)2217 3973
y(strong)g(normalisation,)f(23)2217 4093 y(strongly)h(normalising,)f
(24)2217 4212 y(subject)h(reduction,)g(23)2217 4332 y
FZ(SubstM)n F4(,)h(201\226210)2217 4451 y F0(substitution)p
F4(,)h(129,)e(130,)g(136)2217 4571 y FZ(SubstM)n F4(,)h(193)2217
4690 y(sum)f(type,)h FU(see)g FZ(+)2217 4810 y F4(syntactic)f(identity)
-6 b(,)23 b(18)2217 4930 y(syntax)2383 5049 y(core,)j(18)2383
5169 y(de)n(v)o(elopment,)d(27)2217 5365 y(tactic)2383
5484 y F0(abandon)p F4(,)j(38)1997 5667 y(257)p eop
%%Page: 258 263
258 262 bop 523 -6 a F0(assume)p F4(,)24 b(38)523 114
y F0(attack)p F4(,)h(39)523 234 y F0(blunderb)n(uss)p
F4(,)i(106)523 353 y F0(claim)p F4(,)d(38)523 473 y F0(cut)p
F4(,)h(38)523 592 y(deletion,)f(44)523 712 y(dischar)n(ges,)g(44)523
831 y F0(eliminate)p F4(,)g(71\22678)523 951 y F0(intr)n(o)p
F4(-)p F3(8)p F4(,)i(39)523 1070 y F0(intr)n(o)p F4(-)p
FX(!)p F4(,)f(39)523 1190 y F0(justify)p F4(,)g(38)523
1310 y F0(na)625 1309 y(\250)628 1310 y(\021v)o(e-r)n(e\002ne)p
F4(,)h(40)523 1429 y(permutation,)d(44)523 1549 y F0(postpone)p
F4(,)j(38)523 1668 y F0(pr)n(ogram)p F4(,)f(167)523 1788
y F0(raise)p F4(-)p F3(8)p F4(,)g(39)523 1907 y F0(raise)p
F4(-)p FX(!)p F4(,)g(39)523 2027 y F0(r)n(egr)n(et)p
F4(,)h(38)523 2146 y F0(r)n(etr)n(eat)p F4(,)g(39)523
2266 y F0(r)n(etur)o(n)p F4(,)g(171)523 2386 y F0(solv)o(e)p
F4(,)e(38)523 2505 y F0(split)p F4(,)g(168)523 2625 y
F0(try)p F4(,)h(38)523 2744 y F0(unify)p F4(,)g(41)523
2864 y F0(unify-r)n(e\002ne)p F4(,)i(42)357 2983 y(tar)n(get,)e(55,)f
(61\22663,)g(73)357 3103 y(telescope,)g(47)523 3222 y(application,)f
(48)523 3342 y(free,)i(50)523 3461 y(iterated,)f(49)357
3581 y(telescopic)523 3701 y(equation,)g(65)523 3820
y(substitution,)e(121)523 3940 y(uniqueness,)h(122)357
4059 y(terms,)h(17)357 4179 y FZ(then)o F4(,)h(231)357
4298 y FZ(thic)o(k)o F4(,)g(196\226199)523 4418 y FZ(thic)o(kIn)n(v)o
F4(,)f(199)357 4537 y FZ(thin)o F4(,)h(196)357 4657 y
FZ(tree)o F4(,)f(211)357 4777 y(triangle,)g(50)357 4896
y F0(try)p F4(,)h(34,)f(38)357 5016 y(type)g(f)o(amily)-6
b(,)24 b(50)357 5135 y(type)g(former)l(,)h(89)357 5255
y(type)f(inference)i(rules)523 5374 y(core,)f(22,)f(24)2383
-6 y(de)n(v)o(elopment,)f(29)2217 197 y(unfolding,)g(71,)i(159)2217
317 y(uni\002cation)f(problem,)g(129)2217 436 y(uni\002er)l(,)h(133)
2217 556 y FZ(Uni\002es)o F4(,)g(216)2217 675 y F0(unify)p
F4(,)h(41)2217 795 y F0(unify-r)n(e\002ne)p F4(,)h(42)2217
914 y(unit)d(type,)h FU(see)g FZ(1)-44 b(1)2217 1034
y F4(uni)n(v)o(erses,)23 b(17)2217 1153 y FZ(Unload)q
F4(,)i(217)2217 1356 y FZ(v)n(ect)p F4(,)g(104)2217 1476
y(vlast)2383 1595 y FZ(vlast)p F4(,)g(172)2217 1715 y
FZ(vtail)p F4(,)g(128)2217 1917 y(weak)g(induction)f(principle,)g(70,)g
(100)1997 5667 y(258)p eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
